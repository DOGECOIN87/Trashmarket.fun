var fj=Object.defineProperty;var dj=(n,e,t)=>e in n?fj(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var _r=(n,e,t)=>dj(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function Mo(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function sE(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var lb={exports:{}},bd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RT;function pj(){if(RT)return bd;RT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var c=null;if(s!==void 0&&(c=""+s),i.key!==void 0&&(c=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:c,ref:i!==void 0?i:null,props:s}}return bd.Fragment=e,bd.jsx=t,bd.jsxs=t,bd}var TT;function mj(){return TT||(TT=1,lb.exports=pj()),lb.exports}var m=mj(),ub={exports:{}};function gj(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var QC={exports:{}},mr=QC.exports={},lo,uo;function I_(){throw new Error("setTimeout has not been defined")}function k_(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?lo=setTimeout:lo=I_}catch{lo=I_}try{typeof clearTimeout=="function"?uo=clearTimeout:uo=k_}catch{uo=k_}})();function JC(n){if(lo===setTimeout)return setTimeout(n,0);if((lo===I_||!lo)&&setTimeout)return lo=setTimeout,setTimeout(n,0);try{return lo(n,0)}catch{try{return lo.call(null,n,0)}catch{return lo.call(this,n,0)}}}function yj(n){if(uo===clearTimeout)return clearTimeout(n);if((uo===k_||!uo)&&clearTimeout)return uo=clearTimeout,clearTimeout(n);try{return uo(n)}catch{try{return uo.call(null,n)}catch{return uo.call(this,n)}}}var _a=[],qh=!1,zl,lg=-1;function wj(){!qh||!zl||(qh=!1,zl.length?_a=zl.concat(_a):lg=-1,_a.length&&e3())}function e3(){if(!qh){var n=JC(wj);qh=!0;for(var e=_a.length;e;){for(zl=_a,_a=[];++lg<e;)zl&&zl[lg].run();lg=-1,e=_a.length}zl=null,qh=!1,yj(n)}}mr.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];_a.push(new t3(n,e)),_a.length===1&&!qh&&JC(e3)};function t3(n,e){this.fun=n,this.array=e}t3.prototype.run=function(){this.fun.apply(null,this.array)};mr.title="browser";mr.browser=!0;mr.env={};mr.argv=[];mr.version="";mr.versions={};function Ba(){}mr.on=Ba;mr.addListener=Ba;mr.once=Ba;mr.off=Ba;mr.removeListener=Ba;mr.removeAllListeners=Ba;mr.emit=Ba;mr.prependListener=Ba;mr.prependOnceListener=Ba;mr.listeners=function(n){return[]};mr.binding=function(n){throw new Error("process.binding is not supported")};mr.cwd=function(){return"/"};mr.chdir=function(n){throw new Error("process.chdir is not supported")};mr.umask=function(){return 0};var bj=QC.exports;const ru=gj(bj);var Dt={},NT;function vj(){if(NT)return Dt;NT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function y(A){return A===null||typeof A!="object"?null:(A=x&&A[x]||A["@@iterator"],typeof A=="function"?A:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,I={};function M(A,w,E){this.props=A,this.context=w,this.refs=I,this.updater=E||S}M.prototype.isReactComponent={},M.prototype.setState=function(A,w){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,w,"setState")},M.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function j(){}j.prototype=M.prototype;function O(A,w,E){this.props=A,this.context=w,this.refs=I,this.updater=E||S}var Q=O.prototype=new j;Q.constructor=O,k(Q,M.prototype),Q.isPureReactComponent=!0;var oe=Array.isArray;function ce(){}var W={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function B(A,w,E){var H=E.ref;return{$$typeof:n,type:A,key:w,ref:H!==void 0?H:null,props:E}}function U(A,w){return B(A.type,w,A.props)}function q(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function L(A){var w={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(E){return w[E]})}var T=/\/+/g;function g(A,w){return typeof A=="object"&&A!==null&&A.key!=null?L(""+A.key):w.toString(36)}function R(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(ce,ce):(A.status="pending",A.then(function(w){A.status==="pending"&&(A.status="fulfilled",A.value=w)},function(w){A.status==="pending"&&(A.status="rejected",A.reason=w)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function C(A,w,E,H,ne){var ae=typeof A;(ae==="undefined"||ae==="boolean")&&(A=null);var me=!1;if(A===null)me=!0;else switch(ae){case"bigint":case"string":case"number":me=!0;break;case"object":switch(A.$$typeof){case n:case e:me=!0;break;case p:return me=A._init,C(me(A._payload),w,E,H,ne)}}if(me)return ne=ne(A),me=H===""?"."+g(A,0):H,oe(ne)?(E="",me!=null&&(E=me.replace(T,"$&/")+"/"),C(ne,w,E,"",function(it){return it})):ne!=null&&(q(ne)&&(ne=U(ne,E+(ne.key==null||A&&A.key===ne.key?"":(""+ne.key).replace(T,"$&/")+"/")+me)),w.push(ne)),1;me=0;var Le=H===""?".":H+":";if(oe(A))for(var Ue=0;Ue<A.length;Ue++)H=A[Ue],ae=Le+g(H,Ue),me+=C(H,w,E,ae,ne);else if(Ue=y(A),typeof Ue=="function")for(A=Ue.call(A),Ue=0;!(H=A.next()).done;)H=H.value,ae=Le+g(H,Ue++),me+=C(H,w,E,ae,ne);else if(ae==="object"){if(typeof A.then=="function")return C(R(A),w,E,H,ne);throw w=String(A),Error("Objects are not valid as a React child (found: "+(w==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":w)+"). If you meant to render a collection of children, use an array instead.")}return me}function Y(A,w,E){if(A==null)return A;var H=[],ne=0;return C(A,H,"","",function(ae){return w.call(E,ae,ne++)}),H}function te(A){if(A._status===-1){var w=A._result;w=w(),w.then(function(E){(A._status===0||A._status===-1)&&(A._status=1,A._result=E)},function(E){(A._status===0||A._status===-1)&&(A._status=2,A._result=E)}),A._status===-1&&(A._status=0,A._result=w)}if(A._status===1)return A._result.default;throw A._result}var Z=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var w=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(w))return}else if(typeof ru=="object"&&typeof ru.emit=="function"){ru.emit("uncaughtException",A);return}console.error(A)},D={map:Y,forEach:function(A,w,E){Y(A,function(){w.apply(this,arguments)},E)},count:function(A){var w=0;return Y(A,function(){w++}),w},toArray:function(A){return Y(A,function(w){return w})||[]},only:function(A){if(!q(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return Dt.Activity=v,Dt.Children=D,Dt.Component=M,Dt.Fragment=t,Dt.Profiler=i,Dt.PureComponent=O,Dt.StrictMode=r,Dt.Suspense=h,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(A){return W.H.useMemoCache(A)}},Dt.cache=function(A){return function(){return A.apply(null,arguments)}},Dt.cacheSignal=function(){return null},Dt.cloneElement=function(A,w,E){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var H=k({},A.props),ne=A.key;if(w!=null)for(ae in w.key!==void 0&&(ne=""+w.key),w)!K.call(w,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&w.ref===void 0||(H[ae]=w[ae]);var ae=arguments.length-2;if(ae===1)H.children=E;else if(1<ae){for(var me=Array(ae),Le=0;Le<ae;Le++)me[Le]=arguments[Le+2];H.children=me}return B(A.type,ne,H)},Dt.createContext=function(A){return A={$$typeof:c,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:s,_context:A},A},Dt.createElement=function(A,w,E){var H,ne={},ae=null;if(w!=null)for(H in w.key!==void 0&&(ae=""+w.key),w)K.call(w,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(ne[H]=w[H]);var me=arguments.length-2;if(me===1)ne.children=E;else if(1<me){for(var Le=Array(me),Ue=0;Ue<me;Ue++)Le[Ue]=arguments[Ue+2];ne.children=Le}if(A&&A.defaultProps)for(H in me=A.defaultProps,me)ne[H]===void 0&&(ne[H]=me[H]);return B(A,ae,ne)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(A){return{$$typeof:u,render:A}},Dt.isValidElement=q,Dt.lazy=function(A){return{$$typeof:p,_payload:{_status:-1,_result:A},_init:te}},Dt.memo=function(A,w){return{$$typeof:d,type:A,compare:w===void 0?null:w}},Dt.startTransition=function(A){var w=W.T,E={};W.T=E;try{var H=A(),ne=W.S;ne!==null&&ne(E,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(ce,Z)}catch(ae){Z(ae)}finally{w!==null&&E.types!==null&&(w.types=E.types),W.T=w}},Dt.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Dt.use=function(A){return W.H.use(A)},Dt.useActionState=function(A,w,E){return W.H.useActionState(A,w,E)},Dt.useCallback=function(A,w){return W.H.useCallback(A,w)},Dt.useContext=function(A){return W.H.useContext(A)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(A,w){return W.H.useDeferredValue(A,w)},Dt.useEffect=function(A,w){return W.H.useEffect(A,w)},Dt.useEffectEvent=function(A){return W.H.useEffectEvent(A)},Dt.useId=function(){return W.H.useId()},Dt.useImperativeHandle=function(A,w,E){return W.H.useImperativeHandle(A,w,E)},Dt.useInsertionEffect=function(A,w){return W.H.useInsertionEffect(A,w)},Dt.useLayoutEffect=function(A,w){return W.H.useLayoutEffect(A,w)},Dt.useMemo=function(A,w){return W.H.useMemo(A,w)},Dt.useOptimistic=function(A,w){return W.H.useOptimistic(A,w)},Dt.useReducer=function(A,w,E){return W.H.useReducer(A,w,E)},Dt.useRef=function(A){return W.H.useRef(A)},Dt.useState=function(A){return W.H.useState(A)},Dt.useSyncExternalStore=function(A,w,E){return W.H.useSyncExternalStore(A,w,E)},Dt.useTransition=function(){return W.H.useTransition()},Dt.version="19.2.4",Dt}var IT;function oE(){return IT||(IT=1,ub.exports=vj()),ub.exports}var ue=oE();const We=Mo(ue);var hb={exports:{}},vd={},fb={exports:{}},db={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT;function _j(){return kT||(kT=1,(function(n){function e(C,Y){var te=C.length;C.push(Y);e:for(;0<te;){var Z=te-1>>>1,D=C[Z];if(0<i(D,Y))C[Z]=Y,C[te]=D,te=Z;else break e}}function t(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var Y=C[0],te=C.pop();if(te!==Y){C[0]=te;e:for(var Z=0,D=C.length,A=D>>>1;Z<A;){var w=2*(Z+1)-1,E=C[w],H=w+1,ne=C[H];if(0>i(E,te))H<D&&0>i(ne,E)?(C[Z]=ne,C[H]=te,Z=H):(C[Z]=E,C[w]=te,Z=w);else if(H<D&&0>i(ne,te))C[Z]=ne,C[H]=te,Z=H;else break e}}return Y}function i(C,Y){var te=C.sortIndex-Y.sortIndex;return te!==0?te:C.id-Y.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var h=[],d=[],p=1,v=null,x=3,y=!1,S=!1,k=!1,I=!1,M=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function Q(C){for(var Y=t(d);Y!==null;){if(Y.callback===null)r(d);else if(Y.startTime<=C)r(d),Y.sortIndex=Y.expirationTime,e(h,Y);else break;Y=t(d)}}function oe(C){if(k=!1,Q(C),!S)if(t(h)!==null)S=!0,ce||(ce=!0,L());else{var Y=t(d);Y!==null&&R(oe,Y.startTime-C)}}var ce=!1,W=-1,K=5,B=-1;function U(){return I?!0:!(n.unstable_now()-B<K)}function q(){if(I=!1,ce){var C=n.unstable_now();B=C;var Y=!0;try{e:{S=!1,k&&(k=!1,j(W),W=-1),y=!0;var te=x;try{t:{for(Q(C),v=t(h);v!==null&&!(v.expirationTime>C&&U());){var Z=v.callback;if(typeof Z=="function"){v.callback=null,x=v.priorityLevel;var D=Z(v.expirationTime<=C);if(C=n.unstable_now(),typeof D=="function"){v.callback=D,Q(C),Y=!0;break t}v===t(h)&&r(h),Q(C)}else r(h);v=t(h)}if(v!==null)Y=!0;else{var A=t(d);A!==null&&R(oe,A.startTime-C),Y=!1}}break e}finally{v=null,x=te,y=!1}Y=void 0}}finally{Y?L():ce=!1}}}var L;if(typeof O=="function")L=function(){O(q)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,g=T.port2;T.port1.onmessage=q,L=function(){g.postMessage(null)}}else L=function(){M(q,0)};function R(C,Y){W=M(function(){C(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(C){C.callback=null},n.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<C?Math.floor(1e3/C):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(C){switch(x){case 1:case 2:case 3:var Y=3;break;default:Y=x}var te=x;x=Y;try{return C()}finally{x=te}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(C,Y){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var te=x;x=C;try{return Y()}finally{x=te}},n.unstable_scheduleCallback=function(C,Y,te){var Z=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Z+te:Z):te=Z,C){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=te+D,C={id:p++,callback:Y,priorityLevel:C,startTime:te,expirationTime:D,sortIndex:-1},te>Z?(C.sortIndex=te,e(d,C),t(h)===null&&C===t(d)&&(k?(j(W),W=-1):k=!0,R(oe,te-Z))):(C.sortIndex=D,e(h,C),S||y||(S=!0,ce||(ce=!0,L()))),C},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(C){var Y=x;return function(){var te=x;x=Y;try{return C.apply(this,arguments)}finally{x=te}}}})(db)),db}var CT;function xj(){return CT||(CT=1,fb.exports=_j()),fb.exports}var pb={exports:{}},si={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OT;function Ej(){if(OT)return si;OT=1;var n=oE();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(h,d,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:h,containerInfo:d,implementation:p}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return si.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,si.createPortal=function(h,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(h,d,null,p)},si.flushSync=function(h){var d=c.T,p=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=d,r.p=p,r.d.f()}},si.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},si.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},si.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var p=d.as,v=u(p,d.crossOrigin),x=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:y}):p==="script"&&r.d.X(h,{crossOrigin:v,integrity:x,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},si.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=u(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},si.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,v=u(p,d.crossOrigin);r.d.L(h,p,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},si.preloadModule=function(h,d){if(typeof h=="string")if(d){var p=u(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},si.requestFormReset=function(h){r.d.r(h)},si.unstable_batchedUpdates=function(h,d){return h(d)},si.useFormState=function(h,d,p){return c.H.useFormState(h,d,p)},si.useFormStatus=function(){return c.H.useHostTransitionStatus()},si.version="19.2.4",si}var MT;function n3(){if(MT)return pb.exports;MT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),pb.exports=Ej(),pb.exports}var BT;function Aj(){if(BT)return vd;BT=1;var n=xj(),e=oE(),t=n3();function r(o){var a="https://react.dev/errors/"+o;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var a=o,l=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(l=a.return),o=a.return;while(o)}return a.tag===3?l:null}function c(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function u(o){if(o.tag===31){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function h(o){if(s(o)!==o)throw Error(r(188))}function d(o){var a=o.alternate;if(!a){if(a=s(o),a===null)throw Error(r(188));return a!==o?null:o}for(var l=o,f=a;;){var _=l.return;if(_===null)break;var N=_.alternate;if(N===null){if(f=_.return,f!==null){l=f;continue}break}if(_.child===N.child){for(N=_.child;N;){if(N===l)return h(_),o;if(N===f)return h(_),a;N=N.sibling}throw Error(r(188))}if(l.return!==f.return)l=_,f=N;else{for(var X=!1,le=_.child;le;){if(le===l){X=!0,l=_,f=N;break}if(le===f){X=!0,f=_,l=N;break}le=le.sibling}if(!X){for(le=N.child;le;){if(le===l){X=!0,l=N,f=_;break}if(le===f){X=!0,f=N,l=_;break}le=le.sibling}if(!X)throw Error(r(189))}}if(l.alternate!==f)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?o:a}function p(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o;for(o=o.child;o!==null;){if(a=p(o),a!==null)return a;o=o.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),O=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function L(o){return o===null||typeof o!="object"?null:(o=q&&o[q]||o["@@iterator"],typeof o=="function"?o:null)}var T=Symbol.for("react.client.reference");function g(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===T?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case k:return"Fragment";case M:return"Profiler";case I:return"StrictMode";case oe:return"Suspense";case ce:return"SuspenseList";case B:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case S:return"Portal";case O:return o.displayName||"Context";case j:return(o._context.displayName||"Context")+".Consumer";case Q:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case W:return a=o.displayName||null,a!==null?a:g(o.type)||"Memo";case K:a=o._payload,o=o._init;try{return g(o(a))}catch{}}return null}var R=Array.isArray,C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Z=[],D=-1;function A(o){return{current:o}}function w(o){0>D||(o.current=Z[D],Z[D]=null,D--)}function E(o,a){D++,Z[D]=o.current,o.current=a}var H=A(null),ne=A(null),ae=A(null),me=A(null);function Le(o,a){switch(E(ae,a),E(ne,o),E(H,null),a.nodeType){case 9:case 11:o=(o=a.documentElement)&&(o=o.namespaceURI)?YR(o):0;break;default:if(o=a.tagName,a=a.namespaceURI)a=YR(a),o=XR(a,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}w(H),E(H,o)}function Ue(){w(H),w(ne),w(ae)}function it(o){o.memoizedState!==null&&E(me,o);var a=H.current,l=XR(a,o.type);a!==l&&(E(ne,o),E(H,l))}function ut(o){ne.current===o&&(w(H),w(ne)),me.current===o&&(w(me),md._currentValue=te)}var kt,lr;function Ot(o){if(kt===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);kt=a&&a[1]||"",lr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kt+o+lr}var Jt=!1;function P(o,a){if(!o||Jt)return"";Jt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var He=function(){throw Error()};if(Object.defineProperty(He.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(He,[])}catch(Pe){var Me=Pe}Reflect.construct(o,[],He)}else{try{He.call()}catch(Pe){Me=Pe}o.call(He.prototype)}}else{try{throw Error()}catch(Pe){Me=Pe}(He=o())&&typeof He.catch=="function"&&He.catch(function(){})}}catch(Pe){if(Pe&&Me&&typeof Pe.stack=="string")return[Pe.stack,Me.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=f.DetermineComponentFrameRoot(),X=N[0],le=N[1];if(X&&le){var ge=X.split(`
`),Ce=le.split(`
`);for(_=f=0;f<ge.length&&!ge[f].includes("DetermineComponentFrameRoot");)f++;for(;_<Ce.length&&!Ce[_].includes("DetermineComponentFrameRoot");)_++;if(f===ge.length||_===Ce.length)for(f=ge.length-1,_=Ce.length-1;1<=f&&0<=_&&ge[f]!==Ce[_];)_--;for(;1<=f&&0<=_;f--,_--)if(ge[f]!==Ce[_]){if(f!==1||_!==1)do if(f--,_--,0>_||ge[f]!==Ce[_]){var ze=`
`+ge[f].replace(" at new "," at ");return o.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",o.displayName)),ze}while(1<=f&&0<=_);break}}}finally{Jt=!1,Error.prepareStackTrace=l}return(l=o?o.displayName||o.name:"")?Ot(l):""}function J(o,a){switch(o.tag){case 26:case 27:case 5:return Ot(o.type);case 16:return Ot("Lazy");case 13:return o.child!==a&&a!==null?Ot("Suspense Fallback"):Ot("Suspense");case 19:return Ot("SuspenseList");case 0:case 15:return P(o.type,!1);case 11:return P(o.type.render,!1);case 1:return P(o.type,!0);case 31:return Ot("Activity");default:return""}}function re(o){try{var a="",l=null;do a+=J(o,l),l=o,o=o.return;while(o);return a}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var ye=Object.prototype.hasOwnProperty,we=n.unstable_scheduleCallback,Ee=n.unstable_cancelCallback,Ve=n.unstable_shouldYield,Ye=n.unstable_requestPaint,Je=n.unstable_now,Mt=n.unstable_getCurrentPriorityLevel,lt=n.unstable_ImmediatePriority,Et=n.unstable_UserBlockingPriority,Yn=n.unstable_NormalPriority,fn=n.unstable_LowPriority,se=n.unstable_IdlePriority,z=n.log,G=n.unstable_setDisableYieldValue,fe=null,be=null;function Ae(o){if(typeof z=="function"&&G(o),be&&typeof be.setStrictMode=="function")try{be.setStrictMode(fe,o)}catch{}}var ke=Math.clz32?Math.clz32:At,Ct=Math.log,bt=Math.LN2;function At(o){return o>>>=0,o===0?32:31-(Ct(o)/bt|0)|0}var Kt=256,mt=262144,Bt=4194304;function Fn(o){var a=o&42;if(a!==0)return a;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function sn(o,a,l){var f=o.pendingLanes;if(f===0)return 0;var _=0,N=o.suspendedLanes,X=o.pingedLanes;o=o.warmLanes;var le=f&134217727;return le!==0?(f=le&~N,f!==0?_=Fn(f):(X&=le,X!==0?_=Fn(X):l||(l=le&~o,l!==0&&(_=Fn(l))))):(le=f&~N,le!==0?_=Fn(le):X!==0?_=Fn(X):l||(l=f&~o,l!==0&&(_=Fn(l)))),_===0?0:a!==0&&a!==_&&(a&N)===0&&(N=_&-_,l=a&-a,N>=l||N===32&&(l&4194048)!==0)?a:_}function an(o,a){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&a)===0}function gi(o,a){switch(o){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cn(){var o=Bt;return Bt<<=1,(Bt&62914560)===0&&(Bt=4194304),o}function ie(o){for(var a=[],l=0;31>l;l++)a.push(o);return a}function F(o,a){o.pendingLanes|=a,a!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function $(o,a,l,f,_,N){var X=o.pendingLanes;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=l,o.entangledLanes&=l,o.errorRecoveryDisabledLanes&=l,o.shellSuspendCounter=0;var le=o.entanglements,ge=o.expirationTimes,Ce=o.hiddenUpdates;for(l=X&~l;0<l;){var ze=31-ke(l),He=1<<ze;le[ze]=0,ge[ze]=-1;var Me=Ce[ze];if(Me!==null)for(Ce[ze]=null,ze=0;ze<Me.length;ze++){var Pe=Me[ze];Pe!==null&&(Pe.lane&=-536870913)}l&=~He}f!==0&&de(o,f,0),N!==0&&_===0&&o.tag!==0&&(o.suspendedLanes|=N&~(X&~a))}function de(o,a,l){o.pendingLanes|=a,o.suspendedLanes&=~a;var f=31-ke(a);o.entangledLanes|=a,o.entanglements[f]=o.entanglements[f]|1073741824|l&261930}function _e(o,a){var l=o.entangledLanes|=a;for(o=o.entanglements;l;){var f=31-ke(l),_=1<<f;_&a|o[f]&a&&(o[f]|=a),l&=~_}}function Re(o,a){var l=a&-a;return l=(l&42)!==0?1:je(l),(l&(o.suspendedLanes|a))!==0?0:l}function je(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Tt(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function It(){var o=Y.p;return o!==0?o:(o=window.event,o===void 0?32:bT(o.type))}function gt(o,a){var l=Y.p;try{return Y.p=o,a()}finally{Y.p=l}}var Wt=Math.random().toString(36).slice(2),st="__reactFiber$"+Wt,$t="__reactProps$"+Wt,Gi="__reactContainer$"+Wt,On="__reactEvents$"+Wt,Hn="__reactListeners$"+Wt,La="__reactHandles$"+Wt,Da="__reactResources$"+Wt,Ai="__reactMarker$"+Wt;function Fs(o){delete o[st],delete o[$t],delete o[On],delete o[Hn],delete o[La]}function Si(o){var a=o[st];if(a)return a;for(var l=o.parentNode;l;){if(a=l[Gi]||l[st]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(o=rT(o);o!==null;){if(l=o[st])return l;o=rT(o)}return a}o=l,l=o.parentNode}return null}function ii(o){if(o=o[st]||o[Gi]){var a=o.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return o}return null}function Hr(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o.stateNode;throw Error(r(33))}function Ri(o){var a=o[Da];return a||(a=o[Da]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function qn(o){o[Ai]=!0}var jo=new Set,Po={};function Ti(o,a){Ni(o,a),Ni(o+"Capture",a)}function Ni(o,a){for(Po[o]=a,o=0;o<a.length;o++)jo.add(a[o])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vo={},zo={};function ja(o){return ye.call(zo,o)?!0:ye.call(Vo,o)?!1:Uo.test(o)?zo[o]=!0:(Vo[o]=!0,!1)}function Hs(o,a,l){if(ja(a))if(l===null)o.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":o.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){o.removeAttribute(a);return}}o.setAttribute(a,""+l)}}function qr(o,a,l){if(l===null)o.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(a);return}o.setAttribute(a,""+l)}}function gr(o,a,l,f){if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttributeNS(a,l,""+f)}}function Lr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Pa(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Tf(o,a,l){var f=Object.getOwnPropertyDescriptor(o.constructor.prototype,a);if(!o.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var _=f.get,N=f.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return _.call(this)},set:function(X){l=""+X,N.call(this,X)}}),Object.defineProperty(o,a,{enumerable:f.enumerable}),{getValue:function(){return l},setValue:function(X){l=""+X},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function xn(o){if(!o._valueTracker){var a=Pa(o)?"checked":"value";o._valueTracker=Tf(o,a,""+o[a])}}function ol(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var l=a.getValue(),f="";return o&&(f=Pa(o)?o.checked?"true":"false":o.value),o=f,o!==l?(a.setValue(o),!0):!1}function qs(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var al=/[\n"\\]/g;function Ii(o){return o.replace(al,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Iu(o,a,l,f,_,N,X,le){o.name="",X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?o.type=X:o.removeAttribute("type"),a!=null?X==="number"?(a===0&&o.value===""||o.value!=a)&&(o.value=""+Lr(a)):o.value!==""+Lr(a)&&(o.value=""+Lr(a)):X!=="submit"&&X!=="reset"||o.removeAttribute("value"),a!=null?Nf(o,X,Lr(a)):l!=null?Nf(o,X,Lr(l)):f!=null&&o.removeAttribute("value"),_==null&&N!=null&&(o.defaultChecked=!!N),_!=null&&(o.checked=_&&typeof _!="function"&&typeof _!="symbol"),le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"?o.name=""+Lr(le):o.removeAttribute("name")}function sm(o,a,l,f,_,N,X,le){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.type=N),a!=null||l!=null){if(!(N!=="submit"&&N!=="reset"||a!=null)){xn(o);return}l=l!=null?""+Lr(l):"",a=a!=null?""+Lr(a):l,le||a===o.value||(o.value=a),o.defaultValue=a}f=f??_,f=typeof f!="function"&&typeof f!="symbol"&&!!f,o.checked=le?o.checked:!!f,o.defaultChecked=!!f,X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"&&(o.name=X),xn(o)}function Nf(o,a,l){a==="number"&&qs(o.ownerDocument)===o||o.defaultValue===""+l||(o.defaultValue=""+l)}function Ua(o,a,l,f){if(o=o.options,a){a={};for(var _=0;_<l.length;_++)a["$"+l[_]]=!0;for(l=0;l<o.length;l++)_=a.hasOwnProperty("$"+o[l].value),o[l].selected!==_&&(o[l].selected=_),_&&f&&(o[l].defaultSelected=!0)}else{for(l=""+Lr(l),a=null,_=0;_<o.length;_++){if(o[_].value===l){o[_].selected=!0,f&&(o[_].defaultSelected=!0);return}a!==null||o[_].disabled||(a=o[_])}a!==null&&(a.selected=!0)}}function om(o,a,l){if(a!=null&&(a=""+Lr(a),a!==o.value&&(o.value=a),l==null)){o.defaultValue!==a&&(o.defaultValue=a);return}o.defaultValue=l!=null?""+Lr(l):""}function Va(o,a,l,f){if(a==null){if(f!=null){if(l!=null)throw Error(r(92));if(R(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),a=l}l=Lr(a),o.defaultValue=l,f=o.textContent,f===l&&f!==""&&f!==null&&(o.value=f),xn(o)}function ki(o,a){if(a){var l=o.firstChild;if(l&&l===o.lastChild&&l.nodeType===3){l.nodeValue=a;return}}o.textContent=a}var am=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function If(o,a,l){var f=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?o.setProperty(a,""):a==="float"?o.cssFloat="":o[a]="":f?o.setProperty(a,l):typeof l!="number"||l===0||am.has(a)?a==="float"?o.cssFloat=l:o[a]=(""+l).trim():o[a]=l+"px"}function kf(o,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(o=o.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?o.setProperty(f,""):f==="float"?o.cssFloat="":o[f]="");for(var _ in a)f=a[_],a.hasOwnProperty(_)&&l[_]!==f&&If(o,_,f)}else for(var N in a)a.hasOwnProperty(N)&&If(o,N,a[N])}function ku(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),za=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cu(o){return za.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Ss(){}var Cf=null;function os(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Fa=null,Gs=null;function cl(o){var a=ii(o);if(a&&(o=a.stateNode)){var l=o[$t]||null;e:switch(o=a.stateNode,a.type){case"input":if(Iu(o,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=o;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ii(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var f=l[a];if(f!==o&&f.form===o.form){var _=f[$t]||null;if(!_)throw Error(r(90));Iu(f,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(a=0;a<l.length;a++)f=l[a],f.form===o.form&&ol(f)}break e;case"textarea":om(o,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Ua(o,!!l.multiple,a,!1)}}}var Ou=!1;function Ha(o,a,l){if(Ou)return o(a,l);Ou=!0;try{var f=o(a);return f}finally{if(Ou=!1,(Fa!==null||Gs!==null)&&(t0(),Fa&&(a=Fa,o=Gs,Gs=Fa=null,cl(a),o)))for(a=0;a<o.length;a++)cl(o[a])}}function Rs(o,a){var l=o.stateNode;if(l===null)return null;var f=l[$t]||null;if(f===null)return null;l=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(o=o.type,f=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!f;break e;default:o=!1}if(o)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var as=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ll=!1;if(as)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){ll=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{ll=!1}var $s=null,Of=null,ul=null;function Mf(){if(ul)return ul;var o,a=Of,l=a.length,f,_="value"in $s?$s.value:$s.textContent,N=_.length;for(o=0;o<l&&a[o]===_[o];o++);var X=l-o;for(f=1;f<=X&&a[l-f]===_[N-f];f++);return ul=_.slice(o,1<f?1-f:void 0)}function hl(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function Fo(){return!0}function Ts(){return!1}function Gr(o){function a(l,f,_,N,X){this._reactName=l,this._targetInst=_,this.type=f,this.nativeEvent=N,this.target=X,this.currentTarget=null;for(var le in o)o.hasOwnProperty(le)&&(l=o[le],this[le]=l?l(N):N[le]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Fo:Ts,this.isPropagationStopped=Ts,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Fo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Fo)},persist:function(){},isPersistent:Fo}),a}var Ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ks=Gr(Ho),qa=v({},Ho,{view:0,detail:0}),Bf=Gr(qa),Ga,Mu,Ws,Bu=v({},qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$a,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ws&&(Ws&&o.type==="mousemove"?(Ga=o.screenX-Ws.screenX,Mu=o.screenY-Ws.screenY):Mu=Ga=0,Ws=o),Ga)},movementY:function(o){return"movementY"in o?o.movementY:Mu}}),Lf=Gr(Bu),fl=v({},Bu,{dataTransfer:0}),lm=Gr(fl),um=v({},qa,{relatedTarget:0}),dl=Gr(um),Df=v({},Ho,{animationName:0,elapsedTime:0,pseudoElement:0}),hm=Gr(Df),Lu=v({},Ho,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),fm=Gr(Lu),dm=v({},Ho,{data:0}),Ys=Gr(dm),pm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ym(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=gm[o])?!!a[o]:!1}function $a(){return ym}var yi=v({},qa,{key:function(o){if(o.key){var a=pm[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=hl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?mm[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$a,charCode:function(o){return o.type==="keypress"?hl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?hl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),wm=Gr(yi),bm=v({},Bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qo=Gr(bm),b=v({},qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$a}),V=Gr(b),ee=v({},Ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),he=Gr(ee),Te=v({},Bu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),De=Gr(Te),Ze=v({},Ho,{newState:0,oldState:0}),Ut=Gr(Ze),ur=[9,13,27,32],wn=as&&"CompositionEvent"in window,Gn=null;as&&"documentMode"in document&&(Gn=document.documentMode);var cs=as&&"TextEvent"in window&&!Gn,Xs=as&&(!wn||Gn&&8<Gn&&11>=Gn),Ns=" ",Is=!1;function pl(o,a){switch(o){case"keyup":return ur.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Du(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ju=!1;function DL(o,a){switch(o){case"compositionend":return Du(a);case"keypress":return a.which!==32?null:(Is=!0,Ns);case"textInput":return o=a.data,o===Ns&&Is?null:o;default:return null}}function jL(o,a){if(ju)return o==="compositionend"||!wn&&pl(o,a)?(o=Mf(),ul=Of=$s=null,ju=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Xs&&a.locale!=="ko"?null:a.data;default:return null}}var PL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oA(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!PL[o.type]:a==="textarea"}function aA(o,a,l,f){Fa?Gs?Gs.push(f):Gs=[f]:Fa=f,a=c0(a,"onChange"),0<a.length&&(l=new Ks("onChange","change",null,l,f),o.push({event:l,listeners:a}))}var jf=null,Pf=null;function UL(o){HR(o,0)}function vm(o){var a=Hr(o);if(ol(a))return o}function cA(o,a){if(o==="change")return a}var lA=!1;if(as){var g1;if(as){var y1="oninput"in document;if(!y1){var uA=document.createElement("div");uA.setAttribute("oninput","return;"),y1=typeof uA.oninput=="function"}g1=y1}else g1=!1;lA=g1&&(!document.documentMode||9<document.documentMode)}function hA(){jf&&(jf.detachEvent("onpropertychange",fA),Pf=jf=null)}function fA(o){if(o.propertyName==="value"&&vm(Pf)){var a=[];aA(a,Pf,o,os(o)),Ha(UL,a)}}function VL(o,a,l){o==="focusin"?(hA(),jf=a,Pf=l,jf.attachEvent("onpropertychange",fA)):o==="focusout"&&hA()}function zL(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return vm(Pf)}function FL(o,a){if(o==="click")return vm(a)}function HL(o,a){if(o==="input"||o==="change")return vm(a)}function qL(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var $i=typeof Object.is=="function"?Object.is:qL;function Uf(o,a){if($i(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var l=Object.keys(o),f=Object.keys(a);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var _=l[f];if(!ye.call(a,_)||!$i(o[_],a[_]))return!1}return!0}function dA(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function pA(o,a){var l=dA(o);o=0;for(var f;l;){if(l.nodeType===3){if(f=o+l.textContent.length,o<=a&&f>=a)return{node:l,offset:a-o};o=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=dA(l)}}function mA(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?mA(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function gA(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var a=qs(o.document);a instanceof o.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)o=a.contentWindow;else break;a=qs(o.document)}return a}function w1(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}var GL=as&&"documentMode"in document&&11>=document.documentMode,Pu=null,b1=null,Vf=null,v1=!1;function yA(o,a,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;v1||Pu==null||Pu!==qs(f)||(f=Pu,"selectionStart"in f&&w1(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Vf&&Uf(Vf,f)||(Vf=f,f=c0(b1,"onSelect"),0<f.length&&(a=new Ks("onSelect","select",null,a,l),o.push({event:a,listeners:f}),a.target=Pu)))}function ml(o,a){var l={};return l[o.toLowerCase()]=a.toLowerCase(),l["Webkit"+o]="webkit"+a,l["Moz"+o]="moz"+a,l}var Uu={animationend:ml("Animation","AnimationEnd"),animationiteration:ml("Animation","AnimationIteration"),animationstart:ml("Animation","AnimationStart"),transitionrun:ml("Transition","TransitionRun"),transitionstart:ml("Transition","TransitionStart"),transitioncancel:ml("Transition","TransitionCancel"),transitionend:ml("Transition","TransitionEnd")},_1={},wA={};as&&(wA=document.createElement("div").style,"AnimationEvent"in window||(delete Uu.animationend.animation,delete Uu.animationiteration.animation,delete Uu.animationstart.animation),"TransitionEvent"in window||delete Uu.transitionend.transition);function gl(o){if(_1[o])return _1[o];if(!Uu[o])return o;var a=Uu[o],l;for(l in a)if(a.hasOwnProperty(l)&&l in wA)return _1[o]=a[l];return o}var bA=gl("animationend"),vA=gl("animationiteration"),_A=gl("animationstart"),$L=gl("transitionrun"),KL=gl("transitionstart"),WL=gl("transitioncancel"),xA=gl("transitionend"),EA=new Map,x1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");x1.push("scrollEnd");function ks(o,a){EA.set(o,a),Ti(a,[o])}var _m=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(a))return}else if(typeof ru=="object"&&typeof ru.emit=="function"){ru.emit("uncaughtException",o);return}console.error(o)},ls=[],Vu=0,E1=0;function xm(){for(var o=Vu,a=E1=Vu=0;a<o;){var l=ls[a];ls[a++]=null;var f=ls[a];ls[a++]=null;var _=ls[a];ls[a++]=null;var N=ls[a];if(ls[a++]=null,f!==null&&_!==null){var X=f.pending;X===null?_.next=_:(_.next=X.next,X.next=_),f.pending=_}N!==0&&AA(l,_,N)}}function Em(o,a,l,f){ls[Vu++]=o,ls[Vu++]=a,ls[Vu++]=l,ls[Vu++]=f,E1|=f,o.lanes|=f,o=o.alternate,o!==null&&(o.lanes|=f)}function A1(o,a,l,f){return Em(o,a,l,f),Am(o)}function yl(o,a){return Em(o,null,null,a),Am(o)}function AA(o,a,l){o.lanes|=l;var f=o.alternate;f!==null&&(f.lanes|=l);for(var _=!1,N=o.return;N!==null;)N.childLanes|=l,f=N.alternate,f!==null&&(f.childLanes|=l),N.tag===22&&(o=N.stateNode,o===null||o._visibility&1||(_=!0)),o=N,N=N.return;return o.tag===3?(N=o.stateNode,_&&a!==null&&(_=31-ke(l),o=N.hiddenUpdates,f=o[_],f===null?o[_]=[a]:f.push(a),a.lane=l|536870912),N):null}function Am(o){if(50<cd)throw cd=0,Mw=null,Error(r(185));for(var a=o.return;a!==null;)o=a,a=o.return;return o.tag===3?o.stateNode:null}var zu={};function YL(o,a,l,f){this.tag=o,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ki(o,a,l,f){return new YL(o,a,l,f)}function S1(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Go(o,a){var l=o.alternate;return l===null?(l=Ki(o.tag,a,o.key,o.mode),l.elementType=o.elementType,l.type=o.type,l.stateNode=o.stateNode,l.alternate=o,o.alternate=l):(l.pendingProps=a,l.type=o.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=o.flags&65011712,l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,a=o.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=o.sibling,l.index=o.index,l.ref=o.ref,l.refCleanup=o.refCleanup,l}function SA(o,a){o.flags&=65011714;var l=o.alternate;return l===null?(o.childLanes=0,o.lanes=a,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,a=l.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),o}function Sm(o,a,l,f,_,N){var X=0;if(f=o,typeof o=="function")S1(o)&&(X=1);else if(typeof o=="string")X=ej(o,l,H.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case B:return o=Ki(31,l,a,_),o.elementType=B,o.lanes=N,o;case k:return wl(l.children,_,N,a);case I:X=8,_|=24;break;case M:return o=Ki(12,l,a,_|2),o.elementType=M,o.lanes=N,o;case oe:return o=Ki(13,l,a,_),o.elementType=oe,o.lanes=N,o;case ce:return o=Ki(19,l,a,_),o.elementType=ce,o.lanes=N,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case O:X=10;break e;case j:X=9;break e;case Q:X=11;break e;case W:X=14;break e;case K:X=16,f=null;break e}X=29,l=Error(r(130,o===null?"null":typeof o,"")),f=null}return a=Ki(X,l,a,_),a.elementType=o,a.type=f,a.lanes=N,a}function wl(o,a,l,f){return o=Ki(7,o,f,a),o.lanes=l,o}function R1(o,a,l){return o=Ki(6,o,null,a),o.lanes=l,o}function RA(o){var a=Ki(18,null,null,0);return a.stateNode=o,a}function T1(o,a,l){return a=Ki(4,o.children!==null?o.children:[],o.key,a),a.lanes=l,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}var TA=new WeakMap;function us(o,a){if(typeof o=="object"&&o!==null){var l=TA.get(o);return l!==void 0?l:(a={value:o,source:a,stack:re(a)},TA.set(o,a),a)}return{value:o,source:a,stack:re(a)}}var Fu=[],Hu=0,Rm=null,zf=0,hs=[],fs=0,Ka=null,Zs=1,Qs="";function $o(o,a){Fu[Hu++]=zf,Fu[Hu++]=Rm,Rm=o,zf=a}function NA(o,a,l){hs[fs++]=Zs,hs[fs++]=Qs,hs[fs++]=Ka,Ka=o;var f=Zs;o=Qs;var _=32-ke(f)-1;f&=~(1<<_),l+=1;var N=32-ke(a)+_;if(30<N){var X=_-_%5;N=(f&(1<<X)-1).toString(32),f>>=X,_-=X,Zs=1<<32-ke(a)+_|l<<_|f,Qs=N+o}else Zs=1<<N|l<<_|f,Qs=o}function N1(o){o.return!==null&&($o(o,1),NA(o,1,0))}function I1(o){for(;o===Rm;)Rm=Fu[--Hu],Fu[Hu]=null,zf=Fu[--Hu],Fu[Hu]=null;for(;o===Ka;)Ka=hs[--fs],hs[fs]=null,Qs=hs[--fs],hs[fs]=null,Zs=hs[--fs],hs[fs]=null}function IA(o,a){hs[fs++]=Zs,hs[fs++]=Qs,hs[fs++]=Ka,Zs=a.id,Qs=a.overflow,Ka=o}var $r=null,Un=null,on=!1,Wa=null,ds=!1,k1=Error(r(519));function Ya(o){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ff(us(a,o)),k1}function kA(o){var a=o.stateNode,l=o.type,f=o.memoizedProps;switch(a[st]=o,a[$t]=f,l){case"dialog":Xt("cancel",a),Xt("close",a);break;case"iframe":case"object":case"embed":Xt("load",a);break;case"video":case"audio":for(l=0;l<ud.length;l++)Xt(ud[l],a);break;case"source":Xt("error",a);break;case"img":case"image":case"link":Xt("error",a),Xt("load",a);break;case"details":Xt("toggle",a);break;case"input":Xt("invalid",a),sm(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Xt("invalid",a);break;case"textarea":Xt("invalid",a),Va(a,f.value,f.defaultValue,f.children)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||f.suppressHydrationWarning===!0||KR(a.textContent,l)?(f.popover!=null&&(Xt("beforetoggle",a),Xt("toggle",a)),f.onScroll!=null&&Xt("scroll",a),f.onScrollEnd!=null&&Xt("scrollend",a),f.onClick!=null&&(a.onclick=Ss),a=!0):a=!1,a||Ya(o,!0)}function CA(o){for($r=o.return;$r;)switch($r.tag){case 5:case 31:case 13:ds=!1;return;case 27:case 3:ds=!0;return;default:$r=$r.return}}function qu(o){if(o!==$r)return!1;if(!on)return CA(o),on=!0,!1;var a=o.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=o.type,l=!(l!=="form"&&l!=="button")||Ww(o.type,o.memoizedProps)),l=!l),l&&Un&&Ya(o),CA(o),a===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Un=nT(o)}else if(a===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Un=nT(o)}else a===27?(a=Un,lc(o.type)?(o=Jw,Jw=null,Un=o):Un=a):Un=$r?ms(o.stateNode.nextSibling):null;return!0}function bl(){Un=$r=null,on=!1}function C1(){var o=Wa;return o!==null&&(Bi===null?Bi=o:Bi.push.apply(Bi,o),Wa=null),o}function Ff(o){Wa===null?Wa=[o]:Wa.push(o)}var O1=A(null),vl=null,Ko=null;function Xa(o,a,l){E(O1,a._currentValue),a._currentValue=l}function Wo(o){o._currentValue=O1.current,w(O1)}function M1(o,a,l){for(;o!==null;){var f=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),o===l)break;o=o.return}}function B1(o,a,l,f){var _=o.child;for(_!==null&&(_.return=o);_!==null;){var N=_.dependencies;if(N!==null){var X=_.child;N=N.firstContext;e:for(;N!==null;){var le=N;N=_;for(var ge=0;ge<a.length;ge++)if(le.context===a[ge]){N.lanes|=l,le=N.alternate,le!==null&&(le.lanes|=l),M1(N.return,l,o),f||(X=null);break e}N=le.next}}else if(_.tag===18){if(X=_.return,X===null)throw Error(r(341));X.lanes|=l,N=X.alternate,N!==null&&(N.lanes|=l),M1(X,l,o),X=null}else X=_.child;if(X!==null)X.return=_;else for(X=_;X!==null;){if(X===o){X=null;break}if(_=X.sibling,_!==null){_.return=X.return,X=_;break}X=X.return}_=X}}function Gu(o,a,l,f){o=null;for(var _=a,N=!1;_!==null;){if(!N){if((_.flags&524288)!==0)N=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var X=_.alternate;if(X===null)throw Error(r(387));if(X=X.memoizedProps,X!==null){var le=_.type;$i(_.pendingProps.value,X.value)||(o!==null?o.push(le):o=[le])}}else if(_===me.current){if(X=_.alternate,X===null)throw Error(r(387));X.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(o!==null?o.push(md):o=[md])}_=_.return}o!==null&&B1(a,o,l,f),a.flags|=262144}function Tm(o){for(o=o.firstContext;o!==null;){if(!$i(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function _l(o){vl=o,Ko=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Kr(o){return OA(vl,o)}function Nm(o,a){return vl===null&&_l(o),OA(o,a)}function OA(o,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Ko===null){if(o===null)throw Error(r(308));Ko=a,o.dependencies={lanes:0,firstContext:a},o.flags|=524288}else Ko=Ko.next=a;return l}var XL=typeof AbortController<"u"?AbortController:function(){var o=[],a=this.signal={aborted:!1,addEventListener:function(l,f){o.push(f)}};this.abort=function(){a.aborted=!0,o.forEach(function(l){return l()})}},ZL=n.unstable_scheduleCallback,QL=n.unstable_NormalPriority,yr={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function L1(){return{controller:new XL,data:new Map,refCount:0}}function Hf(o){o.refCount--,o.refCount===0&&ZL(QL,function(){o.controller.abort()})}var qf=null,D1=0,$u=0,Ku=null;function JL(o,a){if(qf===null){var l=qf=[];D1=0,$u=Uw(),Ku={status:"pending",value:void 0,then:function(f){l.push(f)}}}return D1++,a.then(MA,MA),a}function MA(){if(--D1===0&&qf!==null){Ku!==null&&(Ku.status="fulfilled");var o=qf;qf=null,$u=0,Ku=null;for(var a=0;a<o.length;a++)(0,o[a])()}}function eD(o,a){var l=[],f={status:"pending",value:null,reason:null,then:function(_){l.push(_)}};return o.then(function(){f.status="fulfilled",f.value=a;for(var _=0;_<l.length;_++)(0,l[_])(a)},function(_){for(f.status="rejected",f.reason=_,_=0;_<l.length;_++)(0,l[_])(void 0)}),f}var BA=C.S;C.S=function(o,a){yR=Je(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&JL(o,a),BA!==null&&BA(o,a)};var xl=A(null);function j1(){var o=xl.current;return o!==null?o:Mn.pooledCache}function Im(o,a){a===null?E(xl,xl.current):E(xl,a.pool)}function LA(){var o=j1();return o===null?null:{parent:yr._currentValue,pool:o}}var Wu=Error(r(460)),P1=Error(r(474)),km=Error(r(542)),Cm={then:function(){}};function DA(o){return o=o.status,o==="fulfilled"||o==="rejected"}function jA(o,a,l){switch(l=o[l],l===void 0?o.push(a):l!==a&&(a.then(Ss,Ss),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,UA(o),o;default:if(typeof a.status=="string")a.then(Ss,Ss);else{if(o=Mn,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=a,o.status="pending",o.then(function(f){if(a.status==="pending"){var _=a;_.status="fulfilled",_.value=f}},function(f){if(a.status==="pending"){var _=a;_.status="rejected",_.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,UA(o),o}throw Al=a,Wu}}function El(o){try{var a=o._init;return a(o._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Al=l,Wu):l}}var Al=null;function PA(){if(Al===null)throw Error(r(459));var o=Al;return Al=null,o}function UA(o){if(o===Wu||o===km)throw Error(r(483))}var Yu=null,Gf=0;function Om(o){var a=Gf;return Gf+=1,Yu===null&&(Yu=[]),jA(Yu,o,a)}function $f(o,a){a=a.props.ref,o.ref=a!==void 0?a:null}function Mm(o,a){throw a.$$typeof===x?Error(r(525)):(o=Object.prototype.toString.call(a),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o)))}function VA(o){function a(Se,ve){if(o){var Ie=Se.deletions;Ie===null?(Se.deletions=[ve],Se.flags|=16):Ie.push(ve)}}function l(Se,ve){if(!o)return null;for(;ve!==null;)a(Se,ve),ve=ve.sibling;return null}function f(Se){for(var ve=new Map;Se!==null;)Se.key!==null?ve.set(Se.key,Se):ve.set(Se.index,Se),Se=Se.sibling;return ve}function _(Se,ve){return Se=Go(Se,ve),Se.index=0,Se.sibling=null,Se}function N(Se,ve,Ie){return Se.index=Ie,o?(Ie=Se.alternate,Ie!==null?(Ie=Ie.index,Ie<ve?(Se.flags|=67108866,ve):Ie):(Se.flags|=67108866,ve)):(Se.flags|=1048576,ve)}function X(Se){return o&&Se.alternate===null&&(Se.flags|=67108866),Se}function le(Se,ve,Ie,Fe){return ve===null||ve.tag!==6?(ve=R1(Ie,Se.mode,Fe),ve.return=Se,ve):(ve=_(ve,Ie),ve.return=Se,ve)}function ge(Se,ve,Ie,Fe){var yt=Ie.type;return yt===k?ze(Se,ve,Ie.props.children,Fe,Ie.key):ve!==null&&(ve.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===K&&El(yt)===ve.type)?(ve=_(ve,Ie.props),$f(ve,Ie),ve.return=Se,ve):(ve=Sm(Ie.type,Ie.key,Ie.props,null,Se.mode,Fe),$f(ve,Ie),ve.return=Se,ve)}function Ce(Se,ve,Ie,Fe){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Ie.containerInfo||ve.stateNode.implementation!==Ie.implementation?(ve=T1(Ie,Se.mode,Fe),ve.return=Se,ve):(ve=_(ve,Ie.children||[]),ve.return=Se,ve)}function ze(Se,ve,Ie,Fe,yt){return ve===null||ve.tag!==7?(ve=wl(Ie,Se.mode,Fe,yt),ve.return=Se,ve):(ve=_(ve,Ie),ve.return=Se,ve)}function He(Se,ve,Ie){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ve=R1(""+ve,Se.mode,Ie),ve.return=Se,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case y:return Ie=Sm(ve.type,ve.key,ve.props,null,Se.mode,Ie),$f(Ie,ve),Ie.return=Se,Ie;case S:return ve=T1(ve,Se.mode,Ie),ve.return=Se,ve;case K:return ve=El(ve),He(Se,ve,Ie)}if(R(ve)||L(ve))return ve=wl(ve,Se.mode,Ie,null),ve.return=Se,ve;if(typeof ve.then=="function")return He(Se,Om(ve),Ie);if(ve.$$typeof===O)return He(Se,Nm(Se,ve),Ie);Mm(Se,ve)}return null}function Me(Se,ve,Ie,Fe){var yt=ve!==null?ve.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return yt!==null?null:le(Se,ve,""+Ie,Fe);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case y:return Ie.key===yt?ge(Se,ve,Ie,Fe):null;case S:return Ie.key===yt?Ce(Se,ve,Ie,Fe):null;case K:return Ie=El(Ie),Me(Se,ve,Ie,Fe)}if(R(Ie)||L(Ie))return yt!==null?null:ze(Se,ve,Ie,Fe,null);if(typeof Ie.then=="function")return Me(Se,ve,Om(Ie),Fe);if(Ie.$$typeof===O)return Me(Se,ve,Nm(Se,Ie),Fe);Mm(Se,Ie)}return null}function Pe(Se,ve,Ie,Fe,yt){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return Se=Se.get(Ie)||null,le(ve,Se,""+Fe,yt);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case y:return Se=Se.get(Fe.key===null?Ie:Fe.key)||null,ge(ve,Se,Fe,yt);case S:return Se=Se.get(Fe.key===null?Ie:Fe.key)||null,Ce(ve,Se,Fe,yt);case K:return Fe=El(Fe),Pe(Se,ve,Ie,Fe,yt)}if(R(Fe)||L(Fe))return Se=Se.get(Ie)||null,ze(ve,Se,Fe,yt,null);if(typeof Fe.then=="function")return Pe(Se,ve,Ie,Om(Fe),yt);if(Fe.$$typeof===O)return Pe(Se,ve,Ie,Nm(ve,Fe),yt);Mm(ve,Fe)}return null}function ct(Se,ve,Ie,Fe){for(var yt=null,dn=null,ht=ve,Ft=ve=0,tn=null;ht!==null&&Ft<Ie.length;Ft++){ht.index>Ft?(tn=ht,ht=null):tn=ht.sibling;var pn=Me(Se,ht,Ie[Ft],Fe);if(pn===null){ht===null&&(ht=tn);break}o&&ht&&pn.alternate===null&&a(Se,ht),ve=N(pn,ve,Ft),dn===null?yt=pn:dn.sibling=pn,dn=pn,ht=tn}if(Ft===Ie.length)return l(Se,ht),on&&$o(Se,Ft),yt;if(ht===null){for(;Ft<Ie.length;Ft++)ht=He(Se,Ie[Ft],Fe),ht!==null&&(ve=N(ht,ve,Ft),dn===null?yt=ht:dn.sibling=ht,dn=ht);return on&&$o(Se,Ft),yt}for(ht=f(ht);Ft<Ie.length;Ft++)tn=Pe(ht,Se,Ft,Ie[Ft],Fe),tn!==null&&(o&&tn.alternate!==null&&ht.delete(tn.key===null?Ft:tn.key),ve=N(tn,ve,Ft),dn===null?yt=tn:dn.sibling=tn,dn=tn);return o&&ht.forEach(function(pc){return a(Se,pc)}),on&&$o(Se,Ft),yt}function Rt(Se,ve,Ie,Fe){if(Ie==null)throw Error(r(151));for(var yt=null,dn=null,ht=ve,Ft=ve=0,tn=null,pn=Ie.next();ht!==null&&!pn.done;Ft++,pn=Ie.next()){ht.index>Ft?(tn=ht,ht=null):tn=ht.sibling;var pc=Me(Se,ht,pn.value,Fe);if(pc===null){ht===null&&(ht=tn);break}o&&ht&&pc.alternate===null&&a(Se,ht),ve=N(pc,ve,Ft),dn===null?yt=pc:dn.sibling=pc,dn=pc,ht=tn}if(pn.done)return l(Se,ht),on&&$o(Se,Ft),yt;if(ht===null){for(;!pn.done;Ft++,pn=Ie.next())pn=He(Se,pn.value,Fe),pn!==null&&(ve=N(pn,ve,Ft),dn===null?yt=pn:dn.sibling=pn,dn=pn);return on&&$o(Se,Ft),yt}for(ht=f(ht);!pn.done;Ft++,pn=Ie.next())pn=Pe(ht,Se,Ft,pn.value,Fe),pn!==null&&(o&&pn.alternate!==null&&ht.delete(pn.key===null?Ft:pn.key),ve=N(pn,ve,Ft),dn===null?yt=pn:dn.sibling=pn,dn=pn);return o&&ht.forEach(function(hj){return a(Se,hj)}),on&&$o(Se,Ft),yt}function kn(Se,ve,Ie,Fe){if(typeof Ie=="object"&&Ie!==null&&Ie.type===k&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case y:e:{for(var yt=Ie.key;ve!==null;){if(ve.key===yt){if(yt=Ie.type,yt===k){if(ve.tag===7){l(Se,ve.sibling),Fe=_(ve,Ie.props.children),Fe.return=Se,Se=Fe;break e}}else if(ve.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===K&&El(yt)===ve.type){l(Se,ve.sibling),Fe=_(ve,Ie.props),$f(Fe,Ie),Fe.return=Se,Se=Fe;break e}l(Se,ve);break}else a(Se,ve);ve=ve.sibling}Ie.type===k?(Fe=wl(Ie.props.children,Se.mode,Fe,Ie.key),Fe.return=Se,Se=Fe):(Fe=Sm(Ie.type,Ie.key,Ie.props,null,Se.mode,Fe),$f(Fe,Ie),Fe.return=Se,Se=Fe)}return X(Se);case S:e:{for(yt=Ie.key;ve!==null;){if(ve.key===yt)if(ve.tag===4&&ve.stateNode.containerInfo===Ie.containerInfo&&ve.stateNode.implementation===Ie.implementation){l(Se,ve.sibling),Fe=_(ve,Ie.children||[]),Fe.return=Se,Se=Fe;break e}else{l(Se,ve);break}else a(Se,ve);ve=ve.sibling}Fe=T1(Ie,Se.mode,Fe),Fe.return=Se,Se=Fe}return X(Se);case K:return Ie=El(Ie),kn(Se,ve,Ie,Fe)}if(R(Ie))return ct(Se,ve,Ie,Fe);if(L(Ie)){if(yt=L(Ie),typeof yt!="function")throw Error(r(150));return Ie=yt.call(Ie),Rt(Se,ve,Ie,Fe)}if(typeof Ie.then=="function")return kn(Se,ve,Om(Ie),Fe);if(Ie.$$typeof===O)return kn(Se,ve,Nm(Se,Ie),Fe);Mm(Se,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint"?(Ie=""+Ie,ve!==null&&ve.tag===6?(l(Se,ve.sibling),Fe=_(ve,Ie),Fe.return=Se,Se=Fe):(l(Se,ve),Fe=R1(Ie,Se.mode,Fe),Fe.return=Se,Se=Fe),X(Se)):l(Se,ve)}return function(Se,ve,Ie,Fe){try{Gf=0;var yt=kn(Se,ve,Ie,Fe);return Yu=null,yt}catch(ht){if(ht===Wu||ht===km)throw ht;var dn=Ki(29,ht,null,Se.mode);return dn.lanes=Fe,dn.return=Se,dn}finally{}}}var Sl=VA(!0),zA=VA(!1),Za=!1;function U1(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function V1(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Qa(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ja(o,a,l){var f=o.updateQueue;if(f===null)return null;if(f=f.shared,(bn&2)!==0){var _=f.pending;return _===null?a.next=a:(a.next=_.next,_.next=a),f.pending=a,a=Am(o),AA(o,null,l),a}return Em(o,f,a,l),Am(o)}function Kf(o,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var f=a.lanes;f&=o.pendingLanes,l|=f,a.lanes=l,_e(o,l)}}function z1(o,a){var l=o.updateQueue,f=o.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var _=null,N=null;if(l=l.firstBaseUpdate,l!==null){do{var X={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};N===null?_=N=X:N=N.next=X,l=l.next}while(l!==null);N===null?_=N=a:N=N.next=a}else _=N=a;l={baseState:f.baseState,firstBaseUpdate:_,lastBaseUpdate:N,shared:f.shared,callbacks:f.callbacks},o.updateQueue=l;return}o=l.lastBaseUpdate,o===null?l.firstBaseUpdate=a:o.next=a,l.lastBaseUpdate=a}var F1=!1;function Wf(){if(F1){var o=Ku;if(o!==null)throw o}}function Yf(o,a,l,f){F1=!1;var _=o.updateQueue;Za=!1;var N=_.firstBaseUpdate,X=_.lastBaseUpdate,le=_.shared.pending;if(le!==null){_.shared.pending=null;var ge=le,Ce=ge.next;ge.next=null,X===null?N=Ce:X.next=Ce,X=ge;var ze=o.alternate;ze!==null&&(ze=ze.updateQueue,le=ze.lastBaseUpdate,le!==X&&(le===null?ze.firstBaseUpdate=Ce:le.next=Ce,ze.lastBaseUpdate=ge))}if(N!==null){var He=_.baseState;X=0,ze=Ce=ge=null,le=N;do{var Me=le.lane&-536870913,Pe=Me!==le.lane;if(Pe?(en&Me)===Me:(f&Me)===Me){Me!==0&&Me===$u&&(F1=!0),ze!==null&&(ze=ze.next={lane:0,tag:le.tag,payload:le.payload,callback:null,next:null});e:{var ct=o,Rt=le;Me=a;var kn=l;switch(Rt.tag){case 1:if(ct=Rt.payload,typeof ct=="function"){He=ct.call(kn,He,Me);break e}He=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Rt.payload,Me=typeof ct=="function"?ct.call(kn,He,Me):ct,Me==null)break e;He=v({},He,Me);break e;case 2:Za=!0}}Me=le.callback,Me!==null&&(o.flags|=64,Pe&&(o.flags|=8192),Pe=_.callbacks,Pe===null?_.callbacks=[Me]:Pe.push(Me))}else Pe={lane:Me,tag:le.tag,payload:le.payload,callback:le.callback,next:null},ze===null?(Ce=ze=Pe,ge=He):ze=ze.next=Pe,X|=Me;if(le=le.next,le===null){if(le=_.shared.pending,le===null)break;Pe=le,le=Pe.next,Pe.next=null,_.lastBaseUpdate=Pe,_.shared.pending=null}}while(!0);ze===null&&(ge=He),_.baseState=ge,_.firstBaseUpdate=Ce,_.lastBaseUpdate=ze,N===null&&(_.shared.lanes=0),ic|=X,o.lanes=X,o.memoizedState=He}}function FA(o,a){if(typeof o!="function")throw Error(r(191,o));o.call(a)}function HA(o,a){var l=o.callbacks;if(l!==null)for(o.callbacks=null,o=0;o<l.length;o++)FA(l[o],a)}var Xu=A(null),Bm=A(0);function qA(o,a){o=ra,E(Bm,o),E(Xu,a),ra=o|a.baseLanes}function H1(){E(Bm,ra),E(Xu,Xu.current)}function q1(){ra=Bm.current,w(Xu),w(Bm)}var Wi=A(null),ps=null;function ec(o){var a=o.alternate;E(hr,hr.current&1),E(Wi,o),ps===null&&(a===null||Xu.current!==null||a.memoizedState!==null)&&(ps=o)}function G1(o){E(hr,hr.current),E(Wi,o),ps===null&&(ps=o)}function GA(o){o.tag===22?(E(hr,hr.current),E(Wi,o),ps===null&&(ps=o)):tc()}function tc(){E(hr,hr.current),E(Wi,Wi.current)}function Yi(o){w(Wi),ps===o&&(ps=null),w(hr)}var hr=A(0);function Lm(o){for(var a=o;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Zw(l)||Qw(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Yo=0,Vt=null,Nn=null,wr=null,Dm=!1,Zu=!1,Rl=!1,jm=0,Xf=0,Qu=null,tD=0;function rr(){throw Error(r(321))}function $1(o,a){if(a===null)return!1;for(var l=0;l<a.length&&l<o.length;l++)if(!$i(o[l],a[l]))return!1;return!0}function K1(o,a,l,f,_,N){return Yo=N,Vt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,C.H=o===null||o.memoizedState===null?NS:cw,Rl=!1,N=l(f,_),Rl=!1,Zu&&(N=KA(a,l,f,_)),$A(o),N}function $A(o){C.H=Jf;var a=Nn!==null&&Nn.next!==null;if(Yo=0,wr=Nn=Vt=null,Dm=!1,Xf=0,Qu=null,a)throw Error(r(300));o===null||br||(o=o.dependencies,o!==null&&Tm(o)&&(br=!0))}function KA(o,a,l,f){Vt=o;var _=0;do{if(Zu&&(Qu=null),Xf=0,Zu=!1,25<=_)throw Error(r(301));if(_+=1,wr=Nn=null,o.updateQueue!=null){var N=o.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}C.H=IS,N=a(l,f)}while(Zu);return N}function nD(){var o=C.H,a=o.useState()[0];return a=typeof a.then=="function"?Zf(a):a,o=o.useState()[0],(Nn!==null?Nn.memoizedState:null)!==o&&(Vt.flags|=1024),a}function W1(){var o=jm!==0;return jm=0,o}function Y1(o,a,l){a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~l}function X1(o){if(Dm){for(o=o.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}Dm=!1}Yo=0,wr=Nn=Vt=null,Zu=!1,Xf=jm=0,Qu=null}function wi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wr===null?Vt.memoizedState=wr=o:wr=wr.next=o,wr}function fr(){if(Nn===null){var o=Vt.alternate;o=o!==null?o.memoizedState:null}else o=Nn.next;var a=wr===null?Vt.memoizedState:wr.next;if(a!==null)wr=a,Nn=o;else{if(o===null)throw Vt.alternate===null?Error(r(467)):Error(r(310));Nn=o,o={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},wr===null?Vt.memoizedState=wr=o:wr=wr.next=o}return wr}function Pm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zf(o){var a=Xf;return Xf+=1,Qu===null&&(Qu=[]),o=jA(Qu,o,a),a=Vt,(wr===null?a.memoizedState:wr.next)===null&&(a=a.alternate,C.H=a===null||a.memoizedState===null?NS:cw),o}function Um(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Zf(o);if(o.$$typeof===O)return Kr(o)}throw Error(r(438,String(o)))}function Z1(o){var a=null,l=Vt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var f=Vt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(_){return _.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Pm(),Vt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(o),f=0;f<o;f++)l[f]=U;return a.index++,l}function Xo(o,a){return typeof a=="function"?a(o):a}function Vm(o){var a=fr();return Q1(a,Nn,o)}function Q1(o,a,l){var f=o.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=l;var _=o.baseQueue,N=f.pending;if(N!==null){if(_!==null){var X=_.next;_.next=N.next,N.next=X}a.baseQueue=_=N,f.pending=null}if(N=o.baseState,_===null)o.memoizedState=N;else{a=_.next;var le=X=null,ge=null,Ce=a,ze=!1;do{var He=Ce.lane&-536870913;if(He!==Ce.lane?(en&He)===He:(Yo&He)===He){var Me=Ce.revertLane;if(Me===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,gesture:null,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),He===$u&&(ze=!0);else if((Yo&Me)===Me){Ce=Ce.next,Me===$u&&(ze=!0);continue}else He={lane:0,revertLane:Ce.revertLane,gesture:null,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},ge===null?(le=ge=He,X=N):ge=ge.next=He,Vt.lanes|=Me,ic|=Me;He=Ce.action,Rl&&l(N,He),N=Ce.hasEagerState?Ce.eagerState:l(N,He)}else Me={lane:He,revertLane:Ce.revertLane,gesture:Ce.gesture,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},ge===null?(le=ge=Me,X=N):ge=ge.next=Me,Vt.lanes|=He,ic|=He;Ce=Ce.next}while(Ce!==null&&Ce!==a);if(ge===null?X=N:ge.next=le,!$i(N,o.memoizedState)&&(br=!0,ze&&(l=Ku,l!==null)))throw l;o.memoizedState=N,o.baseState=X,o.baseQueue=ge,f.lastRenderedState=N}return _===null&&(f.lanes=0),[o.memoizedState,f.dispatch]}function J1(o){var a=fr(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=o;var f=l.dispatch,_=l.pending,N=a.memoizedState;if(_!==null){l.pending=null;var X=_=_.next;do N=o(N,X.action),X=X.next;while(X!==_);$i(N,a.memoizedState)||(br=!0),a.memoizedState=N,a.baseQueue===null&&(a.baseState=N),l.lastRenderedState=N}return[N,f]}function WA(o,a,l){var f=Vt,_=fr(),N=on;if(N){if(l===void 0)throw Error(r(407));l=l()}else l=a();var X=!$i((Nn||_).memoizedState,l);if(X&&(_.memoizedState=l,br=!0),_=_.queue,nw(ZA.bind(null,f,_,o),[o]),_.getSnapshot!==a||X||wr!==null&&wr.memoizedState.tag&1){if(f.flags|=2048,Ju(9,{destroy:void 0},XA.bind(null,f,_,l,a),null),Mn===null)throw Error(r(349));N||(Yo&127)!==0||YA(f,a,l)}return l}function YA(o,a,l){o.flags|=16384,o={getSnapshot:a,value:l},a=Vt.updateQueue,a===null?(a=Pm(),Vt.updateQueue=a,a.stores=[o]):(l=a.stores,l===null?a.stores=[o]:l.push(o))}function XA(o,a,l,f){a.value=l,a.getSnapshot=f,QA(a)&&JA(o)}function ZA(o,a,l){return l(function(){QA(a)&&JA(o)})}function QA(o){var a=o.getSnapshot;o=o.value;try{var l=a();return!$i(o,l)}catch{return!0}}function JA(o){var a=yl(o,2);a!==null&&Li(a,o,2)}function ew(o){var a=wi();if(typeof o=="function"){var l=o;if(o=l(),Rl){Ae(!0);try{l()}finally{Ae(!1)}}}return a.memoizedState=a.baseState=o,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:o},a}function eS(o,a,l,f){return o.baseState=l,Q1(o,Nn,typeof f=="function"?f:Xo)}function rD(o,a,l,f,_){if(Hm(o))throw Error(r(485));if(o=a.action,o!==null){var N={payload:_,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(X){N.listeners.push(X)}};C.T!==null?l(!0):N.isTransition=!1,f(N),l=a.pending,l===null?(N.next=a.pending=N,tS(a,N)):(N.next=l.next,a.pending=l.next=N)}}function tS(o,a){var l=a.action,f=a.payload,_=o.state;if(a.isTransition){var N=C.T,X={};C.T=X;try{var le=l(_,f),ge=C.S;ge!==null&&ge(X,le),nS(o,a,le)}catch(Ce){tw(o,a,Ce)}finally{N!==null&&X.types!==null&&(N.types=X.types),C.T=N}}else try{N=l(_,f),nS(o,a,N)}catch(Ce){tw(o,a,Ce)}}function nS(o,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){rS(o,a,f)},function(f){return tw(o,a,f)}):rS(o,a,l)}function rS(o,a,l){a.status="fulfilled",a.value=l,iS(a),o.state=l,a=o.pending,a!==null&&(l=a.next,l===a?o.pending=null:(l=l.next,a.next=l,tS(o,l)))}function tw(o,a,l){var f=o.pending;if(o.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=l,iS(a),a=a.next;while(a!==f)}o.action=null}function iS(o){o=o.listeners;for(var a=0;a<o.length;a++)(0,o[a])()}function sS(o,a){return a}function oS(o,a){if(on){var l=Mn.formState;if(l!==null){e:{var f=Vt;if(on){if(Un){t:{for(var _=Un,N=ds;_.nodeType!==8;){if(!N){_=null;break t}if(_=ms(_.nextSibling),_===null){_=null;break t}}N=_.data,_=N==="F!"||N==="F"?_:null}if(_){Un=ms(_.nextSibling),f=_.data==="F!";break e}}Ya(f)}f=!1}f&&(a=l[0])}}return l=wi(),l.memoizedState=l.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sS,lastRenderedState:a},l.queue=f,l=SS.bind(null,Vt,f),f.dispatch=l,f=ew(!1),N=aw.bind(null,Vt,!1,f.queue),f=wi(),_={state:a,dispatch:null,action:o,pending:null},f.queue=_,l=rD.bind(null,Vt,_,N,l),_.dispatch=l,f.memoizedState=o,[a,l,!1]}function aS(o){var a=fr();return cS(a,Nn,o)}function cS(o,a,l){if(a=Q1(o,a,sS)[0],o=Vm(Xo)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=Zf(a)}catch(X){throw X===Wu?km:X}else f=a;a=fr();var _=a.queue,N=_.dispatch;return l!==a.memoizedState&&(Vt.flags|=2048,Ju(9,{destroy:void 0},iD.bind(null,_,l),null)),[f,N,o]}function iD(o,a){o.action=a}function lS(o){var a=fr(),l=Nn;if(l!==null)return cS(a,l,o);fr(),a=a.memoizedState,l=fr();var f=l.queue.dispatch;return l.memoizedState=o,[a,f,!1]}function Ju(o,a,l,f){return o={tag:o,create:l,deps:f,inst:a,next:null},a=Vt.updateQueue,a===null&&(a=Pm(),Vt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=o.next=o:(f=l.next,l.next=o,o.next=f,a.lastEffect=o),o}function uS(){return fr().memoizedState}function zm(o,a,l,f){var _=wi();Vt.flags|=o,_.memoizedState=Ju(1|a,{destroy:void 0},l,f===void 0?null:f)}function Fm(o,a,l,f){var _=fr();f=f===void 0?null:f;var N=_.memoizedState.inst;Nn!==null&&f!==null&&$1(f,Nn.memoizedState.deps)?_.memoizedState=Ju(a,N,l,f):(Vt.flags|=o,_.memoizedState=Ju(1|a,N,l,f))}function hS(o,a){zm(8390656,8,o,a)}function nw(o,a){Fm(2048,8,o,a)}function sD(o){Vt.flags|=4;var a=Vt.updateQueue;if(a===null)a=Pm(),Vt.updateQueue=a,a.events=[o];else{var l=a.events;l===null?a.events=[o]:l.push(o)}}function fS(o){var a=fr().memoizedState;return sD({ref:a,nextImpl:o}),function(){if((bn&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function dS(o,a){return Fm(4,2,o,a)}function pS(o,a){return Fm(4,4,o,a)}function mS(o,a){if(typeof a=="function"){o=o();var l=a(o);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function gS(o,a,l){l=l!=null?l.concat([o]):null,Fm(4,4,mS.bind(null,a,o),l)}function rw(){}function yS(o,a){var l=fr();a=a===void 0?null:a;var f=l.memoizedState;return a!==null&&$1(a,f[1])?f[0]:(l.memoizedState=[o,a],o)}function wS(o,a){var l=fr();a=a===void 0?null:a;var f=l.memoizedState;if(a!==null&&$1(a,f[1]))return f[0];if(f=o(),Rl){Ae(!0);try{o()}finally{Ae(!1)}}return l.memoizedState=[f,a],f}function iw(o,a,l){return l===void 0||(Yo&1073741824)!==0&&(en&261930)===0?o.memoizedState=a:(o.memoizedState=l,o=bR(),Vt.lanes|=o,ic|=o,l)}function bS(o,a,l,f){return $i(l,a)?l:Xu.current!==null?(o=iw(o,l,f),$i(o,a)||(br=!0),o):(Yo&42)===0||(Yo&1073741824)!==0&&(en&261930)===0?(br=!0,o.memoizedState=l):(o=bR(),Vt.lanes|=o,ic|=o,a)}function vS(o,a,l,f,_){var N=Y.p;Y.p=N!==0&&8>N?N:8;var X=C.T,le={};C.T=le,aw(o,!1,a,l);try{var ge=_(),Ce=C.S;if(Ce!==null&&Ce(le,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var ze=eD(ge,f);Qf(o,a,ze,Qi(o))}else Qf(o,a,f,Qi(o))}catch(He){Qf(o,a,{then:function(){},status:"rejected",reason:He},Qi())}finally{Y.p=N,X!==null&&le.types!==null&&(X.types=le.types),C.T=X}}function oD(){}function sw(o,a,l,f){if(o.tag!==5)throw Error(r(476));var _=_S(o).queue;vS(o,_,a,te,l===null?oD:function(){return xS(o),l(f)})}function _S(o){var a=o.memoizedState;if(a!==null)return a;a={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:te},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:l},next:null},o.memoizedState=a,o=o.alternate,o!==null&&(o.memoizedState=a),a}function xS(o){var a=_S(o);a.next===null&&(a=o.alternate.memoizedState),Qf(o,a.next.queue,{},Qi())}function ow(){return Kr(md)}function ES(){return fr().memoizedState}function AS(){return fr().memoizedState}function aD(o){for(var a=o.return;a!==null;){switch(a.tag){case 24:case 3:var l=Qi();o=Qa(l);var f=Ja(a,o,l);f!==null&&(Li(f,a,l),Kf(f,a,l)),a={cache:L1()},o.payload=a;return}a=a.return}}function cD(o,a,l){var f=Qi();l={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Hm(o)?RS(a,l):(l=A1(o,a,l,f),l!==null&&(Li(l,o,f),TS(l,a,f)))}function SS(o,a,l){var f=Qi();Qf(o,a,l,f)}function Qf(o,a,l,f){var _={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Hm(o))RS(a,_);else{var N=o.alternate;if(o.lanes===0&&(N===null||N.lanes===0)&&(N=a.lastRenderedReducer,N!==null))try{var X=a.lastRenderedState,le=N(X,l);if(_.hasEagerState=!0,_.eagerState=le,$i(le,X))return Em(o,a,_,0),Mn===null&&xm(),!1}catch{}finally{}if(l=A1(o,a,_,f),l!==null)return Li(l,o,f),TS(l,a,f),!0}return!1}function aw(o,a,l,f){if(f={lane:2,revertLane:Uw(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Hm(o)){if(a)throw Error(r(479))}else a=A1(o,l,f,2),a!==null&&Li(a,o,2)}function Hm(o){var a=o.alternate;return o===Vt||a!==null&&a===Vt}function RS(o,a){Zu=Dm=!0;var l=o.pending;l===null?a.next=a:(a.next=l.next,l.next=a),o.pending=a}function TS(o,a,l){if((l&4194048)!==0){var f=a.lanes;f&=o.pendingLanes,l|=f,a.lanes=l,_e(o,l)}}var Jf={readContext:Kr,use:Um,useCallback:rr,useContext:rr,useEffect:rr,useImperativeHandle:rr,useLayoutEffect:rr,useInsertionEffect:rr,useMemo:rr,useReducer:rr,useRef:rr,useState:rr,useDebugValue:rr,useDeferredValue:rr,useTransition:rr,useSyncExternalStore:rr,useId:rr,useHostTransitionStatus:rr,useFormState:rr,useActionState:rr,useOptimistic:rr,useMemoCache:rr,useCacheRefresh:rr};Jf.useEffectEvent=rr;var NS={readContext:Kr,use:Um,useCallback:function(o,a){return wi().memoizedState=[o,a===void 0?null:a],o},useContext:Kr,useEffect:hS,useImperativeHandle:function(o,a,l){l=l!=null?l.concat([o]):null,zm(4194308,4,mS.bind(null,a,o),l)},useLayoutEffect:function(o,a){return zm(4194308,4,o,a)},useInsertionEffect:function(o,a){zm(4,2,o,a)},useMemo:function(o,a){var l=wi();a=a===void 0?null:a;var f=o();if(Rl){Ae(!0);try{o()}finally{Ae(!1)}}return l.memoizedState=[f,a],f},useReducer:function(o,a,l){var f=wi();if(l!==void 0){var _=l(a);if(Rl){Ae(!0);try{l(a)}finally{Ae(!1)}}}else _=a;return f.memoizedState=f.baseState=_,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:_},f.queue=o,o=o.dispatch=cD.bind(null,Vt,o),[f.memoizedState,o]},useRef:function(o){var a=wi();return o={current:o},a.memoizedState=o},useState:function(o){o=ew(o);var a=o.queue,l=SS.bind(null,Vt,a);return a.dispatch=l,[o.memoizedState,l]},useDebugValue:rw,useDeferredValue:function(o,a){var l=wi();return iw(l,o,a)},useTransition:function(){var o=ew(!1);return o=vS.bind(null,Vt,o.queue,!0,!1),wi().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,a,l){var f=Vt,_=wi();if(on){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),Mn===null)throw Error(r(349));(en&127)!==0||YA(f,a,l)}_.memoizedState=l;var N={value:l,getSnapshot:a};return _.queue=N,hS(ZA.bind(null,f,N,o),[o]),f.flags|=2048,Ju(9,{destroy:void 0},XA.bind(null,f,N,l,a),null),l},useId:function(){var o=wi(),a=Mn.identifierPrefix;if(on){var l=Qs,f=Zs;l=(f&~(1<<32-ke(f)-1)).toString(32)+l,a="_"+a+"R_"+l,l=jm++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=tD++,a="_"+a+"r_"+l.toString(32)+"_";return o.memoizedState=a},useHostTransitionStatus:ow,useFormState:oS,useActionState:oS,useOptimistic:function(o){var a=wi();a.memoizedState=a.baseState=o;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=aw.bind(null,Vt,!0,l),l.dispatch=a,[o,a]},useMemoCache:Z1,useCacheRefresh:function(){return wi().memoizedState=aD.bind(null,Vt)},useEffectEvent:function(o){var a=wi(),l={impl:o};return a.memoizedState=l,function(){if((bn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},cw={readContext:Kr,use:Um,useCallback:yS,useContext:Kr,useEffect:nw,useImperativeHandle:gS,useInsertionEffect:dS,useLayoutEffect:pS,useMemo:wS,useReducer:Vm,useRef:uS,useState:function(){return Vm(Xo)},useDebugValue:rw,useDeferredValue:function(o,a){var l=fr();return bS(l,Nn.memoizedState,o,a)},useTransition:function(){var o=Vm(Xo)[0],a=fr().memoizedState;return[typeof o=="boolean"?o:Zf(o),a]},useSyncExternalStore:WA,useId:ES,useHostTransitionStatus:ow,useFormState:aS,useActionState:aS,useOptimistic:function(o,a){var l=fr();return eS(l,Nn,o,a)},useMemoCache:Z1,useCacheRefresh:AS};cw.useEffectEvent=fS;var IS={readContext:Kr,use:Um,useCallback:yS,useContext:Kr,useEffect:nw,useImperativeHandle:gS,useInsertionEffect:dS,useLayoutEffect:pS,useMemo:wS,useReducer:J1,useRef:uS,useState:function(){return J1(Xo)},useDebugValue:rw,useDeferredValue:function(o,a){var l=fr();return Nn===null?iw(l,o,a):bS(l,Nn.memoizedState,o,a)},useTransition:function(){var o=J1(Xo)[0],a=fr().memoizedState;return[typeof o=="boolean"?o:Zf(o),a]},useSyncExternalStore:WA,useId:ES,useHostTransitionStatus:ow,useFormState:lS,useActionState:lS,useOptimistic:function(o,a){var l=fr();return Nn!==null?eS(l,Nn,o,a):(l.baseState=o,[o,l.queue.dispatch])},useMemoCache:Z1,useCacheRefresh:AS};IS.useEffectEvent=fS;function lw(o,a,l,f){a=o.memoizedState,l=l(f,a),l=l==null?a:v({},a,l),o.memoizedState=l,o.lanes===0&&(o.updateQueue.baseState=l)}var uw={enqueueSetState:function(o,a,l){o=o._reactInternals;var f=Qi(),_=Qa(f);_.payload=a,l!=null&&(_.callback=l),a=Ja(o,_,f),a!==null&&(Li(a,o,f),Kf(a,o,f))},enqueueReplaceState:function(o,a,l){o=o._reactInternals;var f=Qi(),_=Qa(f);_.tag=1,_.payload=a,l!=null&&(_.callback=l),a=Ja(o,_,f),a!==null&&(Li(a,o,f),Kf(a,o,f))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var l=Qi(),f=Qa(l);f.tag=2,a!=null&&(f.callback=a),a=Ja(o,f,l),a!==null&&(Li(a,o,l),Kf(a,o,l))}};function kS(o,a,l,f,_,N,X){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(f,N,X):a.prototype&&a.prototype.isPureReactComponent?!Uf(l,f)||!Uf(_,N):!0}function CS(o,a,l,f){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,f),a.state!==o&&uw.enqueueReplaceState(a,a.state,null)}function Tl(o,a){var l=a;if("ref"in a){l={};for(var f in a)f!=="ref"&&(l[f]=a[f])}if(o=o.defaultProps){l===a&&(l=v({},l));for(var _ in o)l[_]===void 0&&(l[_]=o[_])}return l}function OS(o){_m(o)}function MS(o){console.error(o)}function BS(o){_m(o)}function qm(o,a){try{var l=o.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function LS(o,a,l){try{var f=o.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function hw(o,a,l){return l=Qa(l),l.tag=3,l.payload={element:null},l.callback=function(){qm(o,a)},l}function DS(o){return o=Qa(o),o.tag=3,o}function jS(o,a,l,f){var _=l.type.getDerivedStateFromError;if(typeof _=="function"){var N=f.value;o.payload=function(){return _(N)},o.callback=function(){LS(a,l,f)}}var X=l.stateNode;X!==null&&typeof X.componentDidCatch=="function"&&(o.callback=function(){LS(a,l,f),typeof _!="function"&&(sc===null?sc=new Set([this]):sc.add(this));var le=f.stack;this.componentDidCatch(f.value,{componentStack:le!==null?le:""})})}function lD(o,a,l,f,_){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=l.alternate,a!==null&&Gu(a,l,_,!0),l=Wi.current,l!==null){switch(l.tag){case 31:case 13:return ps===null?n0():l.alternate===null&&ir===0&&(ir=3),l.flags&=-257,l.flags|=65536,l.lanes=_,f===Cm?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([f]):a.add(f),Dw(o,f,_)),!1;case 22:return l.flags|=65536,f===Cm?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([f]):l.add(f)),Dw(o,f,_)),!1}throw Error(r(435,l.tag))}return Dw(o,f,_),n0(),!1}if(on)return a=Wi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=_,f!==k1&&(o=Error(r(422),{cause:f}),Ff(us(o,l)))):(f!==k1&&(a=Error(r(423),{cause:f}),Ff(us(a,l))),o=o.current.alternate,o.flags|=65536,_&=-_,o.lanes|=_,f=us(f,l),_=hw(o.stateNode,f,_),z1(o,_),ir!==4&&(ir=2)),!1;var N=Error(r(520),{cause:f});if(N=us(N,l),ad===null?ad=[N]:ad.push(N),ir!==4&&(ir=2),a===null)return!0;f=us(f,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,o=_&-_,l.lanes|=o,o=hw(l.stateNode,f,o),z1(l,o),!1;case 1:if(a=l.type,N=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(sc===null||!sc.has(N))))return l.flags|=65536,_&=-_,l.lanes|=_,_=DS(_),jS(_,o,l,f),z1(l,_),!1}l=l.return}while(l!==null);return!1}var fw=Error(r(461)),br=!1;function Wr(o,a,l,f){a.child=o===null?zA(a,null,l,f):Sl(a,o.child,l,f)}function PS(o,a,l,f,_){l=l.render;var N=a.ref;if("ref"in f){var X={};for(var le in f)le!=="ref"&&(X[le]=f[le])}else X=f;return _l(a),f=K1(o,a,l,X,N,_),le=W1(),o!==null&&!br?(Y1(o,a,_),Zo(o,a,_)):(on&&le&&N1(a),a.flags|=1,Wr(o,a,f,_),a.child)}function US(o,a,l,f,_){if(o===null){var N=l.type;return typeof N=="function"&&!S1(N)&&N.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=N,VS(o,a,N,f,_)):(o=Sm(l.type,null,f,a,a.mode,_),o.ref=a.ref,o.return=a,a.child=o)}if(N=o.child,!vw(o,_)){var X=N.memoizedProps;if(l=l.compare,l=l!==null?l:Uf,l(X,f)&&o.ref===a.ref)return Zo(o,a,_)}return a.flags|=1,o=Go(N,f),o.ref=a.ref,o.return=a,a.child=o}function VS(o,a,l,f,_){if(o!==null){var N=o.memoizedProps;if(Uf(N,f)&&o.ref===a.ref)if(br=!1,a.pendingProps=f=N,vw(o,_))(o.flags&131072)!==0&&(br=!0);else return a.lanes=o.lanes,Zo(o,a,_)}return dw(o,a,l,f,_)}function zS(o,a,l,f){var _=f.children,N=o!==null?o.memoizedState:null;if(o===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((a.flags&128)!==0){if(N=N!==null?N.baseLanes|l:l,o!==null){for(f=a.child=o.child,_=0;f!==null;)_=_|f.lanes|f.childLanes,f=f.sibling;f=_&~N}else f=0,a.child=null;return FS(o,a,N,l,f)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},o!==null&&Im(a,N!==null?N.cachePool:null),N!==null?qA(a,N):H1(),GA(a);else return f=a.lanes=536870912,FS(o,a,N!==null?N.baseLanes|l:l,l,f)}else N!==null?(Im(a,N.cachePool),qA(a,N),tc(),a.memoizedState=null):(o!==null&&Im(a,null),H1(),tc());return Wr(o,a,_,l),a.child}function ed(o,a){return o!==null&&o.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function FS(o,a,l,f,_){var N=j1();return N=N===null?null:{parent:yr._currentValue,pool:N},a.memoizedState={baseLanes:l,cachePool:N},o!==null&&Im(a,null),H1(),GA(a),o!==null&&Gu(o,a,f,!0),a.childLanes=_,null}function Gm(o,a){return a=Km({mode:a.mode,children:a.children},o.mode),a.ref=o.ref,o.child=a,a.return=o,a}function HS(o,a,l){return Sl(a,o.child,null,l),o=Gm(a,a.pendingProps),o.flags|=2,Yi(a),a.memoizedState=null,o}function uD(o,a,l){var f=a.pendingProps,_=(a.flags&128)!==0;if(a.flags&=-129,o===null){if(on){if(f.mode==="hidden")return o=Gm(a,f),a.lanes=536870912,ed(null,o);if(G1(a),(o=Un)?(o=tT(o,ds),o=o!==null&&o.data==="&"?o:null,o!==null&&(a.memoizedState={dehydrated:o,treeContext:Ka!==null?{id:Zs,overflow:Qs}:null,retryLane:536870912,hydrationErrors:null},l=RA(o),l.return=a,a.child=l,$r=a,Un=null)):o=null,o===null)throw Ya(a);return a.lanes=536870912,null}return Gm(a,f)}var N=o.memoizedState;if(N!==null){var X=N.dehydrated;if(G1(a),_)if(a.flags&256)a.flags&=-257,a=HS(o,a,l);else if(a.memoizedState!==null)a.child=o.child,a.flags|=128,a=null;else throw Error(r(558));else if(br||Gu(o,a,l,!1),_=(l&o.childLanes)!==0,br||_){if(f=Mn,f!==null&&(X=Re(f,l),X!==0&&X!==N.retryLane))throw N.retryLane=X,yl(o,X),Li(f,o,X),fw;n0(),a=HS(o,a,l)}else o=N.treeContext,Un=ms(X.nextSibling),$r=a,on=!0,Wa=null,ds=!1,o!==null&&IA(a,o),a=Gm(a,f),a.flags|=4096;return a}return o=Go(o.child,{mode:f.mode,children:f.children}),o.ref=a.ref,a.child=o,o.return=a,o}function $m(o,a){var l=a.ref;if(l===null)o!==null&&o.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(o===null||o.ref!==l)&&(a.flags|=4194816)}}function dw(o,a,l,f,_){return _l(a),l=K1(o,a,l,f,void 0,_),f=W1(),o!==null&&!br?(Y1(o,a,_),Zo(o,a,_)):(on&&f&&N1(a),a.flags|=1,Wr(o,a,l,_),a.child)}function qS(o,a,l,f,_,N){return _l(a),a.updateQueue=null,l=KA(a,f,l,_),$A(o),f=W1(),o!==null&&!br?(Y1(o,a,N),Zo(o,a,N)):(on&&f&&N1(a),a.flags|=1,Wr(o,a,l,N),a.child)}function GS(o,a,l,f,_){if(_l(a),a.stateNode===null){var N=zu,X=l.contextType;typeof X=="object"&&X!==null&&(N=Kr(X)),N=new l(f,N),a.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=uw,a.stateNode=N,N._reactInternals=a,N=a.stateNode,N.props=f,N.state=a.memoizedState,N.refs={},U1(a),X=l.contextType,N.context=typeof X=="object"&&X!==null?Kr(X):zu,N.state=a.memoizedState,X=l.getDerivedStateFromProps,typeof X=="function"&&(lw(a,l,X,f),N.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(X=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),X!==N.state&&uw.enqueueReplaceState(N,N.state,null),Yf(a,f,N,_),Wf(),N.state=a.memoizedState),typeof N.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(o===null){N=a.stateNode;var le=a.memoizedProps,ge=Tl(l,le);N.props=ge;var Ce=N.context,ze=l.contextType;X=zu,typeof ze=="object"&&ze!==null&&(X=Kr(ze));var He=l.getDerivedStateFromProps;ze=typeof He=="function"||typeof N.getSnapshotBeforeUpdate=="function",le=a.pendingProps!==le,ze||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(le||Ce!==X)&&CS(a,N,f,X),Za=!1;var Me=a.memoizedState;N.state=Me,Yf(a,f,N,_),Wf(),Ce=a.memoizedState,le||Me!==Ce||Za?(typeof He=="function"&&(lw(a,l,He,f),Ce=a.memoizedState),(ge=Za||kS(a,l,ge,f,Me,Ce,X))?(ze||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(a.flags|=4194308)):(typeof N.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=Ce),N.props=f,N.state=Ce,N.context=X,f=ge):(typeof N.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{N=a.stateNode,V1(o,a),X=a.memoizedProps,ze=Tl(l,X),N.props=ze,He=a.pendingProps,Me=N.context,Ce=l.contextType,ge=zu,typeof Ce=="object"&&Ce!==null&&(ge=Kr(Ce)),le=l.getDerivedStateFromProps,(Ce=typeof le=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(X!==He||Me!==ge)&&CS(a,N,f,ge),Za=!1,Me=a.memoizedState,N.state=Me,Yf(a,f,N,_),Wf();var Pe=a.memoizedState;X!==He||Me!==Pe||Za||o!==null&&o.dependencies!==null&&Tm(o.dependencies)?(typeof le=="function"&&(lw(a,l,le,f),Pe=a.memoizedState),(ze=Za||kS(a,l,ze,f,Me,Pe,ge)||o!==null&&o.dependencies!==null&&Tm(o.dependencies))?(Ce||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(f,Pe,ge),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(f,Pe,ge)),typeof N.componentDidUpdate=="function"&&(a.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof N.componentDidUpdate!="function"||X===o.memoizedProps&&Me===o.memoizedState||(a.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||X===o.memoizedProps&&Me===o.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=Pe),N.props=f,N.state=Pe,N.context=ge,f=ze):(typeof N.componentDidUpdate!="function"||X===o.memoizedProps&&Me===o.memoizedState||(a.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||X===o.memoizedProps&&Me===o.memoizedState||(a.flags|=1024),f=!1)}return N=f,$m(o,a),f=(a.flags&128)!==0,N||f?(N=a.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:N.render(),a.flags|=1,o!==null&&f?(a.child=Sl(a,o.child,null,_),a.child=Sl(a,null,l,_)):Wr(o,a,l,_),a.memoizedState=N.state,o=a.child):o=Zo(o,a,_),o}function $S(o,a,l,f){return bl(),a.flags|=256,Wr(o,a,l,f),a.child}var pw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mw(o){return{baseLanes:o,cachePool:LA()}}function gw(o,a,l){return o=o!==null?o.childLanes&~l:0,a&&(o|=Zi),o}function KS(o,a,l){var f=a.pendingProps,_=!1,N=(a.flags&128)!==0,X;if((X=N)||(X=o!==null&&o.memoizedState===null?!1:(hr.current&2)!==0),X&&(_=!0,a.flags&=-129),X=(a.flags&32)!==0,a.flags&=-33,o===null){if(on){if(_?ec(a):tc(),(o=Un)?(o=tT(o,ds),o=o!==null&&o.data!=="&"?o:null,o!==null&&(a.memoizedState={dehydrated:o,treeContext:Ka!==null?{id:Zs,overflow:Qs}:null,retryLane:536870912,hydrationErrors:null},l=RA(o),l.return=a,a.child=l,$r=a,Un=null)):o=null,o===null)throw Ya(a);return Qw(o)?a.lanes=32:a.lanes=536870912,null}var le=f.children;return f=f.fallback,_?(tc(),_=a.mode,le=Km({mode:"hidden",children:le},_),f=wl(f,_,l,null),le.return=a,f.return=a,le.sibling=f,a.child=le,f=a.child,f.memoizedState=mw(l),f.childLanes=gw(o,X,l),a.memoizedState=pw,ed(null,f)):(ec(a),yw(a,le))}var ge=o.memoizedState;if(ge!==null&&(le=ge.dehydrated,le!==null)){if(N)a.flags&256?(ec(a),a.flags&=-257,a=ww(o,a,l)):a.memoizedState!==null?(tc(),a.child=o.child,a.flags|=128,a=null):(tc(),le=f.fallback,_=a.mode,f=Km({mode:"visible",children:f.children},_),le=wl(le,_,l,null),le.flags|=2,f.return=a,le.return=a,f.sibling=le,a.child=f,Sl(a,o.child,null,l),f=a.child,f.memoizedState=mw(l),f.childLanes=gw(o,X,l),a.memoizedState=pw,a=ed(null,f));else if(ec(a),Qw(le)){if(X=le.nextSibling&&le.nextSibling.dataset,X)var Ce=X.dgst;X=Ce,f=Error(r(419)),f.stack="",f.digest=X,Ff({value:f,source:null,stack:null}),a=ww(o,a,l)}else if(br||Gu(o,a,l,!1),X=(l&o.childLanes)!==0,br||X){if(X=Mn,X!==null&&(f=Re(X,l),f!==0&&f!==ge.retryLane))throw ge.retryLane=f,yl(o,f),Li(X,o,f),fw;Zw(le)||n0(),a=ww(o,a,l)}else Zw(le)?(a.flags|=192,a.child=o.child,a=null):(o=ge.treeContext,Un=ms(le.nextSibling),$r=a,on=!0,Wa=null,ds=!1,o!==null&&IA(a,o),a=yw(a,f.children),a.flags|=4096);return a}return _?(tc(),le=f.fallback,_=a.mode,ge=o.child,Ce=ge.sibling,f=Go(ge,{mode:"hidden",children:f.children}),f.subtreeFlags=ge.subtreeFlags&65011712,Ce!==null?le=Go(Ce,le):(le=wl(le,_,l,null),le.flags|=2),le.return=a,f.return=a,f.sibling=le,a.child=f,ed(null,f),f=a.child,le=o.child.memoizedState,le===null?le=mw(l):(_=le.cachePool,_!==null?(ge=yr._currentValue,_=_.parent!==ge?{parent:ge,pool:ge}:_):_=LA(),le={baseLanes:le.baseLanes|l,cachePool:_}),f.memoizedState=le,f.childLanes=gw(o,X,l),a.memoizedState=pw,ed(o.child,f)):(ec(a),l=o.child,o=l.sibling,l=Go(l,{mode:"visible",children:f.children}),l.return=a,l.sibling=null,o!==null&&(X=a.deletions,X===null?(a.deletions=[o],a.flags|=16):X.push(o)),a.child=l,a.memoizedState=null,l)}function yw(o,a){return a=Km({mode:"visible",children:a},o.mode),a.return=o,o.child=a}function Km(o,a){return o=Ki(22,o,null,a),o.lanes=0,o}function ww(o,a,l){return Sl(a,o.child,null,l),o=yw(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function WS(o,a,l){o.lanes|=a;var f=o.alternate;f!==null&&(f.lanes|=a),M1(o.return,a,l)}function bw(o,a,l,f,_,N){var X=o.memoizedState;X===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:_,treeForkCount:N}:(X.isBackwards=a,X.rendering=null,X.renderingStartTime=0,X.last=f,X.tail=l,X.tailMode=_,X.treeForkCount=N)}function YS(o,a,l){var f=a.pendingProps,_=f.revealOrder,N=f.tail;f=f.children;var X=hr.current,le=(X&2)!==0;if(le?(X=X&1|2,a.flags|=128):X&=1,E(hr,X),Wr(o,a,f,l),f=on?zf:0,!le&&o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&WS(o,l,a);else if(o.tag===19)WS(o,l,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(_){case"forwards":for(l=a.child,_=null;l!==null;)o=l.alternate,o!==null&&Lm(o)===null&&(_=l),l=l.sibling;l=_,l===null?(_=a.child,a.child=null):(_=l.sibling,l.sibling=null),bw(a,!1,_,l,N,f);break;case"backwards":case"unstable_legacy-backwards":for(l=null,_=a.child,a.child=null;_!==null;){if(o=_.alternate,o!==null&&Lm(o)===null){a.child=_;break}o=_.sibling,_.sibling=l,l=_,_=o}bw(a,!0,l,null,N,f);break;case"together":bw(a,!1,null,null,void 0,f);break;default:a.memoizedState=null}return a.child}function Zo(o,a,l){if(o!==null&&(a.dependencies=o.dependencies),ic|=a.lanes,(l&a.childLanes)===0)if(o!==null){if(Gu(o,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(o!==null&&a.child!==o.child)throw Error(r(153));if(a.child!==null){for(o=a.child,l=Go(o,o.pendingProps),a.child=l,l.return=a;o.sibling!==null;)o=o.sibling,l=l.sibling=Go(o,o.pendingProps),l.return=a;l.sibling=null}return a.child}function vw(o,a){return(o.lanes&a)!==0?!0:(o=o.dependencies,!!(o!==null&&Tm(o)))}function hD(o,a,l){switch(a.tag){case 3:Le(a,a.stateNode.containerInfo),Xa(a,yr,o.memoizedState.cache),bl();break;case 27:case 5:it(a);break;case 4:Le(a,a.stateNode.containerInfo);break;case 10:Xa(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,G1(a),null;break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(ec(a),a.flags|=128,null):(l&a.child.childLanes)!==0?KS(o,a,l):(ec(a),o=Zo(o,a,l),o!==null?o.sibling:null);ec(a);break;case 19:var _=(o.flags&128)!==0;if(f=(l&a.childLanes)!==0,f||(Gu(o,a,l,!1),f=(l&a.childLanes)!==0),_){if(f)return YS(o,a,l);a.flags|=128}if(_=a.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),E(hr,hr.current),f)break;return null;case 22:return a.lanes=0,zS(o,a,l,a.pendingProps);case 24:Xa(a,yr,o.memoizedState.cache)}return Zo(o,a,l)}function XS(o,a,l){if(o!==null)if(o.memoizedProps!==a.pendingProps)br=!0;else{if(!vw(o,l)&&(a.flags&128)===0)return br=!1,hD(o,a,l);br=(o.flags&131072)!==0}else br=!1,on&&(a.flags&1048576)!==0&&NA(a,zf,a.index);switch(a.lanes=0,a.tag){case 16:e:{var f=a.pendingProps;if(o=El(a.elementType),a.type=o,typeof o=="function")S1(o)?(f=Tl(o,f),a.tag=1,a=GS(null,a,o,f,l)):(a.tag=0,a=dw(null,a,o,f,l));else{if(o!=null){var _=o.$$typeof;if(_===Q){a.tag=11,a=PS(null,a,o,f,l);break e}else if(_===W){a.tag=14,a=US(null,a,o,f,l);break e}}throw a=g(o)||o,Error(r(306,a,""))}}return a;case 0:return dw(o,a,a.type,a.pendingProps,l);case 1:return f=a.type,_=Tl(f,a.pendingProps),GS(o,a,f,_,l);case 3:e:{if(Le(a,a.stateNode.containerInfo),o===null)throw Error(r(387));f=a.pendingProps;var N=a.memoizedState;_=N.element,V1(o,a),Yf(a,f,null,l);var X=a.memoizedState;if(f=X.cache,Xa(a,yr,f),f!==N.cache&&B1(a,[yr],l,!0),Wf(),f=X.element,N.isDehydrated)if(N={element:f,isDehydrated:!1,cache:X.cache},a.updateQueue.baseState=N,a.memoizedState=N,a.flags&256){a=$S(o,a,f,l);break e}else if(f!==_){_=us(Error(r(424)),a),Ff(_),a=$S(o,a,f,l);break e}else{switch(o=a.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Un=ms(o.firstChild),$r=a,on=!0,Wa=null,ds=!0,l=zA(a,null,f,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(bl(),f===_){a=Zo(o,a,l);break e}Wr(o,a,f,l)}a=a.child}return a;case 26:return $m(o,a),o===null?(l=aT(a.type,null,a.pendingProps,null))?a.memoizedState=l:on||(l=a.type,o=a.pendingProps,f=l0(ae.current).createElement(l),f[st]=a,f[$t]=o,Yr(f,l,o),qn(f),a.stateNode=f):a.memoizedState=aT(a.type,o.memoizedProps,a.pendingProps,o.memoizedState),null;case 27:return it(a),o===null&&on&&(f=a.stateNode=iT(a.type,a.pendingProps,ae.current),$r=a,ds=!0,_=Un,lc(a.type)?(Jw=_,Un=ms(f.firstChild)):Un=_),Wr(o,a,a.pendingProps.children,l),$m(o,a),o===null&&(a.flags|=4194304),a.child;case 5:return o===null&&on&&((_=f=Un)&&(f=zD(f,a.type,a.pendingProps,ds),f!==null?(a.stateNode=f,$r=a,Un=ms(f.firstChild),ds=!1,_=!0):_=!1),_||Ya(a)),it(a),_=a.type,N=a.pendingProps,X=o!==null?o.memoizedProps:null,f=N.children,Ww(_,N)?f=null:X!==null&&Ww(_,X)&&(a.flags|=32),a.memoizedState!==null&&(_=K1(o,a,nD,null,null,l),md._currentValue=_),$m(o,a),Wr(o,a,f,l),a.child;case 6:return o===null&&on&&((o=l=Un)&&(l=FD(l,a.pendingProps,ds),l!==null?(a.stateNode=l,$r=a,Un=null,o=!0):o=!1),o||Ya(a)),null;case 13:return KS(o,a,l);case 4:return Le(a,a.stateNode.containerInfo),f=a.pendingProps,o===null?a.child=Sl(a,null,f,l):Wr(o,a,f,l),a.child;case 11:return PS(o,a,a.type,a.pendingProps,l);case 7:return Wr(o,a,a.pendingProps,l),a.child;case 8:return Wr(o,a,a.pendingProps.children,l),a.child;case 12:return Wr(o,a,a.pendingProps.children,l),a.child;case 10:return f=a.pendingProps,Xa(a,a.type,f.value),Wr(o,a,f.children,l),a.child;case 9:return _=a.type._context,f=a.pendingProps.children,_l(a),_=Kr(_),f=f(_),a.flags|=1,Wr(o,a,f,l),a.child;case 14:return US(o,a,a.type,a.pendingProps,l);case 15:return VS(o,a,a.type,a.pendingProps,l);case 19:return YS(o,a,l);case 31:return uD(o,a,l);case 22:return zS(o,a,l,a.pendingProps);case 24:return _l(a),f=Kr(yr),o===null?(_=j1(),_===null&&(_=Mn,N=L1(),_.pooledCache=N,N.refCount++,N!==null&&(_.pooledCacheLanes|=l),_=N),a.memoizedState={parent:f,cache:_},U1(a),Xa(a,yr,_)):((o.lanes&l)!==0&&(V1(o,a),Yf(a,null,null,l),Wf()),_=o.memoizedState,N=a.memoizedState,_.parent!==f?(_={parent:f,cache:f},a.memoizedState=_,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=_),Xa(a,yr,f)):(f=N.cache,Xa(a,yr,f),f!==_.cache&&B1(a,[yr],l,!0))),Wr(o,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Qo(o){o.flags|=4}function _w(o,a,l,f,_){if((a=(o.mode&32)!==0)&&(a=!1),a){if(o.flags|=16777216,(_&335544128)===_)if(o.stateNode.complete)o.flags|=8192;else if(ER())o.flags|=8192;else throw Al=Cm,P1}else o.flags&=-16777217}function ZS(o,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!fT(a))if(ER())o.flags|=8192;else throw Al=Cm,P1}function Wm(o,a){a!==null&&(o.flags|=4),o.flags&16384&&(a=o.tag!==22?Cn():536870912,o.lanes|=a,rh|=a)}function td(o,a){if(!on)switch(o.tailMode){case"hidden":a=o.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?o.tail=null:l.sibling=null;break;case"collapsed":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:f.sibling=null}}function Vn(o){var a=o.alternate!==null&&o.alternate.child===o.child,l=0,f=0;if(a)for(var _=o.child;_!==null;)l|=_.lanes|_.childLanes,f|=_.subtreeFlags&65011712,f|=_.flags&65011712,_.return=o,_=_.sibling;else for(_=o.child;_!==null;)l|=_.lanes|_.childLanes,f|=_.subtreeFlags,f|=_.flags,_.return=o,_=_.sibling;return o.subtreeFlags|=f,o.childLanes=l,a}function fD(o,a,l){var f=a.pendingProps;switch(I1(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(a),null;case 1:return Vn(a),null;case 3:return l=a.stateNode,f=null,o!==null&&(f=o.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Wo(yr),Ue(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(o===null||o.child===null)&&(qu(a)?Qo(a):o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,C1())),Vn(a),null;case 26:var _=a.type,N=a.memoizedState;return o===null?(Qo(a),N!==null?(Vn(a),ZS(a,N)):(Vn(a),_w(a,_,null,f,l))):N?N!==o.memoizedState?(Qo(a),Vn(a),ZS(a,N)):(Vn(a),a.flags&=-16777217):(o=o.memoizedProps,o!==f&&Qo(a),Vn(a),_w(a,_,o,f,l)),null;case 27:if(ut(a),l=ae.current,_=a.type,o!==null&&a.stateNode!=null)o.memoizedProps!==f&&Qo(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return Vn(a),null}o=H.current,qu(a)?kA(a):(o=iT(_,f,l),a.stateNode=o,Qo(a))}return Vn(a),null;case 5:if(ut(a),_=a.type,o!==null&&a.stateNode!=null)o.memoizedProps!==f&&Qo(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return Vn(a),null}if(N=H.current,qu(a))kA(a);else{var X=l0(ae.current);switch(N){case 1:N=X.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:N=X.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":N=X.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":N=X.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":N=X.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof f.is=="string"?X.createElement("select",{is:f.is}):X.createElement("select"),f.multiple?N.multiple=!0:f.size&&(N.size=f.size);break;default:N=typeof f.is=="string"?X.createElement(_,{is:f.is}):X.createElement(_)}}N[st]=a,N[$t]=f;e:for(X=a.child;X!==null;){if(X.tag===5||X.tag===6)N.appendChild(X.stateNode);else if(X.tag!==4&&X.tag!==27&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===a)break e;for(;X.sibling===null;){if(X.return===null||X.return===a)break e;X=X.return}X.sibling.return=X.return,X=X.sibling}a.stateNode=N;e:switch(Yr(N,_,f),_){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Qo(a)}}return Vn(a),_w(a,a.type,o===null?null:o.memoizedProps,a.pendingProps,l),null;case 6:if(o&&a.stateNode!=null)o.memoizedProps!==f&&Qo(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(r(166));if(o=ae.current,qu(a)){if(o=a.stateNode,l=a.memoizedProps,f=null,_=$r,_!==null)switch(_.tag){case 27:case 5:f=_.memoizedProps}o[st]=a,o=!!(o.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||KR(o.nodeValue,l)),o||Ya(a,!0)}else o=l0(o).createTextNode(f),o[st]=a,a.stateNode=o}return Vn(a),null;case 31:if(l=a.memoizedState,o===null||o.memoizedState!==null){if(f=qu(a),l!==null){if(o===null){if(!f)throw Error(r(318));if(o=a.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[st]=a}else bl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Vn(a),o=!1}else l=C1(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=l),o=!0;if(!o)return a.flags&256?(Yi(a),a):(Yi(a),null);if((a.flags&128)!==0)throw Error(r(558))}return Vn(a),null;case 13:if(f=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(_=qu(a),f!==null&&f.dehydrated!==null){if(o===null){if(!_)throw Error(r(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[st]=a}else bl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Vn(a),_=!1}else _=C1(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=_),_=!0;if(!_)return a.flags&256?(Yi(a),a):(Yi(a),null)}return Yi(a),(a.flags&128)!==0?(a.lanes=l,a):(l=f!==null,o=o!==null&&o.memoizedState!==null,l&&(f=a.child,_=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(_=f.alternate.memoizedState.cachePool.pool),N=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(N=f.memoizedState.cachePool.pool),N!==_&&(f.flags|=2048)),l!==o&&l&&(a.child.flags|=8192),Wm(a,a.updateQueue),Vn(a),null);case 4:return Ue(),o===null&&Hw(a.stateNode.containerInfo),Vn(a),null;case 10:return Wo(a.type),Vn(a),null;case 19:if(w(hr),f=a.memoizedState,f===null)return Vn(a),null;if(_=(a.flags&128)!==0,N=f.rendering,N===null)if(_)td(f,!1);else{if(ir!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(N=Lm(o),N!==null){for(a.flags|=128,td(f,!1),o=N.updateQueue,a.updateQueue=o,Wm(a,o),a.subtreeFlags=0,o=l,l=a.child;l!==null;)SA(l,o),l=l.sibling;return E(hr,hr.current&1|2),on&&$o(a,f.treeForkCount),a.child}o=o.sibling}f.tail!==null&&Je()>Jm&&(a.flags|=128,_=!0,td(f,!1),a.lanes=4194304)}else{if(!_)if(o=Lm(N),o!==null){if(a.flags|=128,_=!0,o=o.updateQueue,a.updateQueue=o,Wm(a,o),td(f,!0),f.tail===null&&f.tailMode==="hidden"&&!N.alternate&&!on)return Vn(a),null}else 2*Je()-f.renderingStartTime>Jm&&l!==536870912&&(a.flags|=128,_=!0,td(f,!1),a.lanes=4194304);f.isBackwards?(N.sibling=a.child,a.child=N):(o=f.last,o!==null?o.sibling=N:a.child=N,f.last=N)}return f.tail!==null?(o=f.tail,f.rendering=o,f.tail=o.sibling,f.renderingStartTime=Je(),o.sibling=null,l=hr.current,E(hr,_?l&1|2:l&1),on&&$o(a,f.treeForkCount),o):(Vn(a),null);case 22:case 23:return Yi(a),q1(),f=a.memoizedState!==null,o!==null?o.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(l&536870912)!==0&&(a.flags&128)===0&&(Vn(a),a.subtreeFlags&6&&(a.flags|=8192)):Vn(a),l=a.updateQueue,l!==null&&Wm(a,l.retryQueue),l=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(l=o.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==l&&(a.flags|=2048),o!==null&&w(xl),null;case 24:return l=null,o!==null&&(l=o.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Wo(yr),Vn(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function dD(o,a){switch(I1(a),a.tag){case 1:return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Wo(yr),Ue(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 26:case 27:case 5:return ut(a),null;case 31:if(a.memoizedState!==null){if(Yi(a),a.alternate===null)throw Error(r(340));bl()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 13:if(Yi(a),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(r(340));bl()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return w(hr),null;case 4:return Ue(),null;case 10:return Wo(a.type),null;case 22:case 23:return Yi(a),q1(),o!==null&&w(xl),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 24:return Wo(yr),null;case 25:return null;default:return null}}function QS(o,a){switch(I1(a),a.tag){case 3:Wo(yr),Ue();break;case 26:case 27:case 5:ut(a);break;case 4:Ue();break;case 31:a.memoizedState!==null&&Yi(a);break;case 13:Yi(a);break;case 19:w(hr);break;case 10:Wo(a.type);break;case 22:case 23:Yi(a),q1(),o!==null&&w(xl);break;case 24:Wo(yr)}}function nd(o,a){try{var l=a.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var _=f.next;l=_;do{if((l.tag&o)===o){f=void 0;var N=l.create,X=l.inst;f=N(),X.destroy=f}l=l.next}while(l!==_)}}catch(le){An(a,a.return,le)}}function nc(o,a,l){try{var f=a.updateQueue,_=f!==null?f.lastEffect:null;if(_!==null){var N=_.next;f=N;do{if((f.tag&o)===o){var X=f.inst,le=X.destroy;if(le!==void 0){X.destroy=void 0,_=a;var ge=l,Ce=le;try{Ce()}catch(ze){An(_,ge,ze)}}}f=f.next}while(f!==N)}}catch(ze){An(a,a.return,ze)}}function JS(o){var a=o.updateQueue;if(a!==null){var l=o.stateNode;try{HA(a,l)}catch(f){An(o,o.return,f)}}}function eR(o,a,l){l.props=Tl(o.type,o.memoizedProps),l.state=o.memoizedState;try{l.componentWillUnmount()}catch(f){An(o,a,f)}}function rd(o,a){try{var l=o.ref;if(l!==null){switch(o.tag){case 26:case 27:case 5:var f=o.stateNode;break;case 30:f=o.stateNode;break;default:f=o.stateNode}typeof l=="function"?o.refCleanup=l(f):l.current=f}}catch(_){An(o,a,_)}}function Js(o,a){var l=o.ref,f=o.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(_){An(o,a,_)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(_){An(o,a,_)}else l.current=null}function tR(o){var a=o.type,l=o.memoizedProps,f=o.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(_){An(o,o.return,_)}}function xw(o,a,l){try{var f=o.stateNode;LD(f,o.type,l,a),f[$t]=a}catch(_){An(o,o.return,_)}}function nR(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&lc(o.type)||o.tag===4}function Ew(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||nR(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&lc(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Aw(o,a,l){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(o,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(o),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Ss));else if(f!==4&&(f===27&&lc(o.type)&&(l=o.stateNode,a=null),o=o.child,o!==null))for(Aw(o,a,l),o=o.sibling;o!==null;)Aw(o,a,l),o=o.sibling}function Ym(o,a,l){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?l.insertBefore(o,a):l.appendChild(o);else if(f!==4&&(f===27&&lc(o.type)&&(l=o.stateNode),o=o.child,o!==null))for(Ym(o,a,l),o=o.sibling;o!==null;)Ym(o,a,l),o=o.sibling}function rR(o){var a=o.stateNode,l=o.memoizedProps;try{for(var f=o.type,_=a.attributes;_.length;)a.removeAttributeNode(_[0]);Yr(a,f,l),a[st]=o,a[$t]=l}catch(N){An(o,o.return,N)}}var Jo=!1,vr=!1,Sw=!1,iR=typeof WeakSet=="function"?WeakSet:Set,Dr=null;function pD(o,a){if(o=o.containerInfo,$w=g0,o=gA(o),w1(o)){if("selectionStart"in o)var l={start:o.selectionStart,end:o.selectionEnd};else e:{l=(l=o.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var _=f.anchorOffset,N=f.focusNode;f=f.focusOffset;try{l.nodeType,N.nodeType}catch{l=null;break e}var X=0,le=-1,ge=-1,Ce=0,ze=0,He=o,Me=null;t:for(;;){for(var Pe;He!==l||_!==0&&He.nodeType!==3||(le=X+_),He!==N||f!==0&&He.nodeType!==3||(ge=X+f),He.nodeType===3&&(X+=He.nodeValue.length),(Pe=He.firstChild)!==null;)Me=He,He=Pe;for(;;){if(He===o)break t;if(Me===l&&++Ce===_&&(le=X),Me===N&&++ze===f&&(ge=X),(Pe=He.nextSibling)!==null)break;He=Me,Me=He.parentNode}He=Pe}l=le===-1||ge===-1?null:{start:le,end:ge}}else l=null}l=l||{start:0,end:0}}else l=null;for(Kw={focusedElem:o,selectionRange:l},g0=!1,Dr=a;Dr!==null;)if(a=Dr,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Dr=o;else for(;Dr!==null;){switch(a=Dr,N=a.alternate,o=a.flags,a.tag){case 0:if((o&4)!==0&&(o=a.updateQueue,o=o!==null?o.events:null,o!==null))for(l=0;l<o.length;l++)_=o[l],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&N!==null){o=void 0,l=a,_=N.memoizedProps,N=N.memoizedState,f=l.stateNode;try{var ct=Tl(l.type,_);o=f.getSnapshotBeforeUpdate(ct,N),f.__reactInternalSnapshotBeforeUpdate=o}catch(Rt){An(l,l.return,Rt)}}break;case 3:if((o&1024)!==0){if(o=a.stateNode.containerInfo,l=o.nodeType,l===9)Xw(o);else if(l===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Xw(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=a.sibling,o!==null){o.return=a.return,Dr=o;break}Dr=a.return}}function sR(o,a,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:ta(o,l),f&4&&nd(5,l);break;case 1:if(ta(o,l),f&4)if(o=l.stateNode,a===null)try{o.componentDidMount()}catch(X){An(l,l.return,X)}else{var _=Tl(l.type,a.memoizedProps);a=a.memoizedState;try{o.componentDidUpdate(_,a,o.__reactInternalSnapshotBeforeUpdate)}catch(X){An(l,l.return,X)}}f&64&&JS(l),f&512&&rd(l,l.return);break;case 3:if(ta(o,l),f&64&&(o=l.updateQueue,o!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{HA(o,a)}catch(X){An(l,l.return,X)}}break;case 27:a===null&&f&4&&rR(l);case 26:case 5:ta(o,l),a===null&&f&4&&tR(l),f&512&&rd(l,l.return);break;case 12:ta(o,l);break;case 31:ta(o,l),f&4&&cR(o,l);break;case 13:ta(o,l),f&4&&lR(o,l),f&64&&(o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(l=ED.bind(null,l),HD(o,l))));break;case 22:if(f=l.memoizedState!==null||Jo,!f){a=a!==null&&a.memoizedState!==null||vr,_=Jo;var N=vr;Jo=f,(vr=a)&&!N?na(o,l,(l.subtreeFlags&8772)!==0):ta(o,l),Jo=_,vr=N}break;case 30:break;default:ta(o,l)}}function oR(o){var a=o.alternate;a!==null&&(o.alternate=null,oR(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&Fs(a)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var $n=null,Ci=!1;function ea(o,a,l){for(l=l.child;l!==null;)aR(o,a,l),l=l.sibling}function aR(o,a,l){if(be&&typeof be.onCommitFiberUnmount=="function")try{be.onCommitFiberUnmount(fe,l)}catch{}switch(l.tag){case 26:vr||Js(l,a),ea(o,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:vr||Js(l,a);var f=$n,_=Ci;lc(l.type)&&($n=l.stateNode,Ci=!1),ea(o,a,l),fd(l.stateNode),$n=f,Ci=_;break;case 5:vr||Js(l,a);case 6:if(f=$n,_=Ci,$n=null,ea(o,a,l),$n=f,Ci=_,$n!==null)if(Ci)try{($n.nodeType===9?$n.body:$n.nodeName==="HTML"?$n.ownerDocument.body:$n).removeChild(l.stateNode)}catch(N){An(l,a,N)}else try{$n.removeChild(l.stateNode)}catch(N){An(l,a,N)}break;case 18:$n!==null&&(Ci?(o=$n,JR(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,l.stateNode),hh(o)):JR($n,l.stateNode));break;case 4:f=$n,_=Ci,$n=l.stateNode.containerInfo,Ci=!0,ea(o,a,l),$n=f,Ci=_;break;case 0:case 11:case 14:case 15:nc(2,l,a),vr||nc(4,l,a),ea(o,a,l);break;case 1:vr||(Js(l,a),f=l.stateNode,typeof f.componentWillUnmount=="function"&&eR(l,a,f)),ea(o,a,l);break;case 21:ea(o,a,l);break;case 22:vr=(f=vr)||l.memoizedState!==null,ea(o,a,l),vr=f;break;default:ea(o,a,l)}}function cR(o,a){if(a.memoizedState===null&&(o=a.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{hh(o)}catch(l){An(a,a.return,l)}}}function lR(o,a){if(a.memoizedState===null&&(o=a.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{hh(o)}catch(l){An(a,a.return,l)}}function mD(o){switch(o.tag){case 31:case 13:case 19:var a=o.stateNode;return a===null&&(a=o.stateNode=new iR),a;case 22:return o=o.stateNode,a=o._retryCache,a===null&&(a=o._retryCache=new iR),a;default:throw Error(r(435,o.tag))}}function Xm(o,a){var l=mD(o);a.forEach(function(f){if(!l.has(f)){l.add(f);var _=AD.bind(null,o,f);f.then(_,_)}})}function Oi(o,a){var l=a.deletions;if(l!==null)for(var f=0;f<l.length;f++){var _=l[f],N=o,X=a,le=X;e:for(;le!==null;){switch(le.tag){case 27:if(lc(le.type)){$n=le.stateNode,Ci=!1;break e}break;case 5:$n=le.stateNode,Ci=!1;break e;case 3:case 4:$n=le.stateNode.containerInfo,Ci=!0;break e}le=le.return}if($n===null)throw Error(r(160));aR(N,X,_),$n=null,Ci=!1,N=_.alternate,N!==null&&(N.return=null),_.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)uR(a,o),a=a.sibling}var Cs=null;function uR(o,a){var l=o.alternate,f=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Oi(a,o),Mi(o),f&4&&(nc(3,o,o.return),nd(3,o),nc(5,o,o.return));break;case 1:Oi(a,o),Mi(o),f&512&&(vr||l===null||Js(l,l.return)),f&64&&Jo&&(o=o.updateQueue,o!==null&&(f=o.callbacks,f!==null&&(l=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var _=Cs;if(Oi(a,o),Mi(o),f&512&&(vr||l===null||Js(l,l.return)),f&4){var N=l!==null?l.memoizedState:null;if(f=o.memoizedState,l===null)if(f===null)if(o.stateNode===null){e:{f=o.type,l=o.memoizedProps,_=_.ownerDocument||_;t:switch(f){case"title":N=_.getElementsByTagName("title")[0],(!N||N[Ai]||N[st]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=_.createElement(f),_.head.insertBefore(N,_.querySelector("head > title"))),Yr(N,f,l),N[st]=o,qn(N),f=N;break e;case"link":var X=uT("link","href",_).get(f+(l.href||""));if(X){for(var le=0;le<X.length;le++)if(N=X[le],N.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&N.getAttribute("rel")===(l.rel==null?null:l.rel)&&N.getAttribute("title")===(l.title==null?null:l.title)&&N.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){X.splice(le,1);break t}}N=_.createElement(f),Yr(N,f,l),_.head.appendChild(N);break;case"meta":if(X=uT("meta","content",_).get(f+(l.content||""))){for(le=0;le<X.length;le++)if(N=X[le],N.getAttribute("content")===(l.content==null?null:""+l.content)&&N.getAttribute("name")===(l.name==null?null:l.name)&&N.getAttribute("property")===(l.property==null?null:l.property)&&N.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&N.getAttribute("charset")===(l.charSet==null?null:l.charSet)){X.splice(le,1);break t}}N=_.createElement(f),Yr(N,f,l),_.head.appendChild(N);break;default:throw Error(r(468,f))}N[st]=o,qn(N),f=N}o.stateNode=f}else hT(_,o.type,o.stateNode);else o.stateNode=lT(_,f,o.memoizedProps);else N!==f?(N===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):N.count--,f===null?hT(_,o.type,o.stateNode):lT(_,f,o.memoizedProps)):f===null&&o.stateNode!==null&&xw(o,o.memoizedProps,l.memoizedProps)}break;case 27:Oi(a,o),Mi(o),f&512&&(vr||l===null||Js(l,l.return)),l!==null&&f&4&&xw(o,o.memoizedProps,l.memoizedProps);break;case 5:if(Oi(a,o),Mi(o),f&512&&(vr||l===null||Js(l,l.return)),o.flags&32){_=o.stateNode;try{ki(_,"")}catch(ct){An(o,o.return,ct)}}f&4&&o.stateNode!=null&&(_=o.memoizedProps,xw(o,_,l!==null?l.memoizedProps:_)),f&1024&&(Sw=!0);break;case 6:if(Oi(a,o),Mi(o),f&4){if(o.stateNode===null)throw Error(r(162));f=o.memoizedProps,l=o.stateNode;try{l.nodeValue=f}catch(ct){An(o,o.return,ct)}}break;case 3:if(f0=null,_=Cs,Cs=u0(a.containerInfo),Oi(a,o),Cs=_,Mi(o),f&4&&l!==null&&l.memoizedState.isDehydrated)try{hh(a.containerInfo)}catch(ct){An(o,o.return,ct)}Sw&&(Sw=!1,hR(o));break;case 4:f=Cs,Cs=u0(o.stateNode.containerInfo),Oi(a,o),Mi(o),Cs=f;break;case 12:Oi(a,o),Mi(o);break;case 31:Oi(a,o),Mi(o),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Xm(o,f)));break;case 13:Oi(a,o),Mi(o),o.child.flags&8192&&o.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Qm=Je()),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Xm(o,f)));break;case 22:_=o.memoizedState!==null;var ge=l!==null&&l.memoizedState!==null,Ce=Jo,ze=vr;if(Jo=Ce||_,vr=ze||ge,Oi(a,o),vr=ze,Jo=Ce,Mi(o),f&8192)e:for(a=o.stateNode,a._visibility=_?a._visibility&-2:a._visibility|1,_&&(l===null||ge||Jo||vr||Nl(o)),l=null,a=o;;){if(a.tag===5||a.tag===26){if(l===null){ge=l=a;try{if(N=ge.stateNode,_)X=N.style,typeof X.setProperty=="function"?X.setProperty("display","none","important"):X.display="none";else{le=ge.stateNode;var He=ge.memoizedProps.style,Me=He!=null&&He.hasOwnProperty("display")?He.display:null;le.style.display=Me==null||typeof Me=="boolean"?"":(""+Me).trim()}}catch(ct){An(ge,ge.return,ct)}}}else if(a.tag===6){if(l===null){ge=a;try{ge.stateNode.nodeValue=_?"":ge.memoizedProps}catch(ct){An(ge,ge.return,ct)}}}else if(a.tag===18){if(l===null){ge=a;try{var Pe=ge.stateNode;_?eT(Pe,!0):eT(ge.stateNode,!1)}catch(ct){An(ge,ge.return,ct)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===o)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=o.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,Xm(o,l))));break;case 19:Oi(a,o),Mi(o),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Xm(o,f)));break;case 30:break;case 21:break;default:Oi(a,o),Mi(o)}}function Mi(o){var a=o.flags;if(a&2){try{for(var l,f=o.return;f!==null;){if(nR(f)){l=f;break}f=f.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var _=l.stateNode,N=Ew(o);Ym(o,N,_);break;case 5:var X=l.stateNode;l.flags&32&&(ki(X,""),l.flags&=-33);var le=Ew(o);Ym(o,le,X);break;case 3:case 4:var ge=l.stateNode.containerInfo,Ce=Ew(o);Aw(o,Ce,ge);break;default:throw Error(r(161))}}catch(ze){An(o,o.return,ze)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function hR(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var a=o;hR(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),o=o.sibling}}function ta(o,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)sR(o,a.alternate,a),a=a.sibling}function Nl(o){for(o=o.child;o!==null;){var a=o;switch(a.tag){case 0:case 11:case 14:case 15:nc(4,a,a.return),Nl(a);break;case 1:Js(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&eR(a,a.return,l),Nl(a);break;case 27:fd(a.stateNode);case 26:case 5:Js(a,a.return),Nl(a);break;case 22:a.memoizedState===null&&Nl(a);break;case 30:Nl(a);break;default:Nl(a)}o=o.sibling}}function na(o,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,_=o,N=a,X=N.flags;switch(N.tag){case 0:case 11:case 15:na(_,N,l),nd(4,N);break;case 1:if(na(_,N,l),f=N,_=f.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(Ce){An(f,f.return,Ce)}if(f=N,_=f.updateQueue,_!==null){var le=f.stateNode;try{var ge=_.shared.hiddenCallbacks;if(ge!==null)for(_.shared.hiddenCallbacks=null,_=0;_<ge.length;_++)FA(ge[_],le)}catch(Ce){An(f,f.return,Ce)}}l&&X&64&&JS(N),rd(N,N.return);break;case 27:rR(N);case 26:case 5:na(_,N,l),l&&f===null&&X&4&&tR(N),rd(N,N.return);break;case 12:na(_,N,l);break;case 31:na(_,N,l),l&&X&4&&cR(_,N);break;case 13:na(_,N,l),l&&X&4&&lR(_,N);break;case 22:N.memoizedState===null&&na(_,N,l),rd(N,N.return);break;case 30:break;default:na(_,N,l)}a=a.sibling}}function Rw(o,a){var l=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(l=o.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==l&&(o!=null&&o.refCount++,l!=null&&Hf(l))}function Tw(o,a){o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&Hf(o))}function Os(o,a,l,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)fR(o,a,l,f),a=a.sibling}function fR(o,a,l,f){var _=a.flags;switch(a.tag){case 0:case 11:case 15:Os(o,a,l,f),_&2048&&nd(9,a);break;case 1:Os(o,a,l,f);break;case 3:Os(o,a,l,f),_&2048&&(o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&Hf(o)));break;case 12:if(_&2048){Os(o,a,l,f),o=a.stateNode;try{var N=a.memoizedProps,X=N.id,le=N.onPostCommit;typeof le=="function"&&le(X,a.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ge){An(a,a.return,ge)}}else Os(o,a,l,f);break;case 31:Os(o,a,l,f);break;case 13:Os(o,a,l,f);break;case 23:break;case 22:N=a.stateNode,X=a.alternate,a.memoizedState!==null?N._visibility&2?Os(o,a,l,f):id(o,a):N._visibility&2?Os(o,a,l,f):(N._visibility|=2,eh(o,a,l,f,(a.subtreeFlags&10256)!==0||!1)),_&2048&&Rw(X,a);break;case 24:Os(o,a,l,f),_&2048&&Tw(a.alternate,a);break;default:Os(o,a,l,f)}}function eh(o,a,l,f,_){for(_=_&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var N=o,X=a,le=l,ge=f,Ce=X.flags;switch(X.tag){case 0:case 11:case 15:eh(N,X,le,ge,_),nd(8,X);break;case 23:break;case 22:var ze=X.stateNode;X.memoizedState!==null?ze._visibility&2?eh(N,X,le,ge,_):id(N,X):(ze._visibility|=2,eh(N,X,le,ge,_)),_&&Ce&2048&&Rw(X.alternate,X);break;case 24:eh(N,X,le,ge,_),_&&Ce&2048&&Tw(X.alternate,X);break;default:eh(N,X,le,ge,_)}a=a.sibling}}function id(o,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=o,f=a,_=f.flags;switch(f.tag){case 22:id(l,f),_&2048&&Rw(f.alternate,f);break;case 24:id(l,f),_&2048&&Tw(f.alternate,f);break;default:id(l,f)}a=a.sibling}}var sd=8192;function th(o,a,l){if(o.subtreeFlags&sd)for(o=o.child;o!==null;)dR(o,a,l),o=o.sibling}function dR(o,a,l){switch(o.tag){case 26:th(o,a,l),o.flags&sd&&o.memoizedState!==null&&tj(l,Cs,o.memoizedState,o.memoizedProps);break;case 5:th(o,a,l);break;case 3:case 4:var f=Cs;Cs=u0(o.stateNode.containerInfo),th(o,a,l),Cs=f;break;case 22:o.memoizedState===null&&(f=o.alternate,f!==null&&f.memoizedState!==null?(f=sd,sd=16777216,th(o,a,l),sd=f):th(o,a,l));break;default:th(o,a,l)}}function pR(o){var a=o.alternate;if(a!==null&&(o=a.child,o!==null)){a.child=null;do a=o.sibling,o.sibling=null,o=a;while(o!==null)}}function od(o){var a=o.deletions;if((o.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var f=a[l];Dr=f,gR(f,o)}pR(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)mR(o),o=o.sibling}function mR(o){switch(o.tag){case 0:case 11:case 15:od(o),o.flags&2048&&nc(9,o,o.return);break;case 3:od(o);break;case 12:od(o);break;case 22:var a=o.stateNode;o.memoizedState!==null&&a._visibility&2&&(o.return===null||o.return.tag!==13)?(a._visibility&=-3,Zm(o)):od(o);break;default:od(o)}}function Zm(o){var a=o.deletions;if((o.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var f=a[l];Dr=f,gR(f,o)}pR(o)}for(o=o.child;o!==null;){switch(a=o,a.tag){case 0:case 11:case 15:nc(8,a,a.return),Zm(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Zm(a));break;default:Zm(a)}o=o.sibling}}function gR(o,a){for(;Dr!==null;){var l=Dr;switch(l.tag){case 0:case 11:case 15:nc(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Hf(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,Dr=f;else e:for(l=o;Dr!==null;){f=Dr;var _=f.sibling,N=f.return;if(oR(f),f===l){Dr=null;break e}if(_!==null){_.return=N,Dr=_;break e}Dr=N}}}var gD={getCacheForType:function(o){var a=Kr(yr),l=a.data.get(o);return l===void 0&&(l=o(),a.data.set(o,l)),l},cacheSignal:function(){return Kr(yr).controller.signal}},yD=typeof WeakMap=="function"?WeakMap:Map,bn=0,Mn=null,Yt=null,en=0,En=0,Xi=null,rc=!1,nh=!1,Nw=!1,ra=0,ir=0,ic=0,Il=0,Iw=0,Zi=0,rh=0,ad=null,Bi=null,kw=!1,Qm=0,yR=0,Jm=1/0,e0=null,sc=null,Ir=0,oc=null,ih=null,ia=0,Cw=0,Ow=null,wR=null,cd=0,Mw=null;function Qi(){return(bn&2)!==0&&en!==0?en&-en:C.T!==null?Uw():It()}function bR(){if(Zi===0)if((en&536870912)===0||on){var o=mt;mt<<=1,(mt&3932160)===0&&(mt=262144),Zi=o}else Zi=536870912;return o=Wi.current,o!==null&&(o.flags|=32),Zi}function Li(o,a,l){(o===Mn&&(En===2||En===9)||o.cancelPendingCommit!==null)&&(sh(o,0),ac(o,en,Zi,!1)),F(o,l),((bn&2)===0||o!==Mn)&&(o===Mn&&((bn&2)===0&&(Il|=l),ir===4&&ac(o,en,Zi,!1)),eo(o))}function vR(o,a,l){if((bn&6)!==0)throw Error(r(327));var f=!l&&(a&127)===0&&(a&o.expiredLanes)===0||an(o,a),_=f?vD(o,a):Lw(o,a,!0),N=f;do{if(_===0){nh&&!f&&ac(o,a,0,!1);break}else{if(l=o.current.alternate,N&&!wD(l)){_=Lw(o,a,!1),N=!1;continue}if(_===2){if(N=a,o.errorRecoveryDisabledLanes&N)var X=0;else X=o.pendingLanes&-536870913,X=X!==0?X:X&536870912?536870912:0;if(X!==0){a=X;e:{var le=o;_=ad;var ge=le.current.memoizedState.isDehydrated;if(ge&&(sh(le,X).flags|=256),X=Lw(le,X,!1),X!==2){if(Nw&&!ge){le.errorRecoveryDisabledLanes|=N,Il|=N,_=4;break e}N=Bi,Bi=_,N!==null&&(Bi===null?Bi=N:Bi.push.apply(Bi,N))}_=X}if(N=!1,_!==2)continue}}if(_===1){sh(o,0),ac(o,a,0,!0);break}e:{switch(f=o,N=_,N){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:ac(f,a,Zi,!rc);break e;case 2:Bi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(_=Qm+300-Je(),10<_)){if(ac(f,a,Zi,!rc),sn(f,0,!0)!==0)break e;ia=a,f.timeoutHandle=ZR(_R.bind(null,f,l,Bi,e0,kw,a,Zi,Il,rh,rc,N,"Throttled",-0,0),_);break e}_R(f,l,Bi,e0,kw,a,Zi,Il,rh,rc,N,null,-0,0)}}break}while(!0);eo(o)}function _R(o,a,l,f,_,N,X,le,ge,Ce,ze,He,Me,Pe){if(o.timeoutHandle=-1,He=a.subtreeFlags,He&8192||(He&16785408)===16785408){He={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ss},dR(a,N,He);var ct=(N&62914560)===N?Qm-Je():(N&4194048)===N?yR-Je():0;if(ct=nj(He,ct),ct!==null){ia=N,o.cancelPendingCommit=ct(IR.bind(null,o,a,N,l,f,_,X,le,ge,ze,He,null,Me,Pe)),ac(o,N,X,!Ce);return}}IR(o,a,N,l,f,_,X,le,ge)}function wD(o){for(var a=o;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var _=l[f],N=_.getSnapshot;_=_.value;try{if(!$i(N(),_))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ac(o,a,l,f){a&=~Iw,a&=~Il,o.suspendedLanes|=a,o.pingedLanes&=~a,f&&(o.warmLanes|=a),f=o.expirationTimes;for(var _=a;0<_;){var N=31-ke(_),X=1<<N;f[N]=-1,_&=~X}l!==0&&de(o,l,a)}function t0(){return(bn&6)===0?(ld(0),!1):!0}function Bw(){if(Yt!==null){if(En===0)var o=Yt.return;else o=Yt,Ko=vl=null,X1(o),Yu=null,Gf=0,o=Yt;for(;o!==null;)QS(o.alternate,o),o=o.return;Yt=null}}function sh(o,a){var l=o.timeoutHandle;l!==-1&&(o.timeoutHandle=-1,PD(l)),l=o.cancelPendingCommit,l!==null&&(o.cancelPendingCommit=null,l()),ia=0,Bw(),Mn=o,Yt=l=Go(o.current,null),en=a,En=0,Xi=null,rc=!1,nh=an(o,a),Nw=!1,rh=Zi=Iw=Il=ic=ir=0,Bi=ad=null,kw=!1,(a&8)!==0&&(a|=a&32);var f=o.entangledLanes;if(f!==0)for(o=o.entanglements,f&=a;0<f;){var _=31-ke(f),N=1<<_;a|=o[_],f&=~N}return ra=a,xm(),l}function xR(o,a){Vt=null,C.H=Jf,a===Wu||a===km?(a=PA(),En=3):a===P1?(a=PA(),En=4):En=a===fw?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Xi=a,Yt===null&&(ir=1,qm(o,us(a,o.current)))}function ER(){var o=Wi.current;return o===null?!0:(en&4194048)===en?ps===null:(en&62914560)===en||(en&536870912)!==0?o===ps:!1}function AR(){var o=C.H;return C.H=Jf,o===null?Jf:o}function SR(){var o=C.A;return C.A=gD,o}function n0(){ir=4,rc||(en&4194048)!==en&&Wi.current!==null||(nh=!0),(ic&134217727)===0&&(Il&134217727)===0||Mn===null||ac(Mn,en,Zi,!1)}function Lw(o,a,l){var f=bn;bn|=2;var _=AR(),N=SR();(Mn!==o||en!==a)&&(e0=null,sh(o,a)),a=!1;var X=ir;e:do try{if(En!==0&&Yt!==null){var le=Yt,ge=Xi;switch(En){case 8:Bw(),X=6;break e;case 3:case 2:case 9:case 6:Wi.current===null&&(a=!0);var Ce=En;if(En=0,Xi=null,oh(o,le,ge,Ce),l&&nh){X=0;break e}break;default:Ce=En,En=0,Xi=null,oh(o,le,ge,Ce)}}bD(),X=ir;break}catch(ze){xR(o,ze)}while(!0);return a&&o.shellSuspendCounter++,Ko=vl=null,bn=f,C.H=_,C.A=N,Yt===null&&(Mn=null,en=0,xm()),X}function bD(){for(;Yt!==null;)RR(Yt)}function vD(o,a){var l=bn;bn|=2;var f=AR(),_=SR();Mn!==o||en!==a?(e0=null,Jm=Je()+500,sh(o,a)):nh=an(o,a);e:do try{if(En!==0&&Yt!==null){a=Yt;var N=Xi;t:switch(En){case 1:En=0,Xi=null,oh(o,a,N,1);break;case 2:case 9:if(DA(N)){En=0,Xi=null,TR(a);break}a=function(){En!==2&&En!==9||Mn!==o||(En=7),eo(o)},N.then(a,a);break e;case 3:En=7;break e;case 4:En=5;break e;case 7:DA(N)?(En=0,Xi=null,TR(a)):(En=0,Xi=null,oh(o,a,N,7));break;case 5:var X=null;switch(Yt.tag){case 26:X=Yt.memoizedState;case 5:case 27:var le=Yt;if(X?fT(X):le.stateNode.complete){En=0,Xi=null;var ge=le.sibling;if(ge!==null)Yt=ge;else{var Ce=le.return;Ce!==null?(Yt=Ce,r0(Ce)):Yt=null}break t}}En=0,Xi=null,oh(o,a,N,5);break;case 6:En=0,Xi=null,oh(o,a,N,6);break;case 8:Bw(),ir=6;break e;default:throw Error(r(462))}}_D();break}catch(ze){xR(o,ze)}while(!0);return Ko=vl=null,C.H=f,C.A=_,bn=l,Yt!==null?0:(Mn=null,en=0,xm(),ir)}function _D(){for(;Yt!==null&&!Ve();)RR(Yt)}function RR(o){var a=XS(o.alternate,o,ra);o.memoizedProps=o.pendingProps,a===null?r0(o):Yt=a}function TR(o){var a=o,l=a.alternate;switch(a.tag){case 15:case 0:a=qS(l,a,a.pendingProps,a.type,void 0,en);break;case 11:a=qS(l,a,a.pendingProps,a.type.render,a.ref,en);break;case 5:X1(a);default:QS(l,a),a=Yt=SA(a,ra),a=XS(l,a,ra)}o.memoizedProps=o.pendingProps,a===null?r0(o):Yt=a}function oh(o,a,l,f){Ko=vl=null,X1(a),Yu=null,Gf=0;var _=a.return;try{if(lD(o,_,a,l,en)){ir=1,qm(o,us(l,o.current)),Yt=null;return}}catch(N){if(_!==null)throw Yt=_,N;ir=1,qm(o,us(l,o.current)),Yt=null;return}a.flags&32768?(on||f===1?o=!0:nh||(en&536870912)!==0?o=!1:(rc=o=!0,(f===2||f===9||f===3||f===6)&&(f=Wi.current,f!==null&&f.tag===13&&(f.flags|=16384))),NR(a,o)):r0(a)}function r0(o){var a=o;do{if((a.flags&32768)!==0){NR(a,rc);return}o=a.return;var l=fD(a.alternate,a,ra);if(l!==null){Yt=l;return}if(a=a.sibling,a!==null){Yt=a;return}Yt=a=o}while(a!==null);ir===0&&(ir=5)}function NR(o,a){do{var l=dD(o.alternate,o);if(l!==null){l.flags&=32767,Yt=l;return}if(l=o.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(o=o.sibling,o!==null)){Yt=o;return}Yt=o=l}while(o!==null);ir=6,Yt=null}function IR(o,a,l,f,_,N,X,le,ge){o.cancelPendingCommit=null;do i0();while(Ir!==0);if((bn&6)!==0)throw Error(r(327));if(a!==null){if(a===o.current)throw Error(r(177));if(N=a.lanes|a.childLanes,N|=E1,$(o,l,N,X,le,ge),o===Mn&&(Yt=Mn=null,en=0),ih=a,oc=o,ia=l,Cw=N,Ow=_,wR=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,SD(Yn,function(){return BR(),null})):(o.callbackNode=null,o.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=C.T,C.T=null,_=Y.p,Y.p=2,X=bn,bn|=4;try{pD(o,a,l)}finally{bn=X,Y.p=_,C.T=f}}Ir=1,kR(),CR(),OR()}}function kR(){if(Ir===1){Ir=0;var o=oc,a=ih,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=C.T,C.T=null;var f=Y.p;Y.p=2;var _=bn;bn|=4;try{uR(a,o);var N=Kw,X=gA(o.containerInfo),le=N.focusedElem,ge=N.selectionRange;if(X!==le&&le&&le.ownerDocument&&mA(le.ownerDocument.documentElement,le)){if(ge!==null&&w1(le)){var Ce=ge.start,ze=ge.end;if(ze===void 0&&(ze=Ce),"selectionStart"in le)le.selectionStart=Ce,le.selectionEnd=Math.min(ze,le.value.length);else{var He=le.ownerDocument||document,Me=He&&He.defaultView||window;if(Me.getSelection){var Pe=Me.getSelection(),ct=le.textContent.length,Rt=Math.min(ge.start,ct),kn=ge.end===void 0?Rt:Math.min(ge.end,ct);!Pe.extend&&Rt>kn&&(X=kn,kn=Rt,Rt=X);var Se=pA(le,Rt),ve=pA(le,kn);if(Se&&ve&&(Pe.rangeCount!==1||Pe.anchorNode!==Se.node||Pe.anchorOffset!==Se.offset||Pe.focusNode!==ve.node||Pe.focusOffset!==ve.offset)){var Ie=He.createRange();Ie.setStart(Se.node,Se.offset),Pe.removeAllRanges(),Rt>kn?(Pe.addRange(Ie),Pe.extend(ve.node,ve.offset)):(Ie.setEnd(ve.node,ve.offset),Pe.addRange(Ie))}}}}for(He=[],Pe=le;Pe=Pe.parentNode;)Pe.nodeType===1&&He.push({element:Pe,left:Pe.scrollLeft,top:Pe.scrollTop});for(typeof le.focus=="function"&&le.focus(),le=0;le<He.length;le++){var Fe=He[le];Fe.element.scrollLeft=Fe.left,Fe.element.scrollTop=Fe.top}}g0=!!$w,Kw=$w=null}finally{bn=_,Y.p=f,C.T=l}}o.current=a,Ir=2}}function CR(){if(Ir===2){Ir=0;var o=oc,a=ih,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=C.T,C.T=null;var f=Y.p;Y.p=2;var _=bn;bn|=4;try{sR(o,a.alternate,a)}finally{bn=_,Y.p=f,C.T=l}}Ir=3}}function OR(){if(Ir===4||Ir===3){Ir=0,Ye();var o=oc,a=ih,l=ia,f=wR;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ir=5:(Ir=0,ih=oc=null,MR(o,o.pendingLanes));var _=o.pendingLanes;if(_===0&&(sc=null),Tt(l),a=a.stateNode,be&&typeof be.onCommitFiberRoot=="function")try{be.onCommitFiberRoot(fe,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=C.T,_=Y.p,Y.p=2,C.T=null;try{for(var N=o.onRecoverableError,X=0;X<f.length;X++){var le=f[X];N(le.value,{componentStack:le.stack})}}finally{C.T=a,Y.p=_}}(ia&3)!==0&&i0(),eo(o),_=o.pendingLanes,(l&261930)!==0&&(_&42)!==0?o===Mw?cd++:(cd=0,Mw=o):cd=0,ld(0)}}function MR(o,a){(o.pooledCacheLanes&=a)===0&&(a=o.pooledCache,a!=null&&(o.pooledCache=null,Hf(a)))}function i0(){return kR(),CR(),OR(),BR()}function BR(){if(Ir!==5)return!1;var o=oc,a=Cw;Cw=0;var l=Tt(ia),f=C.T,_=Y.p;try{Y.p=32>l?32:l,C.T=null,l=Ow,Ow=null;var N=oc,X=ia;if(Ir=0,ih=oc=null,ia=0,(bn&6)!==0)throw Error(r(331));var le=bn;if(bn|=4,mR(N.current),fR(N,N.current,X,l),bn=le,ld(0,!1),be&&typeof be.onPostCommitFiberRoot=="function")try{be.onPostCommitFiberRoot(fe,N)}catch{}return!0}finally{Y.p=_,C.T=f,MR(o,a)}}function LR(o,a,l){a=us(l,a),a=hw(o.stateNode,a,2),o=Ja(o,a,2),o!==null&&(F(o,2),eo(o))}function An(o,a,l){if(o.tag===3)LR(o,o,l);else for(;a!==null;){if(a.tag===3){LR(a,o,l);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(sc===null||!sc.has(f))){o=us(l,o),l=DS(2),f=Ja(a,l,2),f!==null&&(jS(l,f,a,o),F(f,2),eo(f));break}}a=a.return}}function Dw(o,a,l){var f=o.pingCache;if(f===null){f=o.pingCache=new yD;var _=new Set;f.set(a,_)}else _=f.get(a),_===void 0&&(_=new Set,f.set(a,_));_.has(l)||(Nw=!0,_.add(l),o=xD.bind(null,o,a,l),a.then(o,o))}function xD(o,a,l){var f=o.pingCache;f!==null&&f.delete(a),o.pingedLanes|=o.suspendedLanes&l,o.warmLanes&=~l,Mn===o&&(en&l)===l&&(ir===4||ir===3&&(en&62914560)===en&&300>Je()-Qm?(bn&2)===0&&sh(o,0):Iw|=l,rh===en&&(rh=0)),eo(o)}function DR(o,a){a===0&&(a=Cn()),o=yl(o,a),o!==null&&(F(o,a),eo(o))}function ED(o){var a=o.memoizedState,l=0;a!==null&&(l=a.retryLane),DR(o,l)}function AD(o,a){var l=0;switch(o.tag){case 31:case 13:var f=o.stateNode,_=o.memoizedState;_!==null&&(l=_.retryLane);break;case 19:f=o.stateNode;break;case 22:f=o.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(a),DR(o,l)}function SD(o,a){return we(o,a)}var s0=null,ah=null,jw=!1,o0=!1,Pw=!1,cc=0;function eo(o){o!==ah&&o.next===null&&(ah===null?s0=ah=o:ah=ah.next=o),o0=!0,jw||(jw=!0,TD())}function ld(o,a){if(!Pw&&o0){Pw=!0;do for(var l=!1,f=s0;f!==null;){if(o!==0){var _=f.pendingLanes;if(_===0)var N=0;else{var X=f.suspendedLanes,le=f.pingedLanes;N=(1<<31-ke(42|o)+1)-1,N&=_&~(X&~le),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(l=!0,VR(f,N))}else N=en,N=sn(f,f===Mn?N:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(N&3)===0||an(f,N)||(l=!0,VR(f,N));f=f.next}while(l);Pw=!1}}function RD(){jR()}function jR(){o0=jw=!1;var o=0;cc!==0&&jD()&&(o=cc);for(var a=Je(),l=null,f=s0;f!==null;){var _=f.next,N=PR(f,a);N===0?(f.next=null,l===null?s0=_:l.next=_,_===null&&(ah=l)):(l=f,(o!==0||(N&3)!==0)&&(o0=!0)),f=_}Ir!==0&&Ir!==5||ld(o),cc!==0&&(cc=0)}function PR(o,a){for(var l=o.suspendedLanes,f=o.pingedLanes,_=o.expirationTimes,N=o.pendingLanes&-62914561;0<N;){var X=31-ke(N),le=1<<X,ge=_[X];ge===-1?((le&l)===0||(le&f)!==0)&&(_[X]=gi(le,a)):ge<=a&&(o.expiredLanes|=le),N&=~le}if(a=Mn,l=en,l=sn(o,o===a?l:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),f=o.callbackNode,l===0||o===a&&(En===2||En===9)||o.cancelPendingCommit!==null)return f!==null&&f!==null&&Ee(f),o.callbackNode=null,o.callbackPriority=0;if((l&3)===0||an(o,l)){if(a=l&-l,a===o.callbackPriority)return a;switch(f!==null&&Ee(f),Tt(l)){case 2:case 8:l=Et;break;case 32:l=Yn;break;case 268435456:l=se;break;default:l=Yn}return f=UR.bind(null,o),l=we(l,f),o.callbackPriority=a,o.callbackNode=l,a}return f!==null&&f!==null&&Ee(f),o.callbackPriority=2,o.callbackNode=null,2}function UR(o,a){if(Ir!==0&&Ir!==5)return o.callbackNode=null,o.callbackPriority=0,null;var l=o.callbackNode;if(i0()&&o.callbackNode!==l)return null;var f=en;return f=sn(o,o===Mn?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),f===0?null:(vR(o,f,a),PR(o,Je()),o.callbackNode!=null&&o.callbackNode===l?UR.bind(null,o):null)}function VR(o,a){if(i0())return null;vR(o,a,!0)}function TD(){UD(function(){(bn&6)!==0?we(lt,RD):jR()})}function Uw(){if(cc===0){var o=$u;o===0&&(o=Kt,Kt<<=1,(Kt&261888)===0&&(Kt=256)),cc=o}return cc}function zR(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Cu(""+o)}function FR(o,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,o.id&&l.setAttribute("form",o.id),a.parentNode.insertBefore(l,a),o=new FormData(o),l.parentNode.removeChild(l),o}function ND(o,a,l,f,_){if(a==="submit"&&l&&l.stateNode===_){var N=zR((_[$t]||null).action),X=f.submitter;X&&(a=(a=X[$t]||null)?zR(a.formAction):X.getAttribute("formAction"),a!==null&&(N=a,X=null));var le=new Ks("action","action",null,f,_);o.push({event:le,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(cc!==0){var ge=X?FR(_,X):new FormData(_);sw(l,{pending:!0,data:ge,method:_.method,action:N},null,ge)}}else typeof N=="function"&&(le.preventDefault(),ge=X?FR(_,X):new FormData(_),sw(l,{pending:!0,data:ge,method:_.method,action:N},N,ge))},currentTarget:_}]})}}for(var Vw=0;Vw<x1.length;Vw++){var zw=x1[Vw],ID=zw.toLowerCase(),kD=zw[0].toUpperCase()+zw.slice(1);ks(ID,"on"+kD)}ks(bA,"onAnimationEnd"),ks(vA,"onAnimationIteration"),ks(_A,"onAnimationStart"),ks("dblclick","onDoubleClick"),ks("focusin","onFocus"),ks("focusout","onBlur"),ks($L,"onTransitionRun"),ks(KL,"onTransitionStart"),ks(WL,"onTransitionCancel"),ks(xA,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ud="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ud));function HR(o,a){a=(a&4)!==0;for(var l=0;l<o.length;l++){var f=o[l],_=f.event;f=f.listeners;e:{var N=void 0;if(a)for(var X=f.length-1;0<=X;X--){var le=f[X],ge=le.instance,Ce=le.currentTarget;if(le=le.listener,ge!==N&&_.isPropagationStopped())break e;N=le,_.currentTarget=Ce;try{N(_)}catch(ze){_m(ze)}_.currentTarget=null,N=ge}else for(X=0;X<f.length;X++){if(le=f[X],ge=le.instance,Ce=le.currentTarget,le=le.listener,ge!==N&&_.isPropagationStopped())break e;N=le,_.currentTarget=Ce;try{N(_)}catch(ze){_m(ze)}_.currentTarget=null,N=ge}}}}function Xt(o,a){var l=a[On];l===void 0&&(l=a[On]=new Set);var f=o+"__bubble";l.has(f)||(qR(a,o,2,!1),l.add(f))}function Fw(o,a,l){var f=0;a&&(f|=4),qR(l,o,f,a)}var a0="_reactListening"+Math.random().toString(36).slice(2);function Hw(o){if(!o[a0]){o[a0]=!0,jo.forEach(function(l){l!=="selectionchange"&&(CD.has(l)||Fw(l,!1,o),Fw(l,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[a0]||(a[a0]=!0,Fw("selectionchange",!1,a))}}function qR(o,a,l,f){switch(bT(a)){case 2:var _=sj;break;case 8:_=oj;break;default:_=ib}l=_.bind(null,a,l,o),_=void 0,!ll||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(_=!0),f?_!==void 0?o.addEventListener(a,l,{capture:!0,passive:_}):o.addEventListener(a,l,!0):_!==void 0?o.addEventListener(a,l,{passive:_}):o.addEventListener(a,l,!1)}function qw(o,a,l,f,_){var N=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var X=f.tag;if(X===3||X===4){var le=f.stateNode.containerInfo;if(le===_)break;if(X===4)for(X=f.return;X!==null;){var ge=X.tag;if((ge===3||ge===4)&&X.stateNode.containerInfo===_)return;X=X.return}for(;le!==null;){if(X=Si(le),X===null)return;if(ge=X.tag,ge===5||ge===6||ge===26||ge===27){f=N=X;continue e}le=le.parentNode}}f=f.return}Ha(function(){var Ce=N,ze=os(l),He=[];e:{var Me=EA.get(o);if(Me!==void 0){var Pe=Ks,ct=o;switch(o){case"keypress":if(hl(l)===0)break e;case"keydown":case"keyup":Pe=wm;break;case"focusin":ct="focus",Pe=dl;break;case"focusout":ct="blur",Pe=dl;break;case"beforeblur":case"afterblur":Pe=dl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Lf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=lm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=V;break;case bA:case vA:case _A:Pe=hm;break;case xA:Pe=he;break;case"scroll":case"scrollend":Pe=Bf;break;case"wheel":Pe=De;break;case"copy":case"cut":case"paste":Pe=fm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=qo;break;case"toggle":case"beforetoggle":Pe=Ut}var Rt=(a&4)!==0,kn=!Rt&&(o==="scroll"||o==="scrollend"),Se=Rt?Me!==null?Me+"Capture":null:Me;Rt=[];for(var ve=Ce,Ie;ve!==null;){var Fe=ve;if(Ie=Fe.stateNode,Fe=Fe.tag,Fe!==5&&Fe!==26&&Fe!==27||Ie===null||Se===null||(Fe=Rs(ve,Se),Fe!=null&&Rt.push(hd(ve,Fe,Ie))),kn)break;ve=ve.return}0<Rt.length&&(Me=new Pe(Me,ct,null,l,ze),He.push({event:Me,listeners:Rt}))}}if((a&7)===0){e:{if(Me=o==="mouseover"||o==="pointerover",Pe=o==="mouseout"||o==="pointerout",Me&&l!==Cf&&(ct=l.relatedTarget||l.fromElement)&&(Si(ct)||ct[Gi]))break e;if((Pe||Me)&&(Me=ze.window===ze?ze:(Me=ze.ownerDocument)?Me.defaultView||Me.parentWindow:window,Pe?(ct=l.relatedTarget||l.toElement,Pe=Ce,ct=ct?Si(ct):null,ct!==null&&(kn=s(ct),Rt=ct.tag,ct!==kn||Rt!==5&&Rt!==27&&Rt!==6)&&(ct=null)):(Pe=null,ct=Ce),Pe!==ct)){if(Rt=Lf,Fe="onMouseLeave",Se="onMouseEnter",ve="mouse",(o==="pointerout"||o==="pointerover")&&(Rt=qo,Fe="onPointerLeave",Se="onPointerEnter",ve="pointer"),kn=Pe==null?Me:Hr(Pe),Ie=ct==null?Me:Hr(ct),Me=new Rt(Fe,ve+"leave",Pe,l,ze),Me.target=kn,Me.relatedTarget=Ie,Fe=null,Si(ze)===Ce&&(Rt=new Rt(Se,ve+"enter",ct,l,ze),Rt.target=Ie,Rt.relatedTarget=kn,Fe=Rt),kn=Fe,Pe&&ct)t:{for(Rt=OD,Se=Pe,ve=ct,Ie=0,Fe=Se;Fe;Fe=Rt(Fe))Ie++;Fe=0;for(var yt=ve;yt;yt=Rt(yt))Fe++;for(;0<Ie-Fe;)Se=Rt(Se),Ie--;for(;0<Fe-Ie;)ve=Rt(ve),Fe--;for(;Ie--;){if(Se===ve||ve!==null&&Se===ve.alternate){Rt=Se;break t}Se=Rt(Se),ve=Rt(ve)}Rt=null}else Rt=null;Pe!==null&&GR(He,Me,Pe,Rt,!1),ct!==null&&kn!==null&&GR(He,kn,ct,Rt,!0)}}e:{if(Me=Ce?Hr(Ce):window,Pe=Me.nodeName&&Me.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&Me.type==="file")var dn=cA;else if(oA(Me))if(lA)dn=HL;else{dn=zL;var ht=VL}else Pe=Me.nodeName,!Pe||Pe.toLowerCase()!=="input"||Me.type!=="checkbox"&&Me.type!=="radio"?Ce&&ku(Ce.elementType)&&(dn=cA):dn=FL;if(dn&&(dn=dn(o,Ce))){aA(He,dn,l,ze);break e}ht&&ht(o,Me,Ce),o==="focusout"&&Ce&&Me.type==="number"&&Ce.memoizedProps.value!=null&&Nf(Me,"number",Me.value)}switch(ht=Ce?Hr(Ce):window,o){case"focusin":(oA(ht)||ht.contentEditable==="true")&&(Pu=ht,b1=Ce,Vf=null);break;case"focusout":Vf=b1=Pu=null;break;case"mousedown":v1=!0;break;case"contextmenu":case"mouseup":case"dragend":v1=!1,yA(He,l,ze);break;case"selectionchange":if(GL)break;case"keydown":case"keyup":yA(He,l,ze)}var Ft;if(wn)e:{switch(o){case"compositionstart":var tn="onCompositionStart";break e;case"compositionend":tn="onCompositionEnd";break e;case"compositionupdate":tn="onCompositionUpdate";break e}tn=void 0}else ju?pl(o,l)&&(tn="onCompositionEnd"):o==="keydown"&&l.keyCode===229&&(tn="onCompositionStart");tn&&(Xs&&l.locale!=="ko"&&(ju||tn!=="onCompositionStart"?tn==="onCompositionEnd"&&ju&&(Ft=Mf()):($s=ze,Of="value"in $s?$s.value:$s.textContent,ju=!0)),ht=c0(Ce,tn),0<ht.length&&(tn=new Ys(tn,o,null,l,ze),He.push({event:tn,listeners:ht}),Ft?tn.data=Ft:(Ft=Du(l),Ft!==null&&(tn.data=Ft)))),(Ft=cs?DL(o,l):jL(o,l))&&(tn=c0(Ce,"onBeforeInput"),0<tn.length&&(ht=new Ys("onBeforeInput","beforeinput",null,l,ze),He.push({event:ht,listeners:tn}),ht.data=Ft)),ND(He,o,Ce,l,ze)}HR(He,a)})}function hd(o,a,l){return{instance:o,listener:a,currentTarget:l}}function c0(o,a){for(var l=a+"Capture",f=[];o!==null;){var _=o,N=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||N===null||(_=Rs(o,l),_!=null&&f.unshift(hd(o,_,N)),_=Rs(o,a),_!=null&&f.push(hd(o,_,N))),o.tag===3)return f;o=o.return}return[]}function OD(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function GR(o,a,l,f,_){for(var N=a._reactName,X=[];l!==null&&l!==f;){var le=l,ge=le.alternate,Ce=le.stateNode;if(le=le.tag,ge!==null&&ge===f)break;le!==5&&le!==26&&le!==27||Ce===null||(ge=Ce,_?(Ce=Rs(l,N),Ce!=null&&X.unshift(hd(l,Ce,ge))):_||(Ce=Rs(l,N),Ce!=null&&X.push(hd(l,Ce,ge)))),l=l.return}X.length!==0&&o.push({event:a,listeners:X})}var MD=/\r\n?/g,BD=/\u0000|\uFFFD/g;function $R(o){return(typeof o=="string"?o:""+o).replace(MD,`
`).replace(BD,"")}function KR(o,a){return a=$R(a),$R(o)===a}function In(o,a,l,f,_,N){switch(l){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||ki(o,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&ki(o,""+f);break;case"className":qr(o,"class",f);break;case"tabIndex":qr(o,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":qr(o,l,f);break;case"style":kf(o,f,N);break;case"data":if(a!=="object"){qr(o,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||l!=="href")){o.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){o.removeAttribute(l);break}f=Cu(""+f),o.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){o.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(l==="formAction"?(a!=="input"&&In(o,a,"name",_.name,_,null),In(o,a,"formEncType",_.formEncType,_,null),In(o,a,"formMethod",_.formMethod,_,null),In(o,a,"formTarget",_.formTarget,_,null)):(In(o,a,"encType",_.encType,_,null),In(o,a,"method",_.method,_,null),In(o,a,"target",_.target,_,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){o.removeAttribute(l);break}f=Cu(""+f),o.setAttribute(l,f);break;case"onClick":f!=null&&(o.onclick=Ss);break;case"onScroll":f!=null&&Xt("scroll",o);break;case"onScrollEnd":f!=null&&Xt("scrollend",o);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(_.children!=null)throw Error(r(60));o.innerHTML=l}}break;case"multiple":o.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":o.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){o.removeAttribute("xlink:href");break}l=Cu(""+f),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(l,""+f):o.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(l,""):o.removeAttribute(l);break;case"capture":case"download":f===!0?o.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(l,f):o.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?o.setAttribute(l,f):o.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?o.removeAttribute(l):o.setAttribute(l,f);break;case"popover":Xt("beforetoggle",o),Xt("toggle",o),Hs(o,"popover",f);break;case"xlinkActuate":gr(o,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":gr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":gr(o,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":gr(o,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":gr(o,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":gr(o,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":gr(o,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":gr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":gr(o,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Hs(o,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=cm.get(l)||l,Hs(o,l,f))}}function Gw(o,a,l,f,_,N){switch(l){case"style":kf(o,f,N);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(_.children!=null)throw Error(r(60));o.innerHTML=l}}break;case"children":typeof f=="string"?ki(o,f):(typeof f=="number"||typeof f=="bigint")&&ki(o,""+f);break;case"onScroll":f!=null&&Xt("scroll",o);break;case"onScrollEnd":f!=null&&Xt("scrollend",o);break;case"onClick":f!=null&&(o.onclick=Ss);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Po.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(_=l.endsWith("Capture"),a=l.slice(2,_?l.length-7:void 0),N=o[$t]||null,N=N!=null?N[l]:null,typeof N=="function"&&o.removeEventListener(a,N,_),typeof f=="function")){typeof N!="function"&&N!==null&&(l in o?o[l]=null:o.hasAttribute(l)&&o.removeAttribute(l)),o.addEventListener(a,f,_);break e}l in o?o[l]=f:f===!0?o.setAttribute(l,""):Hs(o,l,f)}}}function Yr(o,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xt("error",o),Xt("load",o);var f=!1,_=!1,N;for(N in l)if(l.hasOwnProperty(N)){var X=l[N];if(X!=null)switch(N){case"src":f=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:In(o,a,N,X,l,null)}}_&&In(o,a,"srcSet",l.srcSet,l,null),f&&In(o,a,"src",l.src,l,null);return;case"input":Xt("invalid",o);var le=N=X=_=null,ge=null,Ce=null;for(f in l)if(l.hasOwnProperty(f)){var ze=l[f];if(ze!=null)switch(f){case"name":_=ze;break;case"type":X=ze;break;case"checked":ge=ze;break;case"defaultChecked":Ce=ze;break;case"value":N=ze;break;case"defaultValue":le=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(r(137,a));break;default:In(o,a,f,ze,l,null)}}sm(o,N,le,ge,Ce,X,_,!1);return;case"select":Xt("invalid",o),f=X=N=null;for(_ in l)if(l.hasOwnProperty(_)&&(le=l[_],le!=null))switch(_){case"value":N=le;break;case"defaultValue":X=le;break;case"multiple":f=le;default:In(o,a,_,le,l,null)}a=N,l=X,o.multiple=!!f,a!=null?Ua(o,!!f,a,!1):l!=null&&Ua(o,!!f,l,!0);return;case"textarea":Xt("invalid",o),N=_=f=null;for(X in l)if(l.hasOwnProperty(X)&&(le=l[X],le!=null))switch(X){case"value":f=le;break;case"defaultValue":_=le;break;case"children":N=le;break;case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(91));break;default:In(o,a,X,le,l,null)}Va(o,f,_,N);return;case"option":for(ge in l)if(l.hasOwnProperty(ge)&&(f=l[ge],f!=null))switch(ge){case"selected":o.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:In(o,a,ge,f,l,null)}return;case"dialog":Xt("beforetoggle",o),Xt("toggle",o),Xt("cancel",o),Xt("close",o);break;case"iframe":case"object":Xt("load",o);break;case"video":case"audio":for(f=0;f<ud.length;f++)Xt(ud[f],o);break;case"image":Xt("error",o),Xt("load",o);break;case"details":Xt("toggle",o);break;case"embed":case"source":case"link":Xt("error",o),Xt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ce in l)if(l.hasOwnProperty(Ce)&&(f=l[Ce],f!=null))switch(Ce){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:In(o,a,Ce,f,l,null)}return;default:if(ku(a)){for(ze in l)l.hasOwnProperty(ze)&&(f=l[ze],f!==void 0&&Gw(o,a,ze,f,l,void 0));return}}for(le in l)l.hasOwnProperty(le)&&(f=l[le],f!=null&&In(o,a,le,f,l,null))}function LD(o,a,l,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,N=null,X=null,le=null,ge=null,Ce=null,ze=null;for(Pe in l){var He=l[Pe];if(l.hasOwnProperty(Pe)&&He!=null)switch(Pe){case"checked":break;case"value":break;case"defaultValue":ge=He;default:f.hasOwnProperty(Pe)||In(o,a,Pe,null,f,He)}}for(var Me in f){var Pe=f[Me];if(He=l[Me],f.hasOwnProperty(Me)&&(Pe!=null||He!=null))switch(Me){case"type":N=Pe;break;case"name":_=Pe;break;case"checked":Ce=Pe;break;case"defaultChecked":ze=Pe;break;case"value":X=Pe;break;case"defaultValue":le=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(r(137,a));break;default:Pe!==He&&In(o,a,Me,Pe,f,He)}}Iu(o,X,le,ge,Ce,ze,N,_);return;case"select":Pe=X=le=Me=null;for(N in l)if(ge=l[N],l.hasOwnProperty(N)&&ge!=null)switch(N){case"value":break;case"multiple":Pe=ge;default:f.hasOwnProperty(N)||In(o,a,N,null,f,ge)}for(_ in f)if(N=f[_],ge=l[_],f.hasOwnProperty(_)&&(N!=null||ge!=null))switch(_){case"value":Me=N;break;case"defaultValue":le=N;break;case"multiple":X=N;default:N!==ge&&In(o,a,_,N,f,ge)}a=le,l=X,f=Pe,Me!=null?Ua(o,!!l,Me,!1):!!f!=!!l&&(a!=null?Ua(o,!!l,a,!0):Ua(o,!!l,l?[]:"",!1));return;case"textarea":Pe=Me=null;for(le in l)if(_=l[le],l.hasOwnProperty(le)&&_!=null&&!f.hasOwnProperty(le))switch(le){case"value":break;case"children":break;default:In(o,a,le,null,f,_)}for(X in f)if(_=f[X],N=l[X],f.hasOwnProperty(X)&&(_!=null||N!=null))switch(X){case"value":Me=_;break;case"defaultValue":Pe=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==N&&In(o,a,X,_,f,N)}om(o,Me,Pe);return;case"option":for(var ct in l)if(Me=l[ct],l.hasOwnProperty(ct)&&Me!=null&&!f.hasOwnProperty(ct))switch(ct){case"selected":o.selected=!1;break;default:In(o,a,ct,null,f,Me)}for(ge in f)if(Me=f[ge],Pe=l[ge],f.hasOwnProperty(ge)&&Me!==Pe&&(Me!=null||Pe!=null))switch(ge){case"selected":o.selected=Me&&typeof Me!="function"&&typeof Me!="symbol";break;default:In(o,a,ge,Me,f,Pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rt in l)Me=l[Rt],l.hasOwnProperty(Rt)&&Me!=null&&!f.hasOwnProperty(Rt)&&In(o,a,Rt,null,f,Me);for(Ce in f)if(Me=f[Ce],Pe=l[Ce],f.hasOwnProperty(Ce)&&Me!==Pe&&(Me!=null||Pe!=null))switch(Ce){case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,a));break;default:In(o,a,Ce,Me,f,Pe)}return;default:if(ku(a)){for(var kn in l)Me=l[kn],l.hasOwnProperty(kn)&&Me!==void 0&&!f.hasOwnProperty(kn)&&Gw(o,a,kn,void 0,f,Me);for(ze in f)Me=f[ze],Pe=l[ze],!f.hasOwnProperty(ze)||Me===Pe||Me===void 0&&Pe===void 0||Gw(o,a,ze,Me,f,Pe);return}}for(var Se in l)Me=l[Se],l.hasOwnProperty(Se)&&Me!=null&&!f.hasOwnProperty(Se)&&In(o,a,Se,null,f,Me);for(He in f)Me=f[He],Pe=l[He],!f.hasOwnProperty(He)||Me===Pe||Me==null&&Pe==null||In(o,a,He,Me,f,Pe)}function WR(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DD(){if(typeof performance.getEntriesByType=="function"){for(var o=0,a=0,l=performance.getEntriesByType("resource"),f=0;f<l.length;f++){var _=l[f],N=_.transferSize,X=_.initiatorType,le=_.duration;if(N&&le&&WR(X)){for(X=0,le=_.responseEnd,f+=1;f<l.length;f++){var ge=l[f],Ce=ge.startTime;if(Ce>le)break;var ze=ge.transferSize,He=ge.initiatorType;ze&&WR(He)&&(ge=ge.responseEnd,X+=ze*(ge<le?1:(le-Ce)/(ge-Ce)))}if(--f,a+=8*(N+X)/(_.duration/1e3),o++,10<o)break}}if(0<o)return a/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var $w=null,Kw=null;function l0(o){return o.nodeType===9?o:o.ownerDocument}function YR(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function XR(o,a){if(o===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&a==="foreignObject"?0:o}function Ww(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Yw=null;function jD(){var o=window.event;return o&&o.type==="popstate"?o===Yw?!1:(Yw=o,!0):(Yw=null,!1)}var ZR=typeof setTimeout=="function"?setTimeout:void 0,PD=typeof clearTimeout=="function"?clearTimeout:void 0,QR=typeof Promise=="function"?Promise:void 0,UD=typeof queueMicrotask=="function"?queueMicrotask:typeof QR<"u"?function(o){return QR.resolve(null).then(o).catch(VD)}:ZR;function VD(o){setTimeout(function(){throw o})}function lc(o){return o==="head"}function JR(o,a){var l=a,f=0;do{var _=l.nextSibling;if(o.removeChild(l),_&&_.nodeType===8)if(l=_.data,l==="/$"||l==="/&"){if(f===0){o.removeChild(_),hh(a);return}f--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")f++;else if(l==="html")fd(o.ownerDocument.documentElement);else if(l==="head"){l=o.ownerDocument.head,fd(l);for(var N=l.firstChild;N;){var X=N.nextSibling,le=N.nodeName;N[Ai]||le==="SCRIPT"||le==="STYLE"||le==="LINK"&&N.rel.toLowerCase()==="stylesheet"||l.removeChild(N),N=X}}else l==="body"&&fd(o.ownerDocument.body);l=_}while(l);hh(a)}function eT(o,a){var l=o;o=0;do{var f=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(o===0)break;o--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||o++;l=f}while(l)}function Xw(o){var a=o.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Xw(l),Fs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}o.removeChild(l)}}function zD(o,a,l,f){for(;o.nodeType===1;){var _=l;if(o.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(f){if(!o[Ai])switch(a){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(N=o.getAttribute("rel"),N==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(N!==_.rel||o.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||o.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||o.getAttribute("title")!==(_.title==null?null:_.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(N=o.getAttribute("src"),(N!==(_.src==null?null:_.src)||o.getAttribute("type")!==(_.type==null?null:_.type)||o.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&N&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(a==="input"&&o.type==="hidden"){var N=_.name==null?null:""+_.name;if(_.type==="hidden"&&o.getAttribute("name")===N)return o}else return o;if(o=ms(o.nextSibling),o===null)break}return null}function FD(o,a,l){if(a==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=ms(o.nextSibling),o===null))return null;return o}function tT(o,a){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!a||(o=ms(o.nextSibling),o===null))return null;return o}function Zw(o){return o.data==="$?"||o.data==="$~"}function Qw(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function HD(o,a){var l=o.ownerDocument;if(o.data==="$~")o._reactRetry=a;else if(o.data!=="$?"||l.readyState!=="loading")a();else{var f=function(){a(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),o._reactRetry=f}}function ms(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return o}var Jw=null;function nT(o){o=o.nextSibling;for(var a=0;o;){if(o.nodeType===8){var l=o.data;if(l==="/$"||l==="/&"){if(a===0)return ms(o.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}o=o.nextSibling}return null}function rT(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var l=o.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return o;a--}else l!=="/$"&&l!=="/&"||a++}o=o.previousSibling}return null}function iT(o,a,l){switch(a=l0(l),o){case"html":if(o=a.documentElement,!o)throw Error(r(452));return o;case"head":if(o=a.head,!o)throw Error(r(453));return o;case"body":if(o=a.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function fd(o){for(var a=o.attributes;a.length;)o.removeAttributeNode(a[0]);Fs(o)}var gs=new Map,sT=new Set;function u0(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var sa=Y.d;Y.d={f:qD,r:GD,D:$D,C:KD,L:WD,m:YD,X:ZD,S:XD,M:QD};function qD(){var o=sa.f(),a=t0();return o||a}function GD(o){var a=ii(o);a!==null&&a.tag===5&&a.type==="form"?xS(a):sa.r(o)}var ch=typeof document>"u"?null:document;function oT(o,a,l){var f=ch;if(f&&typeof a=="string"&&a){var _=Ii(a);_='link[rel="'+o+'"][href="'+_+'"]',typeof l=="string"&&(_+='[crossorigin="'+l+'"]'),sT.has(_)||(sT.add(_),o={rel:o,crossOrigin:l,href:a},f.querySelector(_)===null&&(a=f.createElement("link"),Yr(a,"link",o),qn(a),f.head.appendChild(a)))}}function $D(o){sa.D(o),oT("dns-prefetch",o,null)}function KD(o,a){sa.C(o,a),oT("preconnect",o,a)}function WD(o,a,l){sa.L(o,a,l);var f=ch;if(f&&o&&a){var _='link[rel="preload"][as="'+Ii(a)+'"]';a==="image"&&l&&l.imageSrcSet?(_+='[imagesrcset="'+Ii(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(_+='[imagesizes="'+Ii(l.imageSizes)+'"]')):_+='[href="'+Ii(o)+'"]';var N=_;switch(a){case"style":N=lh(o);break;case"script":N=uh(o)}gs.has(N)||(o=v({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:o,as:a},l),gs.set(N,o),f.querySelector(_)!==null||a==="style"&&f.querySelector(dd(N))||a==="script"&&f.querySelector(pd(N))||(a=f.createElement("link"),Yr(a,"link",o),qn(a),f.head.appendChild(a)))}}function YD(o,a){sa.m(o,a);var l=ch;if(l&&o){var f=a&&typeof a.as=="string"?a.as:"script",_='link[rel="modulepreload"][as="'+Ii(f)+'"][href="'+Ii(o)+'"]',N=_;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=uh(o)}if(!gs.has(N)&&(o=v({rel:"modulepreload",href:o},a),gs.set(N,o),l.querySelector(_)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(pd(N)))return}f=l.createElement("link"),Yr(f,"link",o),qn(f),l.head.appendChild(f)}}}function XD(o,a,l){sa.S(o,a,l);var f=ch;if(f&&o){var _=Ri(f).hoistableStyles,N=lh(o);a=a||"default";var X=_.get(N);if(!X){var le={loading:0,preload:null};if(X=f.querySelector(dd(N)))le.loading=5;else{o=v({rel:"stylesheet",href:o,"data-precedence":a},l),(l=gs.get(N))&&eb(o,l);var ge=X=f.createElement("link");qn(ge),Yr(ge,"link",o),ge._p=new Promise(function(Ce,ze){ge.onload=Ce,ge.onerror=ze}),ge.addEventListener("load",function(){le.loading|=1}),ge.addEventListener("error",function(){le.loading|=2}),le.loading|=4,h0(X,a,f)}X={type:"stylesheet",instance:X,count:1,state:le},_.set(N,X)}}}function ZD(o,a){sa.X(o,a);var l=ch;if(l&&o){var f=Ri(l).hoistableScripts,_=uh(o),N=f.get(_);N||(N=l.querySelector(pd(_)),N||(o=v({src:o,async:!0},a),(a=gs.get(_))&&tb(o,a),N=l.createElement("script"),qn(N),Yr(N,"link",o),l.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},f.set(_,N))}}function QD(o,a){sa.M(o,a);var l=ch;if(l&&o){var f=Ri(l).hoistableScripts,_=uh(o),N=f.get(_);N||(N=l.querySelector(pd(_)),N||(o=v({src:o,async:!0,type:"module"},a),(a=gs.get(_))&&tb(o,a),N=l.createElement("script"),qn(N),Yr(N,"link",o),l.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},f.set(_,N))}}function aT(o,a,l,f){var _=(_=ae.current)?u0(_):null;if(!_)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=lh(l.href),l=Ri(_).hoistableStyles,f=l.get(a),f||(f={type:"style",instance:null,count:0,state:null},l.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){o=lh(l.href);var N=Ri(_).hoistableStyles,X=N.get(o);if(X||(_=_.ownerDocument||_,X={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(o,X),(N=_.querySelector(dd(o)))&&!N._p&&(X.instance=N,X.state.loading=5),gs.has(o)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},gs.set(o,l),N||JD(_,o,l,X.state))),a&&f===null)throw Error(r(528,""));return X}if(a&&f!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=uh(l),l=Ri(_).hoistableScripts,f=l.get(a),f||(f={type:"script",instance:null,count:0,state:null},l.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function lh(o){return'href="'+Ii(o)+'"'}function dd(o){return'link[rel="stylesheet"]['+o+"]"}function cT(o){return v({},o,{"data-precedence":o.precedence,precedence:null})}function JD(o,a,l,f){o.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=o.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),Yr(a,"link",l),qn(a),o.head.appendChild(a))}function uh(o){return'[src="'+Ii(o)+'"]'}function pd(o){return"script[async]"+o}function lT(o,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var f=o.querySelector('style[data-href~="'+Ii(l.href)+'"]');if(f)return a.instance=f,qn(f),f;var _=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(o.ownerDocument||o).createElement("style"),qn(f),Yr(f,"style",_),h0(f,l.precedence,o),a.instance=f;case"stylesheet":_=lh(l.href);var N=o.querySelector(dd(_));if(N)return a.state.loading|=4,a.instance=N,qn(N),N;f=cT(l),(_=gs.get(_))&&eb(f,_),N=(o.ownerDocument||o).createElement("link"),qn(N);var X=N;return X._p=new Promise(function(le,ge){X.onload=le,X.onerror=ge}),Yr(N,"link",f),a.state.loading|=4,h0(N,l.precedence,o),a.instance=N;case"script":return N=uh(l.src),(_=o.querySelector(pd(N)))?(a.instance=_,qn(_),_):(f=l,(_=gs.get(N))&&(f=v({},l),tb(f,_)),o=o.ownerDocument||o,_=o.createElement("script"),qn(_),Yr(_,"link",f),o.head.appendChild(_),a.instance=_);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,h0(f,l.precedence,o));return a.instance}function h0(o,a,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=f.length?f[f.length-1]:null,N=_,X=0;X<f.length;X++){var le=f[X];if(le.dataset.precedence===a)N=le;else if(N!==_)break}N?N.parentNode.insertBefore(o,N.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(o,a.firstChild))}function eb(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.title==null&&(o.title=a.title)}function tb(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.integrity==null&&(o.integrity=a.integrity)}var f0=null;function uT(o,a,l){if(f0===null){var f=new Map,_=f0=new Map;_.set(l,f)}else _=f0,f=_.get(l),f||(f=new Map,_.set(l,f));if(f.has(o))return f;for(f.set(o,null),l=l.getElementsByTagName(o),_=0;_<l.length;_++){var N=l[_];if(!(N[Ai]||N[st]||o==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var X=N.getAttribute(a)||"";X=o+X;var le=f.get(X);le?le.push(N):f.set(X,[N])}}return f}function hT(o,a,l){o=o.ownerDocument||o,o.head.insertBefore(l,a==="title"?o.querySelector("head > title"):null)}function ej(o,a,l){if(l===1||a.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return o=a.disabled,typeof a.precedence=="string"&&o==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function fT(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function tj(o,a,l,f){if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var _=lh(f.href),N=a.querySelector(dd(_));if(N){a=N._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(o.count++,o=d0.bind(o),a.then(o,o)),l.state.loading|=4,l.instance=N,qn(N);return}N=a.ownerDocument||a,f=cT(f),(_=gs.get(_))&&eb(f,_),N=N.createElement("link"),qn(N);var X=N;X._p=new Promise(function(le,ge){X.onload=le,X.onerror=ge}),Yr(N,"link",f),l.instance=N}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(o.count++,l=d0.bind(o),a.addEventListener("load",l),a.addEventListener("error",l))}}var nb=0;function nj(o,a){return o.stylesheets&&o.count===0&&m0(o,o.stylesheets),0<o.count||0<o.imgCount?function(l){var f=setTimeout(function(){if(o.stylesheets&&m0(o,o.stylesheets),o.unsuspend){var N=o.unsuspend;o.unsuspend=null,N()}},6e4+a);0<o.imgBytes&&nb===0&&(nb=62500*DD());var _=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&m0(o,o.stylesheets),o.unsuspend)){var N=o.unsuspend;o.unsuspend=null,N()}},(o.imgBytes>nb?50:800)+a);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(f),clearTimeout(_)}}:null}function d0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)m0(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var p0=null;function m0(o,a){o.stylesheets=null,o.unsuspend!==null&&(o.count++,p0=new Map,a.forEach(rj,o),p0=null,d0.call(o))}function rj(o,a){if(!(a.state.loading&4)){var l=p0.get(o);if(l)var f=l.get(null);else{l=new Map,p0.set(o,l);for(var _=o.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<_.length;N++){var X=_[N];(X.nodeName==="LINK"||X.getAttribute("media")!=="not all")&&(l.set(X.dataset.precedence,X),f=X)}f&&l.set(null,f)}_=a.instance,X=_.getAttribute("data-precedence"),N=l.get(X)||f,N===f&&l.set(null,_),l.set(X,_),this.count++,f=d0.bind(this),_.addEventListener("load",f),_.addEventListener("error",f),N?N.parentNode.insertBefore(_,N.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(_,o.firstChild)),a.state.loading|=4}}var md={$$typeof:O,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function ij(o,a,l,f,_,N,X,le,ge){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ie(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ie(0),this.hiddenUpdates=ie(null),this.identifierPrefix=f,this.onUncaughtError=_,this.onCaughtError=N,this.onRecoverableError=X,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ge,this.incompleteTransitions=new Map}function dT(o,a,l,f,_,N,X,le,ge,Ce,ze,He){return o=new ij(o,a,l,X,ge,Ce,ze,He,le),a=1,N===!0&&(a|=24),N=Ki(3,null,null,a),o.current=N,N.stateNode=o,a=L1(),a.refCount++,o.pooledCache=a,a.refCount++,N.memoizedState={element:f,isDehydrated:l,cache:a},U1(N),o}function pT(o){return o?(o=zu,o):zu}function mT(o,a,l,f,_,N){_=pT(_),f.context===null?f.context=_:f.pendingContext=_,f=Qa(a),f.payload={element:l},N=N===void 0?null:N,N!==null&&(f.callback=N),l=Ja(o,f,a),l!==null&&(Li(l,o,a),Kf(l,o,a))}function gT(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var l=o.retryLane;o.retryLane=l!==0&&l<a?l:a}}function rb(o,a){gT(o,a),(o=o.alternate)&&gT(o,a)}function yT(o){if(o.tag===13||o.tag===31){var a=yl(o,67108864);a!==null&&Li(a,o,67108864),rb(o,67108864)}}function wT(o){if(o.tag===13||o.tag===31){var a=Qi();a=je(a);var l=yl(o,a);l!==null&&Li(l,o,a),rb(o,a)}}var g0=!0;function sj(o,a,l,f){var _=C.T;C.T=null;var N=Y.p;try{Y.p=2,ib(o,a,l,f)}finally{Y.p=N,C.T=_}}function oj(o,a,l,f){var _=C.T;C.T=null;var N=Y.p;try{Y.p=8,ib(o,a,l,f)}finally{Y.p=N,C.T=_}}function ib(o,a,l,f){if(g0){var _=sb(f);if(_===null)qw(o,a,f,y0,l),vT(o,f);else if(cj(_,o,a,l,f))f.stopPropagation();else if(vT(o,f),a&4&&-1<aj.indexOf(o)){for(;_!==null;){var N=ii(_);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var X=Fn(N.pendingLanes);if(X!==0){var le=N;for(le.pendingLanes|=2,le.entangledLanes|=2;X;){var ge=1<<31-ke(X);le.entanglements[1]|=ge,X&=~ge}eo(N),(bn&6)===0&&(Jm=Je()+500,ld(0))}}break;case 31:case 13:le=yl(N,2),le!==null&&Li(le,N,2),t0(),rb(N,2)}if(N=sb(f),N===null&&qw(o,a,f,y0,l),N===_)break;_=N}_!==null&&f.stopPropagation()}else qw(o,a,f,null,l)}}function sb(o){return o=os(o),ob(o)}var y0=null;function ob(o){if(y0=null,o=Si(o),o!==null){var a=s(o);if(a===null)o=null;else{var l=a.tag;if(l===13){if(o=c(a),o!==null)return o;o=null}else if(l===31){if(o=u(a),o!==null)return o;o=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null)}}return y0=o,null}function bT(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mt()){case lt:return 2;case Et:return 8;case Yn:case fn:return 32;case se:return 268435456;default:return 32}default:return 32}}var ab=!1,uc=null,hc=null,fc=null,gd=new Map,yd=new Map,dc=[],aj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vT(o,a){switch(o){case"focusin":case"focusout":uc=null;break;case"dragenter":case"dragleave":hc=null;break;case"mouseover":case"mouseout":fc=null;break;case"pointerover":case"pointerout":gd.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":yd.delete(a.pointerId)}}function wd(o,a,l,f,_,N){return o===null||o.nativeEvent!==N?(o={blockedOn:a,domEventName:l,eventSystemFlags:f,nativeEvent:N,targetContainers:[_]},a!==null&&(a=ii(a),a!==null&&yT(a)),o):(o.eventSystemFlags|=f,a=o.targetContainers,_!==null&&a.indexOf(_)===-1&&a.push(_),o)}function cj(o,a,l,f,_){switch(a){case"focusin":return uc=wd(uc,o,a,l,f,_),!0;case"dragenter":return hc=wd(hc,o,a,l,f,_),!0;case"mouseover":return fc=wd(fc,o,a,l,f,_),!0;case"pointerover":var N=_.pointerId;return gd.set(N,wd(gd.get(N)||null,o,a,l,f,_)),!0;case"gotpointercapture":return N=_.pointerId,yd.set(N,wd(yd.get(N)||null,o,a,l,f,_)),!0}return!1}function _T(o){var a=Si(o.target);if(a!==null){var l=s(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){o.blockedOn=a,gt(o.priority,function(){wT(l)});return}}else if(a===31){if(a=u(l),a!==null){o.blockedOn=a,gt(o.priority,function(){wT(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){o.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}o.blockedOn=null}function w0(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var l=sb(o.nativeEvent);if(l===null){l=o.nativeEvent;var f=new l.constructor(l.type,l);Cf=f,l.target.dispatchEvent(f),Cf=null}else return a=ii(l),a!==null&&yT(a),o.blockedOn=l,!1;a.shift()}return!0}function xT(o,a,l){w0(o)&&l.delete(a)}function lj(){ab=!1,uc!==null&&w0(uc)&&(uc=null),hc!==null&&w0(hc)&&(hc=null),fc!==null&&w0(fc)&&(fc=null),gd.forEach(xT),yd.forEach(xT)}function b0(o,a){o.blockedOn===a&&(o.blockedOn=null,ab||(ab=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,lj)))}var v0=null;function ET(o){v0!==o&&(v0=o,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){v0===o&&(v0=null);for(var a=0;a<o.length;a+=3){var l=o[a],f=o[a+1],_=o[a+2];if(typeof f!="function"){if(ob(f||l)===null)continue;break}var N=ii(l);N!==null&&(o.splice(a,3),a-=3,sw(N,{pending:!0,data:_,method:l.method,action:f},f,_))}}))}function hh(o){function a(ge){return b0(ge,o)}uc!==null&&b0(uc,o),hc!==null&&b0(hc,o),fc!==null&&b0(fc,o),gd.forEach(a),yd.forEach(a);for(var l=0;l<dc.length;l++){var f=dc[l];f.blockedOn===o&&(f.blockedOn=null)}for(;0<dc.length&&(l=dc[0],l.blockedOn===null);)_T(l),l.blockedOn===null&&dc.shift();if(l=(o.ownerDocument||o).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var _=l[f],N=l[f+1],X=_[$t]||null;if(typeof N=="function")X||ET(l);else if(X){var le=null;if(N&&N.hasAttribute("formAction")){if(_=N,X=N[$t]||null)le=X.formAction;else if(ob(_)!==null)continue}else le=X.action;typeof le=="function"?l[f+1]=le:(l.splice(f,3),f-=3),ET(l)}}}function AT(){function o(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(X){return _=X})},focusReset:"manual",scroll:"manual"})}function a(){_!==null&&(_(),_=null),f||setTimeout(l,20)}function l(){if(!f&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,_=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){f=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),_!==null&&(_(),_=null)}}}function cb(o){this._internalRoot=o}_0.prototype.render=cb.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,f=Qi();mT(l,f,o,a,null,null)},_0.prototype.unmount=cb.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;mT(o.current,2,null,o,null,null),t0(),a[Gi]=null}};function _0(o){this._internalRoot=o}_0.prototype.unstable_scheduleHydration=function(o){if(o){var a=It();o={blockedOn:null,target:o,priority:a};for(var l=0;l<dc.length&&a!==0&&a<dc[l].priority;l++);dc.splice(l,0,o),l===0&&_T(o)}};var ST=e.version;if(ST!=="19.2.4")throw Error(r(527,ST,"19.2.4"));Y.findDOMNode=function(o){var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(a),o=o!==null?p(o):null,o=o===null?null:o.stateNode,o};var uj={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var x0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!x0.isDisabled&&x0.supportsFiber)try{fe=x0.inject(uj),be=x0}catch{}}return vd.createRoot=function(o,a){if(!i(o))throw Error(r(299));var l=!1,f="",_=OS,N=MS,X=BS;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(_=a.onUncaughtError),a.onCaughtError!==void 0&&(N=a.onCaughtError),a.onRecoverableError!==void 0&&(X=a.onRecoverableError)),a=dT(o,1,!1,null,null,l,f,null,_,N,X,AT),o[Gi]=a.current,Hw(o),new cb(a)},vd.hydrateRoot=function(o,a,l){if(!i(o))throw Error(r(299));var f=!1,_="",N=OS,X=MS,le=BS,ge=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(_=l.identifierPrefix),l.onUncaughtError!==void 0&&(N=l.onUncaughtError),l.onCaughtError!==void 0&&(X=l.onCaughtError),l.onRecoverableError!==void 0&&(le=l.onRecoverableError),l.formState!==void 0&&(ge=l.formState)),a=dT(o,1,!0,a,l??null,f,_,ge,N,X,le,AT),a.context=pT(null),l=a.current,f=Qi(),f=je(f),_=Qa(f),_.callback=null,Ja(l,_,f),l=f,a.current.lanes=l,F(a,l),eo(a),o[Gi]=a.current,Hw(o),new _0(a)},vd.version="19.2.4",vd}var LT;function Sj(){if(LT)return hb.exports;LT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hb.exports=Aj(),hb.exports}var Rj=Sj();const Tj=Mo(Rj),js=globalThis||void 0||self;/**
 * react-router v7.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var DT="popstate";function Nj(n={}){function e(i,s){let{pathname:c="/",search:u="",hash:h=""}=gu(i.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),C_("",{pathname:c,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let c=i.document.querySelector("base"),u="";if(c&&c.getAttribute("href")){let h=i.location.href,d=h.indexOf("#");u=d===-1?h:h.slice(0,d)}return u+"#"+(typeof s=="string"?s:fp(s))}function r(i,s){_s(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return kj(e,t,r,n)}function er(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function _s(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ij(){return Math.random().toString(36).substring(2,10)}function jT(n,e){return{usr:n.state,key:n.key,idx:e}}function C_(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?gu(e):e,state:t,key:e&&e.key||r||Ij()}}function fp({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function gu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function kj(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,c=i.history,u="POP",h=null,d=p();d==null&&(d=0,c.replaceState({...c.state,idx:d},""));function p(){return(c.state||{idx:null}).idx}function v(){u="POP";let I=p(),M=I==null?null:I-d;d=I,h&&h({action:u,location:k.location,delta:M})}function x(I,M){u="PUSH";let j=C_(k.location,I,M);t&&t(j,I),d=p()+1;let O=jT(j,d),Q=k.createHref(j);try{c.pushState(O,"",Q)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;i.location.assign(Q)}s&&h&&h({action:u,location:k.location,delta:1})}function y(I,M){u="REPLACE";let j=C_(k.location,I,M);t&&t(j,I),d=p();let O=jT(j,d),Q=k.createHref(j);c.replaceState(O,"",Q),s&&h&&h({action:u,location:k.location,delta:0})}function S(I){return Cj(I)}let k={get action(){return u},get location(){return n(i,c)},listen(I){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(DT,v),h=I,()=>{i.removeEventListener(DT,v),h=null}},createHref(I){return e(i,I)},createURL:S,encodeLocation(I){let M=S(I);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:x,replace:y,go(I){return c.go(I)}};return k}function Cj(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),er(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:fp(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function r3(n,e,t="/"){return Oj(n,e,t,!1)}function Oj(n,e,t,r){let i=typeof e=="string"?gu(e):e,s=Ra(i.pathname||"/",t);if(s==null)return null;let c=i3(n);Mj(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let d=qj(s);u=Fj(c[h],d,r)}return u}function i3(n,e=[],t=[],r="",i=!1){let s=(c,u,h=i,d)=>{let p={relativePath:d===void 0?c.path||"":d,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&h)return;er(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let v=Ea([r,p.relativePath]),x=t.concat(p);c.children&&c.children.length>0&&(er(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),i3(c.children,e,x,v,h)),!(c.path==null&&!c.index)&&e.push({path:v,score:Vj(v,c.index),routesMeta:x})};return n.forEach((c,u)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))s(c,u);else for(let d of s3(c.path))s(c,u,!0,d)}),e}function s3(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let c=s3(r.join("/")),u=[];return u.push(...c.map(h=>h===""?s:[s,h].join("/"))),i&&u.push(...c),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function Mj(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:zj(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Bj=/^:[\w-]+$/,Lj=3,Dj=2,jj=1,Pj=10,Uj=-2,PT=n=>n==="*";function Vj(n,e){let t=n.split("/"),r=t.length;return t.some(PT)&&(r+=Uj),e&&(r+=Dj),t.filter(i=>!PT(i)).reduce((i,s)=>i+(Bj.test(s)?Lj:s===""?jj:Pj),r)}function zj(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Fj(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",c=[];for(let u=0;u<r.length;++u){let h=r[u],d=u===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",v=Gg({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},p),x=h.route;if(!v&&d&&t&&!r[r.length-1].route.index&&(v=Gg({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!v)return null;Object.assign(i,v.params),c.push({params:i,pathname:Ea([s,v.pathname]),pathnameBase:Yj(Ea([s,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(s=Ea([s,v.pathnameBase]))}return c}function Gg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Hj(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],c=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((d,{paramName:p,isOptional:v},x)=>{if(p==="*"){let S=u[x]||"";c=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const y=u[x];return v&&!y?d[p]=void 0:d[p]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:c,pattern:n}}function Hj(n,e=!1,t=!0){_s(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function qj(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _s(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ra(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var Gj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$j=n=>Gj.test(n);function Kj(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?gu(n):n,s;if(t)if($j(t))s=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),_s(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?s=UT(t.substring(1),"/"):s=UT(t,e)}else s=e;return{pathname:s,search:Xj(r),hash:Zj(i)}}function UT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function mb(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Wj(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function o3(n){let e=Wj(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function a3(n,e,t,r=!1){let i;typeof n=="string"?i=gu(n):(i={...n},er(!i.pathname||!i.pathname.includes("?"),mb("?","pathname","search",i)),er(!i.pathname||!i.pathname.includes("#"),mb("#","pathname","hash",i)),er(!i.search||!i.search.includes("#"),mb("#","search","hash",i)));let s=n===""||i.pathname==="",c=s?"/":i.pathname,u;if(c==null)u=t;else{let v=e.length-1;if(!r&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),v-=1;i.pathname=x.join("/")}u=v>=0?e[v]:"/"}let h=Kj(i,u),d=c&&c!=="/"&&c.endsWith("/"),p=(s||c===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(d||p)&&(h.pathname+="/"),h}var Ea=n=>n.join("/").replace(/\/\/+/g,"/"),Yj=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Xj=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Zj=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Qj(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Jj(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var c3=["POST","PUT","PATCH","DELETE"];new Set(c3);var eP=["GET",...c3];new Set(eP);var mf=ue.createContext(null);mf.displayName="DataRouter";var ky=ue.createContext(null);ky.displayName="DataRouterState";ue.createContext(!1);var l3=ue.createContext({isTransitioning:!1});l3.displayName="ViewTransition";var tP=ue.createContext(new Map);tP.displayName="Fetchers";var nP=ue.createContext(null);nP.displayName="Await";var zs=ue.createContext(null);zs.displayName="Navigation";var Lp=ue.createContext(null);Lp.displayName="Location";var Bo=ue.createContext({outlet:null,matches:[],isDataRoute:!1});Bo.displayName="Route";var aE=ue.createContext(null);aE.displayName="RouteError";function rP(n,{relative:e}={}){er(Dp(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=ue.useContext(zs),{hash:i,pathname:s,search:c}=jp(n,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:Ea([t,s])),r.createHref({pathname:u,search:c,hash:i})}function Dp(){return ue.useContext(Lp)!=null}function il(){return er(Dp(),"useLocation() may be used only in the context of a <Router> component."),ue.useContext(Lp).location}var u3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function h3(n){ue.useContext(zs).static||ue.useLayoutEffect(n)}function iP(){let{isDataRoute:n}=ue.useContext(Bo);return n?wP():sP()}function sP(){er(Dp(),"useNavigate() may be used only in the context of a <Router> component.");let n=ue.useContext(mf),{basename:e,navigator:t}=ue.useContext(zs),{matches:r}=ue.useContext(Bo),{pathname:i}=il(),s=JSON.stringify(o3(r)),c=ue.useRef(!1);return h3(()=>{c.current=!0}),ue.useCallback((h,d={})=>{if(_s(c.current,u3),!c.current)return;if(typeof h=="number"){t.go(h);return}let p=a3(h,JSON.parse(s),i,d.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ea([e,p.pathname])),(d.replace?t.replace:t.push)(p,d.state,d)},[e,t,s,i,n])}ue.createContext(null);function oP(){let{matches:n}=ue.useContext(Bo),e=n[n.length-1];return e?e.params:{}}function jp(n,{relative:e}={}){let{matches:t}=ue.useContext(Bo),{pathname:r}=il(),i=JSON.stringify(o3(t));return ue.useMemo(()=>a3(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function aP(n,e){return f3(n,e)}function f3(n,e,t,r,i){var j;er(Dp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=ue.useContext(zs),{matches:c}=ue.useContext(Bo),u=c[c.length-1],h=u?u.params:{},d=u?u.pathname:"/",p=u?u.pathnameBase:"/",v=u&&u.route;{let O=v&&v.path||"";d3(d,!v||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let x=il(),y;if(e){let O=typeof e=="string"?gu(e):e;er(p==="/"||((j=O.pathname)==null?void 0:j.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${O.pathname}" was given in the \`location\` prop.`),y=O}else y=x;let S=y.pathname||"/",k=S;if(p!=="/"){let O=p.replace(/^\//,"").split("/");k="/"+S.replace(/^\//,"").split("/").slice(O.length).join("/")}let I=r3(n,{pathname:k});_s(v||I!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),_s(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=fP(I&&I.map(O=>Object.assign({},O,{params:Object.assign({},h,O.params),pathname:Ea([p,s.encodeLocation?s.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?p:Ea([p,s.encodeLocation?s.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),c,t,r,i);return e&&M?ue.createElement(Lp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},M):M}function cP(){let n=yP(),e=Qj(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=ue.createElement(ue.Fragment,null,ue.createElement("p",null," Hey developer "),ue.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ue.createElement("code",{style:s},"ErrorBoundary")," or"," ",ue.createElement("code",{style:s},"errorElement")," prop on your route.")),ue.createElement(ue.Fragment,null,ue.createElement("h2",null,"Unexpected Application Error!"),ue.createElement("h3",{style:{fontStyle:"italic"}},e),t?ue.createElement("pre",{style:i},t):null,c)}var lP=ue.createElement(cP,null),uP=class extends ue.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?ue.createElement(Bo.Provider,{value:this.props.routeContext},ue.createElement(aE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hP({routeContext:n,match:e,children:t}){let r=ue.useContext(mf);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),ue.createElement(Bo.Provider,{value:n},t)}function fP(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,c=t==null?void 0:t.errors;if(c!=null){let p=s.findIndex(v=>v.route.id&&(c==null?void 0:c[v.route.id])!==void 0);er(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let u=!1,h=-1;if(t)for(let p=0;p<s.length;p++){let v=s[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=p),v.route.id){let{loaderData:x,errors:y}=t,S=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!y||y[v.route.id]===void 0);if(v.route.lazy||S){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}let d=t&&r?(p,v)=>{var x,y;r(p,{location:t.location,params:((y=(x=t.matches)==null?void 0:x[0])==null?void 0:y.params)??{},unstable_pattern:Jj(t.matches),errorInfo:v})}:void 0;return s.reduceRight((p,v,x)=>{let y,S=!1,k=null,I=null;t&&(y=c&&v.route.id?c[v.route.id]:void 0,k=v.route.errorElement||lP,u&&(h<0&&x===0?(d3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,I=null):h===x&&(S=!0,I=v.route.hydrateFallbackElement||null)));let M=e.concat(s.slice(0,x+1)),j=()=>{let O;return y?O=k:S?O=I:v.route.Component?O=ue.createElement(v.route.Component,null):v.route.element?O=v.route.element:O=p,ue.createElement(hP,{match:v,routeContext:{outlet:p,matches:M,isDataRoute:t!=null},children:O})};return t&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?ue.createElement(uP,{location:t.location,revalidation:t.revalidation,component:k,error:y,children:j(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:d}):j()},null)}function cE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dP(n){let e=ue.useContext(mf);return er(e,cE(n)),e}function pP(n){let e=ue.useContext(ky);return er(e,cE(n)),e}function mP(n){let e=ue.useContext(Bo);return er(e,cE(n)),e}function lE(n){let e=mP(n),t=e.matches[e.matches.length-1];return er(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function gP(){return lE("useRouteId")}function yP(){var r;let n=ue.useContext(aE),e=pP("useRouteError"),t=lE("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function wP(){let{router:n}=dP("useNavigate"),e=lE("useNavigate"),t=ue.useRef(!1);return h3(()=>{t.current=!0}),ue.useCallback(async(i,s={})=>{_s(t.current,u3),t.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var VT={};function d3(n,e,t){!e&&!VT[n]&&(VT[n]=!0,_s(!1,t))}ue.memo(bP);function bP({routes:n,future:e,state:t,unstable_onError:r}){return f3(n,void 0,t,r,e)}function co(n){er(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vP({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:c}){er(!Dp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=ue.useMemo(()=>({basename:u,navigator:i,static:s,unstable_useTransitions:c,future:{}}),[u,i,s,c]);typeof t=="string"&&(t=gu(t));let{pathname:d="/",search:p="",hash:v="",state:x=null,key:y="default"}=t,S=ue.useMemo(()=>{let k=Ra(d,u);return k==null?null:{location:{pathname:k,search:p,hash:v,state:x,key:y},navigationType:r}},[u,d,p,v,x,y,r]);return _s(S!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:ue.createElement(zs.Provider,{value:h},ue.createElement(Lp.Provider,{children:e,value:S}))}function _P({children:n,location:e}){return aP(O_(n),e)}function O_(n,e=[]){let t=[];return ue.Children.forEach(n,(r,i)=>{if(!ue.isValidElement(r))return;let s=[...e,i];if(r.type===ue.Fragment){t.push.apply(t,O_(r.props.children,s));return}er(r.type===co,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),er(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=O_(r.props.children,s)),t.push(c)}),t}var ug="get",hg="application/x-www-form-urlencoded";function Cy(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function xP(n){return Cy(n)&&n.tagName.toLowerCase()==="button"}function EP(n){return Cy(n)&&n.tagName.toLowerCase()==="form"}function AP(n){return Cy(n)&&n.tagName.toLowerCase()==="input"}function SP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function RP(n,e){return n.button===0&&(!e||e==="_self")&&!SP(n)}var E0=null;function TP(){if(E0===null)try{new FormData(document.createElement("form"),0),E0=!1}catch{E0=!0}return E0}var NP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gb(n){return n!=null&&!NP.has(n)?(_s(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hg}"`),null):n}function IP(n,e){let t,r,i,s,c;if(EP(n)){let u=n.getAttribute("action");r=u?Ra(u,e):null,t=n.getAttribute("method")||ug,i=gb(n.getAttribute("enctype"))||hg,s=new FormData(n)}else if(xP(n)||AP(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(r=h?Ra(h,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||ug,i=gb(n.getAttribute("formenctype"))||gb(u.getAttribute("enctype"))||hg,s=new FormData(u,n),!TP()){let{name:d,type:p,value:v}=n;if(p==="image"){let x=d?`${d}.`:"";s.append(`${x}x`,"0"),s.append(`${x}y`,"0")}else d&&s.append(d,v)}}else{if(Cy(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ug,r=null,i=hg,c=n}return s&&i==="text/plain"&&(c=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uE(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function kP(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Ra(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function CP(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function MP(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let c=await CP(s,t);return c.links?c.links():[]}return[]}));return jP(r.flat(1).filter(OP).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function zT(n,e,t,r,i,s){let c=(h,d)=>t[d]?h.route.id!==t[d].route.id:!0,u=(h,d)=>{var p;return t[d].pathname!==h.pathname||((p=t[d].route.path)==null?void 0:p.endsWith("*"))&&t[d].params["*"]!==h.params["*"]};return s==="assets"?e.filter((h,d)=>c(h,d)||u(h,d)):s==="data"?e.filter((h,d)=>{var v;let p=r.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(c(h,d)||u(h,d))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function BP(n,e,{includeHydrateFallback:t}={}){return LP(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function LP(n){return[...new Set(n)]}function DP(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function jP(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(DP(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function p3(){let n=ue.useContext(mf);return uE(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function PP(){let n=ue.useContext(ky);return uE(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var hE=ue.createContext(void 0);hE.displayName="FrameworkContext";function m3(){let n=ue.useContext(hE);return uE(n,"You must render this element inside a <HydratedRouter> element"),n}function UP(n,e){let t=ue.useContext(hE),[r,i]=ue.useState(!1),[s,c]=ue.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:d,onMouseLeave:p,onTouchStart:v}=e,x=ue.useRef(null);ue.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let k=M=>{M.forEach(j=>{c(j.isIntersecting)})},I=new IntersectionObserver(k,{threshold:.5});return x.current&&I.observe(x.current),()=>{I.disconnect()}}},[n]),ue.useEffect(()=>{if(r){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[r]);let y=()=>{i(!0)},S=()=>{i(!1),c(!1)};return t?n!=="intent"?[s,x,{}]:[s,x,{onFocus:_d(u,y),onBlur:_d(h,S),onMouseEnter:_d(d,y),onMouseLeave:_d(p,S),onTouchStart:_d(v,y)}]:[!1,x,{}]}function _d(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function VP({page:n,...e}){let{router:t}=p3(),r=ue.useMemo(()=>r3(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?ue.createElement(FP,{page:n,matches:r,...e}):null}function zP(n){let{manifest:e,routeModules:t}=m3(),[r,i]=ue.useState([]);return ue.useEffect(()=>{let s=!1;return MP(n,e,t).then(c=>{s||i(c)}),()=>{s=!0}},[n,e,t]),r}function FP({page:n,matches:e,...t}){let r=il(),{manifest:i,routeModules:s}=m3(),{basename:c}=p3(),{loaderData:u,matches:h}=PP(),d=ue.useMemo(()=>zT(n,e,h,i,r,"data"),[n,e,h,i,r]),p=ue.useMemo(()=>zT(n,e,h,i,r,"assets"),[n,e,h,i,r]),v=ue.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,k=!1;if(e.forEach(M=>{var O;let j=i.routes[M.route.id];!j||!j.hasLoader||(!d.some(Q=>Q.route.id===M.route.id)&&M.route.id in u&&((O=s[M.route.id])!=null&&O.shouldRevalidate)||j.hasClientLoader?k=!0:S.add(M.route.id))}),S.size===0)return[];let I=kP(n,c,"data");return k&&S.size>0&&I.searchParams.set("_routes",e.filter(M=>S.has(M.route.id)).map(M=>M.route.id).join(",")),[I.pathname+I.search]},[c,u,r,i,d,e,n,s]),x=ue.useMemo(()=>BP(p,i),[p,i]),y=zP(p);return ue.createElement(ue.Fragment,null,v.map(S=>ue.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),x.map(S=>ue.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),y.map(({key:S,link:k})=>ue.createElement("link",{key:S,nonce:t.nonce,...k})))}function HP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var g3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{g3&&(window.__reactRouterVersion="7.10.0")}catch{}function qP({basename:n,children:e,unstable_useTransitions:t,window:r}){let i=ue.useRef();i.current==null&&(i.current=Nj({window:r,v5Compat:!0}));let s=i.current,[c,u]=ue.useState({action:s.action,location:s.location}),h=ue.useCallback(d=>{t===!1?u(d):ue.startTransition(()=>u(d))},[t]);return ue.useLayoutEffect(()=>s.listen(h),[s,h]),ue.createElement(vP,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:s,unstable_useTransitions:t===!0})}var y3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ao=ue.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:c,state:u,target:h,to:d,preventScrollReset:p,viewTransition:v,...x},y){let{basename:S,unstable_useTransitions:k}=ue.useContext(zs),I=typeof d=="string"&&y3.test(d),M,j=!1;if(typeof d=="string"&&I&&(M=d,g3))try{let U=new URL(window.location.href),q=d.startsWith("//")?new URL(U.protocol+d):new URL(d),L=Ra(q.pathname,S);q.origin===U.origin&&L!=null?d=L+q.search+q.hash:j=!0}catch{_s(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=rP(d,{relative:i}),[Q,oe,ce]=UP(r,x),W=WP(d,{replace:c,state:u,target:h,preventScrollReset:p,relative:i,viewTransition:v,unstable_useTransitions:k});function K(U){e&&e(U),U.defaultPrevented||W(U)}let B=ue.createElement("a",{...x,...ce,href:M||O,onClick:j||s?e:K,ref:HP(y,oe),target:h,"data-discover":!I&&t==="render"?"true":void 0});return Q&&!I?ue.createElement(ue.Fragment,null,B,ue.createElement(VP,{page:O})):B});Ao.displayName="Link";var GP=ue.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:c,viewTransition:u,children:h,...d},p){let v=jp(c,{relative:d.relative}),x=il(),y=ue.useContext(ky),{navigator:S,basename:k}=ue.useContext(zs),I=y!=null&&JP(v)&&u===!0,M=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,j=x.pathname,O=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(j=j.toLowerCase(),O=O?O.toLowerCase():null,M=M.toLowerCase()),O&&k&&(O=Ra(O,k)||O);const Q=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let oe=j===M||!i&&j.startsWith(M)&&j.charAt(Q)==="/",ce=O!=null&&(O===M||!i&&O.startsWith(M)&&O.charAt(M.length)==="/"),W={isActive:oe,isPending:ce,isTransitioning:I},K=oe?e:void 0,B;typeof r=="function"?B=r(W):B=[r,oe?"active":null,ce?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let U=typeof s=="function"?s(W):s;return ue.createElement(Ao,{...d,"aria-current":K,className:B,ref:p,style:U,to:c,viewTransition:u},typeof h=="function"?h(W):h)});GP.displayName="NavLink";var $P=ue.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:c=ug,action:u,onSubmit:h,relative:d,preventScrollReset:p,viewTransition:v,...x},y)=>{let{unstable_useTransitions:S}=ue.useContext(zs),k=ZP(),I=QP(u,{relative:d}),M=c.toLowerCase()==="get"?"get":"post",j=typeof u=="string"&&y3.test(u),O=Q=>{if(h&&h(Q),Q.defaultPrevented)return;Q.preventDefault();let oe=Q.nativeEvent.submitter,ce=(oe==null?void 0:oe.getAttribute("formmethod"))||c,W=()=>k(oe||Q.currentTarget,{fetcherKey:e,method:ce,navigate:t,replace:i,state:s,relative:d,preventScrollReset:p,viewTransition:v});S&&t!==!1?ue.startTransition(()=>W()):W()};return ue.createElement("form",{ref:y,method:M,action:I,onSubmit:r?h:O,...x,"data-discover":!j&&n==="render"?"true":void 0})});$P.displayName="Form";function KP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w3(n){let e=ue.useContext(mf);return er(e,KP(n)),e}function WP(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:c,unstable_useTransitions:u}={}){let h=iP(),d=il(),p=jp(n,{relative:s});return ue.useCallback(v=>{if(RP(v,e)){v.preventDefault();let x=t!==void 0?t:fp(d)===fp(p),y=()=>h(n,{replace:x,state:r,preventScrollReset:i,relative:s,viewTransition:c});u?ue.startTransition(()=>y()):y()}},[d,h,p,t,r,e,n,i,s,c,u])}var YP=0,XP=()=>`__${String(++YP)}__`;function ZP(){let{router:n}=w3("useSubmit"),{basename:e}=ue.useContext(zs),t=gP(),r=n.fetch,i=n.navigate;return ue.useCallback(async(s,c={})=>{let{action:u,method:h,encType:d,formData:p,body:v}=IP(s,e);if(c.navigate===!1){let x=c.fetcherKey||XP();await r(x,t,c.action||u,{preventScrollReset:c.preventScrollReset,formData:p,body:v,formMethod:c.method||h,formEncType:c.encType||d,flushSync:c.flushSync})}else await i(c.action||u,{preventScrollReset:c.preventScrollReset,formData:p,body:v,formMethod:c.method||h,formEncType:c.encType||d,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,i,e,t])}function QP(n,{relative:e}={}){let{basename:t}=ue.useContext(zs),r=ue.useContext(Bo);er(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...jp(n||".",{relative:e})},c=il();if(n==null){s.search=c.search;let u=new URLSearchParams(s.search),h=u.getAll("index");if(h.some(p=>p==="")){u.delete("index"),h.filter(v=>v).forEach(v=>u.append("index",v));let p=u.toString();s.search=p?`?${p}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Ea([t,s.pathname])),fp(s)}function JP(n,{relative:e}={}){let t=ue.useContext(l3);er(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=w3("useViewTransitionState"),i=jp(n,{relative:e});if(!t.isTransitioning)return!1;let s=Ra(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=Ra(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Gg(i.pathname,c)!=null||Gg(i.pathname,s)!=null}var eU=n3();const b3={setVisible(n){console.error(v3("call","setVisible"))},visible:!1};Object.defineProperty(b3,"visible",{get(){return console.error(v3("read","visible")),!1}});function v3(n,e){return`You have tried to  ${n} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const _3=ue.createContext(b3);function fE(){return ue.useContext(_3)}var dE={},Oy={};Oy.byteLength=rU;Oy.toByteArray=sU;Oy.fromByteArray=cU;var go=[],ys=[],tU=typeof Uint8Array<"u"?Uint8Array:Array,yb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var fh=0,nU=yb.length;fh<nU;++fh)go[fh]=yb[fh],ys[yb.charCodeAt(fh)]=fh;ys[45]=62;ys[95]=63;function x3(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function rU(n){var e=x3(n),t=e[0],r=e[1];return(t+r)*3/4-r}function iU(n,e,t){return(e+t)*3/4-t}function sU(n){var e,t=x3(n),r=t[0],i=t[1],s=new tU(iU(n,r,i)),c=0,u=i>0?r-4:r,h;for(h=0;h<u;h+=4)e=ys[n.charCodeAt(h)]<<18|ys[n.charCodeAt(h+1)]<<12|ys[n.charCodeAt(h+2)]<<6|ys[n.charCodeAt(h+3)],s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=e&255;return i===2&&(e=ys[n.charCodeAt(h)]<<2|ys[n.charCodeAt(h+1)]>>4,s[c++]=e&255),i===1&&(e=ys[n.charCodeAt(h)]<<10|ys[n.charCodeAt(h+1)]<<4|ys[n.charCodeAt(h+2)]>>2,s[c++]=e>>8&255,s[c++]=e&255),s}function oU(n){return go[n>>18&63]+go[n>>12&63]+go[n>>6&63]+go[n&63]}function aU(n,e,t){for(var r,i=[],s=e;s<t;s+=3)r=(n[s]<<16&16711680)+(n[s+1]<<8&65280)+(n[s+2]&255),i.push(oU(r));return i.join("")}function cU(n){for(var e,t=n.length,r=t%3,i=[],s=16383,c=0,u=t-r;c<u;c+=s)i.push(aU(n,c,c+s>u?u:c+s));return r===1?(e=n[t-1],i.push(go[e>>2]+go[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],i.push(go[e>>10]+go[e>>4&63]+go[e<<2&63]+"=")),i.join("")}var pE={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */pE.read=function(n,e,t,r,i){var s,c,u=i*8-r-1,h=(1<<u)-1,d=h>>1,p=-7,v=t?i-1:0,x=t?-1:1,y=n[e+v];for(v+=x,s=y&(1<<-p)-1,y>>=-p,p+=u;p>0;s=s*256+n[e+v],v+=x,p-=8);for(c=s&(1<<-p)-1,s>>=-p,p+=r;p>0;c=c*256+n[e+v],v+=x,p-=8);if(s===0)s=1-d;else{if(s===h)return c?NaN:(y?-1:1)*(1/0);c=c+Math.pow(2,r),s=s-d}return(y?-1:1)*c*Math.pow(2,s-r)};pE.write=function(n,e,t,r,i,s){var c,u,h,d=s*8-i-1,p=(1<<d)-1,v=p>>1,x=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=r?0:s-1,S=r?1:-1,k=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,c=p):(c=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-c))<1&&(c--,h*=2),c+v>=1?e+=x/h:e+=x*Math.pow(2,1-v),e*h>=2&&(c++,h/=2),c+v>=p?(u=0,c=p):c+v>=1?(u=(e*h-1)*Math.pow(2,i),c=c+v):(u=e*Math.pow(2,v-1)*Math.pow(2,i),c=0));i>=8;n[t+y]=u&255,y+=S,u/=256,i-=8);for(c=c<<i|u,d+=i;d>0;n[t+y]=c&255,y+=S,c/=256,d-=8);n[t+y-S]|=k*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const e=Oy,t=pE,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=p,n.SlowBuffer=oe,n.INSPECT_MAX_BYTES=50;const i=2147483647;n.kMaxLength=i;const{Uint8Array:s,ArrayBuffer:c,SharedArrayBuffer:u}=globalThis;p.TYPED_ARRAY_SUPPORT=h(),!p.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{const se=new s(1),z={foo:function(){return 42}};return Object.setPrototypeOf(z,s.prototype),Object.setPrototypeOf(se,z),se.foo()===42}catch{return!1}}Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}});function d(se){if(se>i)throw new RangeError('The value "'+se+'" is invalid for option "size"');const z=new s(se);return Object.setPrototypeOf(z,p.prototype),z}function p(se,z,G){if(typeof se=="number"){if(typeof z=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return S(se)}return v(se,z,G)}p.poolSize=8192;function v(se,z,G){if(typeof se=="string")return k(se,z);if(c.isView(se))return M(se);if(se==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof se);if(Mt(se,c)||se&&Mt(se.buffer,c)||typeof u<"u"&&(Mt(se,u)||se&&Mt(se.buffer,u)))return j(se,z,G);if(typeof se=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const fe=se.valueOf&&se.valueOf();if(fe!=null&&fe!==se)return p.from(fe,z,G);const be=O(se);if(be)return be;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof se[Symbol.toPrimitive]=="function")return p.from(se[Symbol.toPrimitive]("string"),z,G);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof se)}p.from=function(se,z,G){return v(se,z,G)},Object.setPrototypeOf(p.prototype,s.prototype),Object.setPrototypeOf(p,s);function x(se){if(typeof se!="number")throw new TypeError('"size" argument must be of type number');if(se<0)throw new RangeError('The value "'+se+'" is invalid for option "size"')}function y(se,z,G){return x(se),se<=0?d(se):z!==void 0?typeof G=="string"?d(se).fill(z,G):d(se).fill(z):d(se)}p.alloc=function(se,z,G){return y(se,z,G)};function S(se){return x(se),d(se<0?0:Q(se)|0)}p.allocUnsafe=function(se){return S(se)},p.allocUnsafeSlow=function(se){return S(se)};function k(se,z){if((typeof z!="string"||z==="")&&(z="utf8"),!p.isEncoding(z))throw new TypeError("Unknown encoding: "+z);const G=ce(se,z)|0;let fe=d(G);const be=fe.write(se,z);return be!==G&&(fe=fe.slice(0,be)),fe}function I(se){const z=se.length<0?0:Q(se.length)|0,G=d(z);for(let fe=0;fe<z;fe+=1)G[fe]=se[fe]&255;return G}function M(se){if(Mt(se,s)){const z=new s(se);return j(z.buffer,z.byteOffset,z.byteLength)}return I(se)}function j(se,z,G){if(z<0||se.byteLength<z)throw new RangeError('"offset" is outside of buffer bounds');if(se.byteLength<z+(G||0))throw new RangeError('"length" is outside of buffer bounds');let fe;return z===void 0&&G===void 0?fe=new s(se):G===void 0?fe=new s(se,z):fe=new s(se,z,G),Object.setPrototypeOf(fe,p.prototype),fe}function O(se){if(p.isBuffer(se)){const z=Q(se.length)|0,G=d(z);return G.length===0||se.copy(G,0,0,z),G}if(se.length!==void 0)return typeof se.length!="number"||lt(se.length)?d(0):I(se);if(se.type==="Buffer"&&Array.isArray(se.data))return I(se.data)}function Q(se){if(se>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return se|0}function oe(se){return+se!=se&&(se=0),p.alloc(+se)}p.isBuffer=function(z){return z!=null&&z._isBuffer===!0&&z!==p.prototype},p.compare=function(z,G){if(Mt(z,s)&&(z=p.from(z,z.offset,z.byteLength)),Mt(G,s)&&(G=p.from(G,G.offset,G.byteLength)),!p.isBuffer(z)||!p.isBuffer(G))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(z===G)return 0;let fe=z.length,be=G.length;for(let Ae=0,ke=Math.min(fe,be);Ae<ke;++Ae)if(z[Ae]!==G[Ae]){fe=z[Ae],be=G[Ae];break}return fe<be?-1:be<fe?1:0},p.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(z,G){if(!Array.isArray(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return p.alloc(0);let fe;if(G===void 0)for(G=0,fe=0;fe<z.length;++fe)G+=z[fe].length;const be=p.allocUnsafe(G);let Ae=0;for(fe=0;fe<z.length;++fe){let ke=z[fe];if(Mt(ke,s))Ae+ke.length>be.length?(p.isBuffer(ke)||(ke=p.from(ke)),ke.copy(be,Ae)):s.prototype.set.call(be,ke,Ae);else if(p.isBuffer(ke))ke.copy(be,Ae);else throw new TypeError('"list" argument must be an Array of Buffers');Ae+=ke.length}return be};function ce(se,z){if(p.isBuffer(se))return se.length;if(c.isView(se)||Mt(se,c))return se.byteLength;if(typeof se!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof se);const G=se.length,fe=arguments.length>2&&arguments[2]===!0;if(!fe&&G===0)return 0;let be=!1;for(;;)switch(z){case"ascii":case"latin1":case"binary":return G;case"utf8":case"utf-8":return we(se).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G*2;case"hex":return G>>>1;case"base64":return Ye(se).length;default:if(be)return fe?-1:we(se).length;z=(""+z).toLowerCase(),be=!0}}p.byteLength=ce;function W(se,z,G){let fe=!1;if((z===void 0||z<0)&&(z=0),z>this.length||((G===void 0||G>this.length)&&(G=this.length),G<=0)||(G>>>=0,z>>>=0,G<=z))return"";for(se||(se="utf8");;)switch(se){case"hex":return w(this,z,G);case"utf8":case"utf-8":return Y(this,z,G);case"ascii":return D(this,z,G);case"latin1":case"binary":return A(this,z,G);case"base64":return C(this,z,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,z,G);default:if(fe)throw new TypeError("Unknown encoding: "+se);se=(se+"").toLowerCase(),fe=!0}}p.prototype._isBuffer=!0;function K(se,z,G){const fe=se[z];se[z]=se[G],se[G]=fe}p.prototype.swap16=function(){const z=this.length;if(z%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let G=0;G<z;G+=2)K(this,G,G+1);return this},p.prototype.swap32=function(){const z=this.length;if(z%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let G=0;G<z;G+=4)K(this,G,G+3),K(this,G+1,G+2);return this},p.prototype.swap64=function(){const z=this.length;if(z%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let G=0;G<z;G+=8)K(this,G,G+7),K(this,G+1,G+6),K(this,G+2,G+5),K(this,G+3,G+4);return this},p.prototype.toString=function(){const z=this.length;return z===0?"":arguments.length===0?Y(this,0,z):W.apply(this,arguments)},p.prototype.toLocaleString=p.prototype.toString,p.prototype.equals=function(z){if(!p.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z?!0:p.compare(this,z)===0},p.prototype.inspect=function(){let z="";const G=n.INSPECT_MAX_BYTES;return z=this.toString("hex",0,G).replace(/(.{2})/g,"$1 ").trim(),this.length>G&&(z+=" ... "),"<Buffer "+z+">"},r&&(p.prototype[r]=p.prototype.inspect),p.prototype.compare=function(z,G,fe,be,Ae){if(Mt(z,s)&&(z=p.from(z,z.offset,z.byteLength)),!p.isBuffer(z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof z);if(G===void 0&&(G=0),fe===void 0&&(fe=z?z.length:0),be===void 0&&(be=0),Ae===void 0&&(Ae=this.length),G<0||fe>z.length||be<0||Ae>this.length)throw new RangeError("out of range index");if(be>=Ae&&G>=fe)return 0;if(be>=Ae)return-1;if(G>=fe)return 1;if(G>>>=0,fe>>>=0,be>>>=0,Ae>>>=0,this===z)return 0;let ke=Ae-be,Ct=fe-G;const bt=Math.min(ke,Ct),At=this.slice(be,Ae),Kt=z.slice(G,fe);for(let mt=0;mt<bt;++mt)if(At[mt]!==Kt[mt]){ke=At[mt],Ct=Kt[mt];break}return ke<Ct?-1:Ct<ke?1:0};function B(se,z,G,fe,be){if(se.length===0)return-1;if(typeof G=="string"?(fe=G,G=0):G>2147483647?G=2147483647:G<-2147483648&&(G=-2147483648),G=+G,lt(G)&&(G=be?0:se.length-1),G<0&&(G=se.length+G),G>=se.length){if(be)return-1;G=se.length-1}else if(G<0)if(be)G=0;else return-1;if(typeof z=="string"&&(z=p.from(z,fe)),p.isBuffer(z))return z.length===0?-1:U(se,z,G,fe,be);if(typeof z=="number")return z=z&255,typeof s.prototype.indexOf=="function"?be?s.prototype.indexOf.call(se,z,G):s.prototype.lastIndexOf.call(se,z,G):U(se,[z],G,fe,be);throw new TypeError("val must be string, number or Buffer")}function U(se,z,G,fe,be){let Ae=1,ke=se.length,Ct=z.length;if(fe!==void 0&&(fe=String(fe).toLowerCase(),fe==="ucs2"||fe==="ucs-2"||fe==="utf16le"||fe==="utf-16le")){if(se.length<2||z.length<2)return-1;Ae=2,ke/=2,Ct/=2,G/=2}function bt(Kt,mt){return Ae===1?Kt[mt]:Kt.readUInt16BE(mt*Ae)}let At;if(be){let Kt=-1;for(At=G;At<ke;At++)if(bt(se,At)===bt(z,Kt===-1?0:At-Kt)){if(Kt===-1&&(Kt=At),At-Kt+1===Ct)return Kt*Ae}else Kt!==-1&&(At-=At-Kt),Kt=-1}else for(G+Ct>ke&&(G=ke-Ct),At=G;At>=0;At--){let Kt=!0;for(let mt=0;mt<Ct;mt++)if(bt(se,At+mt)!==bt(z,mt)){Kt=!1;break}if(Kt)return At}return-1}p.prototype.includes=function(z,G,fe){return this.indexOf(z,G,fe)!==-1},p.prototype.indexOf=function(z,G,fe){return B(this,z,G,fe,!0)},p.prototype.lastIndexOf=function(z,G,fe){return B(this,z,G,fe,!1)};function q(se,z,G,fe){G=Number(G)||0;const be=se.length-G;fe?(fe=Number(fe),fe>be&&(fe=be)):fe=be;const Ae=z.length;fe>Ae/2&&(fe=Ae/2);let ke;for(ke=0;ke<fe;++ke){const Ct=parseInt(z.substr(ke*2,2),16);if(lt(Ct))return ke;se[G+ke]=Ct}return ke}function L(se,z,G,fe){return Je(we(z,se.length-G),se,G,fe)}function T(se,z,G,fe){return Je(Ee(z),se,G,fe)}function g(se,z,G,fe){return Je(Ye(z),se,G,fe)}function R(se,z,G,fe){return Je(Ve(z,se.length-G),se,G,fe)}p.prototype.write=function(z,G,fe,be){if(G===void 0)be="utf8",fe=this.length,G=0;else if(fe===void 0&&typeof G=="string")be=G,fe=this.length,G=0;else if(isFinite(G))G=G>>>0,isFinite(fe)?(fe=fe>>>0,be===void 0&&(be="utf8")):(be=fe,fe=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ae=this.length-G;if((fe===void 0||fe>Ae)&&(fe=Ae),z.length>0&&(fe<0||G<0)||G>this.length)throw new RangeError("Attempt to write outside buffer bounds");be||(be="utf8");let ke=!1;for(;;)switch(be){case"hex":return q(this,z,G,fe);case"utf8":case"utf-8":return L(this,z,G,fe);case"ascii":case"latin1":case"binary":return T(this,z,G,fe);case"base64":return g(this,z,G,fe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,z,G,fe);default:if(ke)throw new TypeError("Unknown encoding: "+be);be=(""+be).toLowerCase(),ke=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(se,z,G){return z===0&&G===se.length?e.fromByteArray(se):e.fromByteArray(se.slice(z,G))}function Y(se,z,G){G=Math.min(se.length,G);const fe=[];let be=z;for(;be<G;){const Ae=se[be];let ke=null,Ct=Ae>239?4:Ae>223?3:Ae>191?2:1;if(be+Ct<=G){let bt,At,Kt,mt;switch(Ct){case 1:Ae<128&&(ke=Ae);break;case 2:bt=se[be+1],(bt&192)===128&&(mt=(Ae&31)<<6|bt&63,mt>127&&(ke=mt));break;case 3:bt=se[be+1],At=se[be+2],(bt&192)===128&&(At&192)===128&&(mt=(Ae&15)<<12|(bt&63)<<6|At&63,mt>2047&&(mt<55296||mt>57343)&&(ke=mt));break;case 4:bt=se[be+1],At=se[be+2],Kt=se[be+3],(bt&192)===128&&(At&192)===128&&(Kt&192)===128&&(mt=(Ae&15)<<18|(bt&63)<<12|(At&63)<<6|Kt&63,mt>65535&&mt<1114112&&(ke=mt))}}ke===null?(ke=65533,Ct=1):ke>65535&&(ke-=65536,fe.push(ke>>>10&1023|55296),ke=56320|ke&1023),fe.push(ke),be+=Ct}return Z(fe)}const te=4096;function Z(se){const z=se.length;if(z<=te)return String.fromCharCode.apply(String,se);let G="",fe=0;for(;fe<z;)G+=String.fromCharCode.apply(String,se.slice(fe,fe+=te));return G}function D(se,z,G){let fe="";G=Math.min(se.length,G);for(let be=z;be<G;++be)fe+=String.fromCharCode(se[be]&127);return fe}function A(se,z,G){let fe="";G=Math.min(se.length,G);for(let be=z;be<G;++be)fe+=String.fromCharCode(se[be]);return fe}function w(se,z,G){const fe=se.length;(!z||z<0)&&(z=0),(!G||G<0||G>fe)&&(G=fe);let be="";for(let Ae=z;Ae<G;++Ae)be+=Et[se[Ae]];return be}function E(se,z,G){const fe=se.slice(z,G);let be="";for(let Ae=0;Ae<fe.length-1;Ae+=2)be+=String.fromCharCode(fe[Ae]+fe[Ae+1]*256);return be}p.prototype.slice=function(z,G){const fe=this.length;z=~~z,G=G===void 0?fe:~~G,z<0?(z+=fe,z<0&&(z=0)):z>fe&&(z=fe),G<0?(G+=fe,G<0&&(G=0)):G>fe&&(G=fe),G<z&&(G=z);const be=this.subarray(z,G);return Object.setPrototypeOf(be,p.prototype),be};function H(se,z,G){if(se%1!==0||se<0)throw new RangeError("offset is not uint");if(se+z>G)throw new RangeError("Trying to access beyond buffer length")}p.prototype.readUintLE=p.prototype.readUIntLE=function(z,G,fe){z=z>>>0,G=G>>>0,fe||H(z,G,this.length);let be=this[z],Ae=1,ke=0;for(;++ke<G&&(Ae*=256);)be+=this[z+ke]*Ae;return be},p.prototype.readUintBE=p.prototype.readUIntBE=function(z,G,fe){z=z>>>0,G=G>>>0,fe||H(z,G,this.length);let be=this[z+--G],Ae=1;for(;G>0&&(Ae*=256);)be+=this[z+--G]*Ae;return be},p.prototype.readUint8=p.prototype.readUInt8=function(z,G){return z=z>>>0,G||H(z,1,this.length),this[z]},p.prototype.readUint16LE=p.prototype.readUInt16LE=function(z,G){return z=z>>>0,G||H(z,2,this.length),this[z]|this[z+1]<<8},p.prototype.readUint16BE=p.prototype.readUInt16BE=function(z,G){return z=z>>>0,G||H(z,2,this.length),this[z]<<8|this[z+1]},p.prototype.readUint32LE=p.prototype.readUInt32LE=function(z,G){return z=z>>>0,G||H(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+this[z+3]*16777216},p.prototype.readUint32BE=p.prototype.readUInt32BE=function(z,G){return z=z>>>0,G||H(z,4,this.length),this[z]*16777216+(this[z+1]<<16|this[z+2]<<8|this[z+3])},p.prototype.readBigUInt64LE=Yn(function(z){z=z>>>0,P(z,"offset");const G=this[z],fe=this[z+7];(G===void 0||fe===void 0)&&J(z,this.length-8);const be=G+this[++z]*2**8+this[++z]*2**16+this[++z]*2**24,Ae=this[++z]+this[++z]*2**8+this[++z]*2**16+fe*2**24;return BigInt(be)+(BigInt(Ae)<<BigInt(32))}),p.prototype.readBigUInt64BE=Yn(function(z){z=z>>>0,P(z,"offset");const G=this[z],fe=this[z+7];(G===void 0||fe===void 0)&&J(z,this.length-8);const be=G*2**24+this[++z]*2**16+this[++z]*2**8+this[++z],Ae=this[++z]*2**24+this[++z]*2**16+this[++z]*2**8+fe;return(BigInt(be)<<BigInt(32))+BigInt(Ae)}),p.prototype.readIntLE=function(z,G,fe){z=z>>>0,G=G>>>0,fe||H(z,G,this.length);let be=this[z],Ae=1,ke=0;for(;++ke<G&&(Ae*=256);)be+=this[z+ke]*Ae;return Ae*=128,be>=Ae&&(be-=Math.pow(2,8*G)),be},p.prototype.readIntBE=function(z,G,fe){z=z>>>0,G=G>>>0,fe||H(z,G,this.length);let be=G,Ae=1,ke=this[z+--be];for(;be>0&&(Ae*=256);)ke+=this[z+--be]*Ae;return Ae*=128,ke>=Ae&&(ke-=Math.pow(2,8*G)),ke},p.prototype.readInt8=function(z,G){return z=z>>>0,G||H(z,1,this.length),this[z]&128?(255-this[z]+1)*-1:this[z]},p.prototype.readInt16LE=function(z,G){z=z>>>0,G||H(z,2,this.length);const fe=this[z]|this[z+1]<<8;return fe&32768?fe|4294901760:fe},p.prototype.readInt16BE=function(z,G){z=z>>>0,G||H(z,2,this.length);const fe=this[z+1]|this[z]<<8;return fe&32768?fe|4294901760:fe},p.prototype.readInt32LE=function(z,G){return z=z>>>0,G||H(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},p.prototype.readInt32BE=function(z,G){return z=z>>>0,G||H(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},p.prototype.readBigInt64LE=Yn(function(z){z=z>>>0,P(z,"offset");const G=this[z],fe=this[z+7];(G===void 0||fe===void 0)&&J(z,this.length-8);const be=this[z+4]+this[z+5]*2**8+this[z+6]*2**16+(fe<<24);return(BigInt(be)<<BigInt(32))+BigInt(G+this[++z]*2**8+this[++z]*2**16+this[++z]*2**24)}),p.prototype.readBigInt64BE=Yn(function(z){z=z>>>0,P(z,"offset");const G=this[z],fe=this[z+7];(G===void 0||fe===void 0)&&J(z,this.length-8);const be=(G<<24)+this[++z]*2**16+this[++z]*2**8+this[++z];return(BigInt(be)<<BigInt(32))+BigInt(this[++z]*2**24+this[++z]*2**16+this[++z]*2**8+fe)}),p.prototype.readFloatLE=function(z,G){return z=z>>>0,G||H(z,4,this.length),t.read(this,z,!0,23,4)},p.prototype.readFloatBE=function(z,G){return z=z>>>0,G||H(z,4,this.length),t.read(this,z,!1,23,4)},p.prototype.readDoubleLE=function(z,G){return z=z>>>0,G||H(z,8,this.length),t.read(this,z,!0,52,8)},p.prototype.readDoubleBE=function(z,G){return z=z>>>0,G||H(z,8,this.length),t.read(this,z,!1,52,8)};function ne(se,z,G,fe,be,Ae){if(!p.isBuffer(se))throw new TypeError('"buffer" argument must be a Buffer instance');if(z>be||z<Ae)throw new RangeError('"value" argument is out of bounds');if(G+fe>se.length)throw new RangeError("Index out of range")}p.prototype.writeUintLE=p.prototype.writeUIntLE=function(z,G,fe,be){if(z=+z,G=G>>>0,fe=fe>>>0,!be){const Ct=Math.pow(2,8*fe)-1;ne(this,z,G,fe,Ct,0)}let Ae=1,ke=0;for(this[G]=z&255;++ke<fe&&(Ae*=256);)this[G+ke]=z/Ae&255;return G+fe},p.prototype.writeUintBE=p.prototype.writeUIntBE=function(z,G,fe,be){if(z=+z,G=G>>>0,fe=fe>>>0,!be){const Ct=Math.pow(2,8*fe)-1;ne(this,z,G,fe,Ct,0)}let Ae=fe-1,ke=1;for(this[G+Ae]=z&255;--Ae>=0&&(ke*=256);)this[G+Ae]=z/ke&255;return G+fe},p.prototype.writeUint8=p.prototype.writeUInt8=function(z,G,fe){return z=+z,G=G>>>0,fe||ne(this,z,G,1,255,0),this[G]=z&255,G+1},p.prototype.writeUint16LE=p.prototype.writeUInt16LE=function(z,G,fe){return z=+z,G=G>>>0,fe||ne(this,z,G,2,65535,0),this[G]=z&255,this[G+1]=z>>>8,G+2},p.prototype.writeUint16BE=p.prototype.writeUInt16BE=function(z,G,fe){return z=+z,G=G>>>0,fe||ne(this,z,G,2,65535,0),this[G]=z>>>8,this[G+1]=z&255,G+2},p.prototype.writeUint32LE=p.prototype.writeUInt32LE=function(z,G,fe){return z=+z,G=G>>>0,fe||ne(this,z,G,4,4294967295,0),this[G+3]=z>>>24,this[G+2]=z>>>16,this[G+1]=z>>>8,this[G]=z&255,G+4},p.prototype.writeUint32BE=p.prototype.writeUInt32BE=function(z,G,fe){return z=+z,G=G>>>0,fe||ne(this,z,G,4,4294967295,0),this[G]=z>>>24,this[G+1]=z>>>16,this[G+2]=z>>>8,this[G+3]=z&255,G+4};function ae(se,z,G,fe,be){Jt(z,fe,be,se,G,7);let Ae=Number(z&BigInt(4294967295));se[G++]=Ae,Ae=Ae>>8,se[G++]=Ae,Ae=Ae>>8,se[G++]=Ae,Ae=Ae>>8,se[G++]=Ae;let ke=Number(z>>BigInt(32)&BigInt(4294967295));return se[G++]=ke,ke=ke>>8,se[G++]=ke,ke=ke>>8,se[G++]=ke,ke=ke>>8,se[G++]=ke,G}function me(se,z,G,fe,be){Jt(z,fe,be,se,G,7);let Ae=Number(z&BigInt(4294967295));se[G+7]=Ae,Ae=Ae>>8,se[G+6]=Ae,Ae=Ae>>8,se[G+5]=Ae,Ae=Ae>>8,se[G+4]=Ae;let ke=Number(z>>BigInt(32)&BigInt(4294967295));return se[G+3]=ke,ke=ke>>8,se[G+2]=ke,ke=ke>>8,se[G+1]=ke,ke=ke>>8,se[G]=ke,G+8}p.prototype.writeBigUInt64LE=Yn(function(z,G=0){return ae(this,z,G,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeBigUInt64BE=Yn(function(z,G=0){return me(this,z,G,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeIntLE=function(z,G,fe,be){if(z=+z,G=G>>>0,!be){const bt=Math.pow(2,8*fe-1);ne(this,z,G,fe,bt-1,-bt)}let Ae=0,ke=1,Ct=0;for(this[G]=z&255;++Ae<fe&&(ke*=256);)z<0&&Ct===0&&this[G+Ae-1]!==0&&(Ct=1),this[G+Ae]=(z/ke>>0)-Ct&255;return G+fe},p.prototype.writeIntBE=function(z,G,fe,be){if(z=+z,G=G>>>0,!be){const bt=Math.pow(2,8*fe-1);ne(this,z,G,fe,bt-1,-bt)}let Ae=fe-1,ke=1,Ct=0;for(this[G+Ae]=z&255;--Ae>=0&&(ke*=256);)z<0&&Ct===0&&this[G+Ae+1]!==0&&(Ct=1),this[G+Ae]=(z/ke>>0)-Ct&255;return G+fe},p.prototype.writeInt8=function(z,G,fe){return z=+z,G=G>>>0,fe||ne(this,z,G,1,127,-128),z<0&&(z=255+z+1),this[G]=z&255,G+1},p.prototype.writeInt16LE=function(z,G,fe){return z=+z,G=G>>>0,fe||ne(this,z,G,2,32767,-32768),this[G]=z&255,this[G+1]=z>>>8,G+2},p.prototype.writeInt16BE=function(z,G,fe){return z=+z,G=G>>>0,fe||ne(this,z,G,2,32767,-32768),this[G]=z>>>8,this[G+1]=z&255,G+2},p.prototype.writeInt32LE=function(z,G,fe){return z=+z,G=G>>>0,fe||ne(this,z,G,4,2147483647,-2147483648),this[G]=z&255,this[G+1]=z>>>8,this[G+2]=z>>>16,this[G+3]=z>>>24,G+4},p.prototype.writeInt32BE=function(z,G,fe){return z=+z,G=G>>>0,fe||ne(this,z,G,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),this[G]=z>>>24,this[G+1]=z>>>16,this[G+2]=z>>>8,this[G+3]=z&255,G+4},p.prototype.writeBigInt64LE=Yn(function(z,G=0){return ae(this,z,G,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeBigInt64BE=Yn(function(z,G=0){return me(this,z,G,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Le(se,z,G,fe,be,Ae){if(G+fe>se.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("Index out of range")}function Ue(se,z,G,fe,be){return z=+z,G=G>>>0,be||Le(se,z,G,4),t.write(se,z,G,fe,23,4),G+4}p.prototype.writeFloatLE=function(z,G,fe){return Ue(this,z,G,!0,fe)},p.prototype.writeFloatBE=function(z,G,fe){return Ue(this,z,G,!1,fe)};function it(se,z,G,fe,be){return z=+z,G=G>>>0,be||Le(se,z,G,8),t.write(se,z,G,fe,52,8),G+8}p.prototype.writeDoubleLE=function(z,G,fe){return it(this,z,G,!0,fe)},p.prototype.writeDoubleBE=function(z,G,fe){return it(this,z,G,!1,fe)},p.prototype.copy=function(z,G,fe,be){if(!p.isBuffer(z))throw new TypeError("argument should be a Buffer");if(fe||(fe=0),!be&&be!==0&&(be=this.length),G>=z.length&&(G=z.length),G||(G=0),be>0&&be<fe&&(be=fe),be===fe||z.length===0||this.length===0)return 0;if(G<0)throw new RangeError("targetStart out of bounds");if(fe<0||fe>=this.length)throw new RangeError("Index out of range");if(be<0)throw new RangeError("sourceEnd out of bounds");be>this.length&&(be=this.length),z.length-G<be-fe&&(be=z.length-G+fe);const Ae=be-fe;return this===z&&typeof s.prototype.copyWithin=="function"?this.copyWithin(G,fe,be):s.prototype.set.call(z,this.subarray(fe,be),G),Ae},p.prototype.fill=function(z,G,fe,be){if(typeof z=="string"){if(typeof G=="string"?(be=G,G=0,fe=this.length):typeof fe=="string"&&(be=fe,fe=this.length),be!==void 0&&typeof be!="string")throw new TypeError("encoding must be a string");if(typeof be=="string"&&!p.isEncoding(be))throw new TypeError("Unknown encoding: "+be);if(z.length===1){const ke=z.charCodeAt(0);(be==="utf8"&&ke<128||be==="latin1")&&(z=ke)}}else typeof z=="number"?z=z&255:typeof z=="boolean"&&(z=Number(z));if(G<0||this.length<G||this.length<fe)throw new RangeError("Out of range index");if(fe<=G)return this;G=G>>>0,fe=fe===void 0?this.length:fe>>>0,z||(z=0);let Ae;if(typeof z=="number")for(Ae=G;Ae<fe;++Ae)this[Ae]=z;else{const ke=p.isBuffer(z)?z:p.from(z,be),Ct=ke.length;if(Ct===0)throw new TypeError('The value "'+z+'" is invalid for argument "value"');for(Ae=0;Ae<fe-G;++Ae)this[Ae+G]=ke[Ae%Ct]}return this};const ut={};function kt(se,z,G){ut[se]=class extends G{constructor(){super(),Object.defineProperty(this,"message",{value:z.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${se}]`,this.stack,delete this.name}get code(){return se}set code(be){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:be,writable:!0})}toString(){return`${this.name} [${se}]: ${this.message}`}}}kt("ERR_BUFFER_OUT_OF_BOUNDS",function(se){return se?`${se} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),kt("ERR_INVALID_ARG_TYPE",function(se,z){return`The "${se}" argument must be of type number. Received type ${typeof z}`},TypeError),kt("ERR_OUT_OF_RANGE",function(se,z,G){let fe=`The value of "${se}" is out of range.`,be=G;return Number.isInteger(G)&&Math.abs(G)>2**32?be=lr(String(G)):typeof G=="bigint"&&(be=String(G),(G>BigInt(2)**BigInt(32)||G<-(BigInt(2)**BigInt(32)))&&(be=lr(be)),be+="n"),fe+=` It must be ${z}. Received ${be}`,fe},RangeError);function lr(se){let z="",G=se.length;const fe=se[0]==="-"?1:0;for(;G>=fe+4;G-=3)z=`_${se.slice(G-3,G)}${z}`;return`${se.slice(0,G)}${z}`}function Ot(se,z,G){P(z,"offset"),(se[z]===void 0||se[z+G]===void 0)&&J(z,se.length-(G+1))}function Jt(se,z,G,fe,be,Ae){if(se>G||se<z){const ke=typeof z=="bigint"?"n":"";let Ct;throw z===0||z===BigInt(0)?Ct=`>= 0${ke} and < 2${ke} ** ${(Ae+1)*8}${ke}`:Ct=`>= -(2${ke} ** ${(Ae+1)*8-1}${ke}) and < 2 ** ${(Ae+1)*8-1}${ke}`,new ut.ERR_OUT_OF_RANGE("value",Ct,se)}Ot(fe,be,Ae)}function P(se,z){if(typeof se!="number")throw new ut.ERR_INVALID_ARG_TYPE(z,"number",se)}function J(se,z,G){throw Math.floor(se)!==se?(P(se,G),new ut.ERR_OUT_OF_RANGE("offset","an integer",se)):z<0?new ut.ERR_BUFFER_OUT_OF_BOUNDS:new ut.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${z}`,se)}const re=/[^+/0-9A-Za-z-_]/g;function ye(se){if(se=se.split("=")[0],se=se.trim().replace(re,""),se.length<2)return"";for(;se.length%4!==0;)se=se+"=";return se}function we(se,z){z=z||1/0;let G;const fe=se.length;let be=null;const Ae=[];for(let ke=0;ke<fe;++ke){if(G=se.charCodeAt(ke),G>55295&&G<57344){if(!be){if(G>56319){(z-=3)>-1&&Ae.push(239,191,189);continue}else if(ke+1===fe){(z-=3)>-1&&Ae.push(239,191,189);continue}be=G;continue}if(G<56320){(z-=3)>-1&&Ae.push(239,191,189),be=G;continue}G=(be-55296<<10|G-56320)+65536}else be&&(z-=3)>-1&&Ae.push(239,191,189);if(be=null,G<128){if((z-=1)<0)break;Ae.push(G)}else if(G<2048){if((z-=2)<0)break;Ae.push(G>>6|192,G&63|128)}else if(G<65536){if((z-=3)<0)break;Ae.push(G>>12|224,G>>6&63|128,G&63|128)}else if(G<1114112){if((z-=4)<0)break;Ae.push(G>>18|240,G>>12&63|128,G>>6&63|128,G&63|128)}else throw new Error("Invalid code point")}return Ae}function Ee(se){const z=[];for(let G=0;G<se.length;++G)z.push(se.charCodeAt(G)&255);return z}function Ve(se,z){let G,fe,be;const Ae=[];for(let ke=0;ke<se.length&&!((z-=2)<0);++ke)G=se.charCodeAt(ke),fe=G>>8,be=G%256,Ae.push(be),Ae.push(fe);return Ae}function Ye(se){return e.toByteArray(ye(se))}function Je(se,z,G,fe){let be;for(be=0;be<fe&&!(be+G>=z.length||be>=se.length);++be)z[be+G]=se[be];return be}function Mt(se,z){return se instanceof z||se!=null&&se.constructor!=null&&se.constructor.name!=null&&se.constructor.name===z.name}function lt(se){return se!==se}const Et=(function(){const se="0123456789abcdef",z=new Array(256);for(let G=0;G<16;++G){const fe=G*16;for(let be=0;be<16;++be)z[fe+be]=se[G]+se[be]}return z})();function Yn(se){return typeof BigInt>"u"?fn:se}function fn(){throw new Error("BigInt not supported")}})(dE);const xt=dE.Buffer,ft=dE.Buffer,dh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Pp(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function dp(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function Ta(n,...e){if(!Pp(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function E3(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");dp(n.outputLen),dp(n.blockLen)}function ef(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function A3(n,e){Ta(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function lU(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function Wc(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}function wb(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function to(n,e){return n<<32-e|n>>>e}const uU=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function hU(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}function fU(n){for(let e=0;e<n.length;e++)n[e]=hU(n[e]);return n}const FT=uU?n=>n:fU,S3=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",dU=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function iu(n){if(Ta(n),S3)return n.toHex();let e="";for(let t=0;t<n.length;t++)e+=dU[n[t]];return e}const oa={_0:48,_9:57,A:65,F:70,a:97,f:102};function HT(n){if(n>=oa._0&&n<=oa._9)return n-oa._0;if(n>=oa.A&&n<=oa.F)return n-(oa.A-10);if(n>=oa.a&&n<=oa.f)return n-(oa.a-10)}function $g(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);if(S3)return Uint8Array.fromHex(n);const e=n.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let i=0,s=0;i<t;i++,s+=2){const c=HT(n.charCodeAt(s)),u=HT(n.charCodeAt(s+1));if(c===void 0||u===void 0){const h=n[s]+n[s+1];throw new Error('hex string expected, got non-hex character "'+h+'" at index '+s)}r[i]=c*16+u}return r}function pU(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function My(n){return typeof n=="string"&&(n=pU(n)),Ta(n),n}function yo(...n){let e=0;for(let r=0;r<n.length;r++){const i=n[r];Ta(i),e+=i.length}const t=new Uint8Array(e);for(let r=0,i=0;r<n.length;r++){const s=n[r];t.set(s,i),i+=s.length}return t}let mE=class{};function gE(n){const e=r=>n().update(My(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function yE(n=32){if(dh&&typeof dh.getRandomValues=="function")return dh.getRandomValues(new Uint8Array(n));if(dh&&typeof dh.randomBytes=="function")return Uint8Array.from(dh.randomBytes(n));throw new Error("crypto.getRandomValues must be defined")}function mU(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const i=BigInt(32),s=BigInt(4294967295),c=Number(t>>i&s),u=Number(t&s),h=r?4:0,d=r?0:4;n.setUint32(e+h,c,r),n.setUint32(e+d,u,r)}function gU(n,e,t){return n&e^~n&t}function yU(n,e,t){return n&e^n&t^e&t}class R3 extends mE{constructor(e,t,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=wb(this.buffer)}update(e){ef(this),e=My(e),Ta(e);const{view:t,buffer:r,blockLen:i}=this,s=e.length;for(let c=0;c<s;){const u=Math.min(i-this.pos,s-c);if(u===i){const h=wb(e);for(;i<=s-c;c+=i)this.process(h,c);continue}r.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ef(this),A3(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:s}=this;let{pos:c}=this;t[c++]=128,Wc(this.buffer.subarray(c)),this.padOffset>i-c&&(this.process(r,0),c=0);for(let v=c;v<i;v++)t[v]=0;mU(r,i-8,BigInt(this.length*8),s),this.process(r,0);const u=wb(e),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=h/4,p=this.get();if(d>p.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<d;v++)u.setUint32(4*v,p[v],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:s,destroyed:c,pos:u}=this;return e.destroyed=c,e.finished=s,e.length=i,e.pos=u,i%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const mc=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),oi=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),A0=BigInt(2**32-1),qT=BigInt(32);function wU(n,e=!1){return e?{h:Number(n&A0),l:Number(n>>qT&A0)}:{h:Number(n>>qT&A0)|0,l:Number(n&A0)|0}}function T3(n,e=!1){const t=n.length;let r=new Uint32Array(t),i=new Uint32Array(t);for(let s=0;s<t;s++){const{h:c,l:u}=wU(n[s],e);[r[s],i[s]]=[c,u]}return[r,i]}const GT=(n,e,t)=>n>>>t,$T=(n,e,t)=>n<<32-t|e>>>t,ph=(n,e,t)=>n>>>t|e<<32-t,mh=(n,e,t)=>n<<32-t|e>>>t,S0=(n,e,t)=>n<<64-t|e>>>t-32,R0=(n,e,t)=>n>>>t-32|e<<64-t,bU=(n,e,t)=>n<<t|e>>>32-t,vU=(n,e,t)=>e<<t|n>>>32-t,_U=(n,e,t)=>e<<t-32|n>>>64-t,xU=(n,e,t)=>n<<t-32|e>>>64-t;function aa(n,e,t,r){const i=(e>>>0)+(r>>>0);return{h:n+t+(i/2**32|0)|0,l:i|0}}const EU=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),AU=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,SU=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),RU=(n,e,t,r,i)=>e+t+r+i+(n/2**32|0)|0,TU=(n,e,t,r,i)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),NU=(n,e,t,r,i,s)=>e+t+r+i+s+(n/2**32|0)|0,IU=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),gc=new Uint32Array(64);class kU extends R3{constructor(e=32){super(64,e,8,!1),this.A=mc[0]|0,this.B=mc[1]|0,this.C=mc[2]|0,this.D=mc[3]|0,this.E=mc[4]|0,this.F=mc[5]|0,this.G=mc[6]|0,this.H=mc[7]|0}get(){const{A:e,B:t,C:r,D:i,E:s,F:c,G:u,H:h}=this;return[e,t,r,i,s,c,u,h]}set(e,t,r,i,s,c,u,h){this.A=e|0,this.B=t|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=c|0,this.G=u|0,this.H=h|0}process(e,t){for(let v=0;v<16;v++,t+=4)gc[v]=e.getUint32(t,!1);for(let v=16;v<64;v++){const x=gc[v-15],y=gc[v-2],S=to(x,7)^to(x,18)^x>>>3,k=to(y,17)^to(y,19)^y>>>10;gc[v]=k+gc[v-7]+S+gc[v-16]|0}let{A:r,B:i,C:s,D:c,E:u,F:h,G:d,H:p}=this;for(let v=0;v<64;v++){const x=to(u,6)^to(u,11)^to(u,25),y=p+x+gU(u,h,d)+IU[v]+gc[v]|0,k=(to(r,2)^to(r,13)^to(r,22))+yU(r,i,s)|0;p=d,d=h,h=u,u=c+y|0,c=s,s=i,i=r,r=y+k|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,c=c+this.D|0,u=u+this.E|0,h=h+this.F|0,d=d+this.G|0,p=p+this.H|0,this.set(r,i,s,c,u,h,d,p)}roundClean(){Wc(gc)}destroy(){this.set(0,0,0,0,0,0,0,0),Wc(this.buffer)}}const N3=T3(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),CU=N3[0],OU=N3[1],yc=new Uint32Array(80),wc=new Uint32Array(80);class MU extends R3{constructor(e=64){super(128,e,16,!1),this.Ah=oi[0]|0,this.Al=oi[1]|0,this.Bh=oi[2]|0,this.Bl=oi[3]|0,this.Ch=oi[4]|0,this.Cl=oi[5]|0,this.Dh=oi[6]|0,this.Dl=oi[7]|0,this.Eh=oi[8]|0,this.El=oi[9]|0,this.Fh=oi[10]|0,this.Fl=oi[11]|0,this.Gh=oi[12]|0,this.Gl=oi[13]|0,this.Hh=oi[14]|0,this.Hl=oi[15]|0}get(){const{Ah:e,Al:t,Bh:r,Bl:i,Ch:s,Cl:c,Dh:u,Dl:h,Eh:d,El:p,Fh:v,Fl:x,Gh:y,Gl:S,Hh:k,Hl:I}=this;return[e,t,r,i,s,c,u,h,d,p,v,x,y,S,k,I]}set(e,t,r,i,s,c,u,h,d,p,v,x,y,S,k,I){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=c|0,this.Dh=u|0,this.Dl=h|0,this.Eh=d|0,this.El=p|0,this.Fh=v|0,this.Fl=x|0,this.Gh=y|0,this.Gl=S|0,this.Hh=k|0,this.Hl=I|0}process(e,t){for(let O=0;O<16;O++,t+=4)yc[O]=e.getUint32(t),wc[O]=e.getUint32(t+=4);for(let O=16;O<80;O++){const Q=yc[O-15]|0,oe=wc[O-15]|0,ce=ph(Q,oe,1)^ph(Q,oe,8)^GT(Q,oe,7),W=mh(Q,oe,1)^mh(Q,oe,8)^$T(Q,oe,7),K=yc[O-2]|0,B=wc[O-2]|0,U=ph(K,B,19)^S0(K,B,61)^GT(K,B,6),q=mh(K,B,19)^R0(K,B,61)^$T(K,B,6),L=SU(W,q,wc[O-7],wc[O-16]),T=RU(L,ce,U,yc[O-7],yc[O-16]);yc[O]=T|0,wc[O]=L|0}let{Ah:r,Al:i,Bh:s,Bl:c,Ch:u,Cl:h,Dh:d,Dl:p,Eh:v,El:x,Fh:y,Fl:S,Gh:k,Gl:I,Hh:M,Hl:j}=this;for(let O=0;O<80;O++){const Q=ph(v,x,14)^ph(v,x,18)^S0(v,x,41),oe=mh(v,x,14)^mh(v,x,18)^R0(v,x,41),ce=v&y^~v&k,W=x&S^~x&I,K=TU(j,oe,W,OU[O],wc[O]),B=NU(K,M,Q,ce,CU[O],yc[O]),U=K|0,q=ph(r,i,28)^S0(r,i,34)^S0(r,i,39),L=mh(r,i,28)^R0(r,i,34)^R0(r,i,39),T=r&s^r&u^s&u,g=i&c^i&h^c&h;M=k|0,j=I|0,k=y|0,I=S|0,y=v|0,S=x|0,{h:v,l:x}=aa(d|0,p|0,B|0,U|0),d=u|0,p=h|0,u=s|0,h=c|0,s=r|0,c=i|0;const R=EU(U,L,g);r=AU(R,B,q,T),i=R|0}({h:r,l:i}=aa(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:c}=aa(this.Bh|0,this.Bl|0,s|0,c|0),{h:u,l:h}=aa(this.Ch|0,this.Cl|0,u|0,h|0),{h:d,l:p}=aa(this.Dh|0,this.Dl|0,d|0,p|0),{h:v,l:x}=aa(this.Eh|0,this.El|0,v|0,x|0),{h:y,l:S}=aa(this.Fh|0,this.Fl|0,y|0,S|0),{h:k,l:I}=aa(this.Gh|0,this.Gl|0,k|0,I|0),{h:M,l:j}=aa(this.Hh|0,this.Hl|0,M|0,j|0),this.set(r,i,s,c,u,h,d,p,v,x,y,S,k,I,M,j)}roundClean(){Wc(yc,wc)}destroy(){Wc(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const I3=gE(()=>new kU),BU=gE(()=>new MU);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wE=BigInt(0),M_=BigInt(1);function cu(n,e=""){if(typeof n!="boolean"){const t=e&&`"${e}"`;throw new Error(t+"expected boolean, got type="+typeof n)}return n}function Bs(n,e,t=""){const r=Pp(n),i=n==null?void 0:n.length,s=e!==void 0;if(!r||s&&i!==e){const c=t&&`"${t}" `,u=s?` of length ${e}`:"",h=r?`length=${i}`:`type=${typeof n}`;throw new Error(c+"expected Uint8Array"+u+", got "+h)}return n}function T0(n){const e=n.toString(16);return e.length&1?"0"+e:e}function k3(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?wE:BigInt("0x"+n)}function By(n){return k3(iu(n))}function pp(n){return Ta(n),k3(iu(Uint8Array.from(n).reverse()))}function bE(n,e){return $g(n.toString(16).padStart(e*2,"0"))}function C3(n,e){return bE(n,e).reverse()}function or(n,e,t){let r;if(typeof e=="string")try{r=$g(e)}catch(s){throw new Error(n+" must be hex string or Uint8Array, cause: "+s)}else if(Pp(e))r=Uint8Array.from(e);else throw new Error(n+" must be hex string or Uint8Array");const i=r.length;if(typeof t=="number"&&i!==t)throw new Error(n+" of length "+t+" expected, got "+i);return r}function KT(n){return Uint8Array.from(n)}const bb=n=>typeof n=="bigint"&&wE<=n;function LU(n,e,t){return bb(n)&&bb(e)&&bb(t)&&e<=n&&n<t}function B_(n,e,t,r){if(!LU(e,t,r))throw new Error("expected valid "+n+": "+t+" <= n < "+r+", got "+e)}function O3(n){let e;for(e=0;n>wE;n>>=M_,e+=1);return e}const Up=n=>(M_<<BigInt(n))-M_;function DU(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");const r=y=>new Uint8Array(y),i=y=>Uint8Array.of(y);let s=r(n),c=r(n),u=0;const h=()=>{s.fill(1),c.fill(0),u=0},d=(...y)=>t(c,s,...y),p=(y=r(0))=>{c=d(i(0),y),s=d(),y.length!==0&&(c=d(i(1),y),s=d())},v=()=>{if(u++>=1e3)throw new Error("drbg: tried 1000 values");let y=0;const S=[];for(;y<e;){s=d();const k=s.slice();S.push(k),y+=s.length}return yo(...S)};return(y,S)=>{h(),p(y);let k;for(;!(k=S(v()));)p();return h(),k}}function Vp(n,e,t={}){if(!n||typeof n!="object")throw new Error("expected valid options object");function r(i,s,c){const u=n[i];if(c&&u===void 0)return;const h=typeof u;if(h!==s||u===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${h}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(t).forEach(([i,s])=>r(i,s,!0))}function Kg(n){const e=new WeakMap;return(t,...r)=>{const i=e.get(t);if(i!==void 0)return i;const s=n(t,...r);return e.set(t,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fi=BigInt(0),ni=BigInt(1),Fl=BigInt(2),M3=BigInt(3),B3=BigInt(4),L3=BigInt(5),jU=BigInt(7),D3=BigInt(8),PU=BigInt(9),j3=BigInt(16);function Sr(n,e){const t=n%e;return t>=Fi?t:e+t}function sr(n,e,t){let r=n;for(;e-- >Fi;)r*=r,r%=t;return r}function WT(n,e){if(n===Fi)throw new Error("invert: expected non-zero number");if(e<=Fi)throw new Error("invert: expected positive modulus, got "+e);let t=Sr(n,e),r=e,i=Fi,s=ni;for(;t!==Fi;){const u=r/t,h=r%t,d=i-s*u;r=t,t=h,i=s,s=d}if(r!==ni)throw new Error("invert: does not exist");return Sr(i,e)}function vE(n,e,t){if(!n.eql(n.sqr(e),t))throw new Error("Cannot find square root")}function P3(n,e){const t=(n.ORDER+ni)/B3,r=n.pow(e,t);return vE(n,r,e),r}function UU(n,e){const t=(n.ORDER-L3)/D3,r=n.mul(e,Fl),i=n.pow(r,t),s=n.mul(e,i),c=n.mul(n.mul(s,Fl),i),u=n.mul(s,n.sub(c,n.ONE));return vE(n,u,e),u}function VU(n){const e=yu(n),t=U3(n),r=t(e,e.neg(e.ONE)),i=t(e,r),s=t(e,e.neg(r)),c=(n+jU)/j3;return(u,h)=>{let d=u.pow(h,c),p=u.mul(d,r);const v=u.mul(d,i),x=u.mul(d,s),y=u.eql(u.sqr(p),h),S=u.eql(u.sqr(v),h);d=u.cmov(d,p,y),p=u.cmov(x,v,S);const k=u.eql(u.sqr(p),h),I=u.cmov(d,p,k);return vE(u,I,h),I}}function U3(n){if(n<M3)throw new Error("sqrt is not defined for small field");let e=n-ni,t=0;for(;e%Fl===Fi;)e/=Fl,t++;let r=Fl;const i=yu(n);for(;YT(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(t===1)return P3;let s=i.pow(r,e);const c=(e+ni)/Fl;return function(h,d){if(h.is0(d))return d;if(YT(h,d)!==1)throw new Error("Cannot find square root");let p=t,v=h.mul(h.ONE,s),x=h.pow(d,e),y=h.pow(d,c);for(;!h.eql(x,h.ONE);){if(h.is0(x))return h.ZERO;let S=1,k=h.sqr(x);for(;!h.eql(k,h.ONE);)if(S++,k=h.sqr(k),S===p)throw new Error("Cannot find square root");const I=ni<<BigInt(p-S-1),M=h.pow(v,I);p=S,v=h.sqr(M),x=h.mul(x,v),y=h.mul(y,M)}return y}}function zU(n){return n%B3===M3?P3:n%D3===L3?UU:n%j3===PU?VU(n):U3(n)}const FU=(n,e)=>(Sr(n,e)&ni)===ni,HU=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function qU(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},t=HU.reduce((r,i)=>(r[i]="function",r),e);return Vp(n,t),n}function GU(n,e,t){if(t<Fi)throw new Error("invalid exponent, negatives unsupported");if(t===Fi)return n.ONE;if(t===ni)return e;let r=n.ONE,i=e;for(;t>Fi;)t&ni&&(r=n.mul(r,i)),i=n.sqr(i),t>>=ni;return r}function V3(n,e,t=!1){const r=new Array(e.length).fill(t?n.ZERO:void 0),i=e.reduce((c,u,h)=>n.is0(u)?c:(r[h]=c,n.mul(c,u)),n.ONE),s=n.inv(i);return e.reduceRight((c,u,h)=>n.is0(u)?c:(r[h]=n.mul(c,r[h]),n.mul(c,u)),s),r}function YT(n,e){const t=(n.ORDER-ni)/Fl,r=n.pow(e,t),i=n.eql(r,n.ONE),s=n.eql(r,n.ZERO),c=n.eql(r,n.neg(n.ONE));if(!i&&!s&&!c)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function z3(n,e){e!==void 0&&dp(e);const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function yu(n,e,t=!1,r={}){if(n<=Fi)throw new Error("invalid field: expected ORDER > 0, got "+n);let i,s,c=!1,u;if(typeof e=="object"&&e!=null){if(r.sqrt||t)throw new Error("cannot specify opts in two arguments");const x=e;x.BITS&&(i=x.BITS),x.sqrt&&(s=x.sqrt),typeof x.isLE=="boolean"&&(t=x.isLE),typeof x.modFromBytes=="boolean"&&(c=x.modFromBytes),u=x.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:h,nByteLength:d}=z3(n,i);if(d>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let p;const v=Object.freeze({ORDER:n,isLE:t,BITS:h,BYTES:d,MASK:Up(h),ZERO:Fi,ONE:ni,allowedLengths:u,create:x=>Sr(x,n),isValid:x=>{if(typeof x!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof x);return Fi<=x&&x<n},is0:x=>x===Fi,isValidNot0:x=>!v.is0(x)&&v.isValid(x),isOdd:x=>(x&ni)===ni,neg:x=>Sr(-x,n),eql:(x,y)=>x===y,sqr:x=>Sr(x*x,n),add:(x,y)=>Sr(x+y,n),sub:(x,y)=>Sr(x-y,n),mul:(x,y)=>Sr(x*y,n),pow:(x,y)=>GU(v,x,y),div:(x,y)=>Sr(x*WT(y,n),n),sqrN:x=>x*x,addN:(x,y)=>x+y,subN:(x,y)=>x-y,mulN:(x,y)=>x*y,inv:x=>WT(x,n),sqrt:s||(x=>(p||(p=zU(n)),p(v,x))),toBytes:x=>t?C3(x,d):bE(x,d),fromBytes:(x,y=!0)=>{if(u){if(!u.includes(x.length)||x.length>d)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+x.length);const k=new Uint8Array(d);k.set(x,t?0:k.length-x.length),x=k}if(x.length!==d)throw new Error("Field.fromBytes: expected "+d+" bytes, got "+x.length);let S=t?pp(x):By(x);if(c&&(S=Sr(S,n)),!y&&!v.isValid(S))throw new Error("invalid field element: outside of range 0..ORDER");return S},invertBatch:x=>V3(v,x),cmov:(x,y,S)=>S?y:x});return Object.freeze(v)}function F3(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function H3(n){const e=F3(n);return e+Math.ceil(e/2)}function $U(n,e,t=!1){const r=n.length,i=F3(e),s=H3(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const c=t?pp(n):By(n),u=Sr(c,e-ni)+ni;return t?C3(u,i):bE(u,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tf=BigInt(0),Hl=BigInt(1);function Wg(n,e){const t=e.negate();return n?t:e}function ql(n,e){const t=V3(n.Fp,e.map(r=>r.Z));return e.map((r,i)=>n.fromAffine(r.toAffine(t[i])))}function q3(n,e){if(!Number.isSafeInteger(n)||n<=0||n>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+n)}function vb(n,e){q3(n,e);const t=Math.ceil(e/n)+1,r=2**(n-1),i=2**n,s=Up(n),c=BigInt(n);return{windows:t,windowSize:r,mask:s,maxNumber:i,shiftBy:c}}function XT(n,e,t){const{windowSize:r,mask:i,maxNumber:s,shiftBy:c}=t;let u=Number(n&i),h=n>>c;u>r&&(u-=s,h+=Hl);const d=e*r,p=d+Math.abs(u)-1,v=u===0,x=u<0,y=e%2!==0;return{nextN:h,offset:p,isZero:v,isNeg:x,isNegF:y,offsetF:d}}function KU(n,e){if(!Array.isArray(n))throw new Error("array expected");n.forEach((t,r)=>{if(!(t instanceof e))throw new Error("invalid point at index "+r)})}function WU(n,e){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((t,r)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+r)})}const _b=new WeakMap,G3=new WeakMap;function xb(n){return G3.get(n)||1}function ZT(n){if(n!==tf)throw new Error("invalid wNAF")}class $3{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,r=this.ZERO){let i=e;for(;t>tf;)t&Hl&&(r=r.add(i)),i=i.double(),t>>=Hl;return r}precomputeWindow(e,t){const{windows:r,windowSize:i}=vb(t,this.bits),s=[];let c=e,u=c;for(let h=0;h<r;h++){u=c,s.push(u);for(let d=1;d<i;d++)u=u.add(c),s.push(u);c=u.double()}return s}wNAF(e,t,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const c=vb(e,this.bits);for(let u=0;u<c.windows;u++){const{nextN:h,offset:d,isZero:p,isNeg:v,isNegF:x,offsetF:y}=XT(r,u,c);r=h,p?s=s.add(Wg(x,t[y])):i=i.add(Wg(v,t[d]))}return ZT(r),{p:i,f:s}}wNAFUnsafe(e,t,r,i=this.ZERO){const s=vb(e,this.bits);for(let c=0;c<s.windows&&r!==tf;c++){const{nextN:u,offset:h,isZero:d,isNeg:p}=XT(r,c,s);if(r=u,!d){const v=t[h];i=i.add(p?v.negate():v)}}return ZT(r),i}getPrecomputes(e,t,r){let i=_b.get(t);return i||(i=this.precomputeWindow(t,e),e!==1&&(typeof r=="function"&&(i=r(i)),_b.set(t,i))),i}cached(e,t,r){const i=xb(e);return this.wNAF(i,this.getPrecomputes(i,e,r),t)}unsafe(e,t,r,i){const s=xb(e);return s===1?this._unsafeLadder(e,t,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,r),t,i)}createCache(e,t){q3(t,this.bits),G3.set(e,t),_b.delete(e)}hasCache(e){return xb(e)!==1}}function YU(n,e,t,r){let i=e,s=n.ZERO,c=n.ZERO;for(;t>tf||r>tf;)t&Hl&&(s=s.add(i)),r&Hl&&(c=c.add(i)),i=i.double(),t>>=Hl,r>>=Hl;return{p1:s,p2:c}}function K3(n,e,t,r){KU(t,n),WU(r,e);const i=t.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const c=n.ZERO,u=O3(BigInt(i));let h=1;u>12?h=u-3:u>4?h=u-2:u>0&&(h=2);const d=Up(h),p=new Array(Number(d)+1).fill(c),v=Math.floor((e.BITS-1)/h)*h;let x=c;for(let y=v;y>=0;y-=h){p.fill(c);for(let k=0;k<s;k++){const I=r[k],M=Number(I>>BigInt(y)&d);p[M]=p[M].add(t[k])}let S=c;for(let k=p.length-1,I=c;k>0;k--)I=I.add(p[k]),S=S.add(I);if(x=x.add(S),y!==0)for(let k=0;k<h;k++)x=x.double()}return x}function QT(n,e,t){if(e){if(e.ORDER!==n)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return qU(e),e}else return yu(n,{isLE:t})}function W3(n,e,t={},r){if(r===void 0&&(r=n==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${n} CURVE object`);for(const h of["p","n","h"]){const d=e[h];if(!(typeof d=="bigint"&&d>tf))throw new Error(`CURVE.${h} must be positive bigint`)}const i=QT(e.p,t.Fp,r),s=QT(e.n,t.Fn,r),u=["Gx","Gy","a",n==="weierstrass"?"b":"d"];for(const h of u)if(!i.isValid(e[h]))throw new Error(`CURVE.${h} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bc=BigInt(0),Ur=BigInt(1),Eb=BigInt(2),XU=BigInt(8);function ZU(n,e,t,r){const i=n.sqr(t),s=n.sqr(r),c=n.add(n.mul(e.a,i),s),u=n.add(n.ONE,n.mul(e.d,n.mul(i,s)));return n.eql(c,u)}function QU(n,e={}){const t=W3("edwards",n,e,e.FpFnLE),{Fp:r,Fn:i}=t;let s=t.CURVE;const{h:c}=s;Vp(e,{},{uvRatio:"function"});const u=Eb<<BigInt(i.BYTES*8)-Ur,h=I=>r.create(I),d=e.uvRatio||((I,M)=>{try{return{isValid:!0,value:r.sqrt(r.div(I,M))}}catch{return{isValid:!1,value:bc}}});if(!ZU(r,s,s.Gx,s.Gy))throw new Error("bad curve params: generator point");function p(I,M,j=!1){const O=j?Ur:bc;return B_("coordinate "+I,M,O,u),M}function v(I){if(!(I instanceof S))throw new Error("ExtendedPoint expected")}const x=Kg((I,M)=>{const{X:j,Y:O,Z:Q}=I,oe=I.is0();M==null&&(M=oe?XU:r.inv(Q));const ce=h(j*M),W=h(O*M),K=r.mul(Q,M);if(oe)return{x:bc,y:Ur};if(K!==Ur)throw new Error("invZ was invalid");return{x:ce,y:W}}),y=Kg(I=>{const{a:M,d:j}=s;if(I.is0())throw new Error("bad point: ZERO");const{X:O,Y:Q,Z:oe,T:ce}=I,W=h(O*O),K=h(Q*Q),B=h(oe*oe),U=h(B*B),q=h(W*M),L=h(B*h(q+K)),T=h(U+h(j*h(W*K)));if(L!==T)throw new Error("bad point: equation left != right (1)");const g=h(O*Q),R=h(oe*ce);if(g!==R)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(M,j,O,Q){this.X=p("x",M),this.Y=p("y",j),this.Z=p("z",O,!0),this.T=p("t",Q),Object.freeze(this)}static CURVE(){return s}static fromAffine(M){if(M instanceof S)throw new Error("extended point not allowed");const{x:j,y:O}=M||{};return p("x",j),p("y",O),new S(j,O,Ur,h(j*O))}static fromBytes(M,j=!1){const O=r.BYTES,{a:Q,d:oe}=s;M=KT(Bs(M,O,"point")),cu(j,"zip215");const ce=KT(M),W=M[O-1];ce[O-1]=W&-129;const K=pp(ce),B=j?u:r.ORDER;B_("point.y",K,bc,B);const U=h(K*K),q=h(U-Ur),L=h(oe*U-Q);let{isValid:T,value:g}=d(q,L);if(!T)throw new Error("bad point: invalid y coordinate");const R=(g&Ur)===Ur,C=(W&128)!==0;if(!j&&g===bc&&C)throw new Error("bad point: x=0 and x_0=1");return C!==R&&(g=h(-g)),S.fromAffine({x:g,y:K})}static fromHex(M,j=!1){return S.fromBytes(or("point",M),j)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(M=8,j=!0){return k.createCache(this,M),j||this.multiply(Eb),this}assertValidity(){y(this)}equals(M){v(M);const{X:j,Y:O,Z:Q}=this,{X:oe,Y:ce,Z:W}=M,K=h(j*W),B=h(oe*Q),U=h(O*W),q=h(ce*Q);return K===B&&U===q}is0(){return this.equals(S.ZERO)}negate(){return new S(h(-this.X),this.Y,this.Z,h(-this.T))}double(){const{a:M}=s,{X:j,Y:O,Z:Q}=this,oe=h(j*j),ce=h(O*O),W=h(Eb*h(Q*Q)),K=h(M*oe),B=j+O,U=h(h(B*B)-oe-ce),q=K+ce,L=q-W,T=K-ce,g=h(U*L),R=h(q*T),C=h(U*T),Y=h(L*q);return new S(g,R,Y,C)}add(M){v(M);const{a:j,d:O}=s,{X:Q,Y:oe,Z:ce,T:W}=this,{X:K,Y:B,Z:U,T:q}=M,L=h(Q*K),T=h(oe*B),g=h(W*O*q),R=h(ce*U),C=h((Q+oe)*(K+B)-L-T),Y=R-g,te=R+g,Z=h(T-j*L),D=h(C*Y),A=h(te*Z),w=h(C*Z),E=h(Y*te);return new S(D,A,E,w)}subtract(M){return this.add(M.negate())}multiply(M){if(!i.isValidNot0(M))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:j,f:O}=k.cached(this,M,Q=>ql(S,Q));return ql(S,[j,O])[0]}multiplyUnsafe(M,j=S.ZERO){if(!i.isValid(M))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return M===bc?S.ZERO:this.is0()||M===Ur?this:k.unsafe(this,M,O=>ql(S,O),j)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return k.unsafe(this,s.n).is0()}toAffine(M){return x(this,M)}clearCofactor(){return c===Ur?this:this.multiplyUnsafe(c)}toBytes(){const{x:M,y:j}=this.toAffine(),O=r.toBytes(j);return O[O.length-1]|=M&Ur?128:0,O}toHex(){return iu(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(M){return ql(S,M)}static msm(M,j){return K3(S,i,M,j)}_setWindowSize(M){this.precompute(M)}toRawBytes(){return this.toBytes()}}S.BASE=new S(s.Gx,s.Gy,Ur,h(s.Gx*s.Gy)),S.ZERO=new S(bc,Ur,Ur,bc),S.Fp=r,S.Fn=i;const k=new $3(S,i.BITS);return S.BASE.precompute(8),S}function JU(n,e,t={}){if(typeof e!="function")throw new Error('"hash" function param is required');Vp(t,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=t,{BASE:i,Fp:s,Fn:c}=n,u=t.randomBytes||yE,h=t.adjustScalarBytes||(B=>B),d=t.domain||((B,U,q)=>{if(cu(q,"phflag"),U.length||q)throw new Error("Contexts/pre-hash are not supported");return B});function p(B){return c.create(pp(B))}function v(B){const U=O.secretKey;B=or("private key",B,U);const q=or("hashed private key",e(B),2*U),L=h(q.slice(0,U)),T=q.slice(U,2*U),g=p(L);return{head:L,prefix:T,scalar:g}}function x(B){const{head:U,prefix:q,scalar:L}=v(B),T=i.multiply(L),g=T.toBytes();return{head:U,prefix:q,scalar:L,point:T,pointBytes:g}}function y(B){return x(B).pointBytes}function S(B=Uint8Array.of(),...U){const q=yo(...U);return p(e(d(q,or("context",B),!!r)))}function k(B,U,q={}){B=or("message",B),r&&(B=r(B));const{prefix:L,scalar:T,pointBytes:g}=x(U),R=S(q.context,L,B),C=i.multiply(R).toBytes(),Y=S(q.context,C,g,B),te=c.create(R+Y*T);if(!c.isValid(te))throw new Error("sign failed: invalid s");const Z=yo(C,c.toBytes(te));return Bs(Z,O.signature,"result")}const I={zip215:!0};function M(B,U,q,L=I){const{context:T,zip215:g}=L,R=O.signature;B=or("signature",B,R),U=or("message",U),q=or("publicKey",q,O.publicKey),g!==void 0&&cu(g,"zip215"),r&&(U=r(U));const C=R/2,Y=B.subarray(0,C),te=pp(B.subarray(C,R));let Z,D,A;try{Z=n.fromBytes(q,g),D=n.fromBytes(Y,g),A=i.multiplyUnsafe(te)}catch{return!1}if(!g&&Z.isSmallOrder())return!1;const w=S(T,D.toBytes(),Z.toBytes(),U);return D.add(Z.multiplyUnsafe(w)).subtract(A).clearCofactor().is0()}const j=s.BYTES,O={secretKey:j,publicKey:j,signature:2*j,seed:j};function Q(B=u(O.seed)){return Bs(B,O.seed,"seed")}function oe(B){const U=K.randomSecretKey(B);return{secretKey:U,publicKey:y(U)}}function ce(B){return Pp(B)&&B.length===c.BYTES}function W(B,U){try{return!!n.fromBytes(B,U)}catch{return!1}}const K={getExtendedPublicKey:x,randomSecretKey:Q,isValidSecretKey:ce,isValidPublicKey:W,toMontgomery(B){const{y:U}=n.fromBytes(B),q=O.publicKey,L=q===32;if(!L&&q!==57)throw new Error("only defined for 25519 and 448");const T=L?s.div(Ur+U,Ur-U):s.div(U-Ur,U+Ur);return s.toBytes(T)},toMontgomerySecret(B){const U=O.secretKey;Bs(B,U);const q=e(B.subarray(0,U));return h(q).subarray(0,U)},randomPrivateKey:Q,precompute(B=8,U=n.BASE){return U.precompute(B,!1)}};return Object.freeze({keygen:oe,getPublicKey:y,sign:k,verify:M,utils:K,Point:n,lengths:O})}function e9(n){const e={a:n.a,d:n.d,p:n.Fp.ORDER,n:n.n,h:n.h,Gx:n.Gx,Gy:n.Gy},t=n.Fp,r=yu(e.n,n.nBitLength,!0),i={Fp:t,Fn:r,uvRatio:n.uvRatio},s={randomBytes:n.randomBytes,adjustScalarBytes:n.adjustScalarBytes,domain:n.domain,prehash:n.prehash,mapToCurve:n.mapToCurve};return{CURVE:e,curveOpts:i,hash:n.hash,eddsaOpts:s}}function t9(n,e){const t=e.Point;return Object.assign({},e,{ExtendedPoint:t,CURVE:n,nBitLength:t.Fn.BITS,nByteLength:t.Fn.BYTES})}function n9(n){const{CURVE:e,curveOpts:t,hash:r,eddsaOpts:i}=e9(n),s=QU(e,t),c=JU(s,r,i);return t9(n,c)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const r9=BigInt(1),JT=BigInt(2);BigInt(3);const i9=BigInt(5),s9=BigInt(8),_E=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),Y3={p:_E,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:s9,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function o9(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),i=BigInt(80),s=_E,u=n*n%s*n%s,h=sr(u,JT,s)*u%s,d=sr(h,r9,s)*n%s,p=sr(d,i9,s)*d%s,v=sr(p,e,s)*p%s,x=sr(v,t,s)*v%s,y=sr(x,r,s)*x%s,S=sr(y,i,s)*y%s,k=sr(S,i,s)*y%s,I=sr(k,e,s)*p%s;return{pow_p_5_8:sr(I,JT,s)*n%s,b2:u}}function a9(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}const eN=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function c9(n,e){const t=_E,r=Sr(e*e*e,t),i=Sr(r*r*e,t),s=o9(n*i).pow_p_5_8;let c=Sr(n*r*s,t);const u=Sr(e*c*c,t),h=c,d=Sr(c*eN,t),p=u===n,v=u===Sr(-n,t),x=u===Sr(-n*eN,t);return p&&(c=h),(v||x)&&(c=d),FU(c,t)&&(c=Sr(-c,t)),{isValid:p||v,value:c}}const l9=yu(Y3.p,{isLE:!0}),u9={...Y3,Fp:l9,hash:BU,adjustScalarBytes:a9,uvRatio:c9},gf=n9(u9);var fg={exports:{}},Ab={},tN;function xE(){return tN||(tN=1,(function(n){Object.defineProperties(n,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e={},t={};t.byteLength=p,t.toByteArray=x,t.fromByteArray=k;for(var r=[],i=[],s=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,h=c.length;u<h;++u)r[u]=c[u],i[c.charCodeAt(u)]=u;i[45]=62,i[95]=63;function d(j){var O=j.length;if(O%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Q=j.indexOf("=");Q===-1&&(Q=O);var oe=Q===O?0:4-Q%4;return[Q,oe]}function p(j){var O=d(j),Q=O[0],oe=O[1];return(Q+oe)*3/4-oe}function v(j,O,Q){return(O+Q)*3/4-Q}function x(j){var O,Q=d(j),oe=Q[0],ce=Q[1],W=new s(v(j,oe,ce)),K=0,B=ce>0?oe-4:oe,U;for(U=0;U<B;U+=4)O=i[j.charCodeAt(U)]<<18|i[j.charCodeAt(U+1)]<<12|i[j.charCodeAt(U+2)]<<6|i[j.charCodeAt(U+3)],W[K++]=O>>16&255,W[K++]=O>>8&255,W[K++]=O&255;return ce===2&&(O=i[j.charCodeAt(U)]<<2|i[j.charCodeAt(U+1)]>>4,W[K++]=O&255),ce===1&&(O=i[j.charCodeAt(U)]<<10|i[j.charCodeAt(U+1)]<<4|i[j.charCodeAt(U+2)]>>2,W[K++]=O>>8&255,W[K++]=O&255),W}function y(j){return r[j>>18&63]+r[j>>12&63]+r[j>>6&63]+r[j&63]}function S(j,O,Q){for(var oe,ce=[],W=O;W<Q;W+=3)oe=(j[W]<<16&16711680)+(j[W+1]<<8&65280)+(j[W+2]&255),ce.push(y(oe));return ce.join("")}function k(j){for(var O,Q=j.length,oe=Q%3,ce=[],W=16383,K=0,B=Q-oe;K<B;K+=W)ce.push(S(j,K,K+W>B?B:K+W));return oe===1?(O=j[Q-1],ce.push(r[O>>2]+r[O<<4&63]+"==")):oe===2&&(O=(j[Q-2]<<8)+j[Q-1],ce.push(r[O>>10]+r[O>>4&63]+r[O<<2&63]+"=")),ce.join("")}var I={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */I.read=function(j,O,Q,oe,ce){var W,K,B=ce*8-oe-1,U=(1<<B)-1,q=U>>1,L=-7,T=Q?ce-1:0,g=Q?-1:1,R=j[O+T];for(T+=g,W=R&(1<<-L)-1,R>>=-L,L+=B;L>0;W=W*256+j[O+T],T+=g,L-=8);for(K=W&(1<<-L)-1,W>>=-L,L+=oe;L>0;K=K*256+j[O+T],T+=g,L-=8);if(W===0)W=1-q;else{if(W===U)return K?NaN:(R?-1:1)*(1/0);K=K+Math.pow(2,oe),W=W-q}return(R?-1:1)*K*Math.pow(2,W-oe)},I.write=function(j,O,Q,oe,ce,W){var K,B,U,q=W*8-ce-1,L=(1<<q)-1,T=L>>1,g=ce===23?Math.pow(2,-24)-Math.pow(2,-77):0,R=oe?0:W-1,C=oe?1:-1,Y=O<0||O===0&&1/O<0?1:0;for(O=Math.abs(O),isNaN(O)||O===1/0?(B=isNaN(O)?1:0,K=L):(K=Math.floor(Math.log(O)/Math.LN2),O*(U=Math.pow(2,-K))<1&&(K--,U*=2),K+T>=1?O+=g/U:O+=g*Math.pow(2,1-T),O*U>=2&&(K++,U/=2),K+T>=L?(B=0,K=L):K+T>=1?(B=(O*U-1)*Math.pow(2,ce),K=K+T):(B=O*Math.pow(2,T-1)*Math.pow(2,ce),K=0));ce>=8;j[Q+R]=B&255,R+=C,B/=256,ce-=8);for(K=K<<ce|B,q+=ce;q>0;j[Q+R]=K&255,R+=C,K/=256,q-=8);j[Q+R-C]|=Y*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(j){const O=t,Q=I,oe=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;j.Buffer=L,j.SlowBuffer=E,j.INSPECT_MAX_BYTES=50;const ce=2147483647;j.kMaxLength=ce;const{Uint8Array:W,ArrayBuffer:K,SharedArrayBuffer:B}=globalThis;L.TYPED_ARRAY_SUPPORT=U(),!L.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function U(){try{const ie=new W(1),F={foo:function(){return 42}};return Object.setPrototypeOf(F,W.prototype),Object.setPrototypeOf(ie,F),ie.foo()===42}catch{return!1}}Object.defineProperty(L.prototype,"parent",{enumerable:!0,get:function(){if(L.isBuffer(this))return this.buffer}}),Object.defineProperty(L.prototype,"offset",{enumerable:!0,get:function(){if(L.isBuffer(this))return this.byteOffset}});function q(ie){if(ie>ce)throw new RangeError('The value "'+ie+'" is invalid for option "size"');const F=new W(ie);return Object.setPrototypeOf(F,L.prototype),F}function L(ie,F,$){if(typeof ie=="number"){if(typeof F=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return C(ie)}return T(ie,F,$)}L.poolSize=8192;function T(ie,F,$){if(typeof ie=="string")return Y(ie,F);if(K.isView(ie))return Z(ie);if(ie==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ie);if(Fn(ie,K)||ie&&Fn(ie.buffer,K)||typeof B<"u"&&(Fn(ie,B)||ie&&Fn(ie.buffer,B)))return D(ie,F,$);if(typeof ie=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const de=ie.valueOf&&ie.valueOf();if(de!=null&&de!==ie)return L.from(de,F,$);const _e=A(ie);if(_e)return _e;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ie[Symbol.toPrimitive]=="function")return L.from(ie[Symbol.toPrimitive]("string"),F,$);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ie)}L.from=function(ie,F,$){return T(ie,F,$)},Object.setPrototypeOf(L.prototype,W.prototype),Object.setPrototypeOf(L,W);function g(ie){if(typeof ie!="number")throw new TypeError('"size" argument must be of type number');if(ie<0)throw new RangeError('The value "'+ie+'" is invalid for option "size"')}function R(ie,F,$){return g(ie),ie<=0?q(ie):F!==void 0?typeof $=="string"?q(ie).fill(F,$):q(ie).fill(F):q(ie)}L.alloc=function(ie,F,$){return R(ie,F,$)};function C(ie){return g(ie),q(ie<0?0:w(ie)|0)}L.allocUnsafe=function(ie){return C(ie)},L.allocUnsafeSlow=function(ie){return C(ie)};function Y(ie,F){if((typeof F!="string"||F==="")&&(F="utf8"),!L.isEncoding(F))throw new TypeError("Unknown encoding: "+F);const $=H(ie,F)|0;let de=q($);const _e=de.write(ie,F);return _e!==$&&(de=de.slice(0,_e)),de}function te(ie){const F=ie.length<0?0:w(ie.length)|0,$=q(F);for(let de=0;de<F;de+=1)$[de]=ie[de]&255;return $}function Z(ie){if(Fn(ie,W)){const F=new W(ie);return D(F.buffer,F.byteOffset,F.byteLength)}return te(ie)}function D(ie,F,$){if(F<0||ie.byteLength<F)throw new RangeError('"offset" is outside of buffer bounds');if(ie.byteLength<F+($||0))throw new RangeError('"length" is outside of buffer bounds');let de;return F===void 0&&$===void 0?de=new W(ie):$===void 0?de=new W(ie,F):de=new W(ie,F,$),Object.setPrototypeOf(de,L.prototype),de}function A(ie){if(L.isBuffer(ie)){const F=w(ie.length)|0,$=q(F);return $.length===0||ie.copy($,0,0,F),$}if(ie.length!==void 0)return typeof ie.length!="number"||sn(ie.length)?q(0):te(ie);if(ie.type==="Buffer"&&Array.isArray(ie.data))return te(ie.data)}function w(ie){if(ie>=ce)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ce.toString(16)+" bytes");return ie|0}function E(ie){return+ie!=ie&&(ie=0),L.alloc(+ie)}L.isBuffer=function(F){return F!=null&&F._isBuffer===!0&&F!==L.prototype},L.compare=function(F,$){if(Fn(F,W)&&(F=L.from(F,F.offset,F.byteLength)),Fn($,W)&&($=L.from($,$.offset,$.byteLength)),!L.isBuffer(F)||!L.isBuffer($))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(F===$)return 0;let de=F.length,_e=$.length;for(let Re=0,je=Math.min(de,_e);Re<je;++Re)if(F[Re]!==$[Re]){de=F[Re],_e=$[Re];break}return de<_e?-1:_e<de?1:0},L.isEncoding=function(F){switch(String(F).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},L.concat=function(F,$){if(!Array.isArray(F))throw new TypeError('"list" argument must be an Array of Buffers');if(F.length===0)return L.alloc(0);let de;if($===void 0)for($=0,de=0;de<F.length;++de)$+=F[de].length;const _e=L.allocUnsafe($);let Re=0;for(de=0;de<F.length;++de){let je=F[de];if(Fn(je,W))Re+je.length>_e.length?(L.isBuffer(je)||(je=L.from(je)),je.copy(_e,Re)):W.prototype.set.call(_e,je,Re);else if(L.isBuffer(je))je.copy(_e,Re);else throw new TypeError('"list" argument must be an Array of Buffers');Re+=je.length}return _e};function H(ie,F){if(L.isBuffer(ie))return ie.length;if(K.isView(ie)||Fn(ie,K))return ie.byteLength;if(typeof ie!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ie);const $=ie.length,de=arguments.length>2&&arguments[2]===!0;if(!de&&$===0)return 0;let _e=!1;for(;;)switch(F){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":return bt(ie).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $*2;case"hex":return $>>>1;case"base64":return mt(ie).length;default:if(_e)return de?-1:bt(ie).length;F=(""+F).toLowerCase(),_e=!0}}L.byteLength=H;function ne(ie,F,$){let de=!1;if((F===void 0||F<0)&&(F=0),F>this.length||(($===void 0||$>this.length)&&($=this.length),$<=0)||($>>>=0,F>>>=0,$<=F))return"";for(ie||(ie="utf8");;)switch(ie){case"hex":return we(this,F,$);case"utf8":case"utf-8":return Jt(this,F,$);case"ascii":return re(this,F,$);case"latin1":case"binary":return ye(this,F,$);case"base64":return Ot(this,F,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ee(this,F,$);default:if(de)throw new TypeError("Unknown encoding: "+ie);ie=(ie+"").toLowerCase(),de=!0}}L.prototype._isBuffer=!0;function ae(ie,F,$){const de=ie[F];ie[F]=ie[$],ie[$]=de}L.prototype.swap16=function(){const F=this.length;if(F%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let $=0;$<F;$+=2)ae(this,$,$+1);return this},L.prototype.swap32=function(){const F=this.length;if(F%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let $=0;$<F;$+=4)ae(this,$,$+3),ae(this,$+1,$+2);return this},L.prototype.swap64=function(){const F=this.length;if(F%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let $=0;$<F;$+=8)ae(this,$,$+7),ae(this,$+1,$+6),ae(this,$+2,$+5),ae(this,$+3,$+4);return this},L.prototype.toString=function(){const F=this.length;return F===0?"":arguments.length===0?Jt(this,0,F):ne.apply(this,arguments)},L.prototype.toLocaleString=L.prototype.toString,L.prototype.equals=function(F){if(!L.isBuffer(F))throw new TypeError("Argument must be a Buffer");return this===F?!0:L.compare(this,F)===0},L.prototype.inspect=function(){let F="";const $=j.INSPECT_MAX_BYTES;return F=this.toString("hex",0,$).replace(/(.{2})/g,"$1 ").trim(),this.length>$&&(F+=" ... "),"<Buffer "+F+">"},oe&&(L.prototype[oe]=L.prototype.inspect),L.prototype.compare=function(F,$,de,_e,Re){if(Fn(F,W)&&(F=L.from(F,F.offset,F.byteLength)),!L.isBuffer(F))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof F);if($===void 0&&($=0),de===void 0&&(de=F?F.length:0),_e===void 0&&(_e=0),Re===void 0&&(Re=this.length),$<0||de>F.length||_e<0||Re>this.length)throw new RangeError("out of range index");if(_e>=Re&&$>=de)return 0;if(_e>=Re)return-1;if($>=de)return 1;if($>>>=0,de>>>=0,_e>>>=0,Re>>>=0,this===F)return 0;let je=Re-_e,Tt=de-$;const It=Math.min(je,Tt),gt=this.slice(_e,Re),Wt=F.slice($,de);for(let st=0;st<It;++st)if(gt[st]!==Wt[st]){je=gt[st],Tt=Wt[st];break}return je<Tt?-1:Tt<je?1:0};function me(ie,F,$,de,_e){if(ie.length===0)return-1;if(typeof $=="string"?(de=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),$=+$,sn($)&&($=_e?0:ie.length-1),$<0&&($=ie.length+$),$>=ie.length){if(_e)return-1;$=ie.length-1}else if($<0)if(_e)$=0;else return-1;if(typeof F=="string"&&(F=L.from(F,de)),L.isBuffer(F))return F.length===0?-1:Le(ie,F,$,de,_e);if(typeof F=="number")return F=F&255,typeof W.prototype.indexOf=="function"?_e?W.prototype.indexOf.call(ie,F,$):W.prototype.lastIndexOf.call(ie,F,$):Le(ie,[F],$,de,_e);throw new TypeError("val must be string, number or Buffer")}function Le(ie,F,$,de,_e){let Re=1,je=ie.length,Tt=F.length;if(de!==void 0&&(de=String(de).toLowerCase(),de==="ucs2"||de==="ucs-2"||de==="utf16le"||de==="utf-16le")){if(ie.length<2||F.length<2)return-1;Re=2,je/=2,Tt/=2,$/=2}function It(Wt,st){return Re===1?Wt[st]:Wt.readUInt16BE(st*Re)}let gt;if(_e){let Wt=-1;for(gt=$;gt<je;gt++)if(It(ie,gt)===It(F,Wt===-1?0:gt-Wt)){if(Wt===-1&&(Wt=gt),gt-Wt+1===Tt)return Wt*Re}else Wt!==-1&&(gt-=gt-Wt),Wt=-1}else for($+Tt>je&&($=je-Tt),gt=$;gt>=0;gt--){let Wt=!0;for(let st=0;st<Tt;st++)if(It(ie,gt+st)!==It(F,st)){Wt=!1;break}if(Wt)return gt}return-1}L.prototype.includes=function(F,$,de){return this.indexOf(F,$,de)!==-1},L.prototype.indexOf=function(F,$,de){return me(this,F,$,de,!0)},L.prototype.lastIndexOf=function(F,$,de){return me(this,F,$,de,!1)};function Ue(ie,F,$,de){$=Number($)||0;const _e=ie.length-$;de?(de=Number(de),de>_e&&(de=_e)):de=_e;const Re=F.length;de>Re/2&&(de=Re/2);let je;for(je=0;je<de;++je){const Tt=parseInt(F.substr(je*2,2),16);if(sn(Tt))return je;ie[$+je]=Tt}return je}function it(ie,F,$,de){return Bt(bt(F,ie.length-$),ie,$,de)}function ut(ie,F,$,de){return Bt(At(F),ie,$,de)}function kt(ie,F,$,de){return Bt(mt(F),ie,$,de)}function lr(ie,F,$,de){return Bt(Kt(F,ie.length-$),ie,$,de)}L.prototype.write=function(F,$,de,_e){if($===void 0)_e="utf8",de=this.length,$=0;else if(de===void 0&&typeof $=="string")_e=$,de=this.length,$=0;else if(isFinite($))$=$>>>0,isFinite(de)?(de=de>>>0,_e===void 0&&(_e="utf8")):(_e=de,de=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Re=this.length-$;if((de===void 0||de>Re)&&(de=Re),F.length>0&&(de<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");_e||(_e="utf8");let je=!1;for(;;)switch(_e){case"hex":return Ue(this,F,$,de);case"utf8":case"utf-8":return it(this,F,$,de);case"ascii":case"latin1":case"binary":return ut(this,F,$,de);case"base64":return kt(this,F,$,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return lr(this,F,$,de);default:if(je)throw new TypeError("Unknown encoding: "+_e);_e=(""+_e).toLowerCase(),je=!0}},L.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ot(ie,F,$){return F===0&&$===ie.length?O.fromByteArray(ie):O.fromByteArray(ie.slice(F,$))}function Jt(ie,F,$){$=Math.min(ie.length,$);const de=[];let _e=F;for(;_e<$;){const Re=ie[_e];let je=null,Tt=Re>239?4:Re>223?3:Re>191?2:1;if(_e+Tt<=$){let It,gt,Wt,st;switch(Tt){case 1:Re<128&&(je=Re);break;case 2:It=ie[_e+1],(It&192)===128&&(st=(Re&31)<<6|It&63,st>127&&(je=st));break;case 3:It=ie[_e+1],gt=ie[_e+2],(It&192)===128&&(gt&192)===128&&(st=(Re&15)<<12|(It&63)<<6|gt&63,st>2047&&(st<55296||st>57343)&&(je=st));break;case 4:It=ie[_e+1],gt=ie[_e+2],Wt=ie[_e+3],(It&192)===128&&(gt&192)===128&&(Wt&192)===128&&(st=(Re&15)<<18|(It&63)<<12|(gt&63)<<6|Wt&63,st>65535&&st<1114112&&(je=st))}}je===null?(je=65533,Tt=1):je>65535&&(je-=65536,de.push(je>>>10&1023|55296),je=56320|je&1023),de.push(je),_e+=Tt}return J(de)}const P=4096;function J(ie){const F=ie.length;if(F<=P)return String.fromCharCode.apply(String,ie);let $="",de=0;for(;de<F;)$+=String.fromCharCode.apply(String,ie.slice(de,de+=P));return $}function re(ie,F,$){let de="";$=Math.min(ie.length,$);for(let _e=F;_e<$;++_e)de+=String.fromCharCode(ie[_e]&127);return de}function ye(ie,F,$){let de="";$=Math.min(ie.length,$);for(let _e=F;_e<$;++_e)de+=String.fromCharCode(ie[_e]);return de}function we(ie,F,$){const de=ie.length;(!F||F<0)&&(F=0),(!$||$<0||$>de)&&($=de);let _e="";for(let Re=F;Re<$;++Re)_e+=an[ie[Re]];return _e}function Ee(ie,F,$){const de=ie.slice(F,$);let _e="";for(let Re=0;Re<de.length-1;Re+=2)_e+=String.fromCharCode(de[Re]+de[Re+1]*256);return _e}L.prototype.slice=function(F,$){const de=this.length;F=~~F,$=$===void 0?de:~~$,F<0?(F+=de,F<0&&(F=0)):F>de&&(F=de),$<0?($+=de,$<0&&($=0)):$>de&&($=de),$<F&&($=F);const _e=this.subarray(F,$);return Object.setPrototypeOf(_e,L.prototype),_e};function Ve(ie,F,$){if(ie%1!==0||ie<0)throw new RangeError("offset is not uint");if(ie+F>$)throw new RangeError("Trying to access beyond buffer length")}L.prototype.readUintLE=L.prototype.readUIntLE=function(F,$,de){F=F>>>0,$=$>>>0,de||Ve(F,$,this.length);let _e=this[F],Re=1,je=0;for(;++je<$&&(Re*=256);)_e+=this[F+je]*Re;return _e},L.prototype.readUintBE=L.prototype.readUIntBE=function(F,$,de){F=F>>>0,$=$>>>0,de||Ve(F,$,this.length);let _e=this[F+--$],Re=1;for(;$>0&&(Re*=256);)_e+=this[F+--$]*Re;return _e},L.prototype.readUint8=L.prototype.readUInt8=function(F,$){return F=F>>>0,$||Ve(F,1,this.length),this[F]},L.prototype.readUint16LE=L.prototype.readUInt16LE=function(F,$){return F=F>>>0,$||Ve(F,2,this.length),this[F]|this[F+1]<<8},L.prototype.readUint16BE=L.prototype.readUInt16BE=function(F,$){return F=F>>>0,$||Ve(F,2,this.length),this[F]<<8|this[F+1]},L.prototype.readUint32LE=L.prototype.readUInt32LE=function(F,$){return F=F>>>0,$||Ve(F,4,this.length),(this[F]|this[F+1]<<8|this[F+2]<<16)+this[F+3]*16777216},L.prototype.readUint32BE=L.prototype.readUInt32BE=function(F,$){return F=F>>>0,$||Ve(F,4,this.length),this[F]*16777216+(this[F+1]<<16|this[F+2]<<8|this[F+3])},L.prototype.readBigUInt64LE=gi(function(F){F=F>>>0,be(F,"offset");const $=this[F],de=this[F+7];($===void 0||de===void 0)&&Ae(F,this.length-8);const _e=$+this[++F]*2**8+this[++F]*2**16+this[++F]*2**24,Re=this[++F]+this[++F]*2**8+this[++F]*2**16+de*2**24;return BigInt(_e)+(BigInt(Re)<<BigInt(32))}),L.prototype.readBigUInt64BE=gi(function(F){F=F>>>0,be(F,"offset");const $=this[F],de=this[F+7];($===void 0||de===void 0)&&Ae(F,this.length-8);const _e=$*2**24+this[++F]*2**16+this[++F]*2**8+this[++F],Re=this[++F]*2**24+this[++F]*2**16+this[++F]*2**8+de;return(BigInt(_e)<<BigInt(32))+BigInt(Re)}),L.prototype.readIntLE=function(F,$,de){F=F>>>0,$=$>>>0,de||Ve(F,$,this.length);let _e=this[F],Re=1,je=0;for(;++je<$&&(Re*=256);)_e+=this[F+je]*Re;return Re*=128,_e>=Re&&(_e-=Math.pow(2,8*$)),_e},L.prototype.readIntBE=function(F,$,de){F=F>>>0,$=$>>>0,de||Ve(F,$,this.length);let _e=$,Re=1,je=this[F+--_e];for(;_e>0&&(Re*=256);)je+=this[F+--_e]*Re;return Re*=128,je>=Re&&(je-=Math.pow(2,8*$)),je},L.prototype.readInt8=function(F,$){return F=F>>>0,$||Ve(F,1,this.length),this[F]&128?(255-this[F]+1)*-1:this[F]},L.prototype.readInt16LE=function(F,$){F=F>>>0,$||Ve(F,2,this.length);const de=this[F]|this[F+1]<<8;return de&32768?de|4294901760:de},L.prototype.readInt16BE=function(F,$){F=F>>>0,$||Ve(F,2,this.length);const de=this[F+1]|this[F]<<8;return de&32768?de|4294901760:de},L.prototype.readInt32LE=function(F,$){return F=F>>>0,$||Ve(F,4,this.length),this[F]|this[F+1]<<8|this[F+2]<<16|this[F+3]<<24},L.prototype.readInt32BE=function(F,$){return F=F>>>0,$||Ve(F,4,this.length),this[F]<<24|this[F+1]<<16|this[F+2]<<8|this[F+3]},L.prototype.readBigInt64LE=gi(function(F){F=F>>>0,be(F,"offset");const $=this[F],de=this[F+7];($===void 0||de===void 0)&&Ae(F,this.length-8);const _e=this[F+4]+this[F+5]*2**8+this[F+6]*2**16+(de<<24);return(BigInt(_e)<<BigInt(32))+BigInt($+this[++F]*2**8+this[++F]*2**16+this[++F]*2**24)}),L.prototype.readBigInt64BE=gi(function(F){F=F>>>0,be(F,"offset");const $=this[F],de=this[F+7];($===void 0||de===void 0)&&Ae(F,this.length-8);const _e=($<<24)+this[++F]*2**16+this[++F]*2**8+this[++F];return(BigInt(_e)<<BigInt(32))+BigInt(this[++F]*2**24+this[++F]*2**16+this[++F]*2**8+de)}),L.prototype.readFloatLE=function(F,$){return F=F>>>0,$||Ve(F,4,this.length),Q.read(this,F,!0,23,4)},L.prototype.readFloatBE=function(F,$){return F=F>>>0,$||Ve(F,4,this.length),Q.read(this,F,!1,23,4)},L.prototype.readDoubleLE=function(F,$){return F=F>>>0,$||Ve(F,8,this.length),Q.read(this,F,!0,52,8)},L.prototype.readDoubleBE=function(F,$){return F=F>>>0,$||Ve(F,8,this.length),Q.read(this,F,!1,52,8)};function Ye(ie,F,$,de,_e,Re){if(!L.isBuffer(ie))throw new TypeError('"buffer" argument must be a Buffer instance');if(F>_e||F<Re)throw new RangeError('"value" argument is out of bounds');if($+de>ie.length)throw new RangeError("Index out of range")}L.prototype.writeUintLE=L.prototype.writeUIntLE=function(F,$,de,_e){if(F=+F,$=$>>>0,de=de>>>0,!_e){const Tt=Math.pow(2,8*de)-1;Ye(this,F,$,de,Tt,0)}let Re=1,je=0;for(this[$]=F&255;++je<de&&(Re*=256);)this[$+je]=F/Re&255;return $+de},L.prototype.writeUintBE=L.prototype.writeUIntBE=function(F,$,de,_e){if(F=+F,$=$>>>0,de=de>>>0,!_e){const Tt=Math.pow(2,8*de)-1;Ye(this,F,$,de,Tt,0)}let Re=de-1,je=1;for(this[$+Re]=F&255;--Re>=0&&(je*=256);)this[$+Re]=F/je&255;return $+de},L.prototype.writeUint8=L.prototype.writeUInt8=function(F,$,de){return F=+F,$=$>>>0,de||Ye(this,F,$,1,255,0),this[$]=F&255,$+1},L.prototype.writeUint16LE=L.prototype.writeUInt16LE=function(F,$,de){return F=+F,$=$>>>0,de||Ye(this,F,$,2,65535,0),this[$]=F&255,this[$+1]=F>>>8,$+2},L.prototype.writeUint16BE=L.prototype.writeUInt16BE=function(F,$,de){return F=+F,$=$>>>0,de||Ye(this,F,$,2,65535,0),this[$]=F>>>8,this[$+1]=F&255,$+2},L.prototype.writeUint32LE=L.prototype.writeUInt32LE=function(F,$,de){return F=+F,$=$>>>0,de||Ye(this,F,$,4,4294967295,0),this[$+3]=F>>>24,this[$+2]=F>>>16,this[$+1]=F>>>8,this[$]=F&255,$+4},L.prototype.writeUint32BE=L.prototype.writeUInt32BE=function(F,$,de){return F=+F,$=$>>>0,de||Ye(this,F,$,4,4294967295,0),this[$]=F>>>24,this[$+1]=F>>>16,this[$+2]=F>>>8,this[$+3]=F&255,$+4};function Je(ie,F,$,de,_e){fe(F,de,_e,ie,$,7);let Re=Number(F&BigInt(4294967295));ie[$++]=Re,Re=Re>>8,ie[$++]=Re,Re=Re>>8,ie[$++]=Re,Re=Re>>8,ie[$++]=Re;let je=Number(F>>BigInt(32)&BigInt(4294967295));return ie[$++]=je,je=je>>8,ie[$++]=je,je=je>>8,ie[$++]=je,je=je>>8,ie[$++]=je,$}function Mt(ie,F,$,de,_e){fe(F,de,_e,ie,$,7);let Re=Number(F&BigInt(4294967295));ie[$+7]=Re,Re=Re>>8,ie[$+6]=Re,Re=Re>>8,ie[$+5]=Re,Re=Re>>8,ie[$+4]=Re;let je=Number(F>>BigInt(32)&BigInt(4294967295));return ie[$+3]=je,je=je>>8,ie[$+2]=je,je=je>>8,ie[$+1]=je,je=je>>8,ie[$]=je,$+8}L.prototype.writeBigUInt64LE=gi(function(F,$=0){return Je(this,F,$,BigInt(0),BigInt("0xffffffffffffffff"))}),L.prototype.writeBigUInt64BE=gi(function(F,$=0){return Mt(this,F,$,BigInt(0),BigInt("0xffffffffffffffff"))}),L.prototype.writeIntLE=function(F,$,de,_e){if(F=+F,$=$>>>0,!_e){const It=Math.pow(2,8*de-1);Ye(this,F,$,de,It-1,-It)}let Re=0,je=1,Tt=0;for(this[$]=F&255;++Re<de&&(je*=256);)F<0&&Tt===0&&this[$+Re-1]!==0&&(Tt=1),this[$+Re]=(F/je>>0)-Tt&255;return $+de},L.prototype.writeIntBE=function(F,$,de,_e){if(F=+F,$=$>>>0,!_e){const It=Math.pow(2,8*de-1);Ye(this,F,$,de,It-1,-It)}let Re=de-1,je=1,Tt=0;for(this[$+Re]=F&255;--Re>=0&&(je*=256);)F<0&&Tt===0&&this[$+Re+1]!==0&&(Tt=1),this[$+Re]=(F/je>>0)-Tt&255;return $+de},L.prototype.writeInt8=function(F,$,de){return F=+F,$=$>>>0,de||Ye(this,F,$,1,127,-128),F<0&&(F=255+F+1),this[$]=F&255,$+1},L.prototype.writeInt16LE=function(F,$,de){return F=+F,$=$>>>0,de||Ye(this,F,$,2,32767,-32768),this[$]=F&255,this[$+1]=F>>>8,$+2},L.prototype.writeInt16BE=function(F,$,de){return F=+F,$=$>>>0,de||Ye(this,F,$,2,32767,-32768),this[$]=F>>>8,this[$+1]=F&255,$+2},L.prototype.writeInt32LE=function(F,$,de){return F=+F,$=$>>>0,de||Ye(this,F,$,4,2147483647,-2147483648),this[$]=F&255,this[$+1]=F>>>8,this[$+2]=F>>>16,this[$+3]=F>>>24,$+4},L.prototype.writeInt32BE=function(F,$,de){return F=+F,$=$>>>0,de||Ye(this,F,$,4,2147483647,-2147483648),F<0&&(F=4294967295+F+1),this[$]=F>>>24,this[$+1]=F>>>16,this[$+2]=F>>>8,this[$+3]=F&255,$+4},L.prototype.writeBigInt64LE=gi(function(F,$=0){return Je(this,F,$,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),L.prototype.writeBigInt64BE=gi(function(F,$=0){return Mt(this,F,$,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function lt(ie,F,$,de,_e,Re){if($+de>ie.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function Et(ie,F,$,de,_e){return F=+F,$=$>>>0,_e||lt(ie,F,$,4),Q.write(ie,F,$,de,23,4),$+4}L.prototype.writeFloatLE=function(F,$,de){return Et(this,F,$,!0,de)},L.prototype.writeFloatBE=function(F,$,de){return Et(this,F,$,!1,de)};function Yn(ie,F,$,de,_e){return F=+F,$=$>>>0,_e||lt(ie,F,$,8),Q.write(ie,F,$,de,52,8),$+8}L.prototype.writeDoubleLE=function(F,$,de){return Yn(this,F,$,!0,de)},L.prototype.writeDoubleBE=function(F,$,de){return Yn(this,F,$,!1,de)},L.prototype.copy=function(F,$,de,_e){if(!L.isBuffer(F))throw new TypeError("argument should be a Buffer");if(de||(de=0),!_e&&_e!==0&&(_e=this.length),$>=F.length&&($=F.length),$||($=0),_e>0&&_e<de&&(_e=de),_e===de||F.length===0||this.length===0)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(de<0||de>=this.length)throw new RangeError("Index out of range");if(_e<0)throw new RangeError("sourceEnd out of bounds");_e>this.length&&(_e=this.length),F.length-$<_e-de&&(_e=F.length-$+de);const Re=_e-de;return this===F&&typeof W.prototype.copyWithin=="function"?this.copyWithin($,de,_e):W.prototype.set.call(F,this.subarray(de,_e),$),Re},L.prototype.fill=function(F,$,de,_e){if(typeof F=="string"){if(typeof $=="string"?(_e=$,$=0,de=this.length):typeof de=="string"&&(_e=de,de=this.length),_e!==void 0&&typeof _e!="string")throw new TypeError("encoding must be a string");if(typeof _e=="string"&&!L.isEncoding(_e))throw new TypeError("Unknown encoding: "+_e);if(F.length===1){const je=F.charCodeAt(0);(_e==="utf8"&&je<128||_e==="latin1")&&(F=je)}}else typeof F=="number"?F=F&255:typeof F=="boolean"&&(F=Number(F));if($<0||this.length<$||this.length<de)throw new RangeError("Out of range index");if(de<=$)return this;$=$>>>0,de=de===void 0?this.length:de>>>0,F||(F=0);let Re;if(typeof F=="number")for(Re=$;Re<de;++Re)this[Re]=F;else{const je=L.isBuffer(F)?F:L.from(F,_e),Tt=je.length;if(Tt===0)throw new TypeError('The value "'+F+'" is invalid for argument "value"');for(Re=0;Re<de-$;++Re)this[Re+$]=je[Re%Tt]}return this};const fn={};function se(ie,F,$){fn[ie]=class extends ${constructor(){super(),Object.defineProperty(this,"message",{value:F.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ie}]`,this.stack,delete this.name}get code(){return ie}set code(_e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:_e,writable:!0})}toString(){return`${this.name} [${ie}]: ${this.message}`}}}se("ERR_BUFFER_OUT_OF_BOUNDS",function(ie){return ie?`${ie} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),se("ERR_INVALID_ARG_TYPE",function(ie,F){return`The "${ie}" argument must be of type number. Received type ${typeof F}`},TypeError),se("ERR_OUT_OF_RANGE",function(ie,F,$){let de=`The value of "${ie}" is out of range.`,_e=$;return Number.isInteger($)&&Math.abs($)>2**32?_e=z(String($)):typeof $=="bigint"&&(_e=String($),($>BigInt(2)**BigInt(32)||$<-(BigInt(2)**BigInt(32)))&&(_e=z(_e)),_e+="n"),de+=` It must be ${F}. Received ${_e}`,de},RangeError);function z(ie){let F="",$=ie.length;const de=ie[0]==="-"?1:0;for(;$>=de+4;$-=3)F=`_${ie.slice($-3,$)}${F}`;return`${ie.slice(0,$)}${F}`}function G(ie,F,$){be(F,"offset"),(ie[F]===void 0||ie[F+$]===void 0)&&Ae(F,ie.length-($+1))}function fe(ie,F,$,de,_e,Re){if(ie>$||ie<F){const je=typeof F=="bigint"?"n":"";let Tt;throw F===0||F===BigInt(0)?Tt=`>= 0${je} and < 2${je} ** ${(Re+1)*8}${je}`:Tt=`>= -(2${je} ** ${(Re+1)*8-1}${je}) and < 2 ** ${(Re+1)*8-1}${je}`,new fn.ERR_OUT_OF_RANGE("value",Tt,ie)}G(de,_e,Re)}function be(ie,F){if(typeof ie!="number")throw new fn.ERR_INVALID_ARG_TYPE(F,"number",ie)}function Ae(ie,F,$){throw Math.floor(ie)!==ie?(be(ie,$),new fn.ERR_OUT_OF_RANGE("offset","an integer",ie)):F<0?new fn.ERR_BUFFER_OUT_OF_BOUNDS:new fn.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${F}`,ie)}const ke=/[^+/0-9A-Za-z-_]/g;function Ct(ie){if(ie=ie.split("=")[0],ie=ie.trim().replace(ke,""),ie.length<2)return"";for(;ie.length%4!==0;)ie=ie+"=";return ie}function bt(ie,F){F=F||1/0;let $;const de=ie.length;let _e=null;const Re=[];for(let je=0;je<de;++je){if($=ie.charCodeAt(je),$>55295&&$<57344){if(!_e){if($>56319){(F-=3)>-1&&Re.push(239,191,189);continue}else if(je+1===de){(F-=3)>-1&&Re.push(239,191,189);continue}_e=$;continue}if($<56320){(F-=3)>-1&&Re.push(239,191,189),_e=$;continue}$=(_e-55296<<10|$-56320)+65536}else _e&&(F-=3)>-1&&Re.push(239,191,189);if(_e=null,$<128){if((F-=1)<0)break;Re.push($)}else if($<2048){if((F-=2)<0)break;Re.push($>>6|192,$&63|128)}else if($<65536){if((F-=3)<0)break;Re.push($>>12|224,$>>6&63|128,$&63|128)}else if($<1114112){if((F-=4)<0)break;Re.push($>>18|240,$>>12&63|128,$>>6&63|128,$&63|128)}else throw new Error("Invalid code point")}return Re}function At(ie){const F=[];for(let $=0;$<ie.length;++$)F.push(ie.charCodeAt($)&255);return F}function Kt(ie,F){let $,de,_e;const Re=[];for(let je=0;je<ie.length&&!((F-=2)<0);++je)$=ie.charCodeAt(je),de=$>>8,_e=$%256,Re.push(_e),Re.push(de);return Re}function mt(ie){return O.toByteArray(Ct(ie))}function Bt(ie,F,$,de){let _e;for(_e=0;_e<de&&!(_e+$>=F.length||_e>=ie.length);++_e)F[_e+$]=ie[_e];return _e}function Fn(ie,F){return ie instanceof F||ie!=null&&ie.constructor!=null&&ie.constructor.name!=null&&ie.constructor.name===F.name}function sn(ie){return ie!==ie}const an=(function(){const ie="0123456789abcdef",F=new Array(256);for(let $=0;$<16;++$){const de=$*16;for(let _e=0;_e<16;++_e)F[de+_e]=ie[$]+ie[_e]}return F})();function gi(ie){return typeof BigInt>"u"?Cn:ie}function Cn(){throw new Error("BigInt not supported")}})(e);const M=e.Buffer;n.Blob=e.Blob,n.BlobOptions=e.BlobOptions,n.Buffer=e.Buffer,n.File=e.File,n.FileOptions=e.FileOptions,n.INSPECT_MAX_BYTES=e.INSPECT_MAX_BYTES,n.SlowBuffer=e.SlowBuffer,n.TranscodeEncoding=e.TranscodeEncoding,n.atob=e.atob,n.btoa=e.btoa,n.constants=e.constants,n.default=M,n.isAscii=e.isAscii,n.isUtf8=e.isUtf8,n.kMaxLength=e.kMaxLength,n.kStringMaxLength=e.kStringMaxLength,n.resolveObjectURL=e.resolveObjectURL,n.transcode=e.transcode})(Ab)),Ab}var h9=fg.exports,nN;function EE(){return nN||(nN=1,(function(n){(function(e,t){function r(T,g){if(!T)throw new Error(g||"Assertion failed")}function i(T,g){T.super_=g;var R=function(){};R.prototype=g.prototype,T.prototype=new R,T.prototype.constructor=T}function s(T,g,R){if(s.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&((g==="le"||g==="be")&&(R=g,g=10),this._init(T||0,g||10,R||"be"))}typeof e=="object"?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=xE().Buffer}catch{}s.isBN=function(g){return g instanceof s?!0:g!==null&&typeof g=="object"&&g.constructor.wordSize===s.wordSize&&Array.isArray(g.words)},s.max=function(g,R){return g.cmp(R)>0?g:R},s.min=function(g,R){return g.cmp(R)<0?g:R},s.prototype._init=function(g,R,C){if(typeof g=="number")return this._initNumber(g,R,C);if(typeof g=="object")return this._initArray(g,R,C);R==="hex"&&(R=16),r(R===(R|0)&&R>=2&&R<=36),g=g.toString().replace(/\s+/g,"");var Y=0;g[0]==="-"&&(Y++,this.negative=1),Y<g.length&&(R===16?this._parseHex(g,Y,C):(this._parseBase(g,R,Y),C==="le"&&this._initArray(this.toArray(),R,C)))},s.prototype._initNumber=function(g,R,C){g<0&&(this.negative=1,g=-g),g<67108864?(this.words=[g&67108863],this.length=1):g<4503599627370496?(this.words=[g&67108863,g/67108864&67108863],this.length=2):(r(g<9007199254740992),this.words=[g&67108863,g/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),R,C)},s.prototype._initArray=function(g,R,C){if(r(typeof g.length=="number"),g.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(g.length/3),this.words=new Array(this.length);for(var Y=0;Y<this.length;Y++)this.words[Y]=0;var te,Z,D=0;if(C==="be")for(Y=g.length-1,te=0;Y>=0;Y-=3)Z=g[Y]|g[Y-1]<<8|g[Y-2]<<16,this.words[te]|=Z<<D&67108863,this.words[te+1]=Z>>>26-D&67108863,D+=24,D>=26&&(D-=26,te++);else if(C==="le")for(Y=0,te=0;Y<g.length;Y+=3)Z=g[Y]|g[Y+1]<<8|g[Y+2]<<16,this.words[te]|=Z<<D&67108863,this.words[te+1]=Z>>>26-D&67108863,D+=24,D>=26&&(D-=26,te++);return this._strip()};function u(T,g){var R=T.charCodeAt(g);if(R>=48&&R<=57)return R-48;if(R>=65&&R<=70)return R-55;if(R>=97&&R<=102)return R-87;r(!1,"Invalid character in "+T)}function h(T,g,R){var C=u(T,R);return R-1>=g&&(C|=u(T,R-1)<<4),C}s.prototype._parseHex=function(g,R,C){this.length=Math.ceil((g.length-R)/6),this.words=new Array(this.length);for(var Y=0;Y<this.length;Y++)this.words[Y]=0;var te=0,Z=0,D;if(C==="be")for(Y=g.length-1;Y>=R;Y-=2)D=h(g,R,Y)<<te,this.words[Z]|=D&67108863,te>=18?(te-=18,Z+=1,this.words[Z]|=D>>>26):te+=8;else{var A=g.length-R;for(Y=A%2===0?R+1:R;Y<g.length;Y+=2)D=h(g,R,Y)<<te,this.words[Z]|=D&67108863,te>=18?(te-=18,Z+=1,this.words[Z]|=D>>>26):te+=8}this._strip()};function d(T,g,R,C){for(var Y=0,te=0,Z=Math.min(T.length,R),D=g;D<Z;D++){var A=T.charCodeAt(D)-48;Y*=C,A>=49?te=A-49+10:A>=17?te=A-17+10:te=A,r(A>=0&&te<C,"Invalid character"),Y+=te}return Y}s.prototype._parseBase=function(g,R,C){this.words=[0],this.length=1;for(var Y=0,te=1;te<=67108863;te*=R)Y++;Y--,te=te/R|0;for(var Z=g.length-C,D=Z%Y,A=Math.min(Z,Z-D)+C,w=0,E=C;E<A;E+=Y)w=d(g,E,E+Y,R),this.imuln(te),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w);if(D!==0){var H=1;for(w=d(g,E,g.length,R),E=0;E<D;E++)H*=R;this.imuln(H),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w)}this._strip()},s.prototype.copy=function(g){g.words=new Array(this.length);for(var R=0;R<this.length;R++)g.words[R]=this.words[R];g.length=this.length,g.negative=this.negative,g.red=this.red};function p(T,g){T.words=g.words,T.length=g.length,T.negative=g.negative,T.red=g.red}if(s.prototype._move=function(g){p(g,this)},s.prototype.clone=function(){var g=new s(null);return this.copy(g),g},s.prototype._expand=function(g){for(;this.length<g;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=v}catch{s.prototype.inspect=v}else s.prototype.inspect=v;function v(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(g,R){g=g||10,R=R|0||1;var C;if(g===16||g==="hex"){C="";for(var Y=0,te=0,Z=0;Z<this.length;Z++){var D=this.words[Z],A=((D<<Y|te)&16777215).toString(16);te=D>>>24-Y&16777215,Y+=2,Y>=26&&(Y-=26,Z--),te!==0||Z!==this.length-1?C=x[6-A.length]+A+C:C=A+C}for(te!==0&&(C=te.toString(16)+C);C.length%R!==0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(g===(g|0)&&g>=2&&g<=36){var w=y[g],E=S[g];C="";var H=this.clone();for(H.negative=0;!H.isZero();){var ne=H.modrn(E).toString(g);H=H.idivn(E),H.isZero()?C=ne+C:C=x[w-ne.length]+ne+C}for(this.isZero()&&(C="0"+C);C.length%R!==0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var g=this.words[0];return this.length===2?g+=this.words[1]*67108864:this.length===3&&this.words[2]===1?g+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-g:g},s.prototype.toJSON=function(){return this.toString(16,2)},c&&(s.prototype.toBuffer=function(g,R){return this.toArrayLike(c,g,R)}),s.prototype.toArray=function(g,R){return this.toArrayLike(Array,g,R)};var k=function(g,R){return g.allocUnsafe?g.allocUnsafe(R):new g(R)};s.prototype.toArrayLike=function(g,R,C){this._strip();var Y=this.byteLength(),te=C||Math.max(1,Y);r(Y<=te,"byte array longer than desired length"),r(te>0,"Requested array length <= 0");var Z=k(g,te),D=R==="le"?"LE":"BE";return this["_toArrayLike"+D](Z,Y),Z},s.prototype._toArrayLikeLE=function(g,R){for(var C=0,Y=0,te=0,Z=0;te<this.length;te++){var D=this.words[te]<<Z|Y;g[C++]=D&255,C<g.length&&(g[C++]=D>>8&255),C<g.length&&(g[C++]=D>>16&255),Z===6?(C<g.length&&(g[C++]=D>>24&255),Y=0,Z=0):(Y=D>>>24,Z+=2)}if(C<g.length)for(g[C++]=Y;C<g.length;)g[C++]=0},s.prototype._toArrayLikeBE=function(g,R){for(var C=g.length-1,Y=0,te=0,Z=0;te<this.length;te++){var D=this.words[te]<<Z|Y;g[C--]=D&255,C>=0&&(g[C--]=D>>8&255),C>=0&&(g[C--]=D>>16&255),Z===6?(C>=0&&(g[C--]=D>>24&255),Y=0,Z=0):(Y=D>>>24,Z+=2)}if(C>=0)for(g[C--]=Y;C>=0;)g[C--]=0},Math.clz32?s.prototype._countBits=function(g){return 32-Math.clz32(g)}:s.prototype._countBits=function(g){var R=g,C=0;return R>=4096&&(C+=13,R>>>=13),R>=64&&(C+=7,R>>>=7),R>=8&&(C+=4,R>>>=4),R>=2&&(C+=2,R>>>=2),C+R},s.prototype._zeroBits=function(g){if(g===0)return 26;var R=g,C=0;return(R&8191)===0&&(C+=13,R>>>=13),(R&127)===0&&(C+=7,R>>>=7),(R&15)===0&&(C+=4,R>>>=4),(R&3)===0&&(C+=2,R>>>=2),(R&1)===0&&C++,C},s.prototype.bitLength=function(){var g=this.words[this.length-1],R=this._countBits(g);return(this.length-1)*26+R};function I(T){for(var g=new Array(T.bitLength()),R=0;R<g.length;R++){var C=R/26|0,Y=R%26;g[R]=T.words[C]>>>Y&1}return g}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var g=0,R=0;R<this.length;R++){var C=this._zeroBits(this.words[R]);if(g+=C,C!==26)break}return g},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(g){return this.negative!==0?this.abs().inotn(g).iaddn(1):this.clone()},s.prototype.fromTwos=function(g){return this.testn(g-1)?this.notn(g).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(g){for(;this.length<g.length;)this.words[this.length++]=0;for(var R=0;R<g.length;R++)this.words[R]=this.words[R]|g.words[R];return this._strip()},s.prototype.ior=function(g){return r((this.negative|g.negative)===0),this.iuor(g)},s.prototype.or=function(g){return this.length>g.length?this.clone().ior(g):g.clone().ior(this)},s.prototype.uor=function(g){return this.length>g.length?this.clone().iuor(g):g.clone().iuor(this)},s.prototype.iuand=function(g){var R;this.length>g.length?R=g:R=this;for(var C=0;C<R.length;C++)this.words[C]=this.words[C]&g.words[C];return this.length=R.length,this._strip()},s.prototype.iand=function(g){return r((this.negative|g.negative)===0),this.iuand(g)},s.prototype.and=function(g){return this.length>g.length?this.clone().iand(g):g.clone().iand(this)},s.prototype.uand=function(g){return this.length>g.length?this.clone().iuand(g):g.clone().iuand(this)},s.prototype.iuxor=function(g){var R,C;this.length>g.length?(R=this,C=g):(R=g,C=this);for(var Y=0;Y<C.length;Y++)this.words[Y]=R.words[Y]^C.words[Y];if(this!==R)for(;Y<R.length;Y++)this.words[Y]=R.words[Y];return this.length=R.length,this._strip()},s.prototype.ixor=function(g){return r((this.negative|g.negative)===0),this.iuxor(g)},s.prototype.xor=function(g){return this.length>g.length?this.clone().ixor(g):g.clone().ixor(this)},s.prototype.uxor=function(g){return this.length>g.length?this.clone().iuxor(g):g.clone().iuxor(this)},s.prototype.inotn=function(g){r(typeof g=="number"&&g>=0);var R=Math.ceil(g/26)|0,C=g%26;this._expand(R),C>0&&R--;for(var Y=0;Y<R;Y++)this.words[Y]=~this.words[Y]&67108863;return C>0&&(this.words[Y]=~this.words[Y]&67108863>>26-C),this._strip()},s.prototype.notn=function(g){return this.clone().inotn(g)},s.prototype.setn=function(g,R){r(typeof g=="number"&&g>=0);var C=g/26|0,Y=g%26;return this._expand(C+1),R?this.words[C]=this.words[C]|1<<Y:this.words[C]=this.words[C]&~(1<<Y),this._strip()},s.prototype.iadd=function(g){var R;if(this.negative!==0&&g.negative===0)return this.negative=0,R=this.isub(g),this.negative^=1,this._normSign();if(this.negative===0&&g.negative!==0)return g.negative=0,R=this.isub(g),g.negative=1,R._normSign();var C,Y;this.length>g.length?(C=this,Y=g):(C=g,Y=this);for(var te=0,Z=0;Z<Y.length;Z++)R=(C.words[Z]|0)+(Y.words[Z]|0)+te,this.words[Z]=R&67108863,te=R>>>26;for(;te!==0&&Z<C.length;Z++)R=(C.words[Z]|0)+te,this.words[Z]=R&67108863,te=R>>>26;if(this.length=C.length,te!==0)this.words[this.length]=te,this.length++;else if(C!==this)for(;Z<C.length;Z++)this.words[Z]=C.words[Z];return this},s.prototype.add=function(g){var R;return g.negative!==0&&this.negative===0?(g.negative=0,R=this.sub(g),g.negative^=1,R):g.negative===0&&this.negative!==0?(this.negative=0,R=g.sub(this),this.negative=1,R):this.length>g.length?this.clone().iadd(g):g.clone().iadd(this)},s.prototype.isub=function(g){if(g.negative!==0){g.negative=0;var R=this.iadd(g);return g.negative=1,R._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(g),this.negative=1,this._normSign();var C=this.cmp(g);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Y,te;C>0?(Y=this,te=g):(Y=g,te=this);for(var Z=0,D=0;D<te.length;D++)R=(Y.words[D]|0)-(te.words[D]|0)+Z,Z=R>>26,this.words[D]=R&67108863;for(;Z!==0&&D<Y.length;D++)R=(Y.words[D]|0)+Z,Z=R>>26,this.words[D]=R&67108863;if(Z===0&&D<Y.length&&Y!==this)for(;D<Y.length;D++)this.words[D]=Y.words[D];return this.length=Math.max(this.length,D),Y!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(g){return this.clone().isub(g)};function M(T,g,R){R.negative=g.negative^T.negative;var C=T.length+g.length|0;R.length=C,C=C-1|0;var Y=T.words[0]|0,te=g.words[0]|0,Z=Y*te,D=Z&67108863,A=Z/67108864|0;R.words[0]=D;for(var w=1;w<C;w++){for(var E=A>>>26,H=A&67108863,ne=Math.min(w,g.length-1),ae=Math.max(0,w-T.length+1);ae<=ne;ae++){var me=w-ae|0;Y=T.words[me]|0,te=g.words[ae]|0,Z=Y*te+H,E+=Z/67108864|0,H=Z&67108863}R.words[w]=H|0,A=E|0}return A!==0?R.words[w]=A|0:R.length--,R._strip()}var j=function(g,R,C){var Y=g.words,te=R.words,Z=C.words,D=0,A,w,E,H=Y[0]|0,ne=H&8191,ae=H>>>13,me=Y[1]|0,Le=me&8191,Ue=me>>>13,it=Y[2]|0,ut=it&8191,kt=it>>>13,lr=Y[3]|0,Ot=lr&8191,Jt=lr>>>13,P=Y[4]|0,J=P&8191,re=P>>>13,ye=Y[5]|0,we=ye&8191,Ee=ye>>>13,Ve=Y[6]|0,Ye=Ve&8191,Je=Ve>>>13,Mt=Y[7]|0,lt=Mt&8191,Et=Mt>>>13,Yn=Y[8]|0,fn=Yn&8191,se=Yn>>>13,z=Y[9]|0,G=z&8191,fe=z>>>13,be=te[0]|0,Ae=be&8191,ke=be>>>13,Ct=te[1]|0,bt=Ct&8191,At=Ct>>>13,Kt=te[2]|0,mt=Kt&8191,Bt=Kt>>>13,Fn=te[3]|0,sn=Fn&8191,an=Fn>>>13,gi=te[4]|0,Cn=gi&8191,ie=gi>>>13,F=te[5]|0,$=F&8191,de=F>>>13,_e=te[6]|0,Re=_e&8191,je=_e>>>13,Tt=te[7]|0,It=Tt&8191,gt=Tt>>>13,Wt=te[8]|0,st=Wt&8191,$t=Wt>>>13,Gi=te[9]|0,On=Gi&8191,Hn=Gi>>>13;C.negative=g.negative^R.negative,C.length=19,A=Math.imul(ne,Ae),w=Math.imul(ne,ke),w=w+Math.imul(ae,Ae)|0,E=Math.imul(ae,ke);var La=(D+A|0)+((w&8191)<<13)|0;D=(E+(w>>>13)|0)+(La>>>26)|0,La&=67108863,A=Math.imul(Le,Ae),w=Math.imul(Le,ke),w=w+Math.imul(Ue,Ae)|0,E=Math.imul(Ue,ke),A=A+Math.imul(ne,bt)|0,w=w+Math.imul(ne,At)|0,w=w+Math.imul(ae,bt)|0,E=E+Math.imul(ae,At)|0;var Da=(D+A|0)+((w&8191)<<13)|0;D=(E+(w>>>13)|0)+(Da>>>26)|0,Da&=67108863,A=Math.imul(ut,Ae),w=Math.imul(ut,ke),w=w+Math.imul(kt,Ae)|0,E=Math.imul(kt,ke),A=A+Math.imul(Le,bt)|0,w=w+Math.imul(Le,At)|0,w=w+Math.imul(Ue,bt)|0,E=E+Math.imul(Ue,At)|0,A=A+Math.imul(ne,mt)|0,w=w+Math.imul(ne,Bt)|0,w=w+Math.imul(ae,mt)|0,E=E+Math.imul(ae,Bt)|0;var Ai=(D+A|0)+((w&8191)<<13)|0;D=(E+(w>>>13)|0)+(Ai>>>26)|0,Ai&=67108863,A=Math.imul(Ot,Ae),w=Math.imul(Ot,ke),w=w+Math.imul(Jt,Ae)|0,E=Math.imul(Jt,ke),A=A+Math.imul(ut,bt)|0,w=w+Math.imul(ut,At)|0,w=w+Math.imul(kt,bt)|0,E=E+Math.imul(kt,At)|0,A=A+Math.imul(Le,mt)|0,w=w+Math.imul(Le,Bt)|0,w=w+Math.imul(Ue,mt)|0,E=E+Math.imul(Ue,Bt)|0,A=A+Math.imul(ne,sn)|0,w=w+Math.imul(ne,an)|0,w=w+Math.imul(ae,sn)|0,E=E+Math.imul(ae,an)|0;var Fs=(D+A|0)+((w&8191)<<13)|0;D=(E+(w>>>13)|0)+(Fs>>>26)|0,Fs&=67108863,A=Math.imul(J,Ae),w=Math.imul(J,ke),w=w+Math.imul(re,Ae)|0,E=Math.imul(re,ke),A=A+Math.imul(Ot,bt)|0,w=w+Math.imul(Ot,At)|0,w=w+Math.imul(Jt,bt)|0,E=E+Math.imul(Jt,At)|0,A=A+Math.imul(ut,mt)|0,w=w+Math.imul(ut,Bt)|0,w=w+Math.imul(kt,mt)|0,E=E+Math.imul(kt,Bt)|0,A=A+Math.imul(Le,sn)|0,w=w+Math.imul(Le,an)|0,w=w+Math.imul(Ue,sn)|0,E=E+Math.imul(Ue,an)|0,A=A+Math.imul(ne,Cn)|0,w=w+Math.imul(ne,ie)|0,w=w+Math.imul(ae,Cn)|0,E=E+Math.imul(ae,ie)|0;var Si=(D+A|0)+((w&8191)<<13)|0;D=(E+(w>>>13)|0)+(Si>>>26)|0,Si&=67108863,A=Math.imul(we,Ae),w=Math.imul(we,ke),w=w+Math.imul(Ee,Ae)|0,E=Math.imul(Ee,ke),A=A+Math.imul(J,bt)|0,w=w+Math.imul(J,At)|0,w=w+Math.imul(re,bt)|0,E=E+Math.imul(re,At)|0,A=A+Math.imul(Ot,mt)|0,w=w+Math.imul(Ot,Bt)|0,w=w+Math.imul(Jt,mt)|0,E=E+Math.imul(Jt,Bt)|0,A=A+Math.imul(ut,sn)|0,w=w+Math.imul(ut,an)|0,w=w+Math.imul(kt,sn)|0,E=E+Math.imul(kt,an)|0,A=A+Math.imul(Le,Cn)|0,w=w+Math.imul(Le,ie)|0,w=w+Math.imul(Ue,Cn)|0,E=E+Math.imul(Ue,ie)|0,A=A+Math.imul(ne,$)|0,w=w+Math.imul(ne,de)|0,w=w+Math.imul(ae,$)|0,E=E+Math.imul(ae,de)|0;var ii=(D+A|0)+((w&8191)<<13)|0;D=(E+(w>>>13)|0)+(ii>>>26)|0,ii&=67108863,A=Math.imul(Ye,Ae),w=Math.imul(Ye,ke),w=w+Math.imul(Je,Ae)|0,E=Math.imul(Je,ke),A=A+Math.imul(we,bt)|0,w=w+Math.imul(we,At)|0,w=w+Math.imul(Ee,bt)|0,E=E+Math.imul(Ee,At)|0,A=A+Math.imul(J,mt)|0,w=w+Math.imul(J,Bt)|0,w=w+Math.imul(re,mt)|0,E=E+Math.imul(re,Bt)|0,A=A+Math.imul(Ot,sn)|0,w=w+Math.imul(Ot,an)|0,w=w+Math.imul(Jt,sn)|0,E=E+Math.imul(Jt,an)|0,A=A+Math.imul(ut,Cn)|0,w=w+Math.imul(ut,ie)|0,w=w+Math.imul(kt,Cn)|0,E=E+Math.imul(kt,ie)|0,A=A+Math.imul(Le,$)|0,w=w+Math.imul(Le,de)|0,w=w+Math.imul(Ue,$)|0,E=E+Math.imul(Ue,de)|0,A=A+Math.imul(ne,Re)|0,w=w+Math.imul(ne,je)|0,w=w+Math.imul(ae,Re)|0,E=E+Math.imul(ae,je)|0;var Hr=(D+A|0)+((w&8191)<<13)|0;D=(E+(w>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,A=Math.imul(lt,Ae),w=Math.imul(lt,ke),w=w+Math.imul(Et,Ae)|0,E=Math.imul(Et,ke),A=A+Math.imul(Ye,bt)|0,w=w+Math.imul(Ye,At)|0,w=w+Math.imul(Je,bt)|0,E=E+Math.imul(Je,At)|0,A=A+Math.imul(we,mt)|0,w=w+Math.imul(we,Bt)|0,w=w+Math.imul(Ee,mt)|0,E=E+Math.imul(Ee,Bt)|0,A=A+Math.imul(J,sn)|0,w=w+Math.imul(J,an)|0,w=w+Math.imul(re,sn)|0,E=E+Math.imul(re,an)|0,A=A+Math.imul(Ot,Cn)|0,w=w+Math.imul(Ot,ie)|0,w=w+Math.imul(Jt,Cn)|0,E=E+Math.imul(Jt,ie)|0,A=A+Math.imul(ut,$)|0,w=w+Math.imul(ut,de)|0,w=w+Math.imul(kt,$)|0,E=E+Math.imul(kt,de)|0,A=A+Math.imul(Le,Re)|0,w=w+Math.imul(Le,je)|0,w=w+Math.imul(Ue,Re)|0,E=E+Math.imul(Ue,je)|0,A=A+Math.imul(ne,It)|0,w=w+Math.imul(ne,gt)|0,w=w+Math.imul(ae,It)|0,E=E+Math.imul(ae,gt)|0;var Ri=(D+A|0)+((w&8191)<<13)|0;D=(E+(w>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,A=Math.imul(fn,Ae),w=Math.imul(fn,ke),w=w+Math.imul(se,Ae)|0,E=Math.imul(se,ke),A=A+Math.imul(lt,bt)|0,w=w+Math.imul(lt,At)|0,w=w+Math.imul(Et,bt)|0,E=E+Math.imul(Et,At)|0,A=A+Math.imul(Ye,mt)|0,w=w+Math.imul(Ye,Bt)|0,w=w+Math.imul(Je,mt)|0,E=E+Math.imul(Je,Bt)|0,A=A+Math.imul(we,sn)|0,w=w+Math.imul(we,an)|0,w=w+Math.imul(Ee,sn)|0,E=E+Math.imul(Ee,an)|0,A=A+Math.imul(J,Cn)|0,w=w+Math.imul(J,ie)|0,w=w+Math.imul(re,Cn)|0,E=E+Math.imul(re,ie)|0,A=A+Math.imul(Ot,$)|0,w=w+Math.imul(Ot,de)|0,w=w+Math.imul(Jt,$)|0,E=E+Math.imul(Jt,de)|0,A=A+Math.imul(ut,Re)|0,w=w+Math.imul(ut,je)|0,w=w+Math.imul(kt,Re)|0,E=E+Math.imul(kt,je)|0,A=A+Math.imul(Le,It)|0,w=w+Math.imul(Le,gt)|0,w=w+Math.imul(Ue,It)|0,E=E+Math.imul(Ue,gt)|0,A=A+Math.imul(ne,st)|0,w=w+Math.imul(ne,$t)|0,w=w+Math.imul(ae,st)|0,E=E+Math.imul(ae,$t)|0;var qn=(D+A|0)+((w&8191)<<13)|0;D=(E+(w>>>13)|0)+(qn>>>26)|0,qn&=67108863,A=Math.imul(G,Ae),w=Math.imul(G,ke),w=w+Math.imul(fe,Ae)|0,E=Math.imul(fe,ke),A=A+Math.imul(fn,bt)|0,w=w+Math.imul(fn,At)|0,w=w+Math.imul(se,bt)|0,E=E+Math.imul(se,At)|0,A=A+Math.imul(lt,mt)|0,w=w+Math.imul(lt,Bt)|0,w=w+Math.imul(Et,mt)|0,E=E+Math.imul(Et,Bt)|0,A=A+Math.imul(Ye,sn)|0,w=w+Math.imul(Ye,an)|0,w=w+Math.imul(Je,sn)|0,E=E+Math.imul(Je,an)|0,A=A+Math.imul(we,Cn)|0,w=w+Math.imul(we,ie)|0,w=w+Math.imul(Ee,Cn)|0,E=E+Math.imul(Ee,ie)|0,A=A+Math.imul(J,$)|0,w=w+Math.imul(J,de)|0,w=w+Math.imul(re,$)|0,E=E+Math.imul(re,de)|0,A=A+Math.imul(Ot,Re)|0,w=w+Math.imul(Ot,je)|0,w=w+Math.imul(Jt,Re)|0,E=E+Math.imul(Jt,je)|0,A=A+Math.imul(ut,It)|0,w=w+Math.imul(ut,gt)|0,w=w+Math.imul(kt,It)|0,E=E+Math.imul(kt,gt)|0,A=A+Math.imul(Le,st)|0,w=w+Math.imul(Le,$t)|0,w=w+Math.imul(Ue,st)|0,E=E+Math.imul(Ue,$t)|0,A=A+Math.imul(ne,On)|0,w=w+Math.imul(ne,Hn)|0,w=w+Math.imul(ae,On)|0,E=E+Math.imul(ae,Hn)|0;var jo=(D+A|0)+((w&8191)<<13)|0;D=(E+(w>>>13)|0)+(jo>>>26)|0,jo&=67108863,A=Math.imul(G,bt),w=Math.imul(G,At),w=w+Math.imul(fe,bt)|0,E=Math.imul(fe,At),A=A+Math.imul(fn,mt)|0,w=w+Math.imul(fn,Bt)|0,w=w+Math.imul(se,mt)|0,E=E+Math.imul(se,Bt)|0,A=A+Math.imul(lt,sn)|0,w=w+Math.imul(lt,an)|0,w=w+Math.imul(Et,sn)|0,E=E+Math.imul(Et,an)|0,A=A+Math.imul(Ye,Cn)|0,w=w+Math.imul(Ye,ie)|0,w=w+Math.imul(Je,Cn)|0,E=E+Math.imul(Je,ie)|0,A=A+Math.imul(we,$)|0,w=w+Math.imul(we,de)|0,w=w+Math.imul(Ee,$)|0,E=E+Math.imul(Ee,de)|0,A=A+Math.imul(J,Re)|0,w=w+Math.imul(J,je)|0,w=w+Math.imul(re,Re)|0,E=E+Math.imul(re,je)|0,A=A+Math.imul(Ot,It)|0,w=w+Math.imul(Ot,gt)|0,w=w+Math.imul(Jt,It)|0,E=E+Math.imul(Jt,gt)|0,A=A+Math.imul(ut,st)|0,w=w+Math.imul(ut,$t)|0,w=w+Math.imul(kt,st)|0,E=E+Math.imul(kt,$t)|0,A=A+Math.imul(Le,On)|0,w=w+Math.imul(Le,Hn)|0,w=w+Math.imul(Ue,On)|0,E=E+Math.imul(Ue,Hn)|0;var Po=(D+A|0)+((w&8191)<<13)|0;D=(E+(w>>>13)|0)+(Po>>>26)|0,Po&=67108863,A=Math.imul(G,mt),w=Math.imul(G,Bt),w=w+Math.imul(fe,mt)|0,E=Math.imul(fe,Bt),A=A+Math.imul(fn,sn)|0,w=w+Math.imul(fn,an)|0,w=w+Math.imul(se,sn)|0,E=E+Math.imul(se,an)|0,A=A+Math.imul(lt,Cn)|0,w=w+Math.imul(lt,ie)|0,w=w+Math.imul(Et,Cn)|0,E=E+Math.imul(Et,ie)|0,A=A+Math.imul(Ye,$)|0,w=w+Math.imul(Ye,de)|0,w=w+Math.imul(Je,$)|0,E=E+Math.imul(Je,de)|0,A=A+Math.imul(we,Re)|0,w=w+Math.imul(we,je)|0,w=w+Math.imul(Ee,Re)|0,E=E+Math.imul(Ee,je)|0,A=A+Math.imul(J,It)|0,w=w+Math.imul(J,gt)|0,w=w+Math.imul(re,It)|0,E=E+Math.imul(re,gt)|0,A=A+Math.imul(Ot,st)|0,w=w+Math.imul(Ot,$t)|0,w=w+Math.imul(Jt,st)|0,E=E+Math.imul(Jt,$t)|0,A=A+Math.imul(ut,On)|0,w=w+Math.imul(ut,Hn)|0,w=w+Math.imul(kt,On)|0,E=E+Math.imul(kt,Hn)|0;var Ti=(D+A|0)+((w&8191)<<13)|0;D=(E+(w>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,A=Math.imul(G,sn),w=Math.imul(G,an),w=w+Math.imul(fe,sn)|0,E=Math.imul(fe,an),A=A+Math.imul(fn,Cn)|0,w=w+Math.imul(fn,ie)|0,w=w+Math.imul(se,Cn)|0,E=E+Math.imul(se,ie)|0,A=A+Math.imul(lt,$)|0,w=w+Math.imul(lt,de)|0,w=w+Math.imul(Et,$)|0,E=E+Math.imul(Et,de)|0,A=A+Math.imul(Ye,Re)|0,w=w+Math.imul(Ye,je)|0,w=w+Math.imul(Je,Re)|0,E=E+Math.imul(Je,je)|0,A=A+Math.imul(we,It)|0,w=w+Math.imul(we,gt)|0,w=w+Math.imul(Ee,It)|0,E=E+Math.imul(Ee,gt)|0,A=A+Math.imul(J,st)|0,w=w+Math.imul(J,$t)|0,w=w+Math.imul(re,st)|0,E=E+Math.imul(re,$t)|0,A=A+Math.imul(Ot,On)|0,w=w+Math.imul(Ot,Hn)|0,w=w+Math.imul(Jt,On)|0,E=E+Math.imul(Jt,Hn)|0;var Ni=(D+A|0)+((w&8191)<<13)|0;D=(E+(w>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,A=Math.imul(G,Cn),w=Math.imul(G,ie),w=w+Math.imul(fe,Cn)|0,E=Math.imul(fe,ie),A=A+Math.imul(fn,$)|0,w=w+Math.imul(fn,de)|0,w=w+Math.imul(se,$)|0,E=E+Math.imul(se,de)|0,A=A+Math.imul(lt,Re)|0,w=w+Math.imul(lt,je)|0,w=w+Math.imul(Et,Re)|0,E=E+Math.imul(Et,je)|0,A=A+Math.imul(Ye,It)|0,w=w+Math.imul(Ye,gt)|0,w=w+Math.imul(Je,It)|0,E=E+Math.imul(Je,gt)|0,A=A+Math.imul(we,st)|0,w=w+Math.imul(we,$t)|0,w=w+Math.imul(Ee,st)|0,E=E+Math.imul(Ee,$t)|0,A=A+Math.imul(J,On)|0,w=w+Math.imul(J,Hn)|0,w=w+Math.imul(re,On)|0,E=E+Math.imul(re,Hn)|0;var Uo=(D+A|0)+((w&8191)<<13)|0;D=(E+(w>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,A=Math.imul(G,$),w=Math.imul(G,de),w=w+Math.imul(fe,$)|0,E=Math.imul(fe,de),A=A+Math.imul(fn,Re)|0,w=w+Math.imul(fn,je)|0,w=w+Math.imul(se,Re)|0,E=E+Math.imul(se,je)|0,A=A+Math.imul(lt,It)|0,w=w+Math.imul(lt,gt)|0,w=w+Math.imul(Et,It)|0,E=E+Math.imul(Et,gt)|0,A=A+Math.imul(Ye,st)|0,w=w+Math.imul(Ye,$t)|0,w=w+Math.imul(Je,st)|0,E=E+Math.imul(Je,$t)|0,A=A+Math.imul(we,On)|0,w=w+Math.imul(we,Hn)|0,w=w+Math.imul(Ee,On)|0,E=E+Math.imul(Ee,Hn)|0;var Vo=(D+A|0)+((w&8191)<<13)|0;D=(E+(w>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,A=Math.imul(G,Re),w=Math.imul(G,je),w=w+Math.imul(fe,Re)|0,E=Math.imul(fe,je),A=A+Math.imul(fn,It)|0,w=w+Math.imul(fn,gt)|0,w=w+Math.imul(se,It)|0,E=E+Math.imul(se,gt)|0,A=A+Math.imul(lt,st)|0,w=w+Math.imul(lt,$t)|0,w=w+Math.imul(Et,st)|0,E=E+Math.imul(Et,$t)|0,A=A+Math.imul(Ye,On)|0,w=w+Math.imul(Ye,Hn)|0,w=w+Math.imul(Je,On)|0,E=E+Math.imul(Je,Hn)|0;var zo=(D+A|0)+((w&8191)<<13)|0;D=(E+(w>>>13)|0)+(zo>>>26)|0,zo&=67108863,A=Math.imul(G,It),w=Math.imul(G,gt),w=w+Math.imul(fe,It)|0,E=Math.imul(fe,gt),A=A+Math.imul(fn,st)|0,w=w+Math.imul(fn,$t)|0,w=w+Math.imul(se,st)|0,E=E+Math.imul(se,$t)|0,A=A+Math.imul(lt,On)|0,w=w+Math.imul(lt,Hn)|0,w=w+Math.imul(Et,On)|0,E=E+Math.imul(Et,Hn)|0;var ja=(D+A|0)+((w&8191)<<13)|0;D=(E+(w>>>13)|0)+(ja>>>26)|0,ja&=67108863,A=Math.imul(G,st),w=Math.imul(G,$t),w=w+Math.imul(fe,st)|0,E=Math.imul(fe,$t),A=A+Math.imul(fn,On)|0,w=w+Math.imul(fn,Hn)|0,w=w+Math.imul(se,On)|0,E=E+Math.imul(se,Hn)|0;var Hs=(D+A|0)+((w&8191)<<13)|0;D=(E+(w>>>13)|0)+(Hs>>>26)|0,Hs&=67108863,A=Math.imul(G,On),w=Math.imul(G,Hn),w=w+Math.imul(fe,On)|0,E=Math.imul(fe,Hn);var qr=(D+A|0)+((w&8191)<<13)|0;return D=(E+(w>>>13)|0)+(qr>>>26)|0,qr&=67108863,Z[0]=La,Z[1]=Da,Z[2]=Ai,Z[3]=Fs,Z[4]=Si,Z[5]=ii,Z[6]=Hr,Z[7]=Ri,Z[8]=qn,Z[9]=jo,Z[10]=Po,Z[11]=Ti,Z[12]=Ni,Z[13]=Uo,Z[14]=Vo,Z[15]=zo,Z[16]=ja,Z[17]=Hs,Z[18]=qr,D!==0&&(Z[19]=D,C.length++),C};Math.imul||(j=M);function O(T,g,R){R.negative=g.negative^T.negative,R.length=T.length+g.length;for(var C=0,Y=0,te=0;te<R.length-1;te++){var Z=Y;Y=0;for(var D=C&67108863,A=Math.min(te,g.length-1),w=Math.max(0,te-T.length+1);w<=A;w++){var E=te-w,H=T.words[E]|0,ne=g.words[w]|0,ae=H*ne,me=ae&67108863;Z=Z+(ae/67108864|0)|0,me=me+D|0,D=me&67108863,Z=Z+(me>>>26)|0,Y+=Z>>>26,Z&=67108863}R.words[te]=D,C=Z,Z=Y}return C!==0?R.words[te]=C:R.length--,R._strip()}function Q(T,g,R){return O(T,g,R)}s.prototype.mulTo=function(g,R){var C,Y=this.length+g.length;return this.length===10&&g.length===10?C=j(this,g,R):Y<63?C=M(this,g,R):Y<1024?C=O(this,g,R):C=Q(this,g,R),C},s.prototype.mul=function(g){var R=new s(null);return R.words=new Array(this.length+g.length),this.mulTo(g,R)},s.prototype.mulf=function(g){var R=new s(null);return R.words=new Array(this.length+g.length),Q(this,g,R)},s.prototype.imul=function(g){return this.clone().mulTo(g,this)},s.prototype.imuln=function(g){var R=g<0;R&&(g=-g),r(typeof g=="number"),r(g<67108864);for(var C=0,Y=0;Y<this.length;Y++){var te=(this.words[Y]|0)*g,Z=(te&67108863)+(C&67108863);C>>=26,C+=te/67108864|0,C+=Z>>>26,this.words[Y]=Z&67108863}return C!==0&&(this.words[Y]=C,this.length++),this.length=g===0?1:this.length,R?this.ineg():this},s.prototype.muln=function(g){return this.clone().imuln(g)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(g){var R=I(g);if(R.length===0)return new s(1);for(var C=this,Y=0;Y<R.length&&R[Y]===0;Y++,C=C.sqr());if(++Y<R.length)for(var te=C.sqr();Y<R.length;Y++,te=te.sqr())R[Y]!==0&&(C=C.mul(te));return C},s.prototype.iushln=function(g){r(typeof g=="number"&&g>=0);var R=g%26,C=(g-R)/26,Y=67108863>>>26-R<<26-R,te;if(R!==0){var Z=0;for(te=0;te<this.length;te++){var D=this.words[te]&Y,A=(this.words[te]|0)-D<<R;this.words[te]=A|Z,Z=D>>>26-R}Z&&(this.words[te]=Z,this.length++)}if(C!==0){for(te=this.length-1;te>=0;te--)this.words[te+C]=this.words[te];for(te=0;te<C;te++)this.words[te]=0;this.length+=C}return this._strip()},s.prototype.ishln=function(g){return r(this.negative===0),this.iushln(g)},s.prototype.iushrn=function(g,R,C){r(typeof g=="number"&&g>=0);var Y;R?Y=(R-R%26)/26:Y=0;var te=g%26,Z=Math.min((g-te)/26,this.length),D=67108863^67108863>>>te<<te,A=C;if(Y-=Z,Y=Math.max(0,Y),A){for(var w=0;w<Z;w++)A.words[w]=this.words[w];A.length=Z}if(Z!==0)if(this.length>Z)for(this.length-=Z,w=0;w<this.length;w++)this.words[w]=this.words[w+Z];else this.words[0]=0,this.length=1;var E=0;for(w=this.length-1;w>=0&&(E!==0||w>=Y);w--){var H=this.words[w]|0;this.words[w]=E<<26-te|H>>>te,E=H&D}return A&&E!==0&&(A.words[A.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(g,R,C){return r(this.negative===0),this.iushrn(g,R,C)},s.prototype.shln=function(g){return this.clone().ishln(g)},s.prototype.ushln=function(g){return this.clone().iushln(g)},s.prototype.shrn=function(g){return this.clone().ishrn(g)},s.prototype.ushrn=function(g){return this.clone().iushrn(g)},s.prototype.testn=function(g){r(typeof g=="number"&&g>=0);var R=g%26,C=(g-R)/26,Y=1<<R;if(this.length<=C)return!1;var te=this.words[C];return!!(te&Y)},s.prototype.imaskn=function(g){r(typeof g=="number"&&g>=0);var R=g%26,C=(g-R)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(R!==0&&C++,this.length=Math.min(C,this.length),R!==0){var Y=67108863^67108863>>>R<<R;this.words[this.length-1]&=Y}return this._strip()},s.prototype.maskn=function(g){return this.clone().imaskn(g)},s.prototype.iaddn=function(g){return r(typeof g=="number"),r(g<67108864),g<0?this.isubn(-g):this.negative!==0?this.length===1&&(this.words[0]|0)<=g?(this.words[0]=g-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(g),this.negative=1,this):this._iaddn(g)},s.prototype._iaddn=function(g){this.words[0]+=g;for(var R=0;R<this.length&&this.words[R]>=67108864;R++)this.words[R]-=67108864,R===this.length-1?this.words[R+1]=1:this.words[R+1]++;return this.length=Math.max(this.length,R+1),this},s.prototype.isubn=function(g){if(r(typeof g=="number"),r(g<67108864),g<0)return this.iaddn(-g);if(this.negative!==0)return this.negative=0,this.iaddn(g),this.negative=1,this;if(this.words[0]-=g,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var R=0;R<this.length&&this.words[R]<0;R++)this.words[R]+=67108864,this.words[R+1]-=1;return this._strip()},s.prototype.addn=function(g){return this.clone().iaddn(g)},s.prototype.subn=function(g){return this.clone().isubn(g)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(g,R,C){var Y=g.length+C,te;this._expand(Y);var Z,D=0;for(te=0;te<g.length;te++){Z=(this.words[te+C]|0)+D;var A=(g.words[te]|0)*R;Z-=A&67108863,D=(Z>>26)-(A/67108864|0),this.words[te+C]=Z&67108863}for(;te<this.length-C;te++)Z=(this.words[te+C]|0)+D,D=Z>>26,this.words[te+C]=Z&67108863;if(D===0)return this._strip();for(r(D===-1),D=0,te=0;te<this.length;te++)Z=-(this.words[te]|0)+D,D=Z>>26,this.words[te]=Z&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(g,R){var C=this.length-g.length,Y=this.clone(),te=g,Z=te.words[te.length-1]|0,D=this._countBits(Z);C=26-D,C!==0&&(te=te.ushln(C),Y.iushln(C),Z=te.words[te.length-1]|0);var A=Y.length-te.length,w;if(R!=="mod"){w=new s(null),w.length=A+1,w.words=new Array(w.length);for(var E=0;E<w.length;E++)w.words[E]=0}var H=Y.clone()._ishlnsubmul(te,1,A);H.negative===0&&(Y=H,w&&(w.words[A]=1));for(var ne=A-1;ne>=0;ne--){var ae=(Y.words[te.length+ne]|0)*67108864+(Y.words[te.length+ne-1]|0);for(ae=Math.min(ae/Z|0,67108863),Y._ishlnsubmul(te,ae,ne);Y.negative!==0;)ae--,Y.negative=0,Y._ishlnsubmul(te,1,ne),Y.isZero()||(Y.negative^=1);w&&(w.words[ne]=ae)}return w&&w._strip(),Y._strip(),R!=="div"&&C!==0&&Y.iushrn(C),{div:w||null,mod:Y}},s.prototype.divmod=function(g,R,C){if(r(!g.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var Y,te,Z;return this.negative!==0&&g.negative===0?(Z=this.neg().divmod(g,R),R!=="mod"&&(Y=Z.div.neg()),R!=="div"&&(te=Z.mod.neg(),C&&te.negative!==0&&te.iadd(g)),{div:Y,mod:te}):this.negative===0&&g.negative!==0?(Z=this.divmod(g.neg(),R),R!=="mod"&&(Y=Z.div.neg()),{div:Y,mod:Z.mod}):(this.negative&g.negative)!==0?(Z=this.neg().divmod(g.neg(),R),R!=="div"&&(te=Z.mod.neg(),C&&te.negative!==0&&te.isub(g)),{div:Z.div,mod:te}):g.length>this.length||this.cmp(g)<0?{div:new s(0),mod:this}:g.length===1?R==="div"?{div:this.divn(g.words[0]),mod:null}:R==="mod"?{div:null,mod:new s(this.modrn(g.words[0]))}:{div:this.divn(g.words[0]),mod:new s(this.modrn(g.words[0]))}:this._wordDiv(g,R)},s.prototype.div=function(g){return this.divmod(g,"div",!1).div},s.prototype.mod=function(g){return this.divmod(g,"mod",!1).mod},s.prototype.umod=function(g){return this.divmod(g,"mod",!0).mod},s.prototype.divRound=function(g){var R=this.divmod(g);if(R.mod.isZero())return R.div;var C=R.div.negative!==0?R.mod.isub(g):R.mod,Y=g.ushrn(1),te=g.andln(1),Z=C.cmp(Y);return Z<0||te===1&&Z===0?R.div:R.div.negative!==0?R.div.isubn(1):R.div.iaddn(1)},s.prototype.modrn=function(g){var R=g<0;R&&(g=-g),r(g<=67108863);for(var C=(1<<26)%g,Y=0,te=this.length-1;te>=0;te--)Y=(C*Y+(this.words[te]|0))%g;return R?-Y:Y},s.prototype.modn=function(g){return this.modrn(g)},s.prototype.idivn=function(g){var R=g<0;R&&(g=-g),r(g<=67108863);for(var C=0,Y=this.length-1;Y>=0;Y--){var te=(this.words[Y]|0)+C*67108864;this.words[Y]=te/g|0,C=te%g}return this._strip(),R?this.ineg():this},s.prototype.divn=function(g){return this.clone().idivn(g)},s.prototype.egcd=function(g){r(g.negative===0),r(!g.isZero());var R=this,C=g.clone();R.negative!==0?R=R.umod(g):R=R.clone();for(var Y=new s(1),te=new s(0),Z=new s(0),D=new s(1),A=0;R.isEven()&&C.isEven();)R.iushrn(1),C.iushrn(1),++A;for(var w=C.clone(),E=R.clone();!R.isZero();){for(var H=0,ne=1;(R.words[0]&ne)===0&&H<26;++H,ne<<=1);if(H>0)for(R.iushrn(H);H-- >0;)(Y.isOdd()||te.isOdd())&&(Y.iadd(w),te.isub(E)),Y.iushrn(1),te.iushrn(1);for(var ae=0,me=1;(C.words[0]&me)===0&&ae<26;++ae,me<<=1);if(ae>0)for(C.iushrn(ae);ae-- >0;)(Z.isOdd()||D.isOdd())&&(Z.iadd(w),D.isub(E)),Z.iushrn(1),D.iushrn(1);R.cmp(C)>=0?(R.isub(C),Y.isub(Z),te.isub(D)):(C.isub(R),Z.isub(Y),D.isub(te))}return{a:Z,b:D,gcd:C.iushln(A)}},s.prototype._invmp=function(g){r(g.negative===0),r(!g.isZero());var R=this,C=g.clone();R.negative!==0?R=R.umod(g):R=R.clone();for(var Y=new s(1),te=new s(0),Z=C.clone();R.cmpn(1)>0&&C.cmpn(1)>0;){for(var D=0,A=1;(R.words[0]&A)===0&&D<26;++D,A<<=1);if(D>0)for(R.iushrn(D);D-- >0;)Y.isOdd()&&Y.iadd(Z),Y.iushrn(1);for(var w=0,E=1;(C.words[0]&E)===0&&w<26;++w,E<<=1);if(w>0)for(C.iushrn(w);w-- >0;)te.isOdd()&&te.iadd(Z),te.iushrn(1);R.cmp(C)>=0?(R.isub(C),Y.isub(te)):(C.isub(R),te.isub(Y))}var H;return R.cmpn(1)===0?H=Y:H=te,H.cmpn(0)<0&&H.iadd(g),H},s.prototype.gcd=function(g){if(this.isZero())return g.abs();if(g.isZero())return this.abs();var R=this.clone(),C=g.clone();R.negative=0,C.negative=0;for(var Y=0;R.isEven()&&C.isEven();Y++)R.iushrn(1),C.iushrn(1);do{for(;R.isEven();)R.iushrn(1);for(;C.isEven();)C.iushrn(1);var te=R.cmp(C);if(te<0){var Z=R;R=C,C=Z}else if(te===0||C.cmpn(1)===0)break;R.isub(C)}while(!0);return C.iushln(Y)},s.prototype.invm=function(g){return this.egcd(g).a.umod(g)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(g){return this.words[0]&g},s.prototype.bincn=function(g){r(typeof g=="number");var R=g%26,C=(g-R)/26,Y=1<<R;if(this.length<=C)return this._expand(C+1),this.words[C]|=Y,this;for(var te=Y,Z=C;te!==0&&Z<this.length;Z++){var D=this.words[Z]|0;D+=te,te=D>>>26,D&=67108863,this.words[Z]=D}return te!==0&&(this.words[Z]=te,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(g){var R=g<0;if(this.negative!==0&&!R)return-1;if(this.negative===0&&R)return 1;this._strip();var C;if(this.length>1)C=1;else{R&&(g=-g),r(g<=67108863,"Number is too big");var Y=this.words[0]|0;C=Y===g?0:Y<g?-1:1}return this.negative!==0?-C|0:C},s.prototype.cmp=function(g){if(this.negative!==0&&g.negative===0)return-1;if(this.negative===0&&g.negative!==0)return 1;var R=this.ucmp(g);return this.negative!==0?-R|0:R},s.prototype.ucmp=function(g){if(this.length>g.length)return 1;if(this.length<g.length)return-1;for(var R=0,C=this.length-1;C>=0;C--){var Y=this.words[C]|0,te=g.words[C]|0;if(Y!==te){Y<te?R=-1:Y>te&&(R=1);break}}return R},s.prototype.gtn=function(g){return this.cmpn(g)===1},s.prototype.gt=function(g){return this.cmp(g)===1},s.prototype.gten=function(g){return this.cmpn(g)>=0},s.prototype.gte=function(g){return this.cmp(g)>=0},s.prototype.ltn=function(g){return this.cmpn(g)===-1},s.prototype.lt=function(g){return this.cmp(g)===-1},s.prototype.lten=function(g){return this.cmpn(g)<=0},s.prototype.lte=function(g){return this.cmp(g)<=0},s.prototype.eqn=function(g){return this.cmpn(g)===0},s.prototype.eq=function(g){return this.cmp(g)===0},s.red=function(g){return new q(g)},s.prototype.toRed=function(g){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),g.convertTo(this)._forceRed(g)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(g){return this.red=g,this},s.prototype.forceRed=function(g){return r(!this.red,"Already a number in reduction context"),this._forceRed(g)},s.prototype.redAdd=function(g){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,g)},s.prototype.redIAdd=function(g){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,g)},s.prototype.redSub=function(g){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,g)},s.prototype.redISub=function(g){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,g)},s.prototype.redShl=function(g){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,g)},s.prototype.redMul=function(g){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.mul(this,g)},s.prototype.redIMul=function(g){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.imul(this,g)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(g){return r(this.red&&!g.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,g)};var oe={k256:null,p224:null,p192:null,p25519:null};function ce(T,g){this.name=T,this.p=new s(g,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ce.prototype._tmp=function(){var g=new s(null);return g.words=new Array(Math.ceil(this.n/13)),g},ce.prototype.ireduce=function(g){var R=g,C;do this.split(R,this.tmp),R=this.imulK(R),R=R.iadd(this.tmp),C=R.bitLength();while(C>this.n);var Y=C<this.n?-1:R.ucmp(this.p);return Y===0?(R.words[0]=0,R.length=1):Y>0?R.isub(this.p):R.strip!==void 0?R.strip():R._strip(),R},ce.prototype.split=function(g,R){g.iushrn(this.n,0,R)},ce.prototype.imulK=function(g){return g.imul(this.k)};function W(){ce.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(W,ce),W.prototype.split=function(g,R){for(var C=4194303,Y=Math.min(g.length,9),te=0;te<Y;te++)R.words[te]=g.words[te];if(R.length=Y,g.length<=9){g.words[0]=0,g.length=1;return}var Z=g.words[9];for(R.words[R.length++]=Z&C,te=10;te<g.length;te++){var D=g.words[te]|0;g.words[te-10]=(D&C)<<4|Z>>>22,Z=D}Z>>>=22,g.words[te-10]=Z,Z===0&&g.length>10?g.length-=10:g.length-=9},W.prototype.imulK=function(g){g.words[g.length]=0,g.words[g.length+1]=0,g.length+=2;for(var R=0,C=0;C<g.length;C++){var Y=g.words[C]|0;R+=Y*977,g.words[C]=R&67108863,R=Y*64+(R/67108864|0)}return g.words[g.length-1]===0&&(g.length--,g.words[g.length-1]===0&&g.length--),g};function K(){ce.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(K,ce);function B(){ce.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(B,ce);function U(){ce.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(U,ce),U.prototype.imulK=function(g){for(var R=0,C=0;C<g.length;C++){var Y=(g.words[C]|0)*19+R,te=Y&67108863;Y>>>=26,g.words[C]=te,R=Y}return R!==0&&(g.words[g.length++]=R),g},s._prime=function(g){if(oe[g])return oe[g];var R;if(g==="k256")R=new W;else if(g==="p224")R=new K;else if(g==="p192")R=new B;else if(g==="p25519")R=new U;else throw new Error("Unknown prime "+g);return oe[g]=R,R};function q(T){if(typeof T=="string"){var g=s._prime(T);this.m=g.p,this.prime=g}else r(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}q.prototype._verify1=function(g){r(g.negative===0,"red works only with positives"),r(g.red,"red works only with red numbers")},q.prototype._verify2=function(g,R){r((g.negative|R.negative)===0,"red works only with positives"),r(g.red&&g.red===R.red,"red works only with red numbers")},q.prototype.imod=function(g){return this.prime?this.prime.ireduce(g)._forceRed(this):(p(g,g.umod(this.m)._forceRed(this)),g)},q.prototype.neg=function(g){return g.isZero()?g.clone():this.m.sub(g)._forceRed(this)},q.prototype.add=function(g,R){this._verify2(g,R);var C=g.add(R);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},q.prototype.iadd=function(g,R){this._verify2(g,R);var C=g.iadd(R);return C.cmp(this.m)>=0&&C.isub(this.m),C},q.prototype.sub=function(g,R){this._verify2(g,R);var C=g.sub(R);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},q.prototype.isub=function(g,R){this._verify2(g,R);var C=g.isub(R);return C.cmpn(0)<0&&C.iadd(this.m),C},q.prototype.shl=function(g,R){return this._verify1(g),this.imod(g.ushln(R))},q.prototype.imul=function(g,R){return this._verify2(g,R),this.imod(g.imul(R))},q.prototype.mul=function(g,R){return this._verify2(g,R),this.imod(g.mul(R))},q.prototype.isqr=function(g){return this.imul(g,g.clone())},q.prototype.sqr=function(g){return this.mul(g,g)},q.prototype.sqrt=function(g){if(g.isZero())return g.clone();var R=this.m.andln(3);if(r(R%2===1),R===3){var C=this.m.add(new s(1)).iushrn(2);return this.pow(g,C)}for(var Y=this.m.subn(1),te=0;!Y.isZero()&&Y.andln(1)===0;)te++,Y.iushrn(1);r(!Y.isZero());var Z=new s(1).toRed(this),D=Z.redNeg(),A=this.m.subn(1).iushrn(1),w=this.m.bitLength();for(w=new s(2*w*w).toRed(this);this.pow(w,A).cmp(D)!==0;)w.redIAdd(D);for(var E=this.pow(w,Y),H=this.pow(g,Y.addn(1).iushrn(1)),ne=this.pow(g,Y),ae=te;ne.cmp(Z)!==0;){for(var me=ne,Le=0;me.cmp(Z)!==0;Le++)me=me.redSqr();r(Le<ae);var Ue=this.pow(E,new s(1).iushln(ae-Le-1));H=H.redMul(Ue),E=Ue.redSqr(),ne=ne.redMul(E),ae=Le}return H},q.prototype.invm=function(g){var R=g._invmp(this.m);return R.negative!==0?(R.negative=0,this.imod(R).redNeg()):this.imod(R)},q.prototype.pow=function(g,R){if(R.isZero())return new s(1).toRed(this);if(R.cmpn(1)===0)return g.clone();var C=4,Y=new Array(1<<C);Y[0]=new s(1).toRed(this),Y[1]=g;for(var te=2;te<Y.length;te++)Y[te]=this.mul(Y[te-1],g);var Z=Y[0],D=0,A=0,w=R.bitLength()%26;for(w===0&&(w=26),te=R.length-1;te>=0;te--){for(var E=R.words[te],H=w-1;H>=0;H--){var ne=E>>H&1;if(Z!==Y[0]&&(Z=this.sqr(Z)),ne===0&&D===0){A=0;continue}D<<=1,D|=ne,A++,!(A!==C&&(te!==0||H!==0))&&(Z=this.mul(Z,Y[D]),A=0,D=0)}w=26}return Z},q.prototype.convertTo=function(g){var R=g.umod(this.m);return R===g?R.clone():R},q.prototype.convertFrom=function(g){var R=g.clone();return R.red=null,R},s.mont=function(g){return new L(g)};function L(T){q.call(this,T),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(L,q),L.prototype.convertTo=function(g){return this.imod(g.ushln(this.shift))},L.prototype.convertFrom=function(g){var R=this.imod(g.mul(this.rinv));return R.red=null,R},L.prototype.imul=function(g,R){if(g.isZero()||R.isZero())return g.words[0]=0,g.length=1,g;var C=g.imul(R),Y=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),te=C.isub(Y).iushrn(this.shift),Z=te;return te.cmp(this.m)>=0?Z=te.isub(this.m):te.cmpn(0)<0&&(Z=te.iadd(this.m)),Z._forceRed(this)},L.prototype.mul=function(g,R){if(g.isZero()||R.isZero())return new s(0)._forceRed(this);var C=g.mul(R),Y=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),te=C.isub(Y).iushrn(this.shift),Z=te;return te.cmp(this.m)>=0?Z=te.isub(this.m):te.cmpn(0)<0&&(Z=te.iadd(this.m)),Z._forceRed(this)},L.prototype.invm=function(g){var R=this.imod(g._invmp(this.m).mul(this.r2));return R._forceRed(this)}})(n,h9)})(fg)),fg.exports}var f9=EE();const Vi=Mo(f9);var N0={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var rN;function X3(){return rN||(rN=1,(function(n,e){var t=xE(),r=t.Buffer;function i(c,u){for(var h in c)u[h]=c[h]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=t:(i(t,e),e.Buffer=s);function s(c,u,h){return r(c,u,h)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(c,u,h){if(typeof c=="number")throw new TypeError("Argument must not be a number");return r(c,u,h)},s.alloc=function(c,u,h){if(typeof c!="number")throw new TypeError("Argument must be a number");var d=r(c);return u!==void 0?typeof h=="string"?d.fill(u,h):d.fill(u):d.fill(0),d},s.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return r(c)},s.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(c)}})(N0,N0.exports)),N0.exports}var Sb,iN;function d9(){if(iN)return Sb;iN=1;var n=X3().Buffer;function e(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var s=0;s<t.length;s++){var c=t.charAt(s),u=c.charCodeAt(0);if(r[u]!==255)throw new TypeError(c+" is ambiguous");r[u]=s}var h=t.length,d=t.charAt(0),p=Math.log(h)/Math.log(256),v=Math.log(256)/Math.log(h);function x(k){if((Array.isArray(k)||k instanceof Uint8Array)&&(k=n.from(k)),!n.isBuffer(k))throw new TypeError("Expected Buffer");if(k.length===0)return"";for(var I=0,M=0,j=0,O=k.length;j!==O&&k[j]===0;)j++,I++;for(var Q=(O-j)*v+1>>>0,oe=new Uint8Array(Q);j!==O;){for(var ce=k[j],W=0,K=Q-1;(ce!==0||W<M)&&K!==-1;K--,W++)ce+=256*oe[K]>>>0,oe[K]=ce%h>>>0,ce=ce/h>>>0;if(ce!==0)throw new Error("Non-zero carry");M=W,j++}for(var B=Q-M;B!==Q&&oe[B]===0;)B++;for(var U=d.repeat(I);B<Q;++B)U+=t.charAt(oe[B]);return U}function y(k){if(typeof k!="string")throw new TypeError("Expected String");if(k.length===0)return n.alloc(0);for(var I=0,M=0,j=0;k[I]===d;)M++,I++;for(var O=(k.length-I)*p+1>>>0,Q=new Uint8Array(O);I<k.length;){var oe=k.charCodeAt(I);if(oe>255)return;var ce=r[oe];if(ce===255)return;for(var W=0,K=O-1;(ce!==0||W<j)&&K!==-1;K--,W++)ce+=h*Q[K]>>>0,Q[K]=ce%256>>>0,ce=ce/256>>>0;if(ce!==0)throw new Error("Non-zero carry");j=W,I++}for(var B=O-j;B!==O&&Q[B]===0;)B++;var U=n.allocUnsafe(M+(O-B));U.fill(0,0,M);for(var q=M;B!==O;)U[q++]=Q[B++];return U}function S(k){var I=y(k);if(I)return I;throw new Error("Non-base"+h+" character")}return{encode:x,decodeUnsafe:y,decode:S}}return Sb=e,Sb}var Rb,sN;function Z3(){if(sN)return Rb;sN=1;var n=d9(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return Rb=n(e),Rb}var p9=Z3();const ei=Mo(p9),oN=I3;var Sn={};function ga(n,e,t){return e<=n&&n<=t}function Ly(n){if(n===void 0)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function m9(n){for(var e=String(n),t=e.length,r=0,i=[];r<t;){var s=e.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===t-1)i.push(65533);else{var c=n.charCodeAt(r+1);if(56320<=c&&c<=57343){var u=s&1023,h=c&1023;i.push(65536+(u<<10)+h),r+=1}else i.push(65533)}r+=1}return i}function g9(n){for(var e="",t=0;t<n.length;++t){var r=n[t];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var Yg=-1;function AE(n){this.tokens=[].slice.call(n)}AE.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Yg},prepend:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(n)},push:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.push(e.shift());else this.tokens.push(n)}};var nf=-1;function Tb(n,e){if(n)throw TypeError("Decoder error");return e||65533}var Xg="utf-8";function Zg(n,e){if(!(this instanceof Zg))return new Zg(n,e);if(n=n!==void 0?String(n).toLowerCase():Xg,n!==Xg)throw new Error("Encoding not supported. Only utf-8 is supported");e=Ly(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Zg.prototype={decode:function(e,t){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),t=Ly(t),this._streaming||(this._decoder=new y9({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var i=new AE(r),s=[],c;!i.endOfStream()&&(c=this._decoder.handler(i,i.read()),c!==nf);)c!==null&&(Array.isArray(c)?s.push.apply(s,c):s.push(c));if(!this._streaming){do{if(c=this._decoder.handler(i,i.read()),c===nf)break;c!==null&&(Array.isArray(c)?s.push.apply(s,c):s.push(c))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),g9(s)}};function Qg(n,e){if(!(this instanceof Qg))return new Qg(n,e);if(n=n!==void 0?String(n).toLowerCase():Xg,n!==Xg)throw new Error("Encoding not supported. Only utf-8 is supported");e=Ly(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Qg.prototype={encode:function(e,t){e=e?String(e):"",t=Ly(t),this._streaming||(this._encoder=new w9(this._options)),this._streaming=!!t.stream;for(var r=[],i=new AE(m9(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==nf);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==nf;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function y9(n){var e=n.fatal,t=0,r=0,i=0,s=128,c=191;this.handler=function(u,h){if(h===Yg&&i!==0)return i=0,Tb(e);if(h===Yg)return nf;if(i===0){if(ga(h,0,127))return h;if(ga(h,194,223))i=1,t=h-192;else if(ga(h,224,239))h===224&&(s=160),h===237&&(c=159),i=2,t=h-224;else if(ga(h,240,244))h===240&&(s=144),h===244&&(c=143),i=3,t=h-240;else return Tb(e);return t=t<<6*i,null}if(!ga(h,s,c))return t=i=r=0,s=128,c=191,u.prepend(h),Tb(e);if(s=128,c=191,r+=1,t+=h-128<<6*(i-r),r!==i)return null;var d=t;return t=i=r=0,d}}function w9(n){n.fatal,this.handler=function(e,t){if(t===Yg)return nf;if(ga(t,0,127))return t;var r,i;ga(t,128,2047)?(r=1,i=192):ga(t,2048,65535)?(r=2,i=224):ga(t,65536,1114111)&&(r=3,i=240);for(var s=[(t>>6*r)+i];r>0;){var c=t>>6*(r-1);s.push(128|c&63),r-=1}return s}}const b9=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Zg,TextEncoder:Qg},Symbol.toStringTag,{value:"Module"})),v9=sE(b9);var aN;function _9(){if(aN)return Sn;aN=1;var n=Sn&&Sn.__createBinding||(Object.create?(function(B,U,q,L){L===void 0&&(L=q),Object.defineProperty(B,L,{enumerable:!0,get:function(){return U[q]}})}):(function(B,U,q,L){L===void 0&&(L=q),B[L]=U[q]})),e=Sn&&Sn.__setModuleDefault||(Object.create?(function(B,U){Object.defineProperty(B,"default",{enumerable:!0,value:U})}):function(B,U){B.default=U}),t=Sn&&Sn.__decorate||function(B,U,q,L){var T=arguments.length,g=T<3?U:L===null?L=Object.getOwnPropertyDescriptor(U,q):L,R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(B,U,q,L);else for(var C=B.length-1;C>=0;C--)(R=B[C])&&(g=(T<3?R(g):T>3?R(U,q,g):R(U,q))||g);return T>3&&g&&Object.defineProperty(U,q,g),g},r=Sn&&Sn.__importStar||function(B){if(B&&B.__esModule)return B;var U={};if(B!=null)for(var q in B)q!=="default"&&Object.hasOwnProperty.call(B,q)&&n(U,B,q);return e(U,B),U},i=Sn&&Sn.__importDefault||function(B){return B&&B.__esModule?B:{default:B}};Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.deserializeUnchecked=Sn.deserialize=Sn.serialize=Sn.BinaryReader=Sn.BinaryWriter=Sn.BorshError=Sn.baseDecode=Sn.baseEncode=void 0;const s=i(EE()),c=i(Z3()),u=r(v9),h=typeof TextDecoder!="function"?u.TextDecoder:TextDecoder,d=new h("utf-8",{fatal:!0});function p(B){return typeof B=="string"&&(B=xt.from(B,"utf8")),c.default.encode(xt.from(B))}Sn.baseEncode=p;function v(B){return xt.from(c.default.decode(B))}Sn.baseDecode=v;const x=1024;class y extends Error{constructor(U){super(U),this.fieldPath=[],this.originalMessage=U}addToFieldPath(U){this.fieldPath.splice(0,0,U),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Sn.BorshError=y;class S{constructor(){this.buf=xt.alloc(x),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=xt.concat([this.buf,xt.alloc(x)]))}writeU8(U){this.maybeResize(),this.buf.writeUInt8(U,this.length),this.length+=1}writeU16(U){this.maybeResize(),this.buf.writeUInt16LE(U,this.length),this.length+=2}writeU32(U){this.maybeResize(),this.buf.writeUInt32LE(U,this.length),this.length+=4}writeU64(U){this.maybeResize(),this.writeBuffer(xt.from(new s.default(U).toArray("le",8)))}writeU128(U){this.maybeResize(),this.writeBuffer(xt.from(new s.default(U).toArray("le",16)))}writeU256(U){this.maybeResize(),this.writeBuffer(xt.from(new s.default(U).toArray("le",32)))}writeU512(U){this.maybeResize(),this.writeBuffer(xt.from(new s.default(U).toArray("le",64)))}writeBuffer(U){this.buf=xt.concat([xt.from(this.buf.subarray(0,this.length)),U,xt.alloc(x)]),this.length+=U.length}writeString(U){this.maybeResize();const q=xt.from(U,"utf8");this.writeU32(q.length),this.writeBuffer(q)}writeFixedArray(U){this.writeBuffer(xt.from(U))}writeArray(U,q){this.maybeResize(),this.writeU32(U.length);for(const L of U)this.maybeResize(),q(L)}toArray(){return this.buf.subarray(0,this.length)}}Sn.BinaryWriter=S;function k(B,U,q){const L=q.value;q.value=function(...T){try{return L.apply(this,T)}catch(g){if(g instanceof RangeError){const R=g.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(R)>=0)throw new y("Reached the end of buffer when deserializing")}throw g}}}class I{constructor(U){this.buf=U,this.offset=0}readU8(){const U=this.buf.readUInt8(this.offset);return this.offset+=1,U}readU16(){const U=this.buf.readUInt16LE(this.offset);return this.offset+=2,U}readU32(){const U=this.buf.readUInt32LE(this.offset);return this.offset+=4,U}readU64(){const U=this.readBuffer(8);return new s.default(U,"le")}readU128(){const U=this.readBuffer(16);return new s.default(U,"le")}readU256(){const U=this.readBuffer(32);return new s.default(U,"le")}readU512(){const U=this.readBuffer(64);return new s.default(U,"le")}readBuffer(U){if(this.offset+U>this.buf.length)throw new y(`Expected buffer length ${U} isn't within bounds`);const q=this.buf.slice(this.offset,this.offset+U);return this.offset+=U,q}readString(){const U=this.readU32(),q=this.readBuffer(U);try{return d.decode(q)}catch(L){throw new y(`Error decoding UTF-8 string: ${L}`)}}readFixedArray(U){return new Uint8Array(this.readBuffer(U))}readArray(U){const q=this.readU32(),L=Array();for(let T=0;T<q;++T)L.push(U());return L}}t([k],I.prototype,"readU8",null),t([k],I.prototype,"readU16",null),t([k],I.prototype,"readU32",null),t([k],I.prototype,"readU64",null),t([k],I.prototype,"readU128",null),t([k],I.prototype,"readU256",null),t([k],I.prototype,"readU512",null),t([k],I.prototype,"readString",null),t([k],I.prototype,"readFixedArray",null),t([k],I.prototype,"readArray",null),Sn.BinaryReader=I;function M(B){return B.charAt(0).toUpperCase()+B.slice(1)}function j(B,U,q,L,T){try{if(typeof L=="string")T[`write${M(L)}`](q);else if(L instanceof Array)if(typeof L[0]=="number"){if(q.length!==L[0])throw new y(`Expecting byte array of length ${L[0]}, but got ${q.length} bytes`);T.writeFixedArray(q)}else if(L.length===2&&typeof L[1]=="number"){if(q.length!==L[1])throw new y(`Expecting byte array of length ${L[1]}, but got ${q.length} bytes`);for(let g=0;g<L[1];g++)j(B,null,q[g],L[0],T)}else T.writeArray(q,g=>{j(B,U,g,L[0],T)});else if(L.kind!==void 0)switch(L.kind){case"option":{q==null?T.writeU8(0):(T.writeU8(1),j(B,U,q,L.type,T));break}case"map":{T.writeU32(q.size),q.forEach((g,R)=>{j(B,U,R,L.key,T),j(B,U,g,L.value,T)});break}default:throw new y(`FieldType ${L} unrecognized`)}else O(B,q,T)}catch(g){throw g instanceof y&&g.addToFieldPath(U),g}}function O(B,U,q){if(typeof U.borshSerialize=="function"){U.borshSerialize(q);return}const L=B.get(U.constructor);if(!L)throw new y(`Class ${U.constructor.name} is missing in schema`);if(L.kind==="struct")L.fields.map(([T,g])=>{j(B,T,U[T],g,q)});else if(L.kind==="enum"){const T=U[L.field];for(let g=0;g<L.values.length;++g){const[R,C]=L.values[g];if(R===T){q.writeU8(g),j(B,R,U[R],C,q);break}}}else throw new y(`Unexpected schema kind: ${L.kind} for ${U.constructor.name}`)}function Q(B,U,q=S){const L=new q;return O(B,U,L),L.toArray()}Sn.serialize=Q;function oe(B,U,q,L){try{if(typeof q=="string")return L[`read${M(q)}`]();if(q instanceof Array){if(typeof q[0]=="number")return L.readFixedArray(q[0]);if(typeof q[1]=="number"){const T=[];for(let g=0;g<q[1];g++)T.push(oe(B,null,q[0],L));return T}else return L.readArray(()=>oe(B,U,q[0],L))}if(q.kind==="option")return L.readU8()?oe(B,U,q.type,L):void 0;if(q.kind==="map"){let T=new Map;const g=L.readU32();for(let R=0;R<g;R++){const C=oe(B,U,q.key,L),Y=oe(B,U,q.value,L);T.set(C,Y)}return T}return ce(B,q,L)}catch(T){throw T instanceof y&&T.addToFieldPath(U),T}}function ce(B,U,q){if(typeof U.borshDeserialize=="function")return U.borshDeserialize(q);const L=B.get(U);if(!L)throw new y(`Class ${U.name} is missing in schema`);if(L.kind==="struct"){const T={};for(const[g,R]of B.get(U).fields)T[g]=oe(B,g,R,q);return new U(T)}if(L.kind==="enum"){const T=q.readU8();if(T>=L.values.length)throw new y(`Enum index: ${T} is out of range`);const[g,R]=L.values[T],C=oe(B,g,R,q);return new U({[g]:C})}throw new y(`Unexpected schema kind: ${L.kind} for ${U.constructor.name}`)}function W(B,U,q,L=I){const T=new L(q),g=ce(B,U,T);if(T.offset<q.length)throw new y(`Unexpected ${q.length-T.offset} bytes after deserialized data`);return g}Sn.deserialize=W;function K(B,U,q,L=I){const T=new L(q);return ce(B,U,T)}return Sn.deserializeUnchecked=K,Sn}var Nb=_9(),Be={},cN;function x9(){if(cN)return Be;cN=1,Object.defineProperty(Be,"__esModule",{value:!0}),Be.s16=Be.s8=Be.nu64be=Be.u48be=Be.u40be=Be.u32be=Be.u24be=Be.u16be=Be.nu64=Be.u48=Be.u40=Be.u32=Be.u24=Be.u16=Be.u8=Be.offset=Be.greedy=Be.Constant=Be.UTF8=Be.CString=Be.Blob=Be.Boolean=Be.BitField=Be.BitStructure=Be.VariantLayout=Be.Union=Be.UnionLayoutDiscriminator=Be.UnionDiscriminator=Be.Structure=Be.Sequence=Be.DoubleBE=Be.Double=Be.FloatBE=Be.Float=Be.NearInt64BE=Be.NearInt64=Be.NearUInt64BE=Be.NearUInt64=Be.IntBE=Be.Int=Be.UIntBE=Be.UInt=Be.OffsetLayout=Be.GreedyCount=Be.ExternalLayout=Be.bindConstructorLayout=Be.nameWithProperty=Be.Layout=Be.uint8ArrayToBuffer=Be.checkUint8Array=void 0,Be.constant=Be.utf8=Be.cstr=Be.blob=Be.unionLayoutDiscriminator=Be.union=Be.seq=Be.bits=Be.struct=Be.f64be=Be.f64=Be.f32be=Be.f32=Be.ns64be=Be.s48be=Be.s40be=Be.s32be=Be.s24be=Be.s16be=Be.ns64=Be.s48=Be.s40=Be.s32=Be.s24=void 0;const n=xE();function e(w){if(!(w instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Be.checkUint8Array=e;function t(w){return e(w),n.Buffer.from(w.buffer,w.byteOffset,w.length)}Be.uint8ArrayToBuffer=t;class r{constructor(E,H){if(!Number.isInteger(E))throw new TypeError("span must be an integer");this.span=E,this.property=H}makeDestinationObject(){return{}}getSpan(E,H){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(E){const H=Object.create(this.constructor.prototype);return Object.assign(H,this),H.property=E,H}fromArray(E){}}Be.Layout=r;function i(w,E){return E.property?w+"["+E.property+"]":w}Be.nameWithProperty=i;function s(w,E){if(typeof w!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(w,"layout_"))throw new Error("Class is already bound to a layout");if(!(E&&E instanceof r))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(E,"boundConstructor_"))throw new Error("layout is already bound to a constructor");w.layout_=E,E.boundConstructor_=w,E.makeDestinationObject=(()=>new w),Object.defineProperty(w.prototype,"encode",{value(H,ne){return E.encode(this,H,ne)},writable:!0}),Object.defineProperty(w,"decode",{value(H,ne){return E.decode(H,ne)},writable:!0})}Be.bindConstructorLayout=s;class c extends r{isCount(){throw new Error("ExternalLayout is abstract")}}Be.ExternalLayout=c;class u extends c{constructor(E=1,H){if(!Number.isInteger(E)||0>=E)throw new TypeError("elementSpan must be a (positive) integer");super(-1,H),this.elementSpan=E}isCount(){return!0}decode(E,H=0){e(E);const ne=E.length-H;return Math.floor(ne/this.elementSpan)}encode(E,H,ne){return 0}}Be.GreedyCount=u;class h extends c{constructor(E,H=0,ne){if(!(E instanceof r))throw new TypeError("layout must be a Layout");if(!Number.isInteger(H))throw new TypeError("offset must be integer or undefined");super(E.span,ne||E.property),this.layout=E,this.offset=H}isCount(){return this.layout instanceof d||this.layout instanceof p}decode(E,H=0){return this.layout.decode(E,H+this.offset)}encode(E,H,ne=0){return this.layout.encode(E,H,ne+this.offset)}}Be.OffsetLayout=h;class d extends r{constructor(E,H){if(super(E,H),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(E,H=0){return t(E).readUIntLE(H,this.span)}encode(E,H,ne=0){return t(H).writeUIntLE(E,ne,this.span),this.span}}Be.UInt=d;class p extends r{constructor(E,H){if(super(E,H),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(E,H=0){return t(E).readUIntBE(H,this.span)}encode(E,H,ne=0){return t(H).writeUIntBE(E,ne,this.span),this.span}}Be.UIntBE=p;class v extends r{constructor(E,H){if(super(E,H),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(E,H=0){return t(E).readIntLE(H,this.span)}encode(E,H,ne=0){return t(H).writeIntLE(E,ne,this.span),this.span}}Be.Int=v;class x extends r{constructor(E,H){if(super(E,H),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(E,H=0){return t(E).readIntBE(H,this.span)}encode(E,H,ne=0){return t(H).writeIntBE(E,ne,this.span),this.span}}Be.IntBE=x;const y=Math.pow(2,32);function S(w){const E=Math.floor(w/y),H=w-E*y;return{hi32:E,lo32:H}}function k(w,E){return w*y+E}class I extends r{constructor(E){super(8,E)}decode(E,H=0){const ne=t(E),ae=ne.readUInt32LE(H),me=ne.readUInt32LE(H+4);return k(me,ae)}encode(E,H,ne=0){const ae=S(E),me=t(H);return me.writeUInt32LE(ae.lo32,ne),me.writeUInt32LE(ae.hi32,ne+4),8}}Be.NearUInt64=I;class M extends r{constructor(E){super(8,E)}decode(E,H=0){const ne=t(E),ae=ne.readUInt32BE(H),me=ne.readUInt32BE(H+4);return k(ae,me)}encode(E,H,ne=0){const ae=S(E),me=t(H);return me.writeUInt32BE(ae.hi32,ne),me.writeUInt32BE(ae.lo32,ne+4),8}}Be.NearUInt64BE=M;class j extends r{constructor(E){super(8,E)}decode(E,H=0){const ne=t(E),ae=ne.readUInt32LE(H),me=ne.readInt32LE(H+4);return k(me,ae)}encode(E,H,ne=0){const ae=S(E),me=t(H);return me.writeUInt32LE(ae.lo32,ne),me.writeInt32LE(ae.hi32,ne+4),8}}Be.NearInt64=j;class O extends r{constructor(E){super(8,E)}decode(E,H=0){const ne=t(E),ae=ne.readInt32BE(H),me=ne.readUInt32BE(H+4);return k(ae,me)}encode(E,H,ne=0){const ae=S(E),me=t(H);return me.writeInt32BE(ae.hi32,ne),me.writeUInt32BE(ae.lo32,ne+4),8}}Be.NearInt64BE=O;class Q extends r{constructor(E){super(4,E)}decode(E,H=0){return t(E).readFloatLE(H)}encode(E,H,ne=0){return t(H).writeFloatLE(E,ne),4}}Be.Float=Q;class oe extends r{constructor(E){super(4,E)}decode(E,H=0){return t(E).readFloatBE(H)}encode(E,H,ne=0){return t(H).writeFloatBE(E,ne),4}}Be.FloatBE=oe;class ce extends r{constructor(E){super(8,E)}decode(E,H=0){return t(E).readDoubleLE(H)}encode(E,H,ne=0){return t(H).writeDoubleLE(E,ne),8}}Be.Double=ce;class W extends r{constructor(E){super(8,E)}decode(E,H=0){return t(E).readDoubleBE(H)}encode(E,H,ne=0){return t(H).writeDoubleBE(E,ne),8}}Be.DoubleBE=W;class K extends r{constructor(E,H,ne){if(!(E instanceof r))throw new TypeError("elementLayout must be a Layout");if(!(H instanceof c&&H.isCount()||Number.isInteger(H)&&0<=H))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let ae=-1;!(H instanceof c)&&0<E.span&&(ae=H*E.span),super(ae,ne),this.elementLayout=E,this.count=H}getSpan(E,H=0){if(0<=this.span)return this.span;let ne=0,ae=this.count;if(ae instanceof c&&(ae=ae.decode(E,H)),0<this.elementLayout.span)ne=ae*this.elementLayout.span;else{let me=0;for(;me<ae;)ne+=this.elementLayout.getSpan(E,H+ne),++me}return ne}decode(E,H=0){const ne=[];let ae=0,me=this.count;for(me instanceof c&&(me=me.decode(E,H));ae<me;)ne.push(this.elementLayout.decode(E,H)),H+=this.elementLayout.getSpan(E,H),ae+=1;return ne}encode(E,H,ne=0){const ae=this.elementLayout,me=E.reduce((Le,Ue)=>Le+ae.encode(Ue,H,ne+Le),0);return this.count instanceof c&&this.count.encode(E.length,H,ne),me}}Be.Sequence=K;class B extends r{constructor(E,H,ne){if(!(Array.isArray(E)&&E.reduce((me,Le)=>me&&Le instanceof r,!0)))throw new TypeError("fields must be array of Layout instances");typeof H=="boolean"&&ne===void 0&&(ne=H,H=void 0);for(const me of E)if(0>me.span&&me.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let ae=-1;try{ae=E.reduce((me,Le)=>me+Le.getSpan(),0)}catch{}super(ae,H),this.fields=E,this.decodePrefixes=!!ne}getSpan(E,H=0){if(0<=this.span)return this.span;let ne=0;try{ne=this.fields.reduce((ae,me)=>{const Le=me.getSpan(E,H);return H+=Le,ae+Le},0)}catch{throw new RangeError("indeterminate span")}return ne}decode(E,H=0){e(E);const ne=this.makeDestinationObject();for(const ae of this.fields)if(ae.property!==void 0&&(ne[ae.property]=ae.decode(E,H)),H+=ae.getSpan(E,H),this.decodePrefixes&&E.length===H)break;return ne}encode(E,H,ne=0){const ae=ne;let me=0,Le=0;for(const Ue of this.fields){let it=Ue.span;if(Le=0<it?it:0,Ue.property!==void 0){const ut=E[Ue.property];ut!==void 0&&(Le=Ue.encode(ut,H,ne),0>it&&(it=Ue.getSpan(H,ne)))}me=ne,ne+=it}return me+Le-ae}fromArray(E){const H=this.makeDestinationObject();for(const ne of this.fields)ne.property!==void 0&&0<E.length&&(H[ne.property]=E.shift());return H}layoutFor(E){if(typeof E!="string")throw new TypeError("property must be string");for(const H of this.fields)if(H.property===E)return H}offsetOf(E){if(typeof E!="string")throw new TypeError("property must be string");let H=0;for(const ne of this.fields){if(ne.property===E)return H;0>ne.span?H=-1:0<=H&&(H+=ne.span)}}}Be.Structure=B;class U{constructor(E){this.property=E}decode(E,H){throw new Error("UnionDiscriminator is abstract")}encode(E,H,ne){throw new Error("UnionDiscriminator is abstract")}}Be.UnionDiscriminator=U;class q extends U{constructor(E,H){if(!(E instanceof c&&E.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(H||E.property||"variant"),this.layout=E}decode(E,H){return this.layout.decode(E,H)}encode(E,H,ne){return this.layout.encode(E,H,ne)}}Be.UnionLayoutDiscriminator=q;class L extends r{constructor(E,H,ne){let ae;if(E instanceof d||E instanceof p)ae=new q(new h(E));else if(E instanceof c&&E.isCount())ae=new q(E);else if(E instanceof U)ae=E;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(H===void 0&&(H=null),!(H===null||H instanceof r))throw new TypeError("defaultLayout must be null or a Layout");if(H!==null){if(0>H.span)throw new Error("defaultLayout must have constant span");H.property===void 0&&(H=H.replicate("content"))}let me=-1;H&&(me=H.span,0<=me&&(E instanceof d||E instanceof p)&&(me+=ae.layout.span)),super(me,ne),this.discriminator=ae,this.usesPrefixDiscriminator=E instanceof d||E instanceof p,this.defaultLayout=H,this.registry={};let Le=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(Ue){return Le(Ue)},this.configGetSourceVariant=function(Ue){Le=Ue.bind(this)}}getSpan(E,H=0){if(0<=this.span)return this.span;const ne=this.getVariant(E,H);if(!ne)throw new Error("unable to determine span for unrecognized variant");return ne.getSpan(E,H)}defaultGetSourceVariant(E){if(Object.prototype.hasOwnProperty.call(E,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(E,this.defaultLayout.property))return;const H=this.registry[E[this.discriminator.property]];if(H&&(!H.layout||H.property&&Object.prototype.hasOwnProperty.call(E,H.property)))return H}else for(const H in this.registry){const ne=this.registry[H];if(ne.property&&Object.prototype.hasOwnProperty.call(E,ne.property))return ne}throw new Error("unable to infer src variant")}decode(E,H=0){let ne;const ae=this.discriminator,me=ae.decode(E,H),Le=this.registry[me];if(Le===void 0){const Ue=this.defaultLayout;let it=0;this.usesPrefixDiscriminator&&(it=ae.layout.span),ne=this.makeDestinationObject(),ne[ae.property]=me,ne[Ue.property]=Ue.decode(E,H+it)}else ne=Le.decode(E,H);return ne}encode(E,H,ne=0){const ae=this.getSourceVariant(E);if(ae===void 0){const me=this.discriminator,Le=this.defaultLayout;let Ue=0;return this.usesPrefixDiscriminator&&(Ue=me.layout.span),me.encode(E[me.property],H,ne),Ue+Le.encode(E[Le.property],H,ne+Ue)}return ae.encode(E,H,ne)}addVariant(E,H,ne){const ae=new T(this,E,H,ne);return this.registry[E]=ae,ae}getVariant(E,H=0){let ne;return E instanceof Uint8Array?ne=this.discriminator.decode(E,H):ne=E,this.registry[ne]}}Be.Union=L;class T extends r{constructor(E,H,ne,ae){if(!(E instanceof L))throw new TypeError("union must be a Union");if(!Number.isInteger(H)||0>H)throw new TypeError("variant must be a (non-negative) integer");if(typeof ne=="string"&&ae===void 0&&(ae=ne,ne=null),ne){if(!(ne instanceof r))throw new TypeError("layout must be a Layout");if(E.defaultLayout!==null&&0<=ne.span&&ne.span>E.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof ae!="string")throw new TypeError("variant must have a String property")}let me=E.span;0>E.span&&(me=ne?ne.span:0,0<=me&&E.usesPrefixDiscriminator&&(me+=E.discriminator.layout.span)),super(me,ae),this.union=E,this.variant=H,this.layout=ne||null}getSpan(E,H=0){if(0<=this.span)return this.span;let ne=0;this.union.usesPrefixDiscriminator&&(ne=this.union.discriminator.layout.span);let ae=0;return this.layout&&(ae=this.layout.getSpan(E,H+ne)),ne+ae}decode(E,H=0){const ne=this.makeDestinationObject();if(this!==this.union.getVariant(E,H))throw new Error("variant mismatch");let ae=0;return this.union.usesPrefixDiscriminator&&(ae=this.union.discriminator.layout.span),this.layout?ne[this.property]=this.layout.decode(E,H+ae):this.property?ne[this.property]=!0:this.union.usesPrefixDiscriminator&&(ne[this.union.discriminator.property]=this.variant),ne}encode(E,H,ne=0){let ae=0;if(this.union.usesPrefixDiscriminator&&(ae=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(E,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,H,ne);let me=ae;if(this.layout&&(this.layout.encode(E[this.property],H,ne+ae),me+=this.layout.getSpan(H,ne+ae),0<=this.union.span&&me>this.union.span))throw new Error("encoded variant overruns containing union");return me}fromArray(E){if(this.layout)return this.layout.fromArray(E)}}Be.VariantLayout=T;function g(w){return 0>w&&(w+=4294967296),w}class R extends r{constructor(E,H,ne){if(!(E instanceof d||E instanceof p))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof H=="string"&&ne===void 0&&(ne=H,H=!1),4<E.span)throw new RangeError("word cannot exceed 32 bits");super(E.span,ne),this.word=E,this.msb=!!H,this.fields=[];let ae=0;this._packedSetValue=function(me){return ae=g(me),this},this._packedGetValue=function(){return ae}}decode(E,H=0){const ne=this.makeDestinationObject(),ae=this.word.decode(E,H);this._packedSetValue(ae);for(const me of this.fields)me.property!==void 0&&(ne[me.property]=me.decode(E));return ne}encode(E,H,ne=0){const ae=this.word.decode(H,ne);this._packedSetValue(ae);for(const me of this.fields)if(me.property!==void 0){const Le=E[me.property];Le!==void 0&&me.encode(Le)}return this.word.encode(this._packedGetValue(),H,ne)}addField(E,H){const ne=new C(this,E,H);return this.fields.push(ne),ne}addBoolean(E){const H=new Y(this,E);return this.fields.push(H),H}fieldFor(E){if(typeof E!="string")throw new TypeError("property must be string");for(const H of this.fields)if(H.property===E)return H}}Be.BitStructure=R;class C{constructor(E,H,ne){if(!(E instanceof R))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(H)||0>=H)throw new TypeError("bits must be positive integer");const ae=8*E.span,me=E.fields.reduce((Le,Ue)=>Le+Ue.bits,0);if(H+me>ae)throw new Error("bits too long for span remainder ("+(ae-me)+" of "+ae+" remain)");this.container=E,this.bits=H,this.valueMask=(1<<H)-1,H===32&&(this.valueMask=4294967295),this.start=me,this.container.msb&&(this.start=ae-me-H),this.wordMask=g(this.valueMask<<this.start),this.property=ne}decode(E,H){const ne=this.container._packedGetValue();return g(ne&this.wordMask)>>>this.start}encode(E){if(typeof E!="number"||!Number.isInteger(E)||E!==g(E&this.valueMask))throw new TypeError(i("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const H=this.container._packedGetValue(),ne=g(E<<this.start);this.container._packedSetValue(g(H&~this.wordMask)|ne)}}Be.BitField=C;class Y extends C{constructor(E,H){super(E,1,H)}decode(E,H){return!!super.decode(E,H)}encode(E){typeof E=="boolean"&&(E=+E),super.encode(E)}}Be.Boolean=Y;class te extends r{constructor(E,H){if(!(E instanceof c&&E.isCount()||Number.isInteger(E)&&0<=E))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let ne=-1;E instanceof c||(ne=E),super(ne,H),this.length=E}getSpan(E,H){let ne=this.span;return 0>ne&&(ne=this.length.decode(E,H)),ne}decode(E,H=0){let ne=this.span;return 0>ne&&(ne=this.length.decode(E,H)),t(E).slice(H,H+ne)}encode(E,H,ne){let ae=this.length;if(this.length instanceof c&&(ae=E.length),!(E instanceof Uint8Array&&ae===E.length))throw new TypeError(i("Blob.encode",this)+" requires (length "+ae+") Uint8Array as src");if(ne+ae>H.length)throw new RangeError("encoding overruns Uint8Array");const me=t(E);return t(H).write(me.toString("hex"),ne,ae,"hex"),this.length instanceof c&&this.length.encode(ae,H,ne),ae}}Be.Blob=te;class Z extends r{constructor(E){super(-1,E)}getSpan(E,H=0){e(E);let ne=H;for(;ne<E.length&&E[ne]!==0;)ne+=1;return 1+ne-H}decode(E,H=0){const ne=this.getSpan(E,H);return t(E).slice(H,H+ne-1).toString("utf-8")}encode(E,H,ne=0){typeof E!="string"&&(E=String(E));const ae=n.Buffer.from(E,"utf8"),me=ae.length;if(ne+me>H.length)throw new RangeError("encoding overruns Buffer");const Le=t(H);return ae.copy(Le,ne),Le[ne+me]=0,me+1}}Be.CString=Z;class D extends r{constructor(E,H){if(typeof E=="string"&&H===void 0&&(H=E,E=void 0),E===void 0)E=-1;else if(!Number.isInteger(E))throw new TypeError("maxSpan must be an integer");super(-1,H),this.maxSpan=E}getSpan(E,H=0){return e(E),E.length-H}decode(E,H=0){const ne=this.getSpan(E,H);if(0<=this.maxSpan&&this.maxSpan<ne)throw new RangeError("text length exceeds maxSpan");return t(E).slice(H,H+ne).toString("utf-8")}encode(E,H,ne=0){typeof E!="string"&&(E=String(E));const ae=n.Buffer.from(E,"utf8"),me=ae.length;if(0<=this.maxSpan&&this.maxSpan<me)throw new RangeError("text length exceeds maxSpan");if(ne+me>H.length)throw new RangeError("encoding overruns Buffer");return ae.copy(t(H),ne),me}}Be.UTF8=D;class A extends r{constructor(E,H){super(0,H),this.value=E}decode(E,H){return this.value}encode(E,H,ne){return 0}}return Be.Constant=A,Be.greedy=((w,E)=>new u(w,E)),Be.offset=((w,E,H)=>new h(w,E,H)),Be.u8=(w=>new d(1,w)),Be.u16=(w=>new d(2,w)),Be.u24=(w=>new d(3,w)),Be.u32=(w=>new d(4,w)),Be.u40=(w=>new d(5,w)),Be.u48=(w=>new d(6,w)),Be.nu64=(w=>new I(w)),Be.u16be=(w=>new p(2,w)),Be.u24be=(w=>new p(3,w)),Be.u32be=(w=>new p(4,w)),Be.u40be=(w=>new p(5,w)),Be.u48be=(w=>new p(6,w)),Be.nu64be=(w=>new M(w)),Be.s8=(w=>new v(1,w)),Be.s16=(w=>new v(2,w)),Be.s24=(w=>new v(3,w)),Be.s32=(w=>new v(4,w)),Be.s40=(w=>new v(5,w)),Be.s48=(w=>new v(6,w)),Be.ns64=(w=>new j(w)),Be.s16be=(w=>new x(2,w)),Be.s24be=(w=>new x(3,w)),Be.s32be=(w=>new x(4,w)),Be.s40be=(w=>new x(5,w)),Be.s48be=(w=>new x(6,w)),Be.ns64be=(w=>new O(w)),Be.f32=(w=>new Q(w)),Be.f32be=(w=>new oe(w)),Be.f64=(w=>new ce(w)),Be.f64be=(w=>new W(w)),Be.struct=((w,E,H)=>new B(w,E,H)),Be.bits=((w,E,H)=>new R(w,E,H)),Be.seq=((w,E,H)=>new K(w,E,H)),Be.union=((w,E,H)=>new L(w,E,H)),Be.unionLayoutDiscriminator=((w,E)=>new q(w,E)),Be.blob=((w,E)=>new te(w,E)),Be.cstr=(w=>new Z(w)),Be.utf8=((w,E)=>new D(w,E)),Be.constant=((w,E)=>new A(w,E)),Be}var pe=x9(),E9=8078e3,A9=8078001,S9=8078004,R9=8078005,T9=8078006,N9=8078011;function Q3(n){return Array.isArray(n)?"%5B"+n.map(Q3).join("%2C%20")+"%5D":typeof n=="bigint"?`${n}n`:encodeURIComponent(String(n!=null&&Object.getPrototypeOf(n)===null?{...n}:n))}function I9([n,e]){return`${n}=${Q3(e)}`}function k9(n){const e=Object.entries(n).map(I9).join("&");return btoa(e)}function C9(n,e={}){{let t=`Solana error #${n}; Decode this error by running \`npx @solana/errors decode -- ${n}`;return Object.keys(e).length&&(t+=` '${k9(e)}'`),`${t}\``}}var Gh=class extends Error{constructor(...[e,t]){let r,i;if(t){const{cause:c,...u}=t;c&&(i={cause:c}),Object.keys(u).length>0&&(r=u)}const s=C9(e,r);super(s,i);_r(this,"cause",this.cause);_r(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function O9(n,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(n)}function M9(n){return Object.freeze({...n,encode:e=>{const t=new Uint8Array(O9(e,n));return n.write(e,t,0),t}})}function B9(n){return Object.freeze({...n,decode:(e,t=0)=>n.read(e,t)[0]})}function gh(n){return"fixedSize"in n&&typeof n.fixedSize=="number"}function L9(n,e){if(gh(n)!==gh(e))throw new Gh(S9);if(gh(n)&&gh(e)&&n.fixedSize!==e.fixedSize)throw new Gh(R9,{decoderFixedSize:e.fixedSize,encoderFixedSize:n.fixedSize});if(!gh(n)&&!gh(e)&&n.maxSize!==e.maxSize)throw new Gh(T9,{decoderMaxSize:e.maxSize,encoderMaxSize:n.maxSize});return{...e,...n,decode:e.decode,encode:n.encode,read:e.read,write:n.write}}function D9(n,e,t=0){if(e.length-t<=0)throw new Gh(E9,{codecDescription:n})}function j9(n,e,t,r=0){const i=t.length-r;if(i<e)throw new Gh(A9,{bytesLength:i,codecDescription:n,expected:e})}function P9(n,e,t,r){if(r<e||r>t)throw new Gh(N9,{codecDescription:n,max:t,min:e,value:r})}function J3(n){return(n==null?void 0:n.endian)!==1}function U9(n){return M9({fixedSize:n.size,write(e,t,r){n.range&&P9(n.name,n.range[0],n.range[1],e);const i=new ArrayBuffer(n.size);return n.set(new DataView(i),e,J3(n.config)),t.set(new Uint8Array(i),r),r+n.size}})}function V9(n){return B9({fixedSize:n.size,read(e,t=0){D9(n.name,e,t),j9(n.name,n.size,e,t);const r=new DataView(z9(e,t,n.size));return[n.get(r,J3(n.config)),t+n.size]}})}function z9(n,e,t){const r=n.byteOffset+(e??0),i=t??n.byteLength;return n.buffer.slice(r,r+i)}var e6=(n={})=>U9({config:n,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),size:8}),F9=(n={})=>V9({config:n,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}),H9=(n={})=>L9(e6(n),F9(n));let q9=class extends TypeError{constructor(e,t){let r;const{message:i,explanation:s,...c}=e,{path:u}=e,h=u.length===0?i:`At path: ${u.join(".")} -- ${i}`;super(s??h),s!=null&&(this.cause=h),Object.assign(this,c),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}};function G9(n){return zp(n)&&typeof n[Symbol.iterator]=="function"}function zp(n){return typeof n=="object"&&n!=null}function Jg(n){return zp(n)&&!Array.isArray(n)}function Ps(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function $9(n){const{done:e,value:t}=n.next();return e?void 0:t}function K9(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:i,branch:s}=e,{type:c}=t,{refinement:u,message:h=`Expected a value of type \`${c}\`${u?` with refinement \`${u}\``:""}, but received: \`${Ps(r)}\``}=n;return{value:r,type:c,refinement:u,key:i[i.length-1],path:i,branch:s,...n,message:h}}function*lN(n,e,t,r){G9(n)||(n=[n]);for(const i of n){const s=K9(i,e,t,r);s&&(yield s)}}function*SE(n,e,t={}){const{path:r=[],branch:i=[n],coerce:s=!1,mask:c=!1}=t,u={path:r,branch:i,mask:c};s&&(n=e.coercer(n,u));let h="valid";for(const d of e.validator(n,u))d.explanation=t.message,h="not_valid",yield[d,void 0];for(let[d,p,v]of e.entries(n,u)){const x=SE(p,v,{path:d===void 0?r:[...r,d],branch:d===void 0?i:[...i,p],coerce:s,mask:c,message:t.message});for(const y of x)y[0]?(h=y[0].refinement!=null?"not_refined":"not_valid",yield[y[0],void 0]):s&&(p=y[1],d===void 0?n=p:n instanceof Map?n.set(d,p):n instanceof Set?n.add(p):zp(n)&&(p!==void 0||d in n)&&(n[d]=p))}if(h!=="not_valid")for(const d of e.refiner(n,u))d.explanation=t.message,h="not_refined",yield[d,void 0];h==="valid"&&(yield[void 0,n])}let Lo=class{constructor(e){const{type:t,schema:r,validator:i,refiner:s,coercer:c=h=>h,entries:u=function*(){}}=e;this.type=t,this.schema=r,this.entries=u,this.coercer=c,i?this.validator=(h,d)=>{const p=i(h,d);return lN(p,d,this,h)}:this.validator=()=>[],s?this.refiner=(h,d)=>{const p=s(h,d);return lN(p,d,this,h)}:this.refiner=()=>[]}assert(e,t){return t6(e,this,t)}create(e,t){return Qe(e,this,t)}is(e){return n6(e,this)}mask(e,t){return W9(e,this,t)}validate(e,t={}){return Fp(e,this,t)}};function t6(n,e,t){const r=Fp(n,e,{message:t});if(r[0])throw r[0]}function Qe(n,e,t){const r=Fp(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function W9(n,e,t){const r=Fp(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function n6(n,e){return!Fp(n,e)[0]}function Fp(n,e,t={}){const r=SE(n,e,t),i=$9(r);return i[0]?[new q9(i[0],function*(){for(const c of r)c[0]&&(yield c[0])}),void 0]:[void 0,i[1]]}function wu(n,e){return new Lo({type:n,schema:null,validator:e})}function Y9(){return wu("any",()=>!0)}function tt(n){return new Lo({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Ps(e)}`}})}function ko(){return wu("boolean",n=>typeof n=="boolean")}function RE(n){return wu("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${Ps(e)}`)}function Qn(n){const e=Ps(n),t=typeof n;return new Lo({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${Ps(r)}`}})}function X9(){return wu("never",()=>!1)}function nt(n){return new Lo({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function Ne(){return wu("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${Ps(n)}`)}function vt(n){return new Lo({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function r6(n,e){return new Lo({type:"record",schema:null,*entries(t){if(zp(t))for(const r in t){const i=t[r];yield[r,r,n],yield[r,i,e]}},validator(t){return Jg(t)||`Expected an object, but received: ${Ps(t)}`},coercer(t){return Jg(t)?{...t}:t}})}function Xe(){return wu("string",n=>typeof n=="string"||`Expected a string, but received: ${Ps(n)}`)}function TE(n){const e=X9();return new Lo({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let i=0;i<r;i++)yield[i,t[i],n[i]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${Ps(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function Ke(n){const e=Object.keys(n);return new Lo({type:"type",schema:n,*entries(t){if(zp(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return Jg(t)||`Expected an object, but received: ${Ps(t)}`},coercer(t){return Jg(t)?{...t}:t}})}function xi(n){const e=n.map(t=>t.type).join(" | ");return new Lo({type:"union",schema:null,coercer(t,r){for(const i of n){const[s,c]=i.validate(t,{coerce:!0,mask:r.mask});if(!s)return c}return t},validator(t,r){const i=[];for(const s of n){const[...c]=SE(t,s,r),[u]=c;if(u[0])for(const[h]of c)h&&i.push(h);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Ps(t)}`,...i]}})}function yf(){return wu("unknown",()=>!0)}function Hp(n,e,t){return new Lo({...n,coercer:(r,i)=>n6(r,e)?n.coercer(t(r,i),i):n.coercer(r,i)})}var I0,Z9=new Uint8Array(16);function i6(){if(!I0&&(I0=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!I0))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return I0(Z9)}const Q9=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Dy(n){return typeof n=="string"&&Q9.test(n)}var Xr=[];for(var Ib=0;Ib<256;++Ib)Xr.push((Ib+256).toString(16).substr(1));function jy(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Xr[n[e+0]]+Xr[n[e+1]]+Xr[n[e+2]]+Xr[n[e+3]]+"-"+Xr[n[e+4]]+Xr[n[e+5]]+"-"+Xr[n[e+6]]+Xr[n[e+7]]+"-"+Xr[n[e+8]]+Xr[n[e+9]]+"-"+Xr[n[e+10]]+Xr[n[e+11]]+Xr[n[e+12]]+Xr[n[e+13]]+Xr[n[e+14]]+Xr[n[e+15]]).toLowerCase();if(!Dy(t))throw TypeError("Stringified UUID is invalid");return t}var uN,kb,Cb=0,Ob=0;function J9(n,e,t){var r=e&&t||0,i=e||new Array(16);n=n||{};var s=n.node||uN,c=n.clockseq!==void 0?n.clockseq:kb;if(s==null||c==null){var u=n.random||(n.rng||i6)();s==null&&(s=uN=[u[0]|1,u[1],u[2],u[3],u[4],u[5]]),c==null&&(c=kb=(u[6]<<8|u[7])&16383)}var h=n.msecs!==void 0?n.msecs:Date.now(),d=n.nsecs!==void 0?n.nsecs:Ob+1,p=h-Cb+(d-Ob)/1e4;if(p<0&&n.clockseq===void 0&&(c=c+1&16383),(p<0||h>Cb)&&n.nsecs===void 0&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Cb=h,Ob=d,kb=c,h+=122192928e5;var v=((h&268435455)*1e4+d)%4294967296;i[r++]=v>>>24&255,i[r++]=v>>>16&255,i[r++]=v>>>8&255,i[r++]=v&255;var x=h/4294967296*1e4&268435455;i[r++]=x>>>8&255,i[r++]=x&255,i[r++]=x>>>24&15|16,i[r++]=x>>>16&255,i[r++]=c>>>8|128,i[r++]=c&255;for(var y=0;y<6;++y)i[r+y]=s[y];return e||jy(i)}function s6(n){if(!Dy(n))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(n.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(n.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(n.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(n.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(n.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}function e7(n){n=unescape(encodeURIComponent(n));for(var e=[],t=0;t<n.length;++t)e.push(n.charCodeAt(t));return e}var t7="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n7="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function o6(n,e,t){function r(i,s,c,u){if(typeof i=="string"&&(i=e7(i)),typeof s=="string"&&(s=s6(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var h=new Uint8Array(16+i.length);if(h.set(s),h.set(i,s.length),h=t(h),h[6]=h[6]&15|e,h[8]=h[8]&63|128,c){u=u||0;for(var d=0;d<16;++d)c[u+d]=h[d];return c}return jy(h)}try{r.name=n}catch{}return r.DNS=t7,r.URL=n7,r}function r7(n){if(typeof n=="string"){var e=unescape(encodeURIComponent(n));n=new Uint8Array(e.length);for(var t=0;t<e.length;++t)n[t]=e.charCodeAt(t)}return i7(s7(o7(n),n.length*8))}function i7(n){for(var e=[],t=n.length*32,r="0123456789abcdef",i=0;i<t;i+=8){var s=n[i>>5]>>>i%32&255,c=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(c)}return e}function a6(n){return(n+64>>>9<<4)+14+1}function s7(n,e){n[e>>5]|=128<<e%32,n[a6(e)-1]=e;for(var t=1732584193,r=-271733879,i=-1732584194,s=271733878,c=0;c<n.length;c+=16){var u=t,h=r,d=i,p=s;t=ai(t,r,i,s,n[c],7,-680876936),s=ai(s,t,r,i,n[c+1],12,-389564586),i=ai(i,s,t,r,n[c+2],17,606105819),r=ai(r,i,s,t,n[c+3],22,-1044525330),t=ai(t,r,i,s,n[c+4],7,-176418897),s=ai(s,t,r,i,n[c+5],12,1200080426),i=ai(i,s,t,r,n[c+6],17,-1473231341),r=ai(r,i,s,t,n[c+7],22,-45705983),t=ai(t,r,i,s,n[c+8],7,1770035416),s=ai(s,t,r,i,n[c+9],12,-1958414417),i=ai(i,s,t,r,n[c+10],17,-42063),r=ai(r,i,s,t,n[c+11],22,-1990404162),t=ai(t,r,i,s,n[c+12],7,1804603682),s=ai(s,t,r,i,n[c+13],12,-40341101),i=ai(i,s,t,r,n[c+14],17,-1502002290),r=ai(r,i,s,t,n[c+15],22,1236535329),t=ci(t,r,i,s,n[c+1],5,-165796510),s=ci(s,t,r,i,n[c+6],9,-1069501632),i=ci(i,s,t,r,n[c+11],14,643717713),r=ci(r,i,s,t,n[c],20,-373897302),t=ci(t,r,i,s,n[c+5],5,-701558691),s=ci(s,t,r,i,n[c+10],9,38016083),i=ci(i,s,t,r,n[c+15],14,-660478335),r=ci(r,i,s,t,n[c+4],20,-405537848),t=ci(t,r,i,s,n[c+9],5,568446438),s=ci(s,t,r,i,n[c+14],9,-1019803690),i=ci(i,s,t,r,n[c+3],14,-187363961),r=ci(r,i,s,t,n[c+8],20,1163531501),t=ci(t,r,i,s,n[c+13],5,-1444681467),s=ci(s,t,r,i,n[c+2],9,-51403784),i=ci(i,s,t,r,n[c+7],14,1735328473),r=ci(r,i,s,t,n[c+12],20,-1926607734),t=li(t,r,i,s,n[c+5],4,-378558),s=li(s,t,r,i,n[c+8],11,-2022574463),i=li(i,s,t,r,n[c+11],16,1839030562),r=li(r,i,s,t,n[c+14],23,-35309556),t=li(t,r,i,s,n[c+1],4,-1530992060),s=li(s,t,r,i,n[c+4],11,1272893353),i=li(i,s,t,r,n[c+7],16,-155497632),r=li(r,i,s,t,n[c+10],23,-1094730640),t=li(t,r,i,s,n[c+13],4,681279174),s=li(s,t,r,i,n[c],11,-358537222),i=li(i,s,t,r,n[c+3],16,-722521979),r=li(r,i,s,t,n[c+6],23,76029189),t=li(t,r,i,s,n[c+9],4,-640364487),s=li(s,t,r,i,n[c+12],11,-421815835),i=li(i,s,t,r,n[c+15],16,530742520),r=li(r,i,s,t,n[c+2],23,-995338651),t=ui(t,r,i,s,n[c],6,-198630844),s=ui(s,t,r,i,n[c+7],10,1126891415),i=ui(i,s,t,r,n[c+14],15,-1416354905),r=ui(r,i,s,t,n[c+5],21,-57434055),t=ui(t,r,i,s,n[c+12],6,1700485571),s=ui(s,t,r,i,n[c+3],10,-1894986606),i=ui(i,s,t,r,n[c+10],15,-1051523),r=ui(r,i,s,t,n[c+1],21,-2054922799),t=ui(t,r,i,s,n[c+8],6,1873313359),s=ui(s,t,r,i,n[c+15],10,-30611744),i=ui(i,s,t,r,n[c+6],15,-1560198380),r=ui(r,i,s,t,n[c+13],21,1309151649),t=ui(t,r,i,s,n[c+4],6,-145523070),s=ui(s,t,r,i,n[c+11],10,-1120210379),i=ui(i,s,t,r,n[c+2],15,718787259),r=ui(r,i,s,t,n[c+9],21,-343485551),t=jc(t,u),r=jc(r,h),i=jc(i,d),s=jc(s,p)}return[t,r,i,s]}function o7(n){if(n.length===0)return[];for(var e=n.length*8,t=new Uint32Array(a6(e)),r=0;r<e;r+=8)t[r>>5]|=(n[r/8]&255)<<r%32;return t}function jc(n,e){var t=(n&65535)+(e&65535),r=(n>>16)+(e>>16)+(t>>16);return r<<16|t&65535}function a7(n,e){return n<<e|n>>>32-e}function Py(n,e,t,r,i,s){return jc(a7(jc(jc(e,n),jc(r,s)),i),t)}function ai(n,e,t,r,i,s,c){return Py(e&t|~e&r,n,e,i,s,c)}function ci(n,e,t,r,i,s,c){return Py(e&r|t&~r,n,e,i,s,c)}function li(n,e,t,r,i,s,c){return Py(e^t^r,n,e,i,s,c)}function ui(n,e,t,r,i,s,c){return Py(t^(e|~r),n,e,i,s,c)}var c7=o6("v3",48,r7);function l7(n,e,t){n=n||{};var r=n.random||(n.rng||i6)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=r[i];return e}return jy(r)}function u7(n,e,t,r){switch(n){case 0:return e&t^~e&r;case 1:return e^t^r;case 2:return e&t^e&r^t&r;case 3:return e^t^r}}function Mb(n,e){return n<<e|n>>>32-e}function h7(n){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){var r=unescape(encodeURIComponent(n));n=[];for(var i=0;i<r.length;++i)n.push(r.charCodeAt(i))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);for(var s=n.length/4+2,c=Math.ceil(s/16),u=new Array(c),h=0;h<c;++h){for(var d=new Uint32Array(16),p=0;p<16;++p)d[p]=n[h*64+p*4]<<24|n[h*64+p*4+1]<<16|n[h*64+p*4+2]<<8|n[h*64+p*4+3];u[h]=d}u[c-1][14]=(n.length-1)*8/Math.pow(2,32),u[c-1][14]=Math.floor(u[c-1][14]),u[c-1][15]=(n.length-1)*8&4294967295;for(var v=0;v<c;++v){for(var x=new Uint32Array(80),y=0;y<16;++y)x[y]=u[v][y];for(var S=16;S<80;++S)x[S]=Mb(x[S-3]^x[S-8]^x[S-14]^x[S-16],1);for(var k=t[0],I=t[1],M=t[2],j=t[3],O=t[4],Q=0;Q<80;++Q){var oe=Math.floor(Q/20),ce=Mb(k,5)+u7(oe,I,M,j)+O+e[oe]+x[Q]>>>0;O=j,j=M,M=Mb(I,30)>>>0,I=k,k=ce}t[0]=t[0]+k>>>0,t[1]=t[1]+I>>>0,t[2]=t[2]+M>>>0,t[3]=t[3]+j>>>0,t[4]=t[4]+O>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var f7=o6("v5",80,h7);const d7="00000000-0000-0000-0000-000000000000";function p7(n){if(!Dy(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}const m7=Object.freeze(Object.defineProperty({__proto__:null,NIL:d7,parse:s6,stringify:jy,v1:J9,v3:c7,v4:l7,v5:f7,validate:Dy,version:p7},Symbol.toStringTag,{value:"Module"})),c6=sE(m7);var Bb,hN;function g7(){if(hN)return Bb;hN=1;const n=c6.v4;return Bb=function(t,r,i,s){if(typeof t!="string")throw new TypeError(t+" must be a string");s=s||{};const c=typeof s.version=="number"?s.version:2;if(c!==1&&c!==2)throw new TypeError(c+" must be 1 or 2");const u={method:t};if(c===2&&(u.jsonrpc="2.0"),r){if(typeof r!="object"&&!Array.isArray(r))throw new TypeError(r+" must be an object, array or omitted");u.params=r}if(typeof i>"u"){const h=typeof s.generator=="function"?s.generator:function(){return n()};u.id=h(u,s)}else c===2&&i===null?s.notificationIdNull&&(u.id=null):u.id=i;return u},Bb}var Lb,fN;function y7(){if(fN)return Lb;fN=1;const n=c6.v4,e=g7(),t=function(r,i){if(!(this instanceof t))return new t(r,i);i||(i={}),this.options={reviver:typeof i.reviver<"u"?i.reviver:null,replacer:typeof i.replacer<"u"?i.replacer:null,generator:typeof i.generator<"u"?i.generator:function(){return n()},version:typeof i.version<"u"?i.version:2,notificationIdNull:typeof i.notificationIdNull=="boolean"?i.notificationIdNull:!1},this.callServer=r};return Lb=t,t.prototype.request=function(r,i,s,c){const u=this;let h=null;const d=Array.isArray(r)&&typeof i=="function";if(this.options.version===1&&d)throw new TypeError("JSON-RPC 1.0 does not support batching");if(d||!d&&r&&typeof r=="object"&&typeof i=="function")c=i,h=r;else{typeof s=="function"&&(c=s,s=void 0);const x=typeof c=="function";try{h=e(r,i,s,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(y){if(x){c(y);return}throw y}if(!x)return h}let v;try{v=JSON.stringify(h,this.options.replacer)}catch(x){c(x);return}return this.callServer(v,function(x,y){u._parseResponse(x,y,c)}),h},t.prototype._parseResponse=function(r,i,s){if(r){s(r);return}if(!i){s();return}let c;try{c=JSON.parse(i,this.options.reviver)}catch(u){s(u);return}if(s.length===3)if(Array.isArray(c)){const u=function(d){return typeof d.error<"u"},h=function(d){return!u(d)};s(null,c.filter(u),c.filter(h));return}else{s(null,c.error,c.result);return}s(null,c)},Lb}var w7=y7();const b7=Mo(w7);var Db={exports:{}},dN;function v7(){return dN||(dN=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(h,d,p){this.fn=h,this.context=d,this.once=p||!1}function s(h,d,p,v,x){if(typeof p!="function")throw new TypeError("The listener must be a function");var y=new i(p,v||h,x),S=t?t+d:d;return h._events[S]?h._events[S].fn?h._events[S]=[h._events[S],y]:h._events[S].push(y):(h._events[S]=y,h._eventsCount++),h}function c(h,d){--h._eventsCount===0?h._events=new r:delete h._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],p,v;if(this._eventsCount===0)return d;for(v in p=this._events)e.call(p,v)&&d.push(t?v.slice(1):v);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},u.prototype.listeners=function(d){var p=t?t+d:d,v=this._events[p];if(!v)return[];if(v.fn)return[v.fn];for(var x=0,y=v.length,S=new Array(y);x<y;x++)S[x]=v[x].fn;return S},u.prototype.listenerCount=function(d){var p=t?t+d:d,v=this._events[p];return v?v.fn?1:v.length:0},u.prototype.emit=function(d,p,v,x,y,S){var k=t?t+d:d;if(!this._events[k])return!1;var I=this._events[k],M=arguments.length,j,O;if(I.fn){switch(I.once&&this.removeListener(d,I.fn,void 0,!0),M){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,p),!0;case 3:return I.fn.call(I.context,p,v),!0;case 4:return I.fn.call(I.context,p,v,x),!0;case 5:return I.fn.call(I.context,p,v,x,y),!0;case 6:return I.fn.call(I.context,p,v,x,y,S),!0}for(O=1,j=new Array(M-1);O<M;O++)j[O-1]=arguments[O];I.fn.apply(I.context,j)}else{var Q=I.length,oe;for(O=0;O<Q;O++)switch(I[O].once&&this.removeListener(d,I[O].fn,void 0,!0),M){case 1:I[O].fn.call(I[O].context);break;case 2:I[O].fn.call(I[O].context,p);break;case 3:I[O].fn.call(I[O].context,p,v);break;case 4:I[O].fn.call(I[O].context,p,v,x);break;default:if(!j)for(oe=1,j=new Array(M-1);oe<M;oe++)j[oe-1]=arguments[oe];I[O].fn.apply(I[O].context,j)}}return!0},u.prototype.on=function(d,p,v){return s(this,d,p,v,!1)},u.prototype.once=function(d,p,v){return s(this,d,p,v,!0)},u.prototype.removeListener=function(d,p,v,x){var y=t?t+d:d;if(!this._events[y])return this;if(!p)return c(this,y),this;var S=this._events[y];if(S.fn)S.fn===p&&(!x||S.once)&&(!v||S.context===v)&&c(this,y);else{for(var k=0,I=[],M=S.length;k<M;k++)(S[k].fn!==p||x&&!S[k].once||v&&S[k].context!==v)&&I.push(S[k]);I.length?this._events[y]=I.length===1?I[0]:I:c(this,y)}return this},u.prototype.removeAllListeners=function(d){var p;return d?(p=t?t+d:d,this._events[p]&&c(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=t,u.EventEmitter=u,n.exports=u})(Db)),Db.exports}var _7=v7();const NE=Mo(_7);var x7=class extends NE{constructor(e,t){super();_r(this,"socket");this.socket=new window.WebSocket(e,t.protocols),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=r=>this.emit("message",r.data),this.socket.onerror=r=>this.emit("error",r),this.socket.onclose=r=>{this.emit("close",r.code,r.reason)}}send(e,t,r){const i=r||t;try{this.socket.send(e),i()}catch(s){i(s)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,r){this.socket.addEventListener(e,t,r)}};function E7(n,e){return new x7(n,e)}var A7=class{encode(n){return JSON.stringify(n)}decode(n){return JSON.parse(n)}},S7=class extends NE{constructor(e,t="ws://localhost:8080",{autoconnect:r=!0,reconnect:i=!0,reconnect_interval:s=1e3,max_reconnects:c=5,...u}={},h,d){super();_r(this,"address");_r(this,"rpc_id");_r(this,"queue");_r(this,"options");_r(this,"autoconnect");_r(this,"ready");_r(this,"reconnect");_r(this,"reconnect_timer_id");_r(this,"reconnect_interval");_r(this,"max_reconnects");_r(this,"rest_options");_r(this,"current_reconnects");_r(this,"generate_request_id");_r(this,"socket");_r(this,"webSocketFactory");_r(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=r,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=c,this.rest_options=u,this.current_reconnects=0,this.generate_request_id=h||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),d?this.dataPack=d:this.dataPack=new A7,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,r,i){return!i&&typeof r=="object"&&(i=r,r=null),new Promise((s,c)=>{if(!this.ready)return c(new Error("socket not ready"));const u=this.generate_request_id(e,t),h={jsonrpc:"2.0",method:e,params:t||void 0,id:u};this.socket.send(this.dataPack.encode(h),i,d=>{if(d)return c(d);this.queue[u]={promise:[s,c]},r&&(this.queue[u].timeout=setTimeout(()=>{delete this.queue[u],c(new Error("reply timeout"))},r))})})}async login(e){const t=await this.call("rpc.login",e);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise((r,i)=>{if(!this.ready)return i(new Error("socket not ready"));const s={jsonrpc:"2.0",method:e,params:t};this.socket.send(this.dataPack.encode(s),c=>{if(c)return i(c);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const t=await this.call("rpc.on",e);if(typeof e=="string"&&t[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){typeof e=="string"&&(e=[e]);const t=await this.call("rpc.off",e);if(typeof e=="string"&&t[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket&&this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=ft.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const i=[r.notification];if(r.params.constructor===Object)i.push(r.params);else for(let s=0;s<r.params.length;s++)i.push(r.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",r,i),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(e,t),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",r,i),1))})}};const R7=BigInt(0),xd=BigInt(1),T7=BigInt(2),N7=BigInt(7),I7=BigInt(256),k7=BigInt(113),l6=[],u6=[],h6=[];for(let n=0,e=xd,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],l6.push(2*(5*r+t)),u6.push((n+1)*(n+2)/2%64);let i=R7;for(let s=0;s<7;s++)e=(e<<xd^(e>>N7)*k7)%I7,e&T7&&(i^=xd<<(xd<<BigInt(s))-xd);h6.push(i)}const f6=T3(h6,!0),C7=f6[0],O7=f6[1],pN=(n,e,t)=>t>32?_U(n,e,t):bU(n,e,t),mN=(n,e,t)=>t>32?xU(n,e,t):vU(n,e,t);function M7(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let c=0;c<10;c++)t[c]=n[c]^n[c+10]^n[c+20]^n[c+30]^n[c+40];for(let c=0;c<10;c+=2){const u=(c+8)%10,h=(c+2)%10,d=t[h],p=t[h+1],v=pN(d,p,1)^t[u],x=mN(d,p,1)^t[u+1];for(let y=0;y<50;y+=10)n[c+y]^=v,n[c+y+1]^=x}let i=n[2],s=n[3];for(let c=0;c<24;c++){const u=u6[c],h=pN(i,s,u),d=mN(i,s,u),p=l6[c];i=n[p],s=n[p+1],n[p]=h,n[p+1]=d}for(let c=0;c<50;c+=10){for(let u=0;u<10;u++)t[u]=n[c+u];for(let u=0;u<10;u++)n[c+u]^=~t[(u+2)%10]&t[(u+4)%10]}n[0]^=C7[r],n[1]^=O7[r]}Wc(t)}class IE extends mE{constructor(e,t,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=s,dp(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=lU(this.state)}clone(){return this._cloneInto()}keccak(){FT(this.state32),M7(this.state32,this.rounds),FT(this.state32),this.posOut=0,this.pos=0}update(e){ef(this),e=My(e),Ta(e);const{blockLen:t,state:r}=this,i=e.length;for(let s=0;s<i;){const c=Math.min(t-this.pos,i-s);for(let u=0;u<c;u++)r[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,(t&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){ef(this,!1),Ta(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const c=Math.min(r-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+c),i),this.posOut+=c,i+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return dp(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(A3(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Wc(this.state)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:s,enableXOF:c}=this;return e||(e=new IE(t,r,i,c,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=c,e.destroyed=this.destroyed,e}}const B7=(n,e,t)=>gE(()=>new IE(e,n,t)),gN=B7(1,136,256/8);class d6 extends mE{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,E3(e);const r=My(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let c=0;c<s.length;c++)s[c]^=54;this.iHash.update(s),this.oHash=e.create();for(let c=0;c<s.length;c++)s[c]^=106;this.oHash.update(s),Wc(s)}update(e){return ef(this),this.iHash.update(e),this}digestInto(e){ef(this),Ta(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:i,destroyed:s,blockLen:c,outputLen:u}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=c,e.outputLen=u,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const p6=(n,e,t)=>new d6(n,e).update(t).digest();p6.create=(n,e)=>new d6(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yN=(n,e)=>(n+(n>=0?e:-e)/m6)/e;function L7(n,e,t){const[[r,i],[s,c]]=e,u=yN(c*n,t),h=yN(-i*n,t);let d=n-u*r-h*s,p=-u*i-h*c;const v=d<xa,x=p<xa;v&&(d=-d),x&&(p=-p);const y=Up(Math.ceil(O3(t)/2))+$h;if(d<xa||d>=y||p<xa||p>=y)throw new Error("splitScalar (endomorphism): failed, k="+n);return{k1neg:v,k1:d,k2neg:x,k2:p}}function L_(n){if(!["compact","recovered","der"].includes(n))throw new Error('Signature format must be "compact", "recovered", or "der"');return n}function jb(n,e){const t={};for(let r of Object.keys(e))t[r]=n[r]===void 0?e[r]:n[r];return cu(t.lowS,"lowS"),cu(t.prehash,"prehash"),t.format!==void 0&&L_(t.format),t}class D7 extends Error{constructor(e=""){super(e)}}const da={Err:D7,_tlv:{encode:(n,e)=>{const{Err:t}=da;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");const r=e.length/2,i=T0(r);if(i.length/2&128)throw new t("tlv.encode: long form length too big");const s=r>127?T0(i.length/2|128):"";return T0(n)+s+i+e},decode(n,e){const{Err:t}=da;let r=0;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[r++]!==n)throw new t("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let c=0;if(!s)c=i;else{const h=i&127;if(!h)throw new t("tlv.decode(long): indefinite length not supported");if(h>4)throw new t("tlv.decode(long): byte length is too big");const d=e.subarray(r,r+h);if(d.length!==h)throw new t("tlv.decode: length bytes not complete");if(d[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(const p of d)c=c<<8|p;if(r+=h,c<128)throw new t("tlv.decode(long): not minimal encoding")}const u=e.subarray(r,r+c);if(u.length!==c)throw new t("tlv.decode: wrong value length");return{v:u,l:e.subarray(r+c)}}},_int:{encode(n){const{Err:e}=da;if(n<xa)throw new e("integer: negative integers are not allowed");let t=T0(n);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(n){const{Err:e}=da;if(n[0]&128)throw new e("invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return By(n)}},toSig(n){const{Err:e,_int:t,_tlv:r}=da,i=or("signature",n),{v:s,l:c}=r.decode(48,i);if(c.length)throw new e("invalid signature: left bytes after parsing");const{v:u,l:h}=r.decode(2,s),{v:d,l:p}=r.decode(2,h);if(p.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(u),s:t.decode(d)}},hexFromSig(n){const{_tlv:e,_int:t}=da,r=e.encode(2,t.encode(n.r)),i=e.encode(2,t.encode(n.s)),s=r+i;return e.encode(48,s)}},xa=BigInt(0),$h=BigInt(1),m6=BigInt(2),k0=BigInt(3),j7=BigInt(4);function jh(n,e){const{BYTES:t}=n;let r;if(typeof e=="bigint")r=e;else{let i=or("private key",e);try{r=n.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${t}, got ${typeof e}`)}}if(!n.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function P7(n,e={}){const t=W3("weierstrass",n,e),{Fp:r,Fn:i}=t;let s=t.CURVE;const{h:c,n:u}=s;Vp(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:h}=e;if(h&&(!r.is0(s.a)||typeof h.beta!="bigint"||!Array.isArray(h.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const d=y6(r,i);function p(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function v(L,T,g){const{x:R,y:C}=T.toAffine(),Y=r.toBytes(R);if(cu(g,"isCompressed"),g){p();const te=!r.isOdd(C);return yo(g6(te),Y)}else return yo(Uint8Array.of(4),Y,r.toBytes(C))}function x(L){Bs(L,void 0,"Point");const{publicKey:T,publicKeyUncompressed:g}=d,R=L.length,C=L[0],Y=L.subarray(1);if(R===T&&(C===2||C===3)){const te=r.fromBytes(Y);if(!r.isValid(te))throw new Error("bad point: is not on curve, wrong x");const Z=k(te);let D;try{D=r.sqrt(Z)}catch(E){const H=E instanceof Error?": "+E.message:"";throw new Error("bad point: is not on curve, sqrt error"+H)}p();const A=r.isOdd(D);return(C&1)===1!==A&&(D=r.neg(D)),{x:te,y:D}}else if(R===g&&C===4){const te=r.BYTES,Z=r.fromBytes(Y.subarray(0,te)),D=r.fromBytes(Y.subarray(te,te*2));if(!I(Z,D))throw new Error("bad point: is not on curve");return{x:Z,y:D}}else throw new Error(`bad point: got length ${R}, expected compressed=${T} or uncompressed=${g}`)}const y=e.toBytes||v,S=e.fromBytes||x;function k(L){const T=r.sqr(L),g=r.mul(T,L);return r.add(r.add(g,r.mul(L,s.a)),s.b)}function I(L,T){const g=r.sqr(T),R=k(L);return r.eql(g,R)}if(!I(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const M=r.mul(r.pow(s.a,k0),j7),j=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(M,j)))throw new Error("bad curve params: a or b");function O(L,T,g=!1){if(!r.isValid(T)||g&&r.is0(T))throw new Error(`bad point coordinate ${L}`);return T}function Q(L){if(!(L instanceof B))throw new Error("ProjectivePoint expected")}function oe(L){if(!h||!h.basises)throw new Error("no endo");return L7(L,h.basises,i.ORDER)}const ce=Kg((L,T)=>{const{X:g,Y:R,Z:C}=L;if(r.eql(C,r.ONE))return{x:g,y:R};const Y=L.is0();T==null&&(T=Y?r.ONE:r.inv(C));const te=r.mul(g,T),Z=r.mul(R,T),D=r.mul(C,T);if(Y)return{x:r.ZERO,y:r.ZERO};if(!r.eql(D,r.ONE))throw new Error("invZ was invalid");return{x:te,y:Z}}),W=Kg(L=>{if(L.is0()){if(e.allowInfinityPoint&&!r.is0(L.Y))return;throw new Error("bad point: ZERO")}const{x:T,y:g}=L.toAffine();if(!r.isValid(T)||!r.isValid(g))throw new Error("bad point: x or y not field elements");if(!I(T,g))throw new Error("bad point: equation left != right");if(!L.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function K(L,T,g,R,C){return g=new B(r.mul(g.X,L),g.Y,g.Z),T=Wg(R,T),g=Wg(C,g),T.add(g)}class B{constructor(T,g,R){this.X=O("x",T),this.Y=O("y",g,!0),this.Z=O("z",R),Object.freeze(this)}static CURVE(){return s}static fromAffine(T){const{x:g,y:R}=T||{};if(!T||!r.isValid(g)||!r.isValid(R))throw new Error("invalid affine point");if(T instanceof B)throw new Error("projective point not allowed");return r.is0(g)&&r.is0(R)?B.ZERO:new B(g,R,r.ONE)}static fromBytes(T){const g=B.fromAffine(S(Bs(T,void 0,"point")));return g.assertValidity(),g}static fromHex(T){return B.fromBytes(or("pointHex",T))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(T=8,g=!0){return q.createCache(this,T),g||this.multiply(k0),this}assertValidity(){W(this)}hasEvenY(){const{y:T}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(T)}equals(T){Q(T);const{X:g,Y:R,Z:C}=this,{X:Y,Y:te,Z}=T,D=r.eql(r.mul(g,Z),r.mul(Y,C)),A=r.eql(r.mul(R,Z),r.mul(te,C));return D&&A}negate(){return new B(this.X,r.neg(this.Y),this.Z)}double(){const{a:T,b:g}=s,R=r.mul(g,k0),{X:C,Y,Z:te}=this;let Z=r.ZERO,D=r.ZERO,A=r.ZERO,w=r.mul(C,C),E=r.mul(Y,Y),H=r.mul(te,te),ne=r.mul(C,Y);return ne=r.add(ne,ne),A=r.mul(C,te),A=r.add(A,A),Z=r.mul(T,A),D=r.mul(R,H),D=r.add(Z,D),Z=r.sub(E,D),D=r.add(E,D),D=r.mul(Z,D),Z=r.mul(ne,Z),A=r.mul(R,A),H=r.mul(T,H),ne=r.sub(w,H),ne=r.mul(T,ne),ne=r.add(ne,A),A=r.add(w,w),w=r.add(A,w),w=r.add(w,H),w=r.mul(w,ne),D=r.add(D,w),H=r.mul(Y,te),H=r.add(H,H),w=r.mul(H,ne),Z=r.sub(Z,w),A=r.mul(H,E),A=r.add(A,A),A=r.add(A,A),new B(Z,D,A)}add(T){Q(T);const{X:g,Y:R,Z:C}=this,{X:Y,Y:te,Z}=T;let D=r.ZERO,A=r.ZERO,w=r.ZERO;const E=s.a,H=r.mul(s.b,k0);let ne=r.mul(g,Y),ae=r.mul(R,te),me=r.mul(C,Z),Le=r.add(g,R),Ue=r.add(Y,te);Le=r.mul(Le,Ue),Ue=r.add(ne,ae),Le=r.sub(Le,Ue),Ue=r.add(g,C);let it=r.add(Y,Z);return Ue=r.mul(Ue,it),it=r.add(ne,me),Ue=r.sub(Ue,it),it=r.add(R,C),D=r.add(te,Z),it=r.mul(it,D),D=r.add(ae,me),it=r.sub(it,D),w=r.mul(E,Ue),D=r.mul(H,me),w=r.add(D,w),D=r.sub(ae,w),w=r.add(ae,w),A=r.mul(D,w),ae=r.add(ne,ne),ae=r.add(ae,ne),me=r.mul(E,me),Ue=r.mul(H,Ue),ae=r.add(ae,me),me=r.sub(ne,me),me=r.mul(E,me),Ue=r.add(Ue,me),ne=r.mul(ae,Ue),A=r.add(A,ne),ne=r.mul(it,Ue),D=r.mul(Le,D),D=r.sub(D,ne),ne=r.mul(Le,ae),w=r.mul(it,w),w=r.add(w,ne),new B(D,A,w)}subtract(T){return this.add(T.negate())}is0(){return this.equals(B.ZERO)}multiply(T){const{endo:g}=e;if(!i.isValidNot0(T))throw new Error("invalid scalar: out of range");let R,C;const Y=te=>q.cached(this,te,Z=>ql(B,Z));if(g){const{k1neg:te,k1:Z,k2neg:D,k2:A}=oe(T),{p:w,f:E}=Y(Z),{p:H,f:ne}=Y(A);C=E.add(ne),R=K(g.beta,w,H,te,D)}else{const{p:te,f:Z}=Y(T);R=te,C=Z}return ql(B,[R,C])[0]}multiplyUnsafe(T){const{endo:g}=e,R=this;if(!i.isValid(T))throw new Error("invalid scalar: out of range");if(T===xa||R.is0())return B.ZERO;if(T===$h)return R;if(q.hasCache(this))return this.multiply(T);if(g){const{k1neg:C,k1:Y,k2neg:te,k2:Z}=oe(T),{p1:D,p2:A}=YU(B,R,Y,Z);return K(g.beta,D,A,C,te)}else return q.unsafe(R,T)}multiplyAndAddUnsafe(T,g,R){const C=this.multiplyUnsafe(g).add(T.multiplyUnsafe(R));return C.is0()?void 0:C}toAffine(T){return ce(this,T)}isTorsionFree(){const{isTorsionFree:T}=e;return c===$h?!0:T?T(B,this):q.unsafe(this,u).is0()}clearCofactor(){const{clearCofactor:T}=e;return c===$h?this:T?T(B,this):this.multiplyUnsafe(c)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}toBytes(T=!0){return cu(T,"isCompressed"),this.assertValidity(),y(B,this,T)}toHex(T=!0){return iu(this.toBytes(T))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(T=!0){return this.toBytes(T)}_setWindowSize(T){this.precompute(T)}static normalizeZ(T){return ql(B,T)}static msm(T,g){return K3(B,i,T,g)}static fromPrivateKey(T){return B.BASE.multiply(jh(i,T))}}B.BASE=new B(s.Gx,s.Gy,r.ONE),B.ZERO=new B(r.ZERO,r.ONE,r.ZERO),B.Fp=r,B.Fn=i;const U=i.BITS,q=new $3(B,e.endo?Math.ceil(U/2):U);return B.BASE.precompute(8),B}function g6(n){return Uint8Array.of(n?2:3)}function y6(n,e){return{secretKey:e.BYTES,publicKey:1+n.BYTES,publicKeyUncompressed:1+2*n.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function U7(n,e={}){const{Fn:t}=n,r=e.randomBytes||yE,i=Object.assign(y6(n.Fp,t),{seed:H3(t.ORDER)});function s(y){try{return!!jh(t,y)}catch{return!1}}function c(y,S){const{publicKey:k,publicKeyUncompressed:I}=i;try{const M=y.length;return S===!0&&M!==k||S===!1&&M!==I?!1:!!n.fromBytes(y)}catch{return!1}}function u(y=r(i.seed)){return $U(Bs(y,i.seed,"seed"),t.ORDER)}function h(y,S=!0){return n.BASE.multiply(jh(t,y)).toBytes(S)}function d(y){const S=u(y);return{secretKey:S,publicKey:h(S)}}function p(y){if(typeof y=="bigint")return!1;if(y instanceof n)return!0;const{secretKey:S,publicKey:k,publicKeyUncompressed:I}=i;if(t.allowedLengths||S===k)return;const M=or("key",y).length;return M===k||M===I}function v(y,S,k=!0){if(p(y)===!0)throw new Error("first arg must be private key");if(p(S)===!1)throw new Error("second arg must be public key");const I=jh(t,y);return n.fromHex(S).multiply(I).toBytes(k)}return Object.freeze({getPublicKey:h,getSharedSecret:v,keygen:d,Point:n,utils:{isValidSecretKey:s,isValidPublicKey:c,randomSecretKey:u,isValidPrivateKey:s,randomPrivateKey:u,normPrivateKeyToScalar:y=>jh(t,y),precompute(y=8,S=n.BASE){return S.precompute(y,!1)}},lengths:i})}function V7(n,e,t={}){E3(e),Vp(t,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=t.randomBytes||yE,i=t.hmac||((g,...R)=>p6(e,g,yo(...R))),{Fp:s,Fn:c}=n,{ORDER:u,BITS:h}=c,{keygen:d,getPublicKey:p,getSharedSecret:v,utils:x,lengths:y}=U7(n,t),S={prehash:!1,lowS:typeof t.lowS=="boolean"?t.lowS:!1,format:void 0,extraEntropy:!1},k="compact";function I(g){const R=u>>$h;return g>R}function M(g,R){if(!c.isValidNot0(R))throw new Error(`invalid signature ${g}: out of range 1..Point.Fn.ORDER`);return R}function j(g,R){L_(R);const C=y.signature,Y=R==="compact"?C:R==="recovered"?C+1:void 0;return Bs(g,Y,`${R} signature`)}class O{constructor(R,C,Y){this.r=M("r",R),this.s=M("s",C),Y!=null&&(this.recovery=Y),Object.freeze(this)}static fromBytes(R,C=k){j(R,C);let Y;if(C==="der"){const{r:A,s:w}=da.toSig(Bs(R));return new O(A,w)}C==="recovered"&&(Y=R[0],C="compact",R=R.subarray(1));const te=c.BYTES,Z=R.subarray(0,te),D=R.subarray(te,te*2);return new O(c.fromBytes(Z),c.fromBytes(D),Y)}static fromHex(R,C){return this.fromBytes($g(R),C)}addRecoveryBit(R){return new O(this.r,this.s,R)}recoverPublicKey(R){const C=s.ORDER,{r:Y,s:te,recovery:Z}=this;if(Z==null||![0,1,2,3].includes(Z))throw new Error("recovery id invalid");if(u*m6<C&&Z>1)throw new Error("recovery id is ambiguous for h>1 curve");const A=Z===2||Z===3?Y+u:Y;if(!s.isValid(A))throw new Error("recovery id 2 or 3 invalid");const w=s.toBytes(A),E=n.fromBytes(yo(g6((Z&1)===0),w)),H=c.inv(A),ne=oe(or("msgHash",R)),ae=c.create(-ne*H),me=c.create(te*H),Le=n.BASE.multiplyUnsafe(ae).add(E.multiplyUnsafe(me));if(Le.is0())throw new Error("point at infinify");return Le.assertValidity(),Le}hasHighS(){return I(this.s)}toBytes(R=k){if(L_(R),R==="der")return $g(da.hexFromSig(this));const C=c.toBytes(this.r),Y=c.toBytes(this.s);if(R==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return yo(Uint8Array.of(this.recovery),C,Y)}return yo(C,Y)}toHex(R){return iu(this.toBytes(R))}assertValidity(){}static fromCompact(R){return O.fromBytes(or("sig",R),"compact")}static fromDER(R){return O.fromBytes(or("sig",R),"der")}normalizeS(){return this.hasHighS()?new O(this.r,c.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return iu(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return iu(this.toBytes("compact"))}}const Q=t.bits2int||function(R){if(R.length>8192)throw new Error("input is too large");const C=By(R),Y=R.length*8-h;return Y>0?C>>BigInt(Y):C},oe=t.bits2int_modN||function(R){return c.create(Q(R))},ce=Up(h);function W(g){return B_("num < 2^"+h,g,xa,ce),c.toBytes(g)}function K(g,R){return Bs(g,void 0,"message"),R?Bs(e(g),void 0,"prehashed message"):g}function B(g,R,C){if(["recovered","canonical"].some(ae=>ae in C))throw new Error("sign() legacy options not supported");const{lowS:Y,prehash:te,extraEntropy:Z}=jb(C,S);g=K(g,te);const D=oe(g),A=jh(c,R),w=[W(A),W(D)];if(Z!=null&&Z!==!1){const ae=Z===!0?r(y.secretKey):Z;w.push(or("extraEntropy",ae))}const E=yo(...w),H=D;function ne(ae){const me=Q(ae);if(!c.isValidNot0(me))return;const Le=c.inv(me),Ue=n.BASE.multiply(me).toAffine(),it=c.create(Ue.x);if(it===xa)return;const ut=c.create(Le*c.create(H+it*A));if(ut===xa)return;let kt=(Ue.x===it?0:2)|Number(Ue.y&$h),lr=ut;return Y&&I(ut)&&(lr=c.neg(ut),kt^=1),new O(it,lr,kt)}return{seed:E,k2sig:ne}}function U(g,R,C={}){g=or("message",g);const{seed:Y,k2sig:te}=B(g,R,C);return DU(e.outputLen,c.BYTES,i)(Y,te)}function q(g){let R;const C=typeof g=="string"||Pp(g),Y=!C&&g!==null&&typeof g=="object"&&typeof g.r=="bigint"&&typeof g.s=="bigint";if(!C&&!Y)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(Y)R=new O(g.r,g.s);else if(C){try{R=O.fromBytes(or("sig",g),"der")}catch(te){if(!(te instanceof da.Err))throw te}if(!R)try{R=O.fromBytes(or("sig",g),"compact")}catch{return!1}}return R||!1}function L(g,R,C,Y={}){const{lowS:te,prehash:Z,format:D}=jb(Y,S);if(C=or("publicKey",C),R=K(or("message",R),Z),"strict"in Y)throw new Error("options.strict was renamed to lowS");const A=D===void 0?q(g):O.fromBytes(or("sig",g),D);if(A===!1)return!1;try{const w=n.fromBytes(C);if(te&&A.hasHighS())return!1;const{r:E,s:H}=A,ne=oe(R),ae=c.inv(H),me=c.create(ne*ae),Le=c.create(E*ae),Ue=n.BASE.multiplyUnsafe(me).add(w.multiplyUnsafe(Le));return Ue.is0()?!1:c.create(Ue.x)===E}catch{return!1}}function T(g,R,C={}){const{prehash:Y}=jb(C,S);return R=K(R,Y),O.fromBytes(g,"recovered").recoverPublicKey(R).toBytes()}return Object.freeze({keygen:d,getPublicKey:p,getSharedSecret:v,utils:x,lengths:y,Point:n,sign:U,verify:L,recoverPublicKey:T,Signature:O,hash:e})}function z7(n){const e={a:n.a,b:n.b,p:n.Fp.ORDER,n:n.n,h:n.h,Gx:n.Gx,Gy:n.Gy},t=n.Fp;let r=n.allowedPrivateKeyLengths?Array.from(new Set(n.allowedPrivateKeyLengths.map(c=>Math.ceil(c/2)))):void 0;const i=yu(e.n,{BITS:n.nBitLength,allowedLengths:r,modFromBytes:n.wrapPrivateKey}),s={Fp:t,Fn:i,allowInfinityPoint:n.allowInfinityPoint,endo:n.endo,isTorsionFree:n.isTorsionFree,clearCofactor:n.clearCofactor,fromBytes:n.fromBytes,toBytes:n.toBytes};return{CURVE:e,curveOpts:s}}function F7(n){const{CURVE:e,curveOpts:t}=z7(n),r={hmac:n.hmac,randomBytes:n.randomBytes,lowS:n.lowS,bits2int:n.bits2int,bits2int_modN:n.bits2int_modN};return{CURVE:e,curveOpts:t,hash:n.hash,ecdsaOpts:r}}function H7(n,e){const t=e.Point;return Object.assign({},e,{ProjectivePoint:t,CURVE:Object.assign({},n,z3(t.Fn.ORDER,t.Fn.BITS))})}function q7(n){const{CURVE:e,curveOpts:t,hash:r,ecdsaOpts:i}=F7(n),s=P7(e,t),c=V7(s,r,i);return H7(n,c)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function G7(n,e){const t=r=>q7({...n,hash:r});return{...t(e),create:t}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kE={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},$7={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},wN=BigInt(2);function K7(n){const e=kE.p,t=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),c=BigInt(23),u=BigInt(44),h=BigInt(88),d=n*n*n%e,p=d*d*n%e,v=sr(p,t,e)*p%e,x=sr(v,t,e)*p%e,y=sr(x,wN,e)*d%e,S=sr(y,i,e)*y%e,k=sr(S,s,e)*S%e,I=sr(k,u,e)*k%e,M=sr(I,h,e)*I%e,j=sr(M,u,e)*k%e,O=sr(j,t,e)*p%e,Q=sr(O,c,e)*S%e,oe=sr(Q,r,e)*d%e,ce=sr(oe,wN,e);if(!D_.eql(D_.sqr(ce),n))throw new Error("Cannot find square root");return ce}const D_=yu(kE.p,{sqrt:K7}),CE=G7({...kE,Fp:D_,lowS:!0,endo:$7},I3),W7=gf.utils.randomPrivateKey,bN=()=>{const n=gf.utils.randomPrivateKey(),e=ey(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},ey=gf.getPublicKey;function vN(n){try{return gf.ExtendedPoint.fromHex(n),!0}catch{return!1}}const OE=(n,e)=>gf.sign(n,e.slice(0,32)),Y7=gf.verify,Gt=n=>ft.isBuffer(n)?n:n instanceof Uint8Array?ft.from(n.buffer,n.byteOffset,n.byteLength):ft.from(n);let ME=class{constructor(e){Object.assign(this,e)}encode(){return ft.from(Nb.serialize(Xd,this))}static decode(e){return Nb.deserialize(Xd,this,e)}static decodeUnchecked(e){return Nb.deserializeUnchecked(Xd,this,e)}};class X7 extends ME{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const Xd=new Map;var w6;const b6=32,So=32;function Z7(n){return n._bn!==void 0}let _N=1;class xe extends ME{constructor(e){if(super({}),this._bn=void 0,Z7(e))this._bn=e._bn;else{if(typeof e=="string"){const t=ei.decode(e);if(t.length!=So)throw new Error("Invalid public key input");this._bn=new Vi(t)}else this._bn=new Vi(e);if(this._bn.byteLength()>So)throw new Error("Invalid public key input")}}static unique(){const e=new xe(_N);return _N+=1,new xe(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return ei.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(ft);if(e.length===So)return e;const t=ft.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const i=ft.concat([e.toBuffer(),ft.from(t),r.toBuffer()]),s=oN(i);return new xe(s)}static createProgramAddressSync(e,t){let r=ft.alloc(0);e.forEach(function(s){if(s.length>b6)throw new TypeError("Max seed length exceeded");r=ft.concat([r,Gt(s)])}),r=ft.concat([r,t.toBuffer(),ft.from("ProgramDerivedAddress")]);const i=oN(r);if(vN(i))throw new Error("Invalid seeds, address must fall off the curve");return new xe(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,i;for(;r!=0;){try{const s=e.concat(ft.from([r]));i=this.createProgramAddressSync(s,t)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new xe(e);return vN(t.toBytes())}}w6=xe;xe.default=new w6("11111111111111111111111111111111");Xd.set(xe,{kind:"struct",fields:[["_bn","u256"]]});class Q7{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Gt(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Gt(W7()),this._publicKey=Gt(ey(this._secretKey))}get publicKey(){return new xe(this._publicKey)}get secretKey(){return ft.concat([this._secretKey,this._publicKey],64)}}const J7=new xe("BPFLoader1111111111111111111111111111111111"),Vc=1232,Uy=127,rf=64;class BE extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(BE.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class LE extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(LE.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Ph extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Ph.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class mp{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,c)=>{r.set(s.toBase58(),c)});const i=s=>{const c=r.get(s.toBase58());if(c===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return c};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(c=>i(c.pubkey)),data:s.data}))}}const Zt=(n="publicKey")=>pe.blob(32,n),eV=(n="signature")=>pe.blob(64,n),Gl=(n="string")=>{const e=pe.struct([pe.u32("length"),pe.u32("lengthPadding"),pe.blob(pe.offset(pe.u32(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,c)=>t(s,c).chars.toString(),i.encode=(s,c,u)=>{const h={chars:ft.from(s,"utf8")};return r(h,c,u)},i.alloc=s=>pe.u32().span+pe.u32().span+ft.from(s,"utf8").length,i},tV=(n="authorized")=>pe.struct([Zt("staker"),Zt("withdrawer")],n),nV=(n="lockup")=>pe.struct([pe.ns64("unixTimestamp"),pe.ns64("epoch"),Zt("custodian")],n),rV=(n="voteInit")=>pe.struct([Zt("nodePubkey"),Zt("authorizedVoter"),Zt("authorizedWithdrawer"),pe.u8("commission")],n),iV=(n="voteAuthorizeWithSeedArgs")=>pe.struct([pe.u32("voteAuthorizationType"),Zt("currentAuthorityDerivedKeyOwnerPubkey"),Gl("currentAuthorityDerivedKeySeed"),Zt("newAuthorized")],n);function v6(n,e){const t=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*t(i.elementLayout)}else if("fields"in i)return v6({layout:i},e[i.property]);return 0};let r=0;return n.layout.fields.forEach(i=>{r+=t(i)}),r}function Pi(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function ns(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function yn(n,e){if(!n)throw new Error(e||"Assertion failed")}class Vy{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,i=c=>{const u=c.toBase58();let h=r.get(u);return h===void 0&&(h={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(u,h)),h},s=i(t);s.isSigner=!0,s.isWritable=!0;for(const c of e){i(c.programId).isInvoked=!0;for(const u of c.keys){const h=i(u.pubkey);h.isSigner||(h.isSigner=u.isSigner),h.isWritable||(h.isWritable=u.isWritable)}}return new Vy(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];yn(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,h])=>h.isSigner&&h.isWritable),r=e.filter(([,h])=>h.isSigner&&!h.isWritable),i=e.filter(([,h])=>!h.isSigner&&h.isWritable),s=e.filter(([,h])=>!h.isSigner&&!h.isWritable),c={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{yn(t.length>0,"Expected at least one writable signer key");const[h]=t[0];yn(h===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const u=[...t.map(([h])=>new xe(h)),...r.map(([h])=>new xe(h)),...i.map(([h])=>new xe(h)),...s.map(([h])=>new xe(h))];return[c,u]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&c.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&!c.isWritable);if(!(t.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,t){const r=new Array,i=new Array;for(const[s,c]of this.keyMetaMap.entries())if(t(c)){const u=new xe(s),h=e.findIndex(d=>d.equals(u));h>=0&&(yn(h<256,"Max lookup table index exceeded"),r.push(h),i.push(u),this.keyMetaMap.delete(s))}return[r,i]}}const _6="Reached end of buffer unexpectedly";function wo(n){if(n.length===0)throw new Error(_6);return n.shift()}function Ui(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(_6);return n.splice(...e)}class Us{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new xe(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ei.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new mp(this.staticAccountKeys)}static compile(e){const t=Vy.compile(e.instructions,e.payerKey),[r,i]=t.getMessageComponents(),c=new mp(i).compileInstructions(e.instructions).map(u=>({programIdIndex:u.programIdIndex,accounts:u.accountKeyIndexes,data:ei.encode(u.data)}));return new Us({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:c})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,s=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];ns(t,e);const r=this.instructions.map(v=>{const{accounts:x,programIdIndex:y}=v,S=Array.from(ei.decode(v.data));let k=[];ns(k,x.length);let I=[];return ns(I,S.length),{programIdIndex:y,keyIndicesCount:ft.from(k),keyIndices:x,dataLength:ft.from(I),data:S}});let i=[];ns(i,r.length);let s=ft.alloc(Vc);ft.from(i).copy(s);let c=i.length;r.forEach(v=>{const y=pe.struct([pe.u8("programIdIndex"),pe.blob(v.keyIndicesCount.length,"keyIndicesCount"),pe.seq(pe.u8("keyIndex"),v.keyIndices.length,"keyIndices"),pe.blob(v.dataLength.length,"dataLength"),pe.seq(pe.u8("userdatum"),v.data.length,"data")]).encode(v,s,c);c+=y}),s=s.slice(0,c);const u=pe.struct([pe.blob(1,"numRequiredSignatures"),pe.blob(1,"numReadonlySignedAccounts"),pe.blob(1,"numReadonlyUnsignedAccounts"),pe.blob(t.length,"keyCount"),pe.seq(Zt("key"),e,"keys"),Zt("recentBlockhash")]),h={numRequiredSignatures:ft.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ft.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ft.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ft.from(t),keys:this.accountKeys.map(v=>Gt(v.toBytes())),recentBlockhash:ei.decode(this.recentBlockhash)};let d=ft.alloc(2048);const p=u.encode(h,d);return s.copy(d,p),d.slice(0,p+s.length)}static from(e){let t=[...e];const r=wo(t);if(r!==(r&Uy))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=wo(t),s=wo(t),c=Pi(t);let u=[];for(let x=0;x<c;x++){const y=Ui(t,0,So);u.push(new xe(ft.from(y)))}const h=Ui(t,0,So),d=Pi(t);let p=[];for(let x=0;x<d;x++){const y=wo(t),S=Pi(t),k=Ui(t,0,S),I=Pi(t),M=Ui(t,0,I),j=ei.encode(ft.from(M));p.push({programIdIndex:y,accounts:k,data:j})}const v={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:ei.encode(ft.from(h)),accountKeys:u,instructions:p};return new Us(v)}}class lu{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new mp(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((c,u)=>c+u.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-t,c=r-t-this.header.numReadonlyUnsignedAccounts;return i<c}else{const i=t-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)t.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)t.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=Vy.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const p of s){const v=t.extractTableLookup(p);if(v!==void 0){const[x,{writable:y,readonly:S}]=v;r.push(x),i.writable.push(...y),i.readonly.push(...S)}}const[c,u]=t.getMessageComponents(),d=new mp(u,i).compileInstructions(e.instructions);return new lu({header:c,staticAccountKeys:u,recentBlockhash:e.recentBlockhash,compiledInstructions:d,addressTableLookups:r})}serialize(){const e=Array();ns(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();ns(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();ns(s,this.addressTableLookups.length);const c=pe.struct([pe.u8("prefix"),pe.struct([pe.u8("numRequiredSignatures"),pe.u8("numReadonlySignedAccounts"),pe.u8("numReadonlyUnsignedAccounts")],"header"),pe.blob(e.length,"staticAccountKeysLength"),pe.seq(Zt(),this.staticAccountKeys.length,"staticAccountKeys"),Zt("recentBlockhash"),pe.blob(r.length,"instructionsLength"),pe.blob(t.length,"serializedInstructions"),pe.blob(s.length,"addressTableLookupsLength"),pe.blob(i.length,"serializedAddressTableLookups")]),u=new Uint8Array(Vc),d=c.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(p=>p.toBytes()),recentBlockhash:ei.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},u);return u.slice(0,d)}serializeInstructions(){let e=0;const t=new Uint8Array(Vc);for(const r of this.compiledInstructions){const i=Array();ns(i,r.accountKeyIndexes.length);const s=Array();ns(s,r.data.length);const c=pe.struct([pe.u8("programIdIndex"),pe.blob(i.length,"encodedAccountKeyIndexesLength"),pe.seq(pe.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),pe.blob(s.length,"encodedDataLength"),pe.blob(r.data.length,"data")]);e+=c.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Vc);for(const r of this.addressTableLookups){const i=Array();ns(i,r.writableIndexes.length);const s=Array();ns(s,r.readonlyIndexes.length);const c=pe.struct([Zt("accountKey"),pe.blob(i.length,"encodedWritableIndexesLength"),pe.seq(pe.u8(),r.writableIndexes.length,"writableIndexes"),pe.blob(s.length,"encodedReadonlyIndexesLength"),pe.seq(pe.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=c.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=wo(t),i=r&Uy;yn(r!==i,"Expected versioned message but received legacy message");const s=i;yn(s===0,`Expected versioned message with version 0 but found version ${s}`);const c={numRequiredSignatures:wo(t),numReadonlySignedAccounts:wo(t),numReadonlyUnsignedAccounts:wo(t)},u=[],h=Pi(t);for(let S=0;S<h;S++)u.push(new xe(Ui(t,0,So)));const d=ei.encode(Ui(t,0,So)),p=Pi(t),v=[];for(let S=0;S<p;S++){const k=wo(t),I=Pi(t),M=Ui(t,0,I),j=Pi(t),O=new Uint8Array(Ui(t,0,j));v.push({programIdIndex:k,accountKeyIndexes:M,data:O})}const x=Pi(t),y=[];for(let S=0;S<x;S++){const k=new xe(Ui(t,0,So)),I=Pi(t),M=Ui(t,0,I),j=Pi(t),O=Ui(t,0,j);y.push({accountKey:k,writableIndexes:M,readonlyIndexes:O})}return new lu({header:c,staticAccountKeys:u,recentBlockhash:d,compiledInstructions:v,addressTableLookups:y})}}const zy={deserializeMessageVersion(n){const e=n[0],t=e&Uy;return t===e?"legacy":t},deserialize:n=>{const e=zy.deserializeMessageVersion(n);if(e==="legacy")return Us.from(n);if(e===0)return lu.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let ha=(function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n})({});const sV=ft.alloc(rf).fill(0);class Rn{constructor(e){this.keys=void 0,this.programId=void 0,this.data=ft.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Qt{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Rn(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let k=0;k<t.length;k++)if(t[k].programId===void 0)throw new Error(`Transaction instruction index ${k} has undefined program id`);const i=[],s=[];t.forEach(k=>{k.keys.forEach(M=>{s.push({...M})});const I=k.programId.toString();i.includes(I)||i.push(I)}),i.forEach(k=>{s.push({pubkey:new xe(k),isSigner:!1,isWritable:!1})});const c=[];s.forEach(k=>{const I=k.pubkey.toString(),M=c.findIndex(j=>j.pubkey.toString()===I);M>-1?(c[M].isWritable=c[M].isWritable||k.isWritable,c[M].isSigner=c[M].isSigner||k.isSigner):c.push(k)}),c.sort(function(k,I){if(k.isSigner!==I.isSigner)return k.isSigner?-1:1;if(k.isWritable!==I.isWritable)return k.isWritable?-1:1;const M={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return k.pubkey.toBase58().localeCompare(I.pubkey.toBase58(),"en",M)});const u=c.findIndex(k=>k.pubkey.equals(r));if(u>-1){const[k]=c.splice(u,1);k.isSigner=!0,k.isWritable=!0,c.unshift(k)}else c.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const k of this.signatures){const I=c.findIndex(M=>M.pubkey.equals(k.publicKey));if(I>-1)c[I].isSigner||(c[I].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${k.publicKey.toString()}`)}let h=0,d=0,p=0;const v=[],x=[];c.forEach(({pubkey:k,isSigner:I,isWritable:M})=>{I?(v.push(k.toString()),h+=1,M||(d+=1)):(x.push(k.toString()),M||(p+=1))});const y=v.concat(x),S=t.map(k=>{const{data:I,programId:M}=k;return{programIdIndex:y.indexOf(M.toString()),accounts:k.keys.map(j=>y.indexOf(j.pubkey.toString())),data:ei.encode(I)}});return S.forEach(k=>{yn(k.programIdIndex>=0),k.accounts.forEach(I=>yn(I>=0))}),new Us({header:{numRequiredSignatures:h,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:p},accountKeys:y,recentBlockhash:e,instructions:S})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((i,s)=>t[s].equals(i.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const i=r.toString();return t.has(i)?!1:(t.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const c=s.publicKey.toString();t.has(c)||(t.add(c),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const c=s.publicKey.toString();t.has(c)||(t.add(c),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(i=>{const s=OE(r,i.secretKey);this._addSignature(i.publicKey,Gt(s))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){yn(t.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=ft.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?t&&(r.missing||(r.missing=[])).push(s):Y7(i,e,s.toBytes())||(r.invalid||(r.invalid=[])).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,t);if(s){let c="Signature verification failed.";throw s.invalid&&(c+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(u=>u.toBase58()).join("`, `")}\`].`),s.missing&&(c+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(u=>u.toBase58()).join("`, `")}\`].`),new Error(c)}}return this._serialize(i)}_serialize(e){const{signatures:t}=this,r=[];ns(r,t.length);const i=r.length+t.length*64+e.length,s=ft.alloc(i);return yn(t.length<256),ft.from(r).copy(s,0),t.forEach(({signature:c},u)=>{c!==null&&(yn(c.length===64,"signature has invalid length"),ft.from(c).copy(s,r.length+u*64))}),e.copy(s,r.length+t.length*64),yn(s.length<=Vc,`Transaction too large: ${s.length} > ${Vc}`),s}get keys(){return yn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return yn(this.instructions.length===1),this.instructions[0].programId}get data(){return yn(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=Pi(t);let i=[];for(let s=0;s<r;s++){const c=Ui(t,0,rf);i.push(ei.encode(ft.from(c)))}return Qt.populate(Us.from(t),i)}static populate(e,t=[]){const r=new Qt;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((i,s)=>{const c={signature:i==ei.encode(sV)?null:ei.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(c)}),e.instructions.forEach(i=>{const s=i.accounts.map(c=>{const u=e.accountKeys[c];return{pubkey:u,isSigner:r.signatures.some(h=>h.publicKey.toString()===u.toString())||e.isAccountSigner(c),isWritable:e.isAccountWritable(c)}});r.instructions.push(new Rn({keys:s,programId:e.accountKeys[i.programIdIndex],data:ei.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}class DE{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:h}=r,d=c-u;yn(d>0,"Message header is invalid");const p=e.staticAccountKeys.length-c-h;yn(p>=0,"Message header is invalid");const v=e.getAccountKeys(t),x=v.get(0);if(x===void 0)throw new Error("Failed to decompile message because no account keys were found");const y=[];for(const S of i){const k=[];for(const M of S.accountKeyIndexes){const j=v.get(M);if(j===void 0)throw new Error(`Failed to find key for account key index ${M}`);const O=M<c;let Q;O?Q=M<d:M<v.staticAccountKeys.length?Q=M-c<p:Q=M-v.staticAccountKeys.length<v.accountKeysFromLookups.writable.length,k.push({pubkey:j,isSigner:M<r.numRequiredSignatures,isWritable:Q})}const I=v.get(S.programIdIndex);if(I===void 0)throw new Error(`Failed to find program id for program id index ${S.programIdIndex}`);y.push(new Rn({programId:I,data:Gt(S.data),keys:k}))}return new DE({payerKey:x,instructions:y,recentBlockhash:s})}compileToLegacyMessage(){return Us.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return lu.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class sf{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)yn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(rf));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();ns(t,this.signatures.length);const r=pe.struct([pe.blob(t.length,"encodedSignaturesLength"),pe.seq(eV(),this.signatures.length,"signatures"),pe.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let t=[...e];const r=[],i=Pi(t);for(let c=0;c<i;c++)r.push(new Uint8Array(Ui(t,0,rf)));const s=zy.deserialize(new Uint8Array(t));return new sf(s,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=r.findIndex(c=>c.equals(i.publicKey));yn(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=OE(t,i.secretKey)}}addSignature(e,t){yn(t.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));yn(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=t}}const oV=160,aV=64,cV=oV/aV,x6=1e3/cV,mo=new xe("SysvarC1ock11111111111111111111111111111111"),lV=new xe("SysvarEpochSchedu1e111111111111111111111111"),uV=new xe("Sysvar1nstructions1111111111111111111111111"),dg=new xe("SysvarRecentB1ockHashes11111111111111111111"),Aa=new xe("SysvarRent111111111111111111111111111111111"),hV=new xe("SysvarRewards111111111111111111111111111111"),fV=new xe("SysvarS1otHashes111111111111111111111111111"),dV=new xe("SysvarS1otHistory11111111111111111111111111"),pg=new xe("SysvarStakeHistory1111111111111111111111111");class Yc extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",c="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let u;switch(e){case"send":u=`Transaction ${t} resulted in an error. 
${r}. `+s+c;break;case"simulate":u=`Simulation failed. 
Message: ${r}. 
`+s+c;break;default:u=`Unknown action '${(h=>h)(e)}'`}super(u),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,t(s)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const pV={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class dt extends Error{constructor({code:e,message:t,data:r},i){super(i!=null?`${i}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function j_(n,e,t,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},s=await n.sendTransaction(e,t,i);let c;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)c=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:u}=e.nonceInfo,h=u.keys[0].pubkey;c=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:h,nonceValue:e.nonceInfo.nonce,signature:s},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),c=(await n.confirmTransaction(s,r&&r.commitment)).value;if(c.err)throw s!=null?new Yc({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(c)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(c)})`);return s}function Vl(n){return new Promise(e=>setTimeout(e,n))}function un(n,e){const t=n.layout.span>=0?n.layout.span:v6(n,e),r=ft.alloc(t),i=Object.assign({instruction:n.index},e);return n.layout.encode(i,r),r}function vn(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const E6=pe.nu64("lamportsPerSignature"),A6=pe.struct([pe.u32("version"),pe.u32("state"),Zt("authorizedPubkey"),Zt("nonce"),pe.struct([E6],"feeCalculator")]),P_=A6.span;class Fy{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=A6.decode(Gt(e),0);return new Fy({authorizedPubkey:new xe(t.authorizedPubkey),nonce:new xe(t.nonce).toString(),feeCalculator:t.feeCalculator})}}function of(n){const e=pe.blob(8,n),t=e.decode.bind(e),r=e.encode.bind(e),i=e,s=H9();return i.decode=(c,u)=>{const h=t(c,u);return s.decode(h)},i.encode=(c,u,h)=>{const d=s.encode(c);return r(d,u,h)},i}class mV{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=pe.u32("instruction").decode(e.data);let i;for(const[s,c]of Object.entries(Dn))if(c.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:i}=vn(Dn.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new xe(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=vn(Dn.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:i}=vn(Dn.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new xe(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=vn(Dn.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:i,programId:s}=vn(Dn.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new xe(t),seed:r,space:i,programId:new xe(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=vn(Dn.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new xe(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:i}=vn(Dn.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new xe(t),seed:r,programId:new xe(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:i,space:s,programId:c}=vn(Dn.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new xe(t),seed:r,lamports:i,space:s,programId:new xe(c)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=vn(Dn.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new xe(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),vn(Dn.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=vn(Dn.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=vn(Dn.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new xe(t)}}static checkProgramId(e){if(!e.equals(zn.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Dn=Object.freeze({Create:{index:0,layout:pe.struct([pe.u32("instruction"),pe.ns64("lamports"),pe.ns64("space"),Zt("programId")])},Assign:{index:1,layout:pe.struct([pe.u32("instruction"),Zt("programId")])},Transfer:{index:2,layout:pe.struct([pe.u32("instruction"),of("lamports")])},CreateWithSeed:{index:3,layout:pe.struct([pe.u32("instruction"),Zt("base"),Gl("seed"),pe.ns64("lamports"),pe.ns64("space"),Zt("programId")])},AdvanceNonceAccount:{index:4,layout:pe.struct([pe.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:pe.struct([pe.u32("instruction"),pe.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:pe.struct([pe.u32("instruction"),Zt("authorized")])},AuthorizeNonceAccount:{index:7,layout:pe.struct([pe.u32("instruction"),Zt("authorized")])},Allocate:{index:8,layout:pe.struct([pe.u32("instruction"),pe.ns64("space")])},AllocateWithSeed:{index:9,layout:pe.struct([pe.u32("instruction"),Zt("base"),Gl("seed"),pe.ns64("space"),Zt("programId")])},AssignWithSeed:{index:10,layout:pe.struct([pe.u32("instruction"),Zt("base"),Gl("seed"),Zt("programId")])},TransferWithSeed:{index:11,layout:pe.struct([pe.u32("instruction"),of("lamports"),Gl("seed"),Zt("programId")])},UpgradeNonceAccount:{index:12,layout:pe.struct([pe.u32("instruction")])}});class zn{constructor(){}static createAccount(e){const t=Dn.Create,r=un(t,{lamports:e.lamports,space:e.space,programId:Gt(e.programId.toBuffer())});return new Rn({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const i=Dn.TransferWithSeed;t=un(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Gt(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=Dn.Transfer;t=un(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Rn({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const i=Dn.AssignWithSeed;t=un(i,{base:Gt(e.basePubkey.toBuffer()),seed:e.seed,programId:Gt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Dn.Assign;t=un(i,{programId:Gt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Rn({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Dn.CreateWithSeed,r=un(t,{base:Gt(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Gt(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Rn({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Qt;"basePubkey"in e&&"seed"in e?t.add(zn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:P_,programId:this.programId})):t.add(zn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:P_,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Dn.InitializeNonceAccount,r=un(t,{authorized:Gt(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:dg,isSigner:!1,isWritable:!1},{pubkey:Aa,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Rn(i)}static nonceAdvance(e){const t=Dn.AdvanceNonceAccount,r=un(t),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:dg,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Rn(i)}static nonceWithdraw(e){const t=Dn.WithdrawNonceAccount,r=un(t,{lamports:e.lamports});return new Rn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:dg,isSigner:!1,isWritable:!1},{pubkey:Aa,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Dn.AuthorizeNonceAccount,r=un(t,{authorized:Gt(e.newAuthorizedPubkey.toBuffer())});return new Rn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const i=Dn.AllocateWithSeed;t=un(i,{base:Gt(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Gt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Dn.Allocate;t=un(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Rn({keys:r,programId:this.programId,data:t})}}zn.programId=new xe("11111111111111111111111111111111");const gV=Vc-300;class uu{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/uu.chunkSize)+1+1)}static async load(e,t,r,i,s){{const v=await e.getMinimumBalanceForRentExemption(s.length),x=await e.getAccountInfo(r.publicKey,"confirmed");let y=null;if(x!==null){if(x.executable)return console.error("Program load failed, account is already executable"),!1;x.data.length!==s.length&&(y=y||new Qt,y.add(zn.allocate({accountPubkey:r.publicKey,space:s.length}))),x.owner.equals(i)||(y=y||new Qt,y.add(zn.assign({accountPubkey:r.publicKey,programId:i}))),x.lamports<v&&(y=y||new Qt,y.add(zn.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:v-x.lamports})))}else y=new Qt().add(zn.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:v>0?v:1,space:s.length,programId:i}));y!==null&&await j_(e,y,[t,r],{commitment:"confirmed"})}const c=pe.struct([pe.u32("instruction"),pe.u32("offset"),pe.u32("bytesLength"),pe.u32("bytesLengthPadding"),pe.seq(pe.u8("byte"),pe.offset(pe.u32(),-8),"bytes")]),u=uu.chunkSize;let h=0,d=s,p=[];for(;d.length>0;){const v=d.slice(0,u),x=ft.alloc(u+16);c.encode({instruction:0,offset:h,bytes:v,bytesLength:0,bytesLengthPadding:0},x);const y=new Qt().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:x});p.push(j_(e,y,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Vl(1e3/4),h+=u,d=d.slice(u)}await Promise.all(p);{const v=pe.struct([pe.u32("instruction")]),x=ft.alloc(v.span);v.encode({instruction:1},x);const y=new Qt().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:Aa,isSigner:!1,isWritable:!1}],programId:i,data:x}),S="processed",k=await e.sendTransaction(y,[t,r],{preflightCommitment:S}),{context:I,value:M}=await e.confirmTransaction({signature:k,lastValidBlockHeight:y.lastValidBlockHeight,blockhash:y.recentBlockhash},S);if(M.err)throw new Error(`Transaction ${k} failed (${JSON.stringify(M)})`);for(;;){try{if(await e.getSlot({commitment:S})>I.slot)break}catch{}await new Promise(j=>setTimeout(j,Math.round(x6/2)))}}return!0}}uu.chunkSize=gV;const yV=new xe("BPFLoader2111111111111111111111111111111111");class wV{static getMinNumSignatures(e){return uu.getMinNumSignatures(e)}static load(e,t,r,i,s){return uu.load(e,t,r,s,i)}}function bV(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Pb,xN;function vV(){if(xN)return Pb;xN=1;var n=Object.prototype.toString,e=Object.keys||function(r){var i=[];for(var s in r)i.push(s);return i};function t(r,i){var s,c,u,h,d,p,v;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),i);if(v=n.call(r),v==="[object Array]"){for(u="[",c=r.length-1,s=0;s<c;s++)u+=t(r[s],!0)+",";return c>-1&&(u+=t(r[s],!0)),u+"]"}else if(v==="[object Object]"){for(h=e(r).sort(),c=h.length,u="",s=0;s<c;)d=h[s],p=t(r[d],!1),p!==void 0&&(u&&(u+=","),u+=JSON.stringify(d)+":"+p),s++;return"{"+u+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return Pb=function(r){var i=t(r,!1);if(i!==void 0)return""+i},Pb}var _V=vV(),EN=bV(_V);const Ed=32;function Ub(n){let e=0;for(;n>1;)n/=2,e++;return e}function xV(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class S6{constructor(e,t,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=Ub(xV(e+Ed+1))-Ub(Ed)-1,r=this.getSlotsInEpoch(t),i=e-(r-Ed);return[t,i]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=t%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*Ed:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Ub(Ed)):this.slotsPerEpoch}}var EV=globalThis.fetch;class AV extends S7{constructor(e,t,r){const i=s=>{const c=E7(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in c?this.underlyingSocket=c.socket:this.underlyingSocket=c,c};super(i,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function SV(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const AN=56;class U_{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=SV(RV,e),r=e.length-AN;yn(r>=0,"lookup table is invalid"),yn(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=pe.struct([pe.seq(Zt(),i,"addresses")]).decode(e.slice(AN));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new xe(t.authority[0]):void 0,addresses:s.map(c=>new xe(c))}}}const RV={index:1,layout:pe.struct([pe.u32("typeIndex"),of("deactivationSlot"),pe.nu64("lastExtendedSlot"),pe.u8("lastExtendedStartIndex"),pe.u8(),pe.seq(Zt(),pe.offset(pe.u8(),-1),"authority")])},TV=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function NV(n){const e=n.match(TV);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,i,s]=e,c=n.startsWith("https:")?"wss:":"ws:",u=i==null?null:parseInt(i.slice(1),10),h=u==null?"":`:${u+1}`;return`${c}//${r}${h}${s}`}const tr=Hp(RE(xe),Xe(),n=>new xe(n)),R6=TE([Xe(),Qn("base64")]),jE=Hp(RE(ft),R6,n=>ft.from(n[0],"base64")),T6=30*1e3;function IV(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Bn(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...i}=n;e=r,t=i}return{commitment:e,config:t}}function SN(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function N6(n){return xi([Ke({jsonrpc:Qn("2.0"),id:Xe(),result:n}),Ke({jsonrpc:Qn("2.0"),id:Xe(),error:Ke({code:yf(),message:Xe(),data:vt(Y9())})})])}const kV=N6(yf());function qt(n){return Hp(N6(n),kV,e=>"error"in e?e:{...e,result:Qe(e.result,n)})}function dr(n){return qt(Ke({context:Ke({slot:Ne()}),value:n}))}function Hy(n){return Ke({context:Ke({slot:Ne()}),value:n})}function Vb(n,e){return n===0?new lu({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new xe(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:ei.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Us(e)}const CV=Ke({foundation:Ne(),foundationTerm:Ne(),initial:Ne(),taper:Ne(),terminal:Ne()}),OV=qt(tt(nt(Ke({epoch:Ne(),effectiveSlot:Ne(),amount:Ne(),postBalance:Ne(),commission:vt(nt(Ne()))})))),MV=tt(Ke({slot:Ne(),prioritizationFee:Ne()})),BV=Ke({total:Ne(),validator:Ne(),foundation:Ne(),epoch:Ne()}),LV=Ke({epoch:Ne(),slotIndex:Ne(),slotsInEpoch:Ne(),absoluteSlot:Ne(),blockHeight:vt(Ne()),transactionCount:vt(Ne())}),DV=Ke({slotsPerEpoch:Ne(),leaderScheduleSlotOffset:Ne(),warmup:ko(),firstNormalEpoch:Ne(),firstNormalSlot:Ne()}),jV=r6(Xe(),tt(Ne())),bu=nt(xi([Ke({}),Xe()])),PV=Ke({err:bu}),UV=Qn("receivedSignature"),VV=Ke({"solana-core":Xe(),"feature-set":vt(Ne())}),zV=Ke({program:Xe(),programId:tr,parsed:yf()}),FV=Ke({programId:tr,accounts:tt(tr),data:Xe()}),RN=dr(Ke({err:nt(xi([Ke({}),Xe()])),logs:nt(tt(Xe())),accounts:vt(nt(tt(nt(Ke({executable:ko(),owner:Xe(),lamports:Ne(),data:tt(Xe()),rentEpoch:vt(Ne())}))))),unitsConsumed:vt(Ne()),returnData:vt(nt(Ke({programId:Xe(),data:TE([Xe(),Qn("base64")])}))),innerInstructions:vt(nt(tt(Ke({index:Ne(),instructions:tt(xi([zV,FV]))}))))})),HV=dr(Ke({byIdentity:r6(Xe(),tt(Ne())),range:Ke({firstSlot:Ne(),lastSlot:Ne()})}));function qV(n,e,t,r,i,s){const c=t||EV;let u;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let h;return r&&(h=async(p,v)=>{const x=await new Promise((y,S)=>{try{r(p,v,(k,I)=>y([k,I]))}catch(k){S(k)}});return await c(...x)}),new b7(async(p,v)=>{const x={method:"POST",body:p,agent:u,headers:Object.assign({"Content-Type":"application/json"},e||{},qz)};try{let y=5,S,k=500;for(;h?S=await h(n,x):S=await c(n,x),!(S.status!==429||i===!0||(y-=1,y===0));)console.error(`Server responded with ${S.status} ${S.statusText}.  Retrying after ${k}ms delay...`),await Vl(k),k*=2;const I=await S.text();S.ok?v(null,I):v(new Error(`${S.status} ${S.statusText}: ${I}`))}catch(y){y instanceof Error&&v(y)}},{})}function GV(n){return(e,t)=>new Promise((r,i)=>{n.request(e,t,(s,c)=>{if(s){i(s);return}r(c)})})}function $V(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const i=e.map(s=>n.request(s.methodName,s.args));n.request(i,(s,c)=>{if(s){r(s);return}t(c)})})}const KV=qt(CV),WV=qt(BV),YV=qt(MV),XV=qt(LV),ZV=qt(DV),QV=qt(jV),JV=qt(Ne()),ez=dr(Ke({total:Ne(),circulating:Ne(),nonCirculating:Ne(),nonCirculatingAccounts:tt(tr)})),V_=Ke({amount:Xe(),uiAmount:nt(Ne()),decimals:Ne(),uiAmountString:vt(Xe())}),tz=dr(tt(Ke({address:tr,amount:Xe(),uiAmount:nt(Ne()),decimals:Ne(),uiAmountString:vt(Xe())}))),nz=dr(tt(Ke({pubkey:tr,account:Ke({executable:ko(),owner:tr,lamports:Ne(),data:jE,rentEpoch:Ne()})}))),z_=Ke({program:Xe(),parsed:yf(),space:Ne()}),rz=dr(tt(Ke({pubkey:tr,account:Ke({executable:ko(),owner:tr,lamports:Ne(),data:z_,rentEpoch:Ne()})}))),iz=dr(tt(Ke({lamports:Ne(),address:tr}))),gp=Ke({executable:ko(),owner:tr,lamports:Ne(),data:jE,rentEpoch:Ne()}),sz=Ke({pubkey:tr,account:gp}),oz=Hp(xi([RE(ft),z_]),xi([R6,z_]),n=>Array.isArray(n)?Qe(n,jE):n),F_=Ke({executable:ko(),owner:tr,lamports:Ne(),data:oz,rentEpoch:Ne()}),az=Ke({pubkey:tr,account:F_}),cz=Ke({state:xi([Qn("active"),Qn("inactive"),Qn("activating"),Qn("deactivating")]),active:Ne(),inactive:Ne()}),lz=qt(tt(Ke({signature:Xe(),slot:Ne(),err:bu,memo:nt(Xe()),blockTime:vt(nt(Ne()))}))),uz=qt(tt(Ke({signature:Xe(),slot:Ne(),err:bu,memo:nt(Xe()),blockTime:vt(nt(Ne()))}))),hz=Ke({subscription:Ne(),result:Hy(gp)}),fz=Ke({pubkey:tr,account:gp}),dz=Ke({subscription:Ne(),result:Hy(fz)}),pz=Ke({parent:Ne(),slot:Ne(),root:Ne()}),mz=Ke({subscription:Ne(),result:pz}),gz=xi([Ke({type:xi([Qn("firstShredReceived"),Qn("completed"),Qn("optimisticConfirmation"),Qn("root")]),slot:Ne(),timestamp:Ne()}),Ke({type:Qn("createdBank"),parent:Ne(),slot:Ne(),timestamp:Ne()}),Ke({type:Qn("frozen"),slot:Ne(),timestamp:Ne(),stats:Ke({numTransactionEntries:Ne(),numSuccessfulTransactions:Ne(),numFailedTransactions:Ne(),maxTransactionsPerEntry:Ne()})}),Ke({type:Qn("dead"),slot:Ne(),timestamp:Ne(),err:Xe()})]),yz=Ke({subscription:Ne(),result:gz}),wz=Ke({subscription:Ne(),result:Hy(xi([PV,UV]))}),bz=Ke({subscription:Ne(),result:Ne()}),vz=Ke({pubkey:Xe(),gossip:nt(Xe()),tpu:nt(Xe()),rpc:nt(Xe()),version:nt(Xe())}),TN=Ke({votePubkey:Xe(),nodePubkey:Xe(),activatedStake:Ne(),epochVoteAccount:ko(),epochCredits:tt(TE([Ne(),Ne(),Ne()])),commission:Ne(),lastVote:Ne(),rootSlot:nt(Ne())}),_z=qt(Ke({current:tt(TN),delinquent:tt(TN)})),xz=xi([Qn("processed"),Qn("confirmed"),Qn("finalized")]),Ez=Ke({slot:Ne(),confirmations:nt(Ne()),err:bu,confirmationStatus:vt(xz)}),Az=dr(tt(nt(Ez))),Sz=qt(Ne()),I6=Ke({accountKey:tr,writableIndexes:tt(Ne()),readonlyIndexes:tt(Ne())}),PE=Ke({signatures:tt(Xe()),message:Ke({accountKeys:tt(Xe()),header:Ke({numRequiredSignatures:Ne(),numReadonlySignedAccounts:Ne(),numReadonlyUnsignedAccounts:Ne()}),instructions:tt(Ke({accounts:tt(Ne()),data:Xe(),programIdIndex:Ne()})),recentBlockhash:Xe(),addressTableLookups:vt(tt(I6))})}),k6=Ke({pubkey:tr,signer:ko(),writable:ko(),source:vt(xi([Qn("transaction"),Qn("lookupTable")]))}),C6=Ke({accountKeys:tt(k6),signatures:tt(Xe())}),O6=Ke({parsed:yf(),program:Xe(),programId:tr}),M6=Ke({accounts:tt(tr),data:Xe(),programId:tr}),Rz=xi([M6,O6]),Tz=xi([Ke({parsed:yf(),program:Xe(),programId:Xe()}),Ke({accounts:tt(Xe()),data:Xe(),programId:Xe()})]),B6=Hp(Rz,Tz,n=>"accounts"in n?Qe(n,M6):Qe(n,O6)),L6=Ke({signatures:tt(Xe()),message:Ke({accountKeys:tt(k6),instructions:tt(B6),recentBlockhash:Xe(),addressTableLookups:vt(nt(tt(I6)))})}),ty=Ke({accountIndex:Ne(),mint:Xe(),owner:vt(Xe()),programId:vt(Xe()),uiTokenAmount:V_}),D6=Ke({writable:tt(tr),readonly:tt(tr)}),qy=Ke({err:bu,fee:Ne(),innerInstructions:vt(nt(tt(Ke({index:Ne(),instructions:tt(Ke({accounts:tt(Ne()),data:Xe(),programIdIndex:Ne()}))})))),preBalances:tt(Ne()),postBalances:tt(Ne()),logMessages:vt(nt(tt(Xe()))),preTokenBalances:vt(nt(tt(ty))),postTokenBalances:vt(nt(tt(ty))),loadedAddresses:vt(D6),computeUnitsConsumed:vt(Ne()),costUnits:vt(Ne())}),UE=Ke({err:bu,fee:Ne(),innerInstructions:vt(nt(tt(Ke({index:Ne(),instructions:tt(B6)})))),preBalances:tt(Ne()),postBalances:tt(Ne()),logMessages:vt(nt(tt(Xe()))),preTokenBalances:vt(nt(tt(ty))),postTokenBalances:vt(nt(tt(ty))),loadedAddresses:vt(D6),computeUnitsConsumed:vt(Ne()),costUnits:vt(Ne())}),wf=xi([Qn(0),Qn("legacy")]),vu=Ke({pubkey:Xe(),lamports:Ne(),postBalance:nt(Ne()),rewardType:nt(Xe()),commission:vt(nt(Ne()))}),Nz=qt(nt(Ke({blockhash:Xe(),previousBlockhash:Xe(),parentSlot:Ne(),transactions:tt(Ke({transaction:PE,meta:nt(qy),version:vt(wf)})),rewards:vt(tt(vu)),blockTime:nt(Ne()),blockHeight:nt(Ne())}))),Iz=qt(nt(Ke({blockhash:Xe(),previousBlockhash:Xe(),parentSlot:Ne(),rewards:vt(tt(vu)),blockTime:nt(Ne()),blockHeight:nt(Ne())}))),kz=qt(nt(Ke({blockhash:Xe(),previousBlockhash:Xe(),parentSlot:Ne(),transactions:tt(Ke({transaction:C6,meta:nt(qy),version:vt(wf)})),rewards:vt(tt(vu)),blockTime:nt(Ne()),blockHeight:nt(Ne())}))),Cz=qt(nt(Ke({blockhash:Xe(),previousBlockhash:Xe(),parentSlot:Ne(),transactions:tt(Ke({transaction:L6,meta:nt(UE),version:vt(wf)})),rewards:vt(tt(vu)),blockTime:nt(Ne()),blockHeight:nt(Ne())}))),Oz=qt(nt(Ke({blockhash:Xe(),previousBlockhash:Xe(),parentSlot:Ne(),transactions:tt(Ke({transaction:C6,meta:nt(UE),version:vt(wf)})),rewards:vt(tt(vu)),blockTime:nt(Ne()),blockHeight:nt(Ne())}))),Mz=qt(nt(Ke({blockhash:Xe(),previousBlockhash:Xe(),parentSlot:Ne(),rewards:vt(tt(vu)),blockTime:nt(Ne()),blockHeight:nt(Ne())}))),Bz=qt(nt(Ke({blockhash:Xe(),previousBlockhash:Xe(),parentSlot:Ne(),transactions:tt(Ke({transaction:PE,meta:nt(qy)})),rewards:vt(tt(vu)),blockTime:nt(Ne())}))),NN=qt(nt(Ke({blockhash:Xe(),previousBlockhash:Xe(),parentSlot:Ne(),signatures:tt(Xe()),blockTime:nt(Ne())}))),zb=qt(nt(Ke({slot:Ne(),meta:nt(qy),blockTime:vt(nt(Ne())),transaction:PE,version:vt(wf)}))),C0=qt(nt(Ke({slot:Ne(),transaction:L6,meta:nt(UE),blockTime:vt(nt(Ne())),version:vt(wf)}))),Lz=dr(Ke({blockhash:Xe(),lastValidBlockHeight:Ne()})),Dz=dr(ko()),jz=Ke({slot:Ne(),numTransactions:Ne(),numSlots:Ne(),samplePeriodSecs:Ne()}),Pz=qt(tt(jz)),Uz=dr(nt(Ke({feeCalculator:Ke({lamportsPerSignature:Ne()})}))),Vz=qt(Xe()),zz=qt(Xe()),Fz=Ke({err:bu,logs:tt(Xe()),signature:Xe()}),Hz=Ke({result:Hy(Fz),subscription:Ne()}),qz={"solana-client":"js/1.0.0-maintenance"};class Gy{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const d={};return async p=>{const{commitment:v,config:x}=Bn(p),y=this._buildArgs([],v,void 0,x),S=EN(y);return d[S]=d[S]??(async()=>{try{const k=await this._rpcRequest("getBlockHeight",y),I=Qe(k,qt(Ne()));if("error"in I)throw new dt(I.error,"failed to get block height information");return I.result}finally{delete d[S]}})(),await d[S]}})();let r,i,s,c,u,h;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,i=t.httpHeaders,s=t.fetch,c=t.fetchMiddleware,u=t.disableRetryOnRateLimit,h=t.httpAgent),this._rpcEndpoint=IV(e),this._rpcWsEndpoint=r||NV(e),this._rpcClient=qV(e,i,s,c,u,h),this._rpcRequest=GV(this._rpcClient),this._rpcBatchRequest=$V(this._rpcClient),this._rpcWebSocket=new AV(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:i}=Bn(t),s=this._buildArgs([e.toBase58()],r,void 0,i),c=await this._rpcRequest("getBalance",s),u=Qe(c,dr(Ne()));if("error"in u)throw new dt(u.error,`failed to get balance for ${e.toBase58()}`);return u.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=Qe(t,qt(nt(Ne())));if("error"in r)throw new dt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=Qe(e,qt(Ne()));if("error"in t)throw new dt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=Qe(e,JV);if("error"in t)throw new dt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),i=Qe(r,ez);if("error"in i)throw new dt(i.error,"failed to get supply");return i.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenSupply",r),s=Qe(i,dr(V_));if("error"in s)throw new dt(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenAccountBalance",r),s=Qe(i,dr(V_));if("error"in s)throw new dt(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,t,r){const{commitment:i,config:s}=Bn(r);let c=[e.toBase58()];"mint"in t?c.push({mint:t.mint.toBase58()}):c.push({programId:t.programId.toBase58()});const u=this._buildArgs(c,i,"base64",s),h=await this._rpcRequest("getTokenAccountsByOwner",u),d=Qe(h,nz);if("error"in d)throw new dt(d.error,`failed to get token accounts owned by account ${e.toBase58()}`);return d.result}async getParsedTokenAccountsByOwner(e,t,r){let i=[e.toBase58()];"mint"in t?i.push({mint:t.mint.toBase58()}):i.push({programId:t.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),c=await this._rpcRequest("getTokenAccountsByOwner",s),u=Qe(c,rz);if("error"in u)throw new dt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],i=await this._rpcRequest("getLargestAccounts",r),s=Qe(i,iz);if("error"in s)throw new dt(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenLargestAccounts",r),s=Qe(i,tz);if("error"in s)throw new dt(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:i}=Bn(t),s=this._buildArgs([e.toBase58()],r,"base64",i),c=await this._rpcRequest("getAccountInfo",s),u=Qe(c,dr(nt(gp)));if("error"in u)throw new dt(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getParsedAccountInfo(e,t){const{commitment:r,config:i}=Bn(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),c=await this._rpcRequest("getAccountInfo",s),u=Qe(c,dr(nt(F_)));if("error"in u)throw new dt(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:i}=Bn(t),s=e.map(d=>d.toBase58()),c=this._buildArgs([s],r,"jsonParsed",i),u=await this._rpcRequest("getMultipleAccounts",c),h=Qe(u,dr(tt(nt(F_))));if("error"in h)throw new dt(h.error,`failed to get info for accounts ${s}`);return h.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:i}=Bn(t),s=e.map(d=>d.toBase58()),c=this._buildArgs([s],r,"base64",i),u=await this._rpcRequest("getMultipleAccounts",c),h=Qe(u,dr(tt(nt(gp))));if("error"in h)throw new dt(h.error,`failed to get info for accounts ${s}`);return h.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:i,config:s}=Bn(t),c=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),u=await this._rpcRequest("getStakeActivation",c),h=Qe(u,qt(cz));if("error"in h)throw new dt(h.error,`failed to get Stake Activation ${e.toBase58()}`);return h.result}async getProgramAccounts(e,t){const{commitment:r,config:i}=Bn(t),{encoding:s,...c}=i||{},u=this._buildArgs([e.toBase58()],r,s||"base64",{...c,...c.filters?{filters:SN(c.filters)}:null}),h=await this._rpcRequest("getProgramAccounts",u),d=tt(sz),p=c.withContext===!0?Qe(h,dr(d)):Qe(h,qt(d));if("error"in p)throw new dt(p.error,`failed to get accounts owned by program ${e.toBase58()}`);return p.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:i}=Bn(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),c=await this._rpcRequest("getProgramAccounts",s),u=Qe(c,qt(tt(az)));if("error"in u)throw new dt(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async confirmTransaction(e,t){var s;let r;if(typeof e=="string")r=e;else{const c=e;if((s=c.abortSignal)!=null&&s.aborted)return Promise.reject(c.abortSignal.reason);r=c.signature}let i;try{i=ei.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return yn(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,i,s=!1;const c=new Promise((h,d)=>{try{r=this.onSignature(t,(v,x)=>{r=void 0;const y={context:x,value:v};h({__type:ha.PROCESSED,response:y})},e);const p=new Promise(v=>{r==null?v():i=this._onSubscriptionStateChange(r,x=>{x==="subscribed"&&v()})});(async()=>{if(await p,s)return;const v=await this.getSignatureStatus(t);if(s||v==null)return;const{context:x,value:y}=v;if(y!=null)if(y!=null&&y.err)d(y.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(y.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(y.confirmationStatus==="processed"||y.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,h({__type:ha.PROCESSED,response:{context:x,value:y}})}})()}catch(p){d(p)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:c}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:i}}){let s=!1;const c=new Promise(v=>{const x=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let y=await x();if(!s){for(;y<=r;)if(await Vl(1e3),s||(y=await x(),s))return;v({__type:ha.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:u,confirmationPromise:h}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),d=this.getCancellationPromise(t);let p;try{const v=await Promise.race([d,h,c]);if(v.__type===ha.PROCESSED)p=v.response;else throw new BE(i)}finally{s=!0,u()}return p}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:c}}){let u=!1;const h=new Promise(y=>{let S=s,k=null;const I=async()=>{try{const{context:M,value:j}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return k=M.slot,j==null?void 0:j.nonce}catch{return S}};(async()=>{if(S=await I(),!u)for(;;){if(s!==S){y({__type:ha.NONCE_INVALID,slotInWhichNonceDidAdvance:k});return}if(await Vl(2e3),u||(S=await I(),u))return}})()}),{abortConfirmation:d,confirmationPromise:p}=this.getTransactionConfirmationPromise({commitment:e,signature:c}),v=this.getCancellationPromise(t);let x;try{const y=await Promise.race([v,p,h]);if(y.__type===ha.PROCESSED)x=y.response;else{let S;for(;;){const k=await this.getSignatureStatus(c);if(k==null)break;if(k.context.slot<(y.slotInWhichNonceDidAdvance??r)){await Vl(400);continue}S=k;break}if(S!=null&&S.value){const k=e||"finalized",{confirmationStatus:I}=S.value;switch(k){case"processed":case"recent":if(I!=="processed"&&I!=="confirmed"&&I!=="finalized")throw new Ph(c);break;case"confirmed":case"single":case"singleGossip":if(I!=="confirmed"&&I!=="finalized")throw new Ph(c);break;case"finalized":case"max":case"root":if(I!=="finalized")throw new Ph(c);break;default:}x={context:S.context,value:{err:S.value.err}}}else throw new Ph(c)}}finally{u=!0,d()}return x}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const i=new Promise(h=>{let d=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{d=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>h({__type:ha.TIMED_OUT,timeoutMs:d}),d)}),{abortConfirmation:s,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let u;try{const h=await Promise.race([c,i]);if(h.__type===ha.PROCESSED)u=h.response;else throw new LE(t,h.timeoutMs/1e3)}finally{clearTimeout(r),s()}return u}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=Qe(e,qt(tt(vz)));if("error"in t)throw new dt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),i=Qe(r,_z);if("error"in i)throw new dt(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:t,config:r}=Bn(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlot",i),c=Qe(s,qt(Ne()));if("error"in c)throw new dt(c.error,"failed to get slot");return c.result}async getSlotLeader(e){const{commitment:t,config:r}=Bn(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlotLeader",i),c=Qe(s,qt(Xe()));if("error"in c)throw new dt(c.error,"failed to get slot leader");return c.result}async getSlotLeaders(e,t){const r=[e,t],i=await this._rpcRequest("getSlotLeaders",r),s=Qe(i,qt(tt(tr)));if("error"in s)throw new dt(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,t){const{context:r,value:i}=await this.getSignatureStatuses([e],t);yn(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const i=await this._rpcRequest("getSignatureStatuses",r),s=Qe(i,Az);if("error"in s)throw new dt(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:t,config:r}=Bn(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getTransactionCount",i),c=Qe(s,qt(Ne()));if("error"in c)throw new dt(c.error,"failed to get transaction count");return c.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),i=Qe(r,KV);if("error"in i)throw new dt(i.error,"failed to get inflation");return i.result}async getInflationReward(e,t,r){const{commitment:i,config:s}=Bn(r),c=this._buildArgs([e.map(d=>d.toBase58())],i,void 0,{...s,epoch:t??(s==null?void 0:s.epoch)}),u=await this._rpcRequest("getInflationReward",c),h=Qe(u,OV);if("error"in h)throw new dt(h.error,"failed to get inflation reward");return h.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=Qe(e,WV);if("error"in t)throw new dt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Bn(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getEpochInfo",i),c=Qe(s,XV);if("error"in c)throw new dt(c.error,"failed to get epoch info");return c.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=Qe(e,ZV);if("error"in t)throw new dt(t.error,"failed to get epoch schedule");const r=t.result;return new S6(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=Qe(e,QV);if("error"in t)throw new dt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=Qe(i,Sz);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const{context:t,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:t,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=Qe(t,Pz);if("error"in r)throw new dt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=Qe(i,Uz);if("error"in s)throw new dt(s.error,"failed to get fee calculator");const{context:c,value:u}=s.result;return{context:c,value:u!==null?u.feeCalculator:null}}async getFeeForMessage(e,t){const r=Gt(e.serialize()).toString("base64"),i=this._buildArgs([r],t),s=await this._rpcRequest("getFeeForMessage",i),c=Qe(s,dr(nt(Ne())));if("error"in c)throw new dt(c.error,"failed to get fee for message");if(c.result===null)throw new Error("invalid blockhash");return c.result}async getRecentPrioritizationFees(e){var c;const t=(c=e==null?void 0:e.lockedWritableAccounts)==null?void 0:c.map(u=>u.toBase58()),r=t!=null&&t.length?[t]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),s=Qe(i,YV);if("error"in s)throw new dt(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Bn(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),c=Qe(s,Lz);if("error"in c)throw new dt(c.error,"failed to get latest blockhash");return c.result}async isBlockhashValid(e,t){const{commitment:r,config:i}=Bn(t),s=this._buildArgs([e],r,void 0,i),c=await this._rpcRequest("isBlockhashValid",s),u=Qe(c,Dz);if("error"in u)throw new dt(u.error,"failed to determine if the blockhash `"+e+"`is valid");return u.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=Qe(e,qt(VV));if("error"in t)throw new dt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=Qe(e,qt(Xe()));if("error"in t)throw new dt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:i}=Bn(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),c=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const u=Qe(c,kz);if("error"in u)throw u.error;return u.result}case"none":{const u=Qe(c,Iz);if("error"in u)throw u.error;return u.result}default:{const u=Qe(c,Nz);if("error"in u)throw u.error;const{result:h}=u;return h?{...h,transactions:h.transactions.map(({transaction:d,meta:p,version:v})=>({meta:p,transaction:{...d,message:Vb(v,d.message)},version:v}))}:null}}}catch(u){throw new dt(u,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:i}=Bn(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),c=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const u=Qe(c,Oz);if("error"in u)throw u.error;return u.result}case"none":{const u=Qe(c,Mz);if("error"in u)throw u.error;return u.result}default:{const u=Qe(c,Cz);if("error"in u)throw u.error;return u.result}}}catch(u){throw new dt(u,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:u,...h}=e;r=u,t=h}const i=this._buildArgs([],r,"base64",t),s=await this._rpcRequest("getBlockProduction",i),c=Qe(s,HV);if("error"in c)throw new dt(c.error,"failed to get block production information");return c.result}async getTransaction(e,t){const{commitment:r,config:i}=Bn(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),c=await this._rpcRequest("getTransaction",s),u=Qe(c,zb);if("error"in u)throw new dt(u.error,"failed to get transaction");const h=u.result;return h&&{...h,transaction:{...h.transaction,message:Vb(h.version,h.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:i}=Bn(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),c=await this._rpcRequest("getTransaction",s),u=Qe(c,C0);if("error"in u)throw new dt(u.error,"failed to get transaction");return u.result}async getParsedTransactions(e,t){const{commitment:r,config:i}=Bn(t),s=e.map(h=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([h],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(h=>{const d=Qe(h,C0);if("error"in d)throw new dt(d.error,"failed to get transactions");return d.result})}async getTransactions(e,t){const{commitment:r,config:i}=Bn(t),s=e.map(h=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([h],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(h=>{const d=Qe(h,zb);if("error"in d)throw new dt(d.error,"failed to get transactions");const p=d.result;return p&&{...p,transaction:{...p.transaction,message:Vb(p.version,p.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getBlock",r),s=Qe(i,Bz);if("error"in s)throw new dt(s.error,"failed to get confirmed block");const c=s.result;if(!c)throw new Error("Confirmed block "+e+" not found");const u={...c,transactions:c.transactions.map(({transaction:h,meta:d})=>{const p=new Us(h.message);return{meta:d,transaction:{...h,message:p}}})};return{...u,transactions:u.transactions.map(({transaction:h,meta:d})=>({meta:d,transaction:Qt.populate(h.message,h.signatures)}))}}async getBlocks(e,t,r){const i=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),s=await this._rpcRequest("getBlocks",i),c=Qe(s,qt(tt(Ne())));if("error"in c)throw new dt(c.error,"failed to get blocks");return c.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=Qe(i,NN);if("error"in s)throw new dt(s.error,"failed to get block");const c=s.result;if(!c)throw new Error("Block "+e+" not found");return c}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=Qe(i,NN);if("error"in s)throw new dt(s.error,"failed to get confirmed block");const c=s.result;if(!c)throw new Error("Confirmed block "+e+" not found");return c}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getTransaction",r),s=Qe(i,zb);if("error"in s)throw new dt(s.error,"failed to get transaction");const c=s.result;if(!c)return c;const u=new Us(c.transaction.message),h=c.transaction.signatures;return{...c,transaction:Qt.populate(u,h)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),s=Qe(i,C0);if("error"in s)throw new dt(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,t){const r=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],t,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(c=>{const u=Qe(c,C0);if("error"in u)throw new dt(u.error,"failed to get confirmed transactions");return u.result})}async getConfirmedSignaturesForAddress(e,t,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(t--,!(t<=0||t<s));)try{const h=await this.getConfirmedBlockSignatures(t,"finalized");h.signatures.length>0&&(i.until=h.signatures[h.signatures.length-1].toString())}catch(h){if(h instanceof Error&&h.message.includes("skipped"))continue;throw h}let c=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>c));)try{const h=await this.getConfirmedBlockSignatures(r);h.signatures.length>0&&(i.before=h.signatures[h.signatures.length-1].toString())}catch(h){if(h instanceof Error&&h.message.includes("skipped"))continue;throw h}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(h=>h.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),c=Qe(s,lz);if("error"in c)throw new dt(c.error,"failed to get confirmed signatures for address");return c.result}async getSignaturesForAddress(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getSignaturesForAddress",i),c=Qe(s,uz);if("error"in c)throw new dt(c.error,"failed to get signatures for address");return c.result}async getAddressLookupTable(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=new U_({key:e,state:U_.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=Fy.fromAccountData(i.data)),{context:r,value:s}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),i=Qe(r,Vz);if("error"in i)throw new dt(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Vl(100);const r=Date.now()-this._blockhashInfo.lastFetch>=T6;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await Vl(x6/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Bn(e),i=this._buildArgs([],t,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),c=Qe(s,dr(Ne()));if("error"in c)throw new dt(c.error,"failed to get stake minimum delegation");return c.result}async simulateTransaction(e,t,r){if("message"in e){const k=e.serialize(),I=ft.from(k).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const M=t||{};M.encoding="base64","commitment"in M||(M.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(M.innerInstructions=t.innerInstructions);const j=[I,M],O=await this._rpcRequest("simulateTransaction",j),Q=Qe(O,RN);if("error"in Q)throw new Error("failed to simulate transaction: "+Q.error.message);return Q.result}let i;if(e instanceof Qt){let S=e;i=new Qt,i.feePayer=S.feePayer,i.instructions=e.instructions,i.nonceInfo=S.nonceInfo,i.signatures=S.signatures}else i=Qt.populate(e),i._message=i._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(i.nonceInfo&&s)i.sign(...s);else{let S=this._disableBlockhashCaching;for(;;){const k=await this._blockhashWithExpiryBlockHeight(S);if(i.lastValidBlockHeight=k.lastValidBlockHeight,i.recentBlockhash=k.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const I=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(I)&&!this._blockhashInfo.transactionSignatures.includes(I)){this._blockhashInfo.simulatedSignatures.push(I);break}else S=!0}}const c=i._compile(),u=c.serialize(),d=i._serialize(u).toString("base64"),p={encoding:"base64",commitment:this.commitment};if(r){const S=(Array.isArray(r)?r:c.nonProgramIds()).map(k=>k.toBase58());p.accounts={encoding:"base64",addresses:S}}s&&(p.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(p.innerInstructions=t.innerInstructions);const v=[d,p],x=await this._rpcRequest("simulateTransaction",v),y=Qe(x,RN);if("error"in y){let S;if("data"in y.error&&(S=y.error.data.logs,S&&Array.isArray(S))){const k=`
    `,I=k+S.join(k);console.error(y.error.message,I)}throw new Yc({action:"simulate",signature:"",transactionMessage:y.error.message,logs:S})}return y.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const c=e.serialize();return await this.sendRawTransaction(c,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(e.nonceInfo)e.sign(...i);else{let c=this._disableBlockhashCaching;for(;;){const u=await this._blockhashWithExpiryBlockHeight(c);if(e.lastValidBlockHeight=u.lastValidBlockHeight,e.recentBlockhash=u.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const h=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(h))c=!0;else{this._blockhashInfo.transactionSignatures.push(h);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,t){const r=Gt(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},i=t&&t.skipPreflight,s=i===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const c=[e,r],u=await this._rpcRequest("sendTransaction",c),h=Qe(u,zz);if("error"in h){let d;throw"data"in h.error&&(d=h.error.data.logs),new Yc({action:i?"send":"simulate",signature:"",transactionMessage:h.error.message,logs:d})}return h.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(c=>{try{c(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){var s;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[r]||(s[r]=new Set);return i.add(t),()=>{i.delete(t),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:c}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const u=await this._rpcWebSocket.call(c,s);this._setSubscription(r,{...i,serverSubscriptionId:u,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[u]=i.callbacks,await this._updateSubscriptions()}catch(u){if(console.error(`Received ${u instanceof Error?"":"JSON-RPC "}error calling \`${c}\``,{args:s,error:u}),!t())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:c}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(c,[s])}catch(u){if(u instanceof Error&&console.error(`${c} error:`,u.message),!t())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...t)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=Qe(e,hz);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,i=EN([e.method,t]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const c=this._subscriptionsByHash[i];yn(c!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),c.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:i,config:s}=Bn(r),c=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},c)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=Qe(e,dz);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,i){const{commitment:s,config:c}=Bn(r),u=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",c||(i?{filters:SN(i)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},u)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=Qe(e,Hz);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=Qe(e,mz);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=Qe(e,yz);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,i){const s=t||this._commitment;if(s||r||i){let c={};r&&(c.encoding=r),s&&(c.commitment=s),i&&(c=Object.assign(c,i)),e.push(c)}return e}_buildArgsAtLeastConfirmed(e,t,r,i){const s=t||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,i)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=Qe(e,wz);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(c,u)=>{if(c.type==="status"){t(c.result,u);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,t,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},c=this._buildArgs([e],i,void 0,s),u=this._makeSubscription({callback:(h,d)=>{t(h,d);try{this.removeSignatureListener(u)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},c);return u}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=Qe(e,bz);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Kh{constructor(e){this._keypair=void 0,this._keypair=e??bN()}static generate(){return new Kh(bN())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const i=e.slice(0,32),s=ey(i);for(let c=0;c<32;c++)if(r[c]!==s[c])throw new Error("provided secretKey is invalid")}return new Kh({publicKey:r,secretKey:e})}static fromSeed(e){const t=ey(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Kh({publicKey:t,secretKey:r})}get publicKey(){return new xe(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const ya=Object.freeze({CreateLookupTable:{index:0,layout:pe.struct([pe.u32("instruction"),of("recentSlot"),pe.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:pe.struct([pe.u32("instruction")])},ExtendLookupTable:{index:2,layout:pe.struct([pe.u32("instruction"),of(),pe.seq(Zt(),pe.offset(pe.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:pe.struct([pe.u32("instruction")])},CloseLookupTable:{index:4,layout:pe.struct([pe.u32("instruction")])}});class Gz{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=pe.u32("instruction").decode(e.data);let i;for(const[s,c]of Object.entries(ya))if(c.index==r){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=vn(ya.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=vn(ya.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new xe(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(VE.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class VE{constructor(){}static createLookupTable(e){const[t,r]=xe.findProgramAddressSync([e.authority.toBuffer(),e6().encode(e.recentSlot)],this.programId),i=ya.CreateLookupTable,s=un(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:zn.programId,isSigner:!1,isWritable:!1}];return[new Rn({programId:this.programId,keys:c,data:s}),t]}static freezeLookupTable(e){const t=ya.FreezeLookupTable,r=un(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Rn({programId:this.programId,keys:i,data:r})}static extendLookupTable(e){const t=ya.ExtendLookupTable,r=un(t,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:zn.programId,isSigner:!1,isWritable:!1}),new Rn({programId:this.programId,keys:i,data:r})}static deactivateLookupTable(e){const t=ya.DeactivateLookupTable,r=un(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Rn({programId:this.programId,keys:i,data:r})}static closeLookupTable(e){const t=ya.CloseLookupTable,r=un(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Rn({programId:this.programId,keys:i,data:r})}}VE.programId=new xe("AddressLookupTab1e1111111111111111111111111");class $z{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=pe.u8("instruction").decode(e.data);let i;for(const[s,c]of Object.entries(bo))if(c.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=vn(bo.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=vn(bo.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=vn(bo.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=vn(bo.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(zE.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const bo=Object.freeze({RequestUnits:{index:0,layout:pe.struct([pe.u8("instruction"),pe.u32("units"),pe.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:pe.struct([pe.u8("instruction"),pe.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:pe.struct([pe.u8("instruction"),pe.u32("units")])},SetComputeUnitPrice:{index:3,layout:pe.struct([pe.u8("instruction"),of("microLamports")])}});class zE{constructor(){}static requestUnits(e){const t=bo.RequestUnits,r=un(t,e);return new Rn({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=bo.RequestHeapFrame,r=un(t,e);return new Rn({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=bo.SetComputeUnitLimit,r=un(t,e);return new Rn({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=bo.SetComputeUnitPrice,r=un(t,{microLamports:BigInt(e.microLamports)});return new Rn({keys:[],programId:this.programId,data:r})}}zE.programId=new xe("ComputeBudget111111111111111111111111111111");const IN=64,kN=32,CN=64,ON=pe.struct([pe.u8("numSignatures"),pe.u8("padding"),pe.u16("signatureOffset"),pe.u16("signatureInstructionIndex"),pe.u16("publicKeyOffset"),pe.u16("publicKeyInstructionIndex"),pe.u16("messageDataOffset"),pe.u16("messageDataSize"),pe.u16("messageInstructionIndex")]);class $y{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,instructionIndex:s}=e;yn(t.length===kN,`Public Key must be ${kN} bytes but received ${t.length} bytes`),yn(i.length===CN,`Signature must be ${CN} bytes but received ${i.length} bytes`);const c=ON.span,u=c+t.length,h=u+i.length,d=1,p=ft.alloc(h+r.length),v=s??65535;return ON.encode({numSignatures:d,padding:0,signatureOffset:u,signatureInstructionIndex:v,publicKeyOffset:c,publicKeyInstructionIndex:v,messageDataOffset:h,messageDataSize:r.length,messageInstructionIndex:v},p),p.fill(t,c),p.fill(i,u),p.fill(r,h),new Rn({keys:[],programId:$y.programId,data:p})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;yn(t.length===IN,`Private key must be ${IN} bytes but received ${t.length} bytes`);try{const s=Kh.fromSecretKey(t),c=s.publicKey.toBytes(),u=OE(r,s.secretKey);return this.createInstructionWithPublicKey({publicKey:c,message:r,signature:u,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}$y.programId=new xe("Ed25519SigVerify111111111111111111111111111");const Kz=(n,e)=>{const t=CE.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};CE.utils.isValidPrivateKey;const Wz=CE.getPublicKey,MN=32,Fb=20,BN=64,Yz=11,Hb=pe.struct([pe.u8("numSignatures"),pe.u16("signatureOffset"),pe.u8("signatureInstructionIndex"),pe.u16("ethAddressOffset"),pe.u8("ethAddressInstructionIndex"),pe.u16("messageDataOffset"),pe.u16("messageDataSize"),pe.u8("messageInstructionIndex"),pe.blob(20,"ethAddress"),pe.blob(64,"signature"),pe.u8("recoveryId")]);class Wh{constructor(){}static publicKeyToEthAddress(e){yn(e.length===BN,`Public key must be ${BN} bytes but received ${e.length} bytes`);try{return ft.from(gN(Gt(e))).slice(-Fb)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,recoveryId:s,instructionIndex:c}=e;return Wh.createInstructionWithEthAddress({ethAddress:Wh.publicKeyToEthAddress(t),message:r,signature:i,recoveryId:s,instructionIndex:c})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:i,recoveryId:s,instructionIndex:c=0}=e;let u;typeof t=="string"?t.startsWith("0x")?u=ft.from(t.substr(2),"hex"):u=ft.from(t,"hex"):u=t,yn(u.length===Fb,`Address must be ${Fb} bytes but received ${u.length} bytes`);const h=1+Yz,d=h,p=h+u.length,v=p+i.length+1,x=1,y=ft.alloc(Hb.span+r.length);return Hb.encode({numSignatures:x,signatureOffset:p,signatureInstructionIndex:c,ethAddressOffset:d,ethAddressInstructionIndex:c,messageDataOffset:v,messageDataSize:r.length,messageInstructionIndex:c,signature:Gt(i),ethAddress:Gt(u),recoveryId:s},y),y.fill(Gt(r),Hb.span),new Rn({keys:[],programId:Wh.programId,data:y})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;yn(t.length===MN,`Private key must be ${MN} bytes but received ${t.length} bytes`);try{const s=Gt(t),c=Wz(s,!1).slice(1),u=ft.from(gN(Gt(r))),[h,d]=Kz(u,s);return this.createInstructionWithPublicKey({publicKey:c,message:r,signature:h,recoveryId:d,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}Wh.programId=new xe("KeccakSecp256k11111111111111111111111111111");var j6;const P6=new xe("StakeConfig11111111111111111111111111111111");class U6{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class qp{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}j6=qp;qp.default=new j6(0,0,xe.default);class Xz{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=pe.u32("instruction").decode(e.data);let i;for(const[s,c]of Object.entries(Vr))if(c.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=vn(Vr.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new U6(new xe(t.staker),new xe(t.withdrawer)),lockup:new qp(r.unixTimestamp,r.epoch,new xe(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),vn(Vr.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=vn(Vr.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new xe(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:i,authorityOwner:s}=vn(Vr.AuthorizeWithSeed,e.data),c={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new xe(s),newAuthorizedPubkey:new xe(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(c.custodianPubkey=e.keys[3].pubkey),c}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=vn(Vr.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),vn(Vr.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=vn(Vr.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),vn(Vr.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Ky.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Vr=Object.freeze({Initialize:{index:0,layout:pe.struct([pe.u32("instruction"),tV(),nV()])},Authorize:{index:1,layout:pe.struct([pe.u32("instruction"),Zt("newAuthorized"),pe.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:pe.struct([pe.u32("instruction")])},Split:{index:3,layout:pe.struct([pe.u32("instruction"),pe.ns64("lamports")])},Withdraw:{index:4,layout:pe.struct([pe.u32("instruction"),pe.ns64("lamports")])},Deactivate:{index:5,layout:pe.struct([pe.u32("instruction")])},Merge:{index:7,layout:pe.struct([pe.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:pe.struct([pe.u32("instruction"),Zt("newAuthorized"),pe.u32("stakeAuthorizationType"),Gl("authoritySeed"),Zt("authorityOwner")])}}),Zz=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Ky{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:i}=e,s=i||qp.default,c=Vr.Initialize,u=un(c,{authorized:{staker:Gt(r.staker.toBuffer()),withdrawer:Gt(r.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:Gt(s.custodian.toBuffer())}}),h={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Aa,isSigner:!1,isWritable:!1}],programId:this.programId,data:u};return new Rn(h)}static createAccountWithSeed(e){const t=new Qt;t.add(zn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static createAccount(e){const t=new Qt;t.add(zn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:i}=e,s=Vr.Delegate,c=un(s);return new Qt().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:mo,isSigner:!1,isWritable:!1},{pubkey:pg,isSigner:!1,isWritable:!1},{pubkey:P6,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:c}=e,u=Vr.Authorize,h=un(u,{newAuthorized:Gt(i.toBuffer()),stakeAuthorizationType:s.index}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:mo,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Qt().add({keys:d,programId:this.programId,data:h})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:c,stakeAuthorizationType:u,custodianPubkey:h}=e,d=Vr.AuthorizeWithSeed,p=un(d,{newAuthorized:Gt(c.toBuffer()),stakeAuthorizationType:u.index,authoritySeed:i,authorityOwner:Gt(s.toBuffer())}),v=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:mo,isSigner:!1,isWritable:!1}];return h&&v.push({pubkey:h,isSigner:!0,isWritable:!1}),new Qt().add({keys:v,programId:this.programId,data:p})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:i,lamports:s}=e,c=Vr.Split,u=un(c,{lamports:s});return new Rn({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static split(e,t){const r=new Qt;return r.add(zn.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,basePubkey:c,seed:u,lamports:h}=e,d=new Qt;return d.add(zn.allocate({accountPubkey:s,basePubkey:c,seed:u,space:this.space,programId:this.programId})),t&&t>0&&d.add(zn.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:t})),d.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,lamports:h}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:i}=e,s=Vr.Merge,c=un(s);return new Qt().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:mo,isSigner:!1,isWritable:!1},{pubkey:pg,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:i,lamports:s,custodianPubkey:c}=e,u=Vr.Withdraw,h=un(u,{lamports:s}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:mo,isSigner:!1,isWritable:!1},{pubkey:pg,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Qt().add({keys:d,programId:this.programId,data:h})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,i=Vr.Deactivate,s=un(i);return new Qt().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:mo,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}}Ky.programId=new xe("Stake11111111111111111111111111111111111111");Ky.space=200;class V6{constructor(e,t,r,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=i}}class Qz{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=pe.u32("instruction").decode(e.data);let i;for(const[s,c]of Object.entries(vo))if(c.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=vn(vo.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new V6(new xe(t.nodePubkey),new xe(t.authorizedVoter),new xe(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=vn(vo.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new xe(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:i,voteAuthorizationType:s}}=vn(vo.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new xe(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new xe(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=vn(vo.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(bf.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const vo=Object.freeze({InitializeAccount:{index:0,layout:pe.struct([pe.u32("instruction"),rV()])},Authorize:{index:1,layout:pe.struct([pe.u32("instruction"),Zt("newAuthorized"),pe.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:pe.struct([pe.u32("instruction"),pe.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:pe.struct([pe.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:pe.struct([pe.u32("instruction"),iV()])}}),Jz=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class bf{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:i}=e,s=vo.InitializeAccount,c=un(s,{voteInit:{nodePubkey:Gt(i.nodePubkey.toBuffer()),authorizedVoter:Gt(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Gt(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),u={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Aa,isSigner:!1,isWritable:!1},{pubkey:mo,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:c};return new Rn(u)}static createAccount(e){const t=new Qt;return t.add(zn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,c=vo.Authorize,u=un(c,{newAuthorized:Gt(i.toBuffer()),voteAuthorizationType:s.index}),h=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:mo,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Qt().add({keys:h,programId:this.programId,data:u})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:c,votePubkey:u}=e,h=vo.AuthorizeWithSeed,d=un(h,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Gt(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Gt(s.toBuffer()),voteAuthorizationType:c.index}}),p=[{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:mo,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Qt().add({keys:p,programId:this.programId,data:d})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:s}=e,c=vo.Withdraw,u=un(c,{lamports:i}),h=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Qt().add({keys:h,programId:this.programId,data:u})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return bf.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,s=vo.UpdateValidatorIdentity,c=un(s),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Qt().add({keys:u,programId:this.programId,data:c})}}bf.programId=new xe("Vote111111111111111111111111111111111111111");bf.space=3762;const z6=new xe("Va1idator1nfo111111111111111111111111111111"),eF=Ke({name:Xe(),website:vt(Xe()),details:vt(Xe()),iconUrl:vt(Xe()),keybaseUsername:vt(Xe())});class FE{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(Pi(t)!==2)return null;const i=[];for(let s=0;s<2;s++){const c=new xe(Ui(t,0,So)),u=wo(t)===1;i.push({publicKey:c,isSigner:u})}if(i[0].publicKey.equals(z6)&&i[1].isSigner){const s=Gl().decode(ft.from(t)),c=JSON.parse(s);return t6(c,eF),new FE(i[1].publicKey,c)}return null}}const tF=new xe("Vote111111111111111111111111111111111111111"),nF=pe.struct([Zt("nodePubkey"),Zt("authorizedWithdrawer"),pe.u8("commission"),pe.nu64(),pe.seq(pe.struct([pe.nu64("slot"),pe.u32("confirmationCount")]),pe.offset(pe.u32(),-8),"votes"),pe.u8("rootSlotValid"),pe.nu64("rootSlot"),pe.nu64(),pe.seq(pe.struct([pe.nu64("epoch"),Zt("authorizedVoter")]),pe.offset(pe.u32(),-8),"authorizedVoters"),pe.struct([pe.seq(pe.struct([Zt("authorizedPubkey"),pe.nu64("epochOfLastAuthorizedSwitch"),pe.nu64("targetEpoch")]),32,"buf"),pe.nu64("idx"),pe.u8("isEmpty")],"priorVoters"),pe.nu64(),pe.seq(pe.struct([pe.nu64("epoch"),pe.nu64("credits"),pe.nu64("prevCredits")]),pe.offset(pe.u32(),-8),"epochCredits"),pe.struct([pe.nu64("slot"),pe.nu64("timestamp")],"lastTimestamp")]);class HE{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=nF.decode(Gt(e),4);let i=r.rootSlot;return r.rootSlotValid||(i=null),new HE({nodePubkey:new xe(r.nodePubkey),authorizedWithdrawer:new xe(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:i,authorizedVoters:r.authorizedVoters.map(rF),priorVoters:iF(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function rF({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new xe(n)}}function LN({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new xe(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function iF({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(LN),...n.slice(0,e).map(LN)]}const DN={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function sF(n,e){const t=e===!1?"http":"https";if(!n)return DN[t].devnet;const r=DN[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function oF(n,e,t,r){let i,s;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(i=t,s=r):s=t;const c=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},u=await n.sendRawTransaction(e,c),h=s&&s.commitment,p=(await(i?n.confirmTransaction(i,h):n.confirmTransaction(u,h))).value;if(p.err)throw u!=null?new Yc({action:c!=null&&c.skipPreflight?"send":"simulate",signature:u,transactionMessage:`Status: (${JSON.stringify(p)})`}):new Error(`Raw transaction ${u} failed (${JSON.stringify(p)})`);return u}const F6=1e9,aF=Object.freeze(Object.defineProperty({__proto__:null,Account:Q7,AddressLookupTableAccount:U_,AddressLookupTableInstruction:Gz,AddressLookupTableProgram:VE,Authorized:U6,BLOCKHASH_CACHE_TIMEOUT_MS:T6,BPF_LOADER_DEPRECATED_PROGRAM_ID:J7,BPF_LOADER_PROGRAM_ID:yV,BpfLoader:wV,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:bo,ComputeBudgetInstruction:$z,ComputeBudgetProgram:zE,Connection:Gy,Ed25519Program:$y,Enum:X7,EpochSchedule:S6,FeeCalculatorLayout:E6,Keypair:Kh,LAMPORTS_PER_SOL:F6,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:ya,Loader:uu,Lockup:qp,MAX_SEED_LENGTH:b6,Message:Us,MessageAccountKeys:mp,MessageV0:lu,NONCE_ACCOUNT_LENGTH:P_,NonceAccount:Fy,PACKET_DATA_SIZE:Vc,PUBLIC_KEY_LENGTH:So,PublicKey:xe,SIGNATURE_LENGTH_IN_BYTES:rf,SOLANA_SCHEMA:Xd,STAKE_CONFIG_ID:P6,STAKE_INSTRUCTION_LAYOUTS:Vr,SYSTEM_INSTRUCTION_LAYOUTS:Dn,SYSVAR_CLOCK_PUBKEY:mo,SYSVAR_EPOCH_SCHEDULE_PUBKEY:lV,SYSVAR_INSTRUCTIONS_PUBKEY:uV,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:dg,SYSVAR_RENT_PUBKEY:Aa,SYSVAR_REWARDS_PUBKEY:hV,SYSVAR_SLOT_HASHES_PUBKEY:fV,SYSVAR_SLOT_HISTORY_PUBKEY:dV,SYSVAR_STAKE_HISTORY_PUBKEY:pg,Secp256k1Program:Wh,SendTransactionError:Yc,SolanaJSONRPCError:dt,SolanaJSONRPCErrorCode:pV,StakeAuthorizationLayout:Zz,StakeInstruction:Xz,StakeProgram:Ky,Struct:ME,SystemInstruction:mV,SystemProgram:zn,Transaction:Qt,TransactionExpiredBlockheightExceededError:BE,TransactionExpiredNonceInvalidError:Ph,TransactionExpiredTimeoutError:LE,TransactionInstruction:Rn,TransactionMessage:DE,TransactionStatus:ha,VALIDATOR_INFO_KEY:z6,VERSION_PREFIX_MASK:Uy,VOTE_PROGRAM_ID:tF,ValidatorInfo:FE,VersionedMessage:zy,VersionedTransaction:sf,VoteAccount:HE,VoteAuthorizationLayout:Jz,VoteInit:V6,VoteInstruction:Qz,VoteProgram:bf,clusterApiUrl:sF,sendAndConfirmRawTransaction:oF,sendAndConfirmTransaction:j_},Symbol.toStringTag,{value:"Module"})),H6=ue.createContext({});function qE(){return ue.useContext(H6)}const cF=({children:n,endpoint:e,config:t={commitment:"confirmed"}})=>{const r=ue.useMemo(()=>new Gy(e,t),[e,t]);return We.createElement(H6.Provider,{value:{connection:r}},n)};class Ei extends Error{constructor(e,t){super(e),this.error=t}}class yp extends Ei{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class Pd extends Ei{constructor(){super(...arguments),this.name="WalletConfigError"}}class ny extends Ei{constructor(){super(...arguments),this.name="WalletConnectionError"}}class lF extends Ei{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class uF extends Ei{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class Uh extends Ei{constructor(){super(...arguments),this.name="WalletAccountError"}}class q6 extends Ei{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class xo extends Ei{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class $l extends Ei{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class Kl extends Ei{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class G6 extends Ei{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class jN extends Ei{constructor(){super(...arguments),this.name="WalletSignInError"}}var Jn;(function(n){n.Installed="Installed",n.NotDetected="NotDetected",n.Loadable="Loadable",n.Unsupported="Unsupported"})(Jn||(Jn={}));class $6 extends NE{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,t,r={}){const i=this.publicKey;if(!i)throw new xo;return e.feePayer=e.feePayer||i,e.recentBlockhash=e.recentBlockhash||(await t.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function Wl(n){return"version"in n}class hF extends $6{async sendTransaction(e,t,r={}){let i=!0;try{if(Wl(e)){if(!this.supportedTransactionVersions)throw new $l("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new $l(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const s=e.serialize();return await t.sendRawTransaction(s,r)}catch(s){throw s instanceof Kl?(i=!1,s):new $l(s==null?void 0:s.message,s)}}else try{const{signers:s,...c}=r;e=await this.prepareTransaction(e,t,c),s!=null&&s.length&&e.partialSign(...s),e=await this.signTransaction(e);const u=e.serialize();return await t.sendRawTransaction(u,c)}catch(s){throw s instanceof Kl?(i=!1,s):new $l(s==null?void 0:s.message,s)}}catch(s){throw i&&this.emit("error",s),s}}async signAllTransactions(e){for(const r of e)if(Wl(r)){if(!this.supportedTransactionVersions)throw new Kl("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new Kl(`Signing transaction version ${r.version} isn't supported by this wallet`)}const t=[];for(const r of e)t.push(await this.signTransaction(r));return t}}class fF extends hF{}class dF extends fF{}const zi="solana:signAndSendTransaction",su="solana:signIn",Mc="solana:signMessage",Zn="solana:signTransaction",GE="standard:connect",H_="standard:disconnect",$E="standard:events";function pF(n){return GE in n.features&&$E in n.features&&(zi in n.features||Zn in n.features)}var Zd;(function(n){n.Mainnet="mainnet-beta",n.Testnet="testnet",n.Devnet="devnet"})(Zd||(Zd={}));class PN extends Ei{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const mF=[],Wy={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){Ms("call","select")},connect(){return Promise.reject(Ms("call","connect"))},disconnect(){return Promise.reject(Ms("call","disconnect"))},sendTransaction(){return Promise.reject(Ms("call","sendTransaction"))},signTransaction(){return Promise.reject(Ms("call","signTransaction"))},signAllTransactions(){return Promise.reject(Ms("call","signAllTransactions"))},signMessage(){return Promise.reject(Ms("call","signMessage"))},signIn(){return Promise.reject(Ms("call","signIn"))}};Object.defineProperty(Wy,"wallets",{get(){return Ms("read","wallets"),mF}});Object.defineProperty(Wy,"wallet",{get(){return Ms("read","wallet"),null}});Object.defineProperty(Wy,"publicKey",{get(){return Ms("read","publicKey"),null}});function Ms(n,e){const t=new Error(`You have tried to ${n} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(t),t}const K6=ue.createContext(Wy);function vf(){return ue.useContext(K6)}function gF(n,e){const t=ue.useState(()=>{try{const s=localStorage.getItem(n);if(s)return JSON.parse(s)}catch(s){typeof window<"u"&&console.error(s)}return e}),r=t[0],i=ue.useRef(!0);return ue.useEffect(()=>{if(i.current){i.current=!1;return}try{r===null?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(r))}catch(s){typeof window<"u"&&console.error(s)}},[r,n]),t}var yh={},qb,UN;function yF(){return UN||(UN=1,qb=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),qb}var Gb={},vc={},VN;function _u(){if(VN)return vc;VN=1;let n;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return vc.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},vc.getSymbolTotalCodewords=function(r){return e[r]},vc.getBCHDigit=function(t){let r=0;for(;t!==0;)r++,t>>>=1;return r},vc.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');n=r},vc.isKanjiModeEnabled=function(){return typeof n<"u"},vc.toSJIS=function(r){return n(r)},vc}var $b={},zN;function KE(){return zN||(zN=1,(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,i){if(n.isValid(r))return r;try{return e(r)}catch{return i}}})($b)),$b}var Kb,FN;function wF(){if(FN)return Kb;FN=1;function n(){this.buffer=[],this.length=0}return n.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},Kb=n,Kb}var Wb,HN;function bF(){if(HN)return Wb;HN=1;function n(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return n.prototype.set=function(e,t,r,i){const s=e*this.size+t;this.data[s]=r,i&&(this.reservedBit[s]=!0)},n.prototype.get=function(e,t){return this.data[e*this.size+t]},n.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},n.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},Wb=n,Wb}var Yb={},qN;function vF(){return qN||(qN=1,(function(n){const e=_u().getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),c=s===145?26:Math.ceil((s-13)/(2*i-2))*2,u=[s-7];for(let h=1;h<i-1;h++)u[h]=u[h-1]-c;return u.push(6),u.reverse()},n.getPositions=function(r){const i=[],s=n.getRowColCoords(r),c=s.length;for(let u=0;u<c;u++)for(let h=0;h<c;h++)u===0&&h===0||u===0&&h===c-1||u===c-1&&h===0||i.push([s[u],s[h]]);return i}})(Yb)),Yb}var Xb={},GN;function _F(){if(GN)return Xb;GN=1;const n=_u().getSymbolSize,e=7;return Xb.getPositions=function(r){const i=n(r);return[[0,0],[i-e,0],[0,i-e]]},Xb}var Zb={},$N;function xF(){return $N||($N=1,(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},n.from=function(i){return n.isValid(i)?parseInt(i,10):void 0},n.getPenaltyN1=function(i){const s=i.size;let c=0,u=0,h=0,d=null,p=null;for(let v=0;v<s;v++){u=h=0,d=p=null;for(let x=0;x<s;x++){let y=i.get(v,x);y===d?u++:(u>=5&&(c+=e.N1+(u-5)),d=y,u=1),y=i.get(x,v),y===p?h++:(h>=5&&(c+=e.N1+(h-5)),p=y,h=1)}u>=5&&(c+=e.N1+(u-5)),h>=5&&(c+=e.N1+(h-5))}return c},n.getPenaltyN2=function(i){const s=i.size;let c=0;for(let u=0;u<s-1;u++)for(let h=0;h<s-1;h++){const d=i.get(u,h)+i.get(u,h+1)+i.get(u+1,h)+i.get(u+1,h+1);(d===4||d===0)&&c++}return c*e.N2},n.getPenaltyN3=function(i){const s=i.size;let c=0,u=0,h=0;for(let d=0;d<s;d++){u=h=0;for(let p=0;p<s;p++)u=u<<1&2047|i.get(d,p),p>=10&&(u===1488||u===93)&&c++,h=h<<1&2047|i.get(p,d),p>=10&&(h===1488||h===93)&&c++}return c*e.N3},n.getPenaltyN4=function(i){let s=0;const c=i.data.length;for(let h=0;h<c;h++)s+=i.data[h];return Math.abs(Math.ceil(s*100/c/5)-10)*e.N4};function t(r,i,s){switch(r){case n.Patterns.PATTERN000:return(i+s)%2===0;case n.Patterns.PATTERN001:return i%2===0;case n.Patterns.PATTERN010:return s%3===0;case n.Patterns.PATTERN011:return(i+s)%3===0;case n.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case n.Patterns.PATTERN101:return i*s%2+i*s%3===0;case n.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case n.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(i,s){const c=s.size;for(let u=0;u<c;u++)for(let h=0;h<c;h++)s.isReserved(h,u)||s.xor(h,u,t(i,h,u))},n.getBestMask=function(i,s){const c=Object.keys(n.Patterns).length;let u=0,h=1/0;for(let d=0;d<c;d++){s(d),n.applyMask(d,i);const p=n.getPenaltyN1(i)+n.getPenaltyN2(i)+n.getPenaltyN3(i)+n.getPenaltyN4(i);n.applyMask(d,i),p<h&&(h=p,u=d)}return u}})(Zb)),Zb}var O0={},KN;function W6(){if(KN)return O0;KN=1;const n=KE(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return O0.getBlocksCount=function(i,s){switch(s){case n.L:return e[(i-1)*4+0];case n.M:return e[(i-1)*4+1];case n.Q:return e[(i-1)*4+2];case n.H:return e[(i-1)*4+3];default:return}},O0.getTotalCodewordsCount=function(i,s){switch(s){case n.L:return t[(i-1)*4+0];case n.M:return t[(i-1)*4+1];case n.Q:return t[(i-1)*4+2];case n.H:return t[(i-1)*4+3];default:return}},O0}var Qb={},Ad={},WN;function EF(){if(WN)return Ad;WN=1;const n=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)n[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)n[i]=n[i-255]})(),Ad.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},Ad.exp=function(r){return n[r]},Ad.mul=function(r,i){return r===0||i===0?0:n[e[r]+e[i]]},Ad}var YN;function AF(){return YN||(YN=1,(function(n){const e=EF();n.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let c=0;c<r.length;c++)for(let u=0;u<i.length;u++)s[c+u]^=e.mul(r[c],i[u]);return s},n.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const c=s[0];for(let h=0;h<i.length;h++)s[h]^=e.mul(i[h],c);let u=0;for(;u<s.length&&s[u]===0;)u++;s=s.slice(u)}return s},n.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=n.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(Qb)),Qb}var Jb,XN;function SF(){if(XN)return Jb;XN=1;const n=AF();function e(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=n.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=n.mod(i,this.genPoly),c=this.degree-s.length;if(c>0){const u=new Uint8Array(this.degree);return u.set(s,c),u}return s},Jb=e,Jb}var ev={},tv={},nv={},ZN;function Y6(){return ZN||(ZN=1,nv.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),nv}var no={},QN;function X6(){if(QN)return no;QN=1;const n="[0-9]+",e="[A-Z $%*+\\-./:]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+`)(?:.|[\r
]))+`;no.KANJI=new RegExp(t,"g"),no.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),no.BYTE=new RegExp(r,"g"),no.NUMERIC=new RegExp(n,"g"),no.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+t+"$"),s=new RegExp("^"+n+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return no.testKanji=function(h){return i.test(h)},no.testNumeric=function(h){return s.test(h)},no.testAlphanumeric=function(h){return c.test(h)},no}var JN;function xu(){return JN||(JN=1,(function(n){const e=Y6(),t=X6();n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(s,c){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?s.ccBits[0]:c<27?s.ccBits[1]:s.ccBits[2]},n.getBestModeForData=function(s){return t.testNumeric(s)?n.NUMERIC:t.testAlphanumeric(s)?n.ALPHANUMERIC:t.testKanji(s)?n.KANJI:n.BYTE},n.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},n.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+i)}}n.from=function(s,c){if(n.isValid(s))return s;try{return r(s)}catch{return c}}})(tv)),tv}var eI;function RF(){return eI||(eI=1,(function(n){const e=_u(),t=W6(),r=KE(),i=xu(),s=Y6(),c=7973,u=e.getBCHDigit(c);function h(x,y,S){for(let k=1;k<=40;k++)if(y<=n.getCapacity(k,S,x))return k}function d(x,y){return i.getCharCountIndicator(x,y)+4}function p(x,y){let S=0;return x.forEach(function(k){const I=d(k.mode,y);S+=I+k.getBitsLength()}),S}function v(x,y){for(let S=1;S<=40;S++)if(p(x,S)<=n.getCapacity(S,y,i.MIXED))return S}n.from=function(y,S){return s.isValid(y)?parseInt(y,10):S},n.getCapacity=function(y,S,k){if(!s.isValid(y))throw new Error("Invalid QR Code version");typeof k>"u"&&(k=i.BYTE);const I=e.getSymbolTotalCodewords(y),M=t.getTotalCodewordsCount(y,S),j=(I-M)*8;if(k===i.MIXED)return j;const O=j-d(k,y);switch(k){case i.NUMERIC:return Math.floor(O/10*3);case i.ALPHANUMERIC:return Math.floor(O/11*2);case i.KANJI:return Math.floor(O/13);case i.BYTE:default:return Math.floor(O/8)}},n.getBestVersionForData=function(y,S){let k;const I=r.from(S,r.M);if(Array.isArray(y)){if(y.length>1)return v(y,I);if(y.length===0)return 1;k=y[0]}else k=y;return h(k.mode,k.getLength(),I)},n.getEncodedBits=function(y){if(!s.isValid(y)||y<7)throw new Error("Invalid QR Code version");let S=y<<12;for(;e.getBCHDigit(S)-u>=0;)S^=c<<e.getBCHDigit(S)-u;return y<<12|S}})(ev)),ev}var rv={},tI;function TF(){if(tI)return rv;tI=1;const n=_u(),e=1335,t=21522,r=n.getBCHDigit(e);return rv.getEncodedBits=function(s,c){const u=s.bit<<3|c;let h=u<<10;for(;n.getBCHDigit(h)-r>=0;)h^=e<<n.getBCHDigit(h)-r;return(u<<10|h)^t},rv}var iv={},sv,nI;function NF(){if(nI)return sv;nI=1;const n=xu();function e(t){this.mode=n.NUMERIC,this.data=t.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,s,c;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),c=parseInt(s,10),r.put(c,10);const u=this.data.length-i;u>0&&(s=this.data.substr(i),c=parseInt(s,10),r.put(c,u*3+1))},sv=e,sv}var ov,rI;function IF(){if(rI)return ov;rI=1;const n=xu(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(r){this.mode=n.ALPHANUMERIC,this.data=r}return t.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let c=e.indexOf(this.data[s])*45;c+=e.indexOf(this.data[s+1]),i.put(c,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},ov=t,ov}var av,iI;function kF(){if(iI)return av;iI=1;const n=xu();function e(t){this.mode=n.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(t){for(let r=0,i=this.data.length;r<i;r++)t.put(this.data[r],8)},av=e,av}var cv,sI;function CF(){if(sI)return cv;sI=1;const n=xu(),e=_u();function t(r){this.mode=n.KANJI,this.data=r}return t.getBitsLength=function(i){return i*13},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},cv=t,cv}var lv={exports:{}},oI;function OF(){return oI||(oI=1,(function(n){var e={single_source_shortest_paths:function(t,r,i){var s={},c={};c[r]=0;var u=e.PriorityQueue.make();u.push(r,0);for(var h,d,p,v,x,y,S,k,I;!u.empty();){h=u.pop(),d=h.value,v=h.cost,x=t[d]||{};for(p in x)x.hasOwnProperty(p)&&(y=x[p],S=v+y,k=c[p],I=typeof c[p]>"u",(I||k>S)&&(c[p]=S,u.push(p,S),s[p]=d))}if(typeof i<"u"&&typeof c[i]>"u"){var M=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(M)}return s},extract_shortest_path_from_predecessor_list:function(t,r){for(var i=[],s=r;s;)i.push(s),t[s],s=t[s];return i.reverse(),i},find_path:function(t,r,i){var s=e.single_source_shortest_paths(t,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(t){var r=e.PriorityQueue,i={},s;t=t||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=t.sorter||r.default_sorter,i},default_sorter:function(t,r){return t.cost-r.cost},push:function(t,r){var i={value:t,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e})(lv)),lv.exports}var aI;function MF(){return aI||(aI=1,(function(n){const e=xu(),t=NF(),r=IF(),i=kF(),s=CF(),c=X6(),u=_u(),h=OF();function d(M){return unescape(encodeURIComponent(M)).length}function p(M,j,O){const Q=[];let oe;for(;(oe=M.exec(O))!==null;)Q.push({data:oe[0],index:oe.index,mode:j,length:oe[0].length});return Q}function v(M){const j=p(c.NUMERIC,e.NUMERIC,M),O=p(c.ALPHANUMERIC,e.ALPHANUMERIC,M);let Q,oe;return u.isKanjiModeEnabled()?(Q=p(c.BYTE,e.BYTE,M),oe=p(c.KANJI,e.KANJI,M)):(Q=p(c.BYTE_KANJI,e.BYTE,M),oe=[]),j.concat(O,Q,oe).sort(function(W,K){return W.index-K.index}).map(function(W){return{data:W.data,mode:W.mode,length:W.length}})}function x(M,j){switch(j){case e.NUMERIC:return t.getBitsLength(M);case e.ALPHANUMERIC:return r.getBitsLength(M);case e.KANJI:return s.getBitsLength(M);case e.BYTE:return i.getBitsLength(M)}}function y(M){return M.reduce(function(j,O){const Q=j.length-1>=0?j[j.length-1]:null;return Q&&Q.mode===O.mode?(j[j.length-1].data+=O.data,j):(j.push(O),j)},[])}function S(M){const j=[];for(let O=0;O<M.length;O++){const Q=M[O];switch(Q.mode){case e.NUMERIC:j.push([Q,{data:Q.data,mode:e.ALPHANUMERIC,length:Q.length},{data:Q.data,mode:e.BYTE,length:Q.length}]);break;case e.ALPHANUMERIC:j.push([Q,{data:Q.data,mode:e.BYTE,length:Q.length}]);break;case e.KANJI:j.push([Q,{data:Q.data,mode:e.BYTE,length:d(Q.data)}]);break;case e.BYTE:j.push([{data:Q.data,mode:e.BYTE,length:d(Q.data)}])}}return j}function k(M,j){const O={},Q={start:{}};let oe=["start"];for(let ce=0;ce<M.length;ce++){const W=M[ce],K=[];for(let B=0;B<W.length;B++){const U=W[B],q=""+ce+B;K.push(q),O[q]={node:U,lastCount:0},Q[q]={};for(let L=0;L<oe.length;L++){const T=oe[L];O[T]&&O[T].node.mode===U.mode?(Q[T][q]=x(O[T].lastCount+U.length,U.mode)-x(O[T].lastCount,U.mode),O[T].lastCount+=U.length):(O[T]&&(O[T].lastCount=U.length),Q[T][q]=x(U.length,U.mode)+4+e.getCharCountIndicator(U.mode,j))}}oe=K}for(let ce=0;ce<oe.length;ce++)Q[oe[ce]].end=0;return{map:Q,table:O}}function I(M,j){let O;const Q=e.getBestModeForData(M);if(O=e.from(j,Q),O!==e.BYTE&&O.bit<Q.bit)throw new Error('"'+M+'" cannot be encoded with mode '+e.toString(O)+`.
 Suggested mode is: `+e.toString(Q));switch(O===e.KANJI&&!u.isKanjiModeEnabled()&&(O=e.BYTE),O){case e.NUMERIC:return new t(M);case e.ALPHANUMERIC:return new r(M);case e.KANJI:return new s(M);case e.BYTE:return new i(M)}}n.fromArray=function(j){return j.reduce(function(O,Q){return typeof Q=="string"?O.push(I(Q,null)):Q.data&&O.push(I(Q.data,Q.mode)),O},[])},n.fromString=function(j,O){const Q=v(j,u.isKanjiModeEnabled()),oe=S(Q),ce=k(oe,O),W=h.find_path(ce.map,"start","end"),K=[];for(let B=1;B<W.length-1;B++)K.push(ce.table[W[B]].node);return n.fromArray(y(K))},n.rawSplit=function(j){return n.fromArray(v(j,u.isKanjiModeEnabled()))}})(iv)),iv}var cI;function BF(){if(cI)return Gb;cI=1;const n=_u(),e=KE(),t=wF(),r=bF(),i=vF(),s=_F(),c=xF(),u=W6(),h=SF(),d=RF(),p=TF(),v=xu(),x=MF();function y(ce,W){const K=ce.size,B=s.getPositions(W);for(let U=0;U<B.length;U++){const q=B[U][0],L=B[U][1];for(let T=-1;T<=7;T++)if(!(q+T<=-1||K<=q+T))for(let g=-1;g<=7;g++)L+g<=-1||K<=L+g||(T>=0&&T<=6&&(g===0||g===6)||g>=0&&g<=6&&(T===0||T===6)||T>=2&&T<=4&&g>=2&&g<=4?ce.set(q+T,L+g,!0,!0):ce.set(q+T,L+g,!1,!0))}}function S(ce){const W=ce.size;for(let K=8;K<W-8;K++){const B=K%2===0;ce.set(K,6,B,!0),ce.set(6,K,B,!0)}}function k(ce,W){const K=i.getPositions(W);for(let B=0;B<K.length;B++){const U=K[B][0],q=K[B][1];for(let L=-2;L<=2;L++)for(let T=-2;T<=2;T++)L===-2||L===2||T===-2||T===2||L===0&&T===0?ce.set(U+L,q+T,!0,!0):ce.set(U+L,q+T,!1,!0)}}function I(ce,W){const K=ce.size,B=d.getEncodedBits(W);let U,q,L;for(let T=0;T<18;T++)U=Math.floor(T/3),q=T%3+K-8-3,L=(B>>T&1)===1,ce.set(U,q,L,!0),ce.set(q,U,L,!0)}function M(ce,W,K){const B=ce.size,U=p.getEncodedBits(W,K);let q,L;for(q=0;q<15;q++)L=(U>>q&1)===1,q<6?ce.set(q,8,L,!0):q<8?ce.set(q+1,8,L,!0):ce.set(B-15+q,8,L,!0),q<8?ce.set(8,B-q-1,L,!0):q<9?ce.set(8,15-q-1+1,L,!0):ce.set(8,15-q-1,L,!0);ce.set(B-8,8,1,!0)}function j(ce,W){const K=ce.size;let B=-1,U=K-1,q=7,L=0;for(let T=K-1;T>0;T-=2)for(T===6&&T--;;){for(let g=0;g<2;g++)if(!ce.isReserved(U,T-g)){let R=!1;L<W.length&&(R=(W[L]>>>q&1)===1),ce.set(U,T-g,R),q--,q===-1&&(L++,q=7)}if(U+=B,U<0||K<=U){U-=B,B=-B;break}}}function O(ce,W,K){const B=new t;K.forEach(function(g){B.put(g.mode.bit,4),B.put(g.getLength(),v.getCharCountIndicator(g.mode,ce)),g.write(B)});const U=n.getSymbolTotalCodewords(ce),q=u.getTotalCodewordsCount(ce,W),L=(U-q)*8;for(B.getLengthInBits()+4<=L&&B.put(0,4);B.getLengthInBits()%8!==0;)B.putBit(0);const T=(L-B.getLengthInBits())/8;for(let g=0;g<T;g++)B.put(g%2?17:236,8);return Q(B,ce,W)}function Q(ce,W,K){const B=n.getSymbolTotalCodewords(W),U=u.getTotalCodewordsCount(W,K),q=B-U,L=u.getBlocksCount(W,K),T=B%L,g=L-T,R=Math.floor(B/L),C=Math.floor(q/L),Y=C+1,te=R-C,Z=new h(te);let D=0;const A=new Array(L),w=new Array(L);let E=0;const H=new Uint8Array(ce.buffer);for(let Ue=0;Ue<L;Ue++){const it=Ue<g?C:Y;A[Ue]=H.slice(D,D+it),w[Ue]=Z.encode(A[Ue]),D+=it,E=Math.max(E,it)}const ne=new Uint8Array(B);let ae=0,me,Le;for(me=0;me<E;me++)for(Le=0;Le<L;Le++)me<A[Le].length&&(ne[ae++]=A[Le][me]);for(me=0;me<te;me++)for(Le=0;Le<L;Le++)ne[ae++]=w[Le][me];return ne}function oe(ce,W,K,B){let U;if(Array.isArray(ce))U=x.fromArray(ce);else if(typeof ce=="string"){let R=W;if(!R){const C=x.rawSplit(ce);R=d.getBestVersionForData(C,K)}U=x.fromString(ce,R||40)}else throw new Error("Invalid data");const q=d.getBestVersionForData(U,K);if(!q)throw new Error("The amount of data is too big to be stored in a QR Code");if(!W)W=q;else if(W<q)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+q+`.
`);const L=O(W,K,U),T=n.getSymbolSize(W),g=new r(T);return y(g,W),S(g),k(g,W),M(g,K,0),W>=7&&I(g,W),j(g,L),isNaN(B)&&(B=c.getBestMask(g,M.bind(null,g,K))),c.applyMask(B,g),M(g,K,B),{modules:g,version:W,errorCorrectionLevel:K,maskPattern:B,segments:U}}return Gb.create=function(W,K){if(typeof W>"u"||W==="")throw new Error("No input text");let B=e.M,U,q;return typeof K<"u"&&(B=e.from(K.errorCorrectionLevel,e.M),U=d.from(K.version),q=c.from(K.maskPattern),K.toSJISFunc&&n.setToSJISFunction(K.toSJISFunc)),oe(W,U,B,q)},Gb}var uv={},hv={},lI;function Z6(){return lI||(lI=1,(function(n){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let r=t.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+t);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,c=r.scale||4;return{width:s,scale:s?4:c,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},n.getImageWidth=function(r,i){const s=n.getScale(r,i);return Math.floor((r+i.margin*2)*s)},n.qrToImageData=function(r,i,s){const c=i.modules.size,u=i.modules.data,h=n.getScale(c,s),d=Math.floor((c+s.margin*2)*h),p=s.margin*h,v=[s.color.light,s.color.dark];for(let x=0;x<d;x++)for(let y=0;y<d;y++){let S=(x*d+y)*4,k=s.color.light;if(x>=p&&y>=p&&x<d-p&&y<d-p){const I=Math.floor((x-p)/h),M=Math.floor((y-p)/h);k=v[u[I*c+M]?1:0]}r[S++]=k.r,r[S++]=k.g,r[S++]=k.b,r[S]=k.a}}})(hv)),hv}var uI;function LF(){return uI||(uI=1,(function(n){const e=Z6();function t(i,s,c){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=c,s.width=c,s.style.height=c+"px",s.style.width=c+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(s,c,u){let h=u,d=c;typeof h>"u"&&(!c||!c.getContext)&&(h=c,c=void 0),c||(d=r()),h=e.getOptions(h);const p=e.getImageWidth(s.modules.size,h),v=d.getContext("2d"),x=v.createImageData(p,p);return e.qrToImageData(x.data,s,h),t(v,d,p),v.putImageData(x,0,0),d},n.renderToDataURL=function(s,c,u){let h=u;typeof h>"u"&&(!c||!c.getContext)&&(h=c,c=void 0),h||(h={});const d=n.render(s,c,h),p=h.type||"image/png",v=h.rendererOpts||{};return d.toDataURL(p,v.quality)}})(uv)),uv}var fv={},hI;function DF(){if(hI)return fv;hI=1;const n=Z6();function e(i,s){const c=i.a/255,u=s+'="'+i.hex+'"';return c<1?u+" "+s+'-opacity="'+c.toFixed(2).slice(1)+'"':u}function t(i,s,c){let u=i+s;return typeof c<"u"&&(u+=" "+c),u}function r(i,s,c){let u="",h=0,d=!1,p=0;for(let v=0;v<i.length;v++){const x=Math.floor(v%s),y=Math.floor(v/s);!x&&!d&&(d=!0),i[v]?(p++,v>0&&x>0&&i[v-1]||(u+=d?t("M",x+c,.5+y+c):t("m",h,0),h=0,d=!1),x+1<s&&i[v+1]||(u+=t("h",p),p=0)):h++}return u}return fv.render=function(s,c,u){const h=n.getOptions(c),d=s.modules.size,p=s.modules.data,v=d+h.margin*2,x=h.color.light.a?"<path "+e(h.color.light,"fill")+' d="M0 0h'+v+"v"+v+'H0z"/>':"",y="<path "+e(h.color.dark,"stroke")+' d="'+r(p,d,h.margin)+'"/>',S='viewBox="0 0 '+v+" "+v+'"',I='<svg xmlns="http://www.w3.org/2000/svg" '+(h.width?'width="'+h.width+'" height="'+h.width+'" ':"")+S+' shape-rendering="crispEdges">'+x+y+`</svg>
`;return typeof u=="function"&&u(null,I),I},fv}var fI;function jF(){if(fI)return yh;fI=1;const n=yF(),e=BF(),t=LF(),r=DF();function i(s,c,u,h,d){const p=[].slice.call(arguments,1),v=p.length,x=typeof p[v-1]=="function";if(!x&&!n())throw new Error("Callback required as last argument");if(x){if(v<2)throw new Error("Too few arguments provided");v===2?(d=u,u=c,c=h=void 0):v===3&&(c.getContext&&typeof d>"u"?(d=h,h=void 0):(d=h,h=u,u=c,c=void 0))}else{if(v<1)throw new Error("Too few arguments provided");return v===1?(u=c,c=h=void 0):v===2&&!c.getContext&&(h=u,u=c,c=void 0),new Promise(function(y,S){try{const k=e.create(u,h);y(s(k,c,h))}catch(k){S(k)}})}try{const y=e.create(u,h);d(null,s(y,c,h))}catch(y){d(y)}}return yh.create=e.create,yh.toCanvas=i.bind(null,t.render),yh.toDataURL=i.bind(null,t.renderToDataURL),yh.toString=i.bind(null,function(s,c,u){return r.render(s,u)}),yh}jF();function dv(n){switch(n){case"processed":case"confirmed":case"finalized":case void 0:return n;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const ry="solana:mainnet",PF="solana:devnet",UF="solana:testnet",VF="solana:localnet",zF="https://api.mainnet-beta.solana.com";function FF(n){return n.includes(zF)?ry:/\bdevnet\b/i.test(n)?PF:/\btestnet\b/i.test(n)?UF:/\blocalhost\b/i.test(n)||/\b127\.0\.0\.1\b/.test(n)?VF:ry}function HF(n){let e=`${n.domain} wants you to sign in with your Solana account:
`;e+=`${n.address}`,n.statement&&(e+=`

${n.statement}`);const t=[];if(n.uri&&t.push(`URI: ${n.uri}`),n.version&&t.push(`Version: ${n.version}`),n.chainId&&t.push(`Chain ID: ${n.chainId}`),n.nonce&&t.push(`Nonce: ${n.nonce}`),n.issuedAt&&t.push(`Issued At: ${n.issuedAt}`),n.expirationTime&&t.push(`Expiration Time: ${n.expirationTime}`),n.notBefore&&t.push(`Not Before: ${n.notBefore}`),n.requestId&&t.push(`Request ID: ${n.requestId}`),n.resources){t.push("Resources:");for(const r of n.resources)t.push(`- ${r}`)}return t.length&&(e+=`

${t.join(`
`)}`),e}function qF(n){return Object.freeze({...n,decode:(e,t=0)=>n.read(e,t)[0]})}var GF=n=>qF({read(e,t){const r=t===0?e:e.slice(t);if(r.length===0)return["",0];let i=r.findIndex(h=>h!==0);i=i===-1?r.length:i;const s=n[0].repeat(i);if(i===r.length)return[s,e.length];const c=r.slice(i).reduce((h,d)=>h*256n+BigInt(d),0n),u=$F(c,n);return[s+u,e.length]}});function $F(n,e){const t=BigInt(e.length),r=[];for(;n>0n;)r.unshift(e[Number(n%t)]),n/=t;return r.join("")}var KF="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",WF=()=>GF(KF);const Na={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class Ia extends Error{constructor(...e){const[t,r,i]=e;super(r),this.code=t,this.data=i,this.name="SolanaMobileWalletAdapterError"}}class Q6 extends Error{constructor(...e){const[t,r,i,s]=e;super(i),this.code=r,this.data=s,this.jsonRpcMessageId=t,this.name="SolanaMobileWalletAdapterProtocolError"}}function Rr(n,e,t,r){function i(s){return s instanceof t?s:new t(function(c){c(s)})}return new(t||(t=Promise))(function(s,c){function u(p){try{d(r.next(p))}catch(v){c(v)}}function h(p){try{d(r.throw(p))}catch(v){c(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,h)}d((r=r.apply(n,[])).next())})}function YF(n){return window.btoa(n)}function dI(n,e){return window.btoa(String.fromCharCode.call(null,...n))}function J6(n){return new Uint8Array(window.atob(n).split("").map(e=>e.charCodeAt(0)))}function pv(n,e){return Rr(this,void 0,void 0,function*(){const t=yield crypto.subtle.exportKey("raw",n),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,t),i=new Uint8Array(t.byteLength+r.byteLength);return i.set(new Uint8Array(t),0),i.set(new Uint8Array(r),t.byteLength),i})}function XF(n){return HF(n)}function ZF(n){return YF(XF(n)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const QF="solana:signTransactions",pI="solana:cloneAuthorization";function JF(n){return WF().decode(n)}function eH(n){return JF(J6(n))}function tH(n,e){return new Proxy({},{get(t,r){return r==="then"?null:(t[r]==null&&(t[r]=function(i){return Rr(this,void 0,void 0,function*(){const{method:s,params:c}=nH(r,i,n),u=yield e(s,c);return s==="authorize"&&c.sign_in_payload&&!u.sign_in_result&&(u.sign_in_result=yield iH(c.sign_in_payload,u,e)),rH(r,u,n)})}),t[r])},defineProperty(){return!1},deleteProperty(){return!1}})}function nH(n,e,t){let r=e,i=n.toString().replace(/[A-Z]/g,s=>`_${s.toLowerCase()}`).toLowerCase();switch(n){case"authorize":{let{chain:s}=r;if(t==="legacy"){switch(s){case"solana:testnet":{s="testnet";break}case"solana:devnet":{s="devnet";break}case"solana:mainnet":{s="mainnet-beta";break}default:s=r.cluster}r.cluster=s}else{switch(s){case"testnet":case"devnet":{s=`solana:${s}`;break}case"mainnet-beta":{s="solana:mainnet";break}}r.chain=s}}case"reauthorize":{const{auth_token:s,identity:c}=r;if(s)switch(t){case"legacy":{i="reauthorize",r={auth_token:s,identity:c};break}default:{i="authorize";break}}break}}return{method:i,params:r}}function rH(n,e,t){switch(n){case"getCapabilities":{const r=e;switch(t){case"legacy":{const i=[QF];return r.supports_clone_authorization===!0&&i.push(pI),Object.assign(Object.assign({},r),{features:i})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(pI)})}}}return e}function iH(n,e,t){var r;return Rr(this,void 0,void 0,function*(){const i=(r=n.domain)!==null&&r!==void 0?r:window.location.host,s=e.accounts[0].address,c=ZF(Object.assign(Object.assign({},n),{domain:i,address:eH(s)})),u=yield t("sign_messages",{addresses:[s],payloads:[c]}),h=J6(u.signed_payloads[0]),d=dI(h.slice(0,h.length-64)),p=dI(h.slice(h.length-64));return{address:s,signed_message:d.length==0?c:d,signature:p}})}const Yl=4;function sH(n){if(n>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(Yl);return new DataView(e).setUint32(0,n,!1),new Uint8Array(e)}const q_=12,eO=65;function oH(n,e,t){return Rr(this,void 0,void 0,function*(){const r=sH(e),i=new Uint8Array(q_);crypto.getRandomValues(i);const s=yield crypto.subtle.encrypt(nO(r,i),t,new TextEncoder().encode(n)),c=new Uint8Array(r.byteLength+i.byteLength+s.byteLength);return c.set(new Uint8Array(r),0),c.set(new Uint8Array(i),r.byteLength),c.set(new Uint8Array(s),r.byteLength+i.byteLength),c})}function tO(n,e){return Rr(this,void 0,void 0,function*(){const t=n.slice(0,Yl),r=n.slice(Yl,Yl+q_),i=n.slice(Yl+q_),s=yield crypto.subtle.decrypt(nO(t,r),e,i);return aH().decode(s)})}function nO(n,e){return{additionalData:n,iv:e,name:"AES-GCM",tagLength:128}}let mv;function aH(){return mv===void 0&&(mv=new TextDecoder("utf-8")),mv}function cH(){return Rr(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function gv(){return Rr(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function lH(n){let e="";const t=new Uint8Array(n),r=t.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(t[i]);return window.btoa(e)}function uH(){return rO(49152+Math.floor(Math.random()*16384))}function rO(n){if(n<49152||n>65535)throw new Ia(Na.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${n} given.`,{port:n});return n}function hH(n){return n.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const fH="solana-wallet";function mI(n){return n.replace(/(^\/+|\/+$)/g,"").split("/")}function dH(n,e){let t=null;if(e){try{t=new URL(e)}catch{}if((t==null?void 0:t.protocol)!=="https:")throw new Ia(Na.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}t||(t=new URL(`${fH}:/`));const r=n.startsWith("/")?n:[...mI(t.pathname),...mI(n)].join("/");return new URL(r,t)}function pH(n,e,t,r=["v1"]){return Rr(this,void 0,void 0,function*(){const i=rO(e),s=yield crypto.subtle.exportKey("raw",n),c=lH(s),u=dH("v1/associate/local",t);return u.searchParams.set("association",hH(c)),u.searchParams.set("port",`${i}`),r.forEach(h=>{u.searchParams.set("v",h)}),u})}function mH(n,e){return Rr(this,void 0,void 0,function*(){const t=JSON.stringify(n),r=n.id;return oH(t,r,e)})}function gH(n,e){return Rr(this,void 0,void 0,function*(){const t=yield tO(n,e),r=JSON.parse(t);if(Object.hasOwnProperty.call(r,"error"))throw new Q6(r.id,r.error.code,r.error.message);return r})}function yH(n,e,t){return Rr(this,void 0,void 0,function*(){const[r,i]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",n.slice(0,eO),{name:"ECDH",namedCurve:"P-256"},!1,[])]),s=yield crypto.subtle.deriveBits({name:"ECDH",public:i},t,256),c=yield crypto.subtle.importKey("raw",s,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},c,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function wH(n,e){return Rr(this,void 0,void 0,function*(){const t=yield tO(n,e),r=JSON.parse(t);let i="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new Ia(Na.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:i}})}const iy={Firefox:0,Other:1};function bH(){return navigator.userAgent.indexOf("Firefox/")!==-1?iy.Firefox:iy.Other}function vH(){return new Promise((n,e)=>{function t(){clearTimeout(i),window.removeEventListener("blur",r)}function r(){t(),n()}window.addEventListener("blur",r);const i=setTimeout(()=>{t(),e()},3e3)})}let Sd=null;function _H(n){Sd==null&&(Sd=document.createElement("iframe"),Sd.style.display="none",document.body.appendChild(Sd)),Sd.contentWindow.location.href=n.toString()}function xH(n){return Rr(this,void 0,void 0,function*(){if(n.protocol==="https:")window.location.assign(n);else try{const e=bH();switch(e){case iy.Firefox:_H(n);break;case iy.Other:{const t=vH();window.location.assign(n),yield t;break}default:}}catch{throw new Ia(Na.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function EH(n,e){return Rr(this,void 0,void 0,function*(){const t=uH(),r=yield pH(n,t,e);return yield xH(r),t})}const gI={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},AH="com.solana.mobilewalletadapter.v1";function SH(){if(typeof window>"u"||window.isSecureContext!==!0)throw new Ia(Na.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function RH(n){let e;try{e=new URL(n)}catch{throw new Ia(Na.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new Ia(Na.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function yI(n){return new DataView(n).getUint32(0,!1)}function TH(n,e){return Rr(this,void 0,void 0,function*(){SH();const t=yield cH(),i=`ws://localhost:${yield EH(t.publicKey,e==null?void 0:e.baseUri)}/solana-wallet`;let s;const c=(()=>{const p=[...gI.retryDelayScheduleMs];return()=>p.length>1?p.shift():p[0]})();let u=1,h=0,d={__type:"disconnected"};return new Promise((p,v)=>{let x;const y={},S=()=>Rr(this,void 0,void 0,function*(){if(d.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${d.__type}\`.`);return}x.removeEventListener("open",S);const{associationKeypair:oe}=d,ce=yield gv();x.send(yield pv(ce.publicKey,oe.privateKey)),d={__type:"hello_req_sent",associationPublicKey:oe.publicKey,ecdhPrivateKey:ce.privateKey}}),k=oe=>{oe.wasClean?d={__type:"disconnected"}:v(new Ia(Na.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${oe.code}: ${oe.reason}).`,{closeEvent:oe})),j()},I=oe=>Rr(this,void 0,void 0,function*(){j(),Date.now()-s>=gI.timeoutMs?v(new Ia(Na.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${i}.`)):(yield new Promise(ce=>{const W=c();O=window.setTimeout(ce,W)}),Q())}),M=oe=>Rr(this,void 0,void 0,function*(){const ce=yield oe.data.arrayBuffer();switch(d.__type){case"connecting":if(ce.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const W=yield gv();x.send(yield pv(W.publicKey,t.privateKey)),d={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:W.privateKey};break;case"connected":try{const K=ce.slice(0,Yl),B=yI(K);if(B!==h+1)throw new Error("Encrypted message has invalid sequence number");h=B;const U=yield gH(ce,d.sharedSecret),q=y[U.id];delete y[U.id],q.resolve(U.result)}catch(K){if(K instanceof Q6){const B=y[K.jsonRpcMessageId];delete y[K.jsonRpcMessageId],B.reject(K)}else throw K}break;case"hello_req_sent":{if(ce.byteLength===0){const L=yield gv();x.send(yield pv(L.publicKey,t.privateKey)),d={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:L.privateKey};break}const K=yield yH(ce,d.associationPublicKey,d.ecdhPrivateKey),B=ce.slice(eO),U=B.byteLength!==0?yield Rr(this,void 0,void 0,function*(){const L=B.slice(0,Yl),T=yI(L);if(T!==h+1)throw new Error("Encrypted message has invalid sequence number");return h=T,wH(B,K)}):{protocol_version:"legacy"};d={__type:"connected",sharedSecret:K,sessionProperties:U};const q=tH(U.protocol_version,(L,T)=>Rr(this,void 0,void 0,function*(){const g=u++;return x.send(yield mH({id:g,jsonrpc:"2.0",method:L,params:T??{}},K)),new Promise((R,C)=>{y[g]={resolve(Y){switch(L){case"authorize":case"reauthorize":{const{wallet_uri_base:te}=Y;if(te!=null)try{RH(te)}catch(Z){C(Z);return}break}}R(Y)},reject:C}})}));try{p(yield n(q))}catch(L){v(L)}finally{j(),x.close()}break}}});let j,O;const Q=()=>{j&&j(),d={__type:"connecting",associationKeypair:t},s===void 0&&(s=Date.now()),x=new WebSocket(i,[AH]),x.addEventListener("open",S),x.addEventListener("close",k),x.addEventListener("error",I),x.addEventListener("message",M),j=()=>{window.clearTimeout(O),x.removeEventListener("open",S),x.removeEventListener("close",k),x.removeEventListener("error",I),x.removeEventListener("message",M)}};Q()})})}var yv,wI;function NH(){if(wI)return yv;wI=1;function n(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),c=s.charCodeAt(0);if(t[c]!==255)throw new TypeError(s+" is ambiguous");t[c]=i}var u=e.length,h=e.charAt(0),d=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function v(S){if(S instanceof Uint8Array||(ArrayBuffer.isView(S)?S=new Uint8Array(S.buffer,S.byteOffset,S.byteLength):Array.isArray(S)&&(S=Uint8Array.from(S))),!(S instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(S.length===0)return"";for(var k=0,I=0,M=0,j=S.length;M!==j&&S[M]===0;)M++,k++;for(var O=(j-M)*p+1>>>0,Q=new Uint8Array(O);M!==j;){for(var oe=S[M],ce=0,W=O-1;(oe!==0||ce<I)&&W!==-1;W--,ce++)oe+=256*Q[W]>>>0,Q[W]=oe%u>>>0,oe=oe/u>>>0;if(oe!==0)throw new Error("Non-zero carry");I=ce,M++}for(var K=O-I;K!==O&&Q[K]===0;)K++;for(var B=h.repeat(k);K<O;++K)B+=e.charAt(Q[K]);return B}function x(S){if(typeof S!="string")throw new TypeError("Expected String");if(S.length===0)return new Uint8Array;for(var k=0,I=0,M=0;S[k]===h;)I++,k++;for(var j=(S.length-k)*d+1>>>0,O=new Uint8Array(j);S[k];){var Q=S.charCodeAt(k);if(Q>255)return;var oe=t[Q];if(oe===255)return;for(var ce=0,W=j-1;(oe!==0||ce<M)&&W!==-1;W--,ce++)oe+=u*O[W]>>>0,O[W]=oe%256>>>0,oe=oe/256>>>0;if(oe!==0)throw new Error("Non-zero carry");M=ce,k++}for(var K=j-M;K!==j&&O[K]===0;)K++;for(var B=new Uint8Array(I+(j-K)),U=I;K!==j;)B[U++]=O[K++];return B}function y(S){var k=x(S);if(k)return k;throw new Error("Non-base"+u+" character")}return{encode:v,decodeUnsafe:x,decode:y}}return yv=n,yv}var wv,bI;function IH(){return bI||(bI=1,wv=NH()("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),wv}var kH=IH();const G_=Mo(kH);function Wn(n,e,t,r){function i(s){return s instanceof t?s:new t(function(c){c(s)})}return new(t||(t=Promise))(function(s,c){function u(p){try{d(r.next(p))}catch(v){c(v)}}function h(p){try{d(r.throw(p))}catch(v){c(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,h)}d((r=r.apply(n,[])).next())})}function $e(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function Er(n,e,t,r,i){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var Ud,kr,Bl,Nh,iO,sO,oO,mg;const CH=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,OH=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,MH=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class BH{constructor(){Ud.add(this),kr.set(this,null),Bl.set(this,{}),Nh.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),$e(this,Ud,"m",sO).call(this),$e(this,kr,"f")&&($e(this,kr,"f").style.display="flex")},this.close=(e=void 0)=>{var t;console.debug("Modal close"),$e(this,Ud,"m",oO).call(this),$e(this,kr,"f")&&($e(this,kr,"f").style.display="none"),(t=$e(this,Bl,"f").close)===null||t===void 0||t.forEach(r=>r(e))},mg.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),Er(this,kr,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return Wn(this,void 0,void 0,function*(){console.log("Injecting modal"),$e(this,Ud,"m",iO).call(this)})}addEventListener(e,t){var r;return!((r=$e(this,Bl,"f")[e])===null||r===void 0)&&r.push(t)||($e(this,Bl,"f")[e]=[t]),()=>this.removeEventListener(e,t)}removeEventListener(e,t){var r;$e(this,Bl,"f")[e]=(r=$e(this,Bl,"f")[e])===null||r===void 0?void 0:r.filter(i=>t!==i)}}kr=new WeakMap,Bl=new WeakMap,Nh=new WeakMap,mg=new WeakMap,Ud=new WeakSet,iO=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){$e(this,kr,"f")||Er(this,kr,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}Er(this,kr,document.createElement("div")),$e(this,kr,"f").id="mobile-wallet-adapter-embedded-root-ui",$e(this,kr,"f").innerHTML=CH,$e(this,kr,"f").style.display="none";const e=$e(this,kr,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const t=document.createElement("style");t.id="mobile-wallet-adapter-embedded-modal-styles",t.textContent=OH+this.contentStyles;const r=document.createElement("div");r.innerHTML=MH,this.dom=r.attachShadow({mode:"closed"}),this.dom.appendChild(t),this.dom.appendChild($e(this,kr,"f")),document.body.appendChild(r)},sO=function(){if(!$e(this,kr,"f")||$e(this,Nh,"f"))return;[...$e(this,kr,"f").querySelectorAll("[data-modal-close]")].forEach(t=>t==null?void 0:t.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",$e(this,mg,"f")),Er(this,Nh,!0)},oO=function(){if(!$e(this,Nh,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",$e(this,mg,"f")),!$e(this,kr,"f")))return;[...$e(this,kr,"f").querySelectorAll("[data-modal-close]")].forEach(t=>t==null?void 0:t.removeEventListener("click",this.close)),Er(this,Nh,!1)};const LH="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function M0(n){return window.btoa(String.fromCharCode.call(null,...n))}function _c(n){return new Uint8Array(window.atob(n).split("").map(e=>e.charCodeAt(0)))}var Ih,Xl,$_,K_,W_,Y_,Vd,di,fa,Nc,kh,Ll,gg,zd,yg,X_,wg,aO,Z_,bg,Ch,vg,Fd,_g,Oh,Hd,xg,Q_,J_,Eg,Ag,ex,tx,Sg;const cO="Mobile Wallet Adapter",DH=64,jH=[zi,Zn,Mc,su];class PH{constructor(e){Ih.add(this),Xl.set(this,{}),$_.set(this,"1.0.0"),K_.set(this,cO),W_.set(this,"https://solanamobile.com/wallets"),Y_.set(this,LH),Vd.set(this,void 0),di.set(this,void 0),fa.set(this,void 0),Nc.set(this,!1),kh.set(this,0),Ll.set(this,[]),gg.set(this,void 0),zd.set(this,void 0),yg.set(this,void 0),X_.set(this,(t,r)=>{var i;return!((i=$e(this,Xl,"f")[t])===null||i===void 0)&&i.push(r)||($e(this,Xl,"f")[t]=[r]),()=>$e(this,Ih,"m",aO).call(this,t,r)}),Z_.set(this,({silent:t}={})=>Wn(this,void 0,void 0,function*(){if($e(this,Nc,"f")||this.connected)return{accounts:this.accounts};Er(this,Nc,!0);try{if(t){const r=yield $e(this,fa,"f").get();if(r)yield $e(this,vg,"f").call(this,r.capabilities),yield $e(this,Ch,"f").call(this,r);else return{accounts:this.accounts}}else yield $e(this,bg,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{Er(this,Nc,!1)}return{accounts:this.accounts}})),bg.set(this,t=>Wn(this,void 0,void 0,function*(){try{const r=yield $e(this,fa,"f").get();if(r)return $e(this,Ch,"f").call(this,r),r;const i=yield $e(this,gg,"f").select($e(this,Ll,"f"));return yield $e(this,Oh,"f").call(this,s=>Wn(this,void 0,void 0,function*(){const[c,u]=yield Promise.all([s.getCapabilities(),s.authorize({chain:i,identity:$e(this,Vd,"f"),sign_in_payload:t})]),h=$e(this,xg,"f").call(this,u.accounts),d=Object.assign(Object.assign({},u),{accounts:h,chain:i,capabilities:c});return Promise.all([$e(this,vg,"f").call(this,c),$e(this,fa,"f").set(d),$e(this,Ch,"f").call(this,d)]),d}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),Ch.set(this,t=>Wn(this,void 0,void 0,function*(){var r;const i=$e(this,di,"f")==null||((r=$e(this,di,"f"))===null||r===void 0?void 0:r.accounts.length)!==t.accounts.length||$e(this,di,"f").accounts.some((s,c)=>s.address!==t.accounts[c].address);Er(this,di,t),i&&$e(this,Ih,"m",wg).call(this,"change",{accounts:this.accounts})})),vg.set(this,t=>Wn(this,void 0,void 0,function*(){const r=t.features.includes("solana:signTransactions"),i=t.supports_sign_and_send_transactions,s=zi in this.features!==i||Zn in this.features!==r;Er(this,zd,Object.assign(Object.assign({},(i||!i&&!r)&&{[zi]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:$e(this,Eg,"f")}}),r&&{[Zn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:$e(this,Ag,"f")}})),s&&$e(this,Ih,"m",wg).call(this,"change",{features:this.features})})),Fd.set(this,(t,r,i)=>Wn(this,void 0,void 0,function*(){var s,c;try{const[u,h]=yield Promise.all([(c=(s=$e(this,di,"f"))===null||s===void 0?void 0:s.capabilities)!==null&&c!==void 0?c:yield t.getCapabilities(),t.authorize({auth_token:r,identity:$e(this,Vd,"f"),chain:i})]),d=$e(this,xg,"f").call(this,h.accounts),p=Object.assign(Object.assign({},h),{accounts:d,chain:i,capabilities:u});Promise.all([$e(this,fa,"f").set(p),$e(this,Ch,"f").call(this,p)])}catch(u){throw $e(this,_g,"f").call(this),new Error(u instanceof Error&&u.message||"Unknown error")}})),_g.set(this,()=>Wn(this,void 0,void 0,function*(){var t;$e(this,fa,"f").clear(),Er(this,Nc,!1),Er(this,kh,(t=$e(this,kh,"f"),t++,t)),Er(this,di,void 0),$e(this,Ih,"m",wg).call(this,"change",{accounts:this.accounts})})),Oh.set(this,t=>Wn(this,void 0,void 0,function*(){var r;const i=(r=$e(this,di,"f"))===null||r===void 0?void 0:r.wallet_uri_base,s=i?{baseUri:i}:void 0,c=$e(this,kh,"f");try{return yield TH(t,s)}catch(u){throw $e(this,kh,"f")!==c&&(yield new Promise(()=>{})),u instanceof Error&&u.name==="SolanaMobileWalletAdapterError"&&u.code==="ERROR_WALLET_NOT_FOUND"&&(yield $e(this,yg,"f").call(this,this)),u}})),Hd.set(this,()=>{if(!$e(this,di,"f"))throw new Error("Wallet not connected");return{authToken:$e(this,di,"f").auth_token,chain:$e(this,di,"f").chain}}),xg.set(this,t=>t.map(r=>{var i,s;const c=_c(r.address);return{address:G_.encode(c),publicKey:c,label:r.label,icon:r.icon,chains:(i=r.chains)!==null&&i!==void 0?i:$e(this,Ll,"f"),features:(s=r.features)!==null&&s!==void 0?s:jH}})),Q_.set(this,t=>Wn(this,void 0,void 0,function*(){const{authToken:r,chain:i}=$e(this,Hd,"f").call(this);try{const s=t.map(c=>M0(c));return yield $e(this,Oh,"f").call(this,c=>Wn(this,void 0,void 0,function*(){return yield $e(this,Fd,"f").call(this,c,r,i),(yield c.signTransactions({payloads:s})).signed_payloads.map(_c)}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),J_.set(this,(t,r)=>Wn(this,void 0,void 0,function*(){const{authToken:i,chain:s}=$e(this,Hd,"f").call(this);try{return yield $e(this,Oh,"f").call(this,c=>Wn(this,void 0,void 0,function*(){const[u,h]=yield Promise.all([c.getCapabilities(),$e(this,Fd,"f").call(this,c,i,s)]);if(u.supports_sign_and_send_transactions){const d=M0(t);return(yield c.signAndSendTransactions(Object.assign(Object.assign({},r),{payloads:[d]}))).signatures.map(_c)[0]}else throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(c){throw new Error(c instanceof Error&&c.message||"Unknown error")}})),Eg.set(this,(...t)=>Wn(this,void 0,void 0,function*(){const r=[];for(const i of t){const s=yield $e(this,J_,"f").call(this,i.transaction,i.options);r.push({signature:s})}return r})),Ag.set(this,(...t)=>Wn(this,void 0,void 0,function*(){return(yield $e(this,Q_,"f").call(this,t.map(({transaction:r})=>r))).map(r=>({signedTransaction:r}))})),ex.set(this,(...t)=>Wn(this,void 0,void 0,function*(){const{authToken:r,chain:i}=$e(this,Hd,"f").call(this),s=t.map(({account:u})=>M0(u.publicKey)),c=t.map(({message:u})=>M0(u));try{return yield $e(this,Oh,"f").call(this,u=>Wn(this,void 0,void 0,function*(){return yield $e(this,Fd,"f").call(this,u,r,i),(yield u.signMessages({addresses:s,payloads:c})).signed_payloads.map(_c).map(d=>({signedMessage:d,signature:d.slice(-DH)}))}))}catch(u){throw new Error(u instanceof Error&&u.message||"Unknown error")}})),tx.set(this,(...t)=>Wn(this,void 0,void 0,function*(){const r=[];if(t.length>1)for(const i of t)r.push(yield $e(this,Sg,"f").call(this,i));else return[yield $e(this,Sg,"f").call(this,t[0])];return r})),Sg.set(this,t=>Wn(this,void 0,void 0,function*(){var r,i,s;Er(this,Nc,!0);try{const c=yield $e(this,bg,"f").call(this,Object.assign(Object.assign({},t),{domain:(r=t==null?void 0:t.domain)!==null&&r!==void 0?r:window.location.host}));if(!c.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const u=c.sign_in_result.address,h=c.accounts.find(d=>d.address==u);return{account:Object.assign(Object.assign({},h??{address:G_.encode(_c(u))}),{publicKey:_c(u),chains:(i=h==null?void 0:h.chains)!==null&&i!==void 0?i:$e(this,Ll,"f"),features:(s=h==null?void 0:h.features)!==null&&s!==void 0?s:c.capabilities.features}),signedMessage:_c(c.sign_in_result.signed_message),signature:_c(c.sign_in_result.signature)}}catch(c){throw new Error(c instanceof Error&&c.message||"Unknown error")}finally{Er(this,Nc,!1)}})),Er(this,fa,e.authorizationCache),Er(this,Vd,e.appIdentity),Er(this,Ll,e.chains),Er(this,gg,e.chainSelector),Er(this,yg,e.onWalletNotFound),Er(this,zd,{[zi]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:$e(this,Eg,"f")},[Zn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:$e(this,Ag,"f")}})}get version(){return $e(this,$_,"f")}get name(){return $e(this,K_,"f")}get url(){return $e(this,W_,"f")}get icon(){return $e(this,Y_,"f")}get chains(){return $e(this,Ll,"f")}get features(){return Object.assign({[GE]:{version:"1.0.0",connect:$e(this,Z_,"f")},[H_]:{version:"1.0.0",disconnect:$e(this,_g,"f")},[$E]:{version:"1.0.0",on:$e(this,X_,"f")},[Mc]:{version:"1.0.0",signMessage:$e(this,ex,"f")},[su]:{version:"1.0.0",signIn:$e(this,tx,"f")}},$e(this,zd,"f"))}get accounts(){var e,t;return(t=(e=$e(this,di,"f"))===null||e===void 0?void 0:e.accounts)!==null&&t!==void 0?t:[]}get connected(){return!!$e(this,di,"f")}get isAuthorized(){return!!$e(this,di,"f")}get currentAuthorization(){return $e(this,di,"f")}get cachedAuthorizationResult(){return $e(this,fa,"f").get()}}Xl=new WeakMap,$_=new WeakMap,K_=new WeakMap,W_=new WeakMap,Y_=new WeakMap,Vd=new WeakMap,di=new WeakMap,fa=new WeakMap,Nc=new WeakMap,kh=new WeakMap,Ll=new WeakMap,gg=new WeakMap,zd=new WeakMap,yg=new WeakMap,X_=new WeakMap,Z_=new WeakMap,bg=new WeakMap,Ch=new WeakMap,vg=new WeakMap,Fd=new WeakMap,_g=new WeakMap,Oh=new WeakMap,Hd=new WeakMap,xg=new WeakMap,Q_=new WeakMap,J_=new WeakMap,Eg=new WeakMap,Ag=new WeakMap,ex=new WeakMap,tx=new WeakMap,Sg=new WeakMap,Ih=new WeakSet,wg=function(e,...t){var r;(r=$e(this,Xl,"f")[e])===null||r===void 0||r.forEach(i=>i.apply(null,t))},aO=function(e,t){var r;$e(this,Xl,"f")[e]=(r=$e(this,Xl,"f")[e])===null||r===void 0?void 0:r.filter(i=>t!==i)};const UH="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",VH="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class zH extends BH{constructor(){super(...arguments),this.contentStyles=HH,this.contentHtml=FH}initWithError(e){super.init(),this.populateError(e)}populateError(e){var t,r;const i=(t=this.dom)===null||t===void 0?void 0:t.getElementById("mobile-wallet-adapter-error-message"),s=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-action");if(i){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":i.innerHTML=UH,s&&s.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":i.innerHTML=VH,s&&(s.style.display="none");return}i.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const FH=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,HH=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function qH(){return Wn(this,void 0,void 0,function*(){if(typeof window<"u"){const n=window.navigator.userAgent.toLowerCase(),e=new zH;n.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}const bv="SolanaMobileWalletAdapterDefaultAuthorizationCache";function GH(){let n;try{n=window.localStorage}catch{}return{clear(){return Wn(this,void 0,void 0,function*(){if(n)try{n.removeItem(bv)}catch{}})},get(){return Wn(this,void 0,void 0,function*(){if(n)try{const e=JSON.parse(n.getItem(bv));if(e&&e.accounts){const t=e.accounts.map(r=>Object.assign(Object.assign({},r),{publicKey:"publicKey"in r?new Uint8Array(Object.values(r.publicKey)):G_.decode(r.address)}));return Object.assign(Object.assign({},e),{accounts:t})}else return e||void 0}catch{}})},set(e){return Wn(this,void 0,void 0,function*(){if(n)try{n.setItem(bv,JSON.stringify(e))}catch{}})}}}function $H(){return{select(n){return Wn(this,void 0,void 0,function*(){return n.length===1?n[0]:n.includes(ry)?ry:n[0]})}}}function Ln(n,e,t,r){function i(s){return s instanceof t?s:new t(function(c){c(s)})}return new(t||(t=Promise))(function(s,c){function u(p){try{d(r.next(p))}catch(v){c(v)}}function h(p){try{d(r.throw(p))}catch(v){c(v)}}function d(p){p.done?s(p.value):i(p.value).then(u,h)}d((r=r.apply(n,[])).next())})}function St(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function es(n,e,t,r,i){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}const nx="standard:connect",KH="standard:disconnect",WH="standard:events";function vv(n){return window.btoa(String.fromCharCode.call(null,...n))}function YH(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var Pr,Xn,Bc,wa,Rg,pa,Dl,rx,ix,lO,sy,Tg,Oc;const Ng=cO,XH=64;function ZH(n){return"version"in n}function uO(n){switch(n){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return n}}class QH extends dF{constructor(e,t){super(),Pr.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),Xn.set(this,void 0),Bc.set(this,!1),wa.set(this,YH()?Jn.Loadable:Jn.Unsupported),Rg.set(this,void 0),pa.set(this,void 0),Dl.set(this,void 0),rx.set(this,r=>Ln(this,void 0,void 0,function*(){if(r.accounts&&r.accounts.length>0){St(this,Pr,"m",lO).call(this);const i=yield St(this,Rg,"f").call(this,r.accounts);i!==St(this,pa,"f")&&(es(this,pa,i),es(this,Dl,void 0),this.emit("connect",this.publicKey))}})),es(this,Rg,r=>Ln(this,void 0,void 0,function*(){var i;const s=yield t.addressSelector.select(r.map(({publicKey:c})=>vv(c)));return(i=r.find(({publicKey:c})=>vv(c)===s))!==null&&i!==void 0?i:r[0]})),es(this,Xn,e),St(this,Xn,"f").features[WH].on("change",St(this,rx,"f")),this.name=St(this,Xn,"f").name,this.icon=St(this,Xn,"f").icon,this.url=St(this,Xn,"f").url}get publicKey(){var e;if(!St(this,Dl,"f")&&St(this,pa,"f"))try{es(this,Dl,new xe(St(this,pa,"f").publicKey),"f")}catch(t){throw new q6(t instanceof Error&&(t==null?void 0:t.message)||"Unknown error",t)}return(e=St(this,Dl,"f"))!==null&&e!==void 0?e:null}get connected(){return St(this,Xn,"f").connected}get connecting(){return St(this,Bc,"f")}get readyState(){return St(this,wa,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return Ln(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return Ln(this,void 0,void 0,function*(){St(this,Pr,"m",ix).call(this,!0)})}connect(){return Ln(this,void 0,void 0,function*(){St(this,Pr,"m",ix).call(this)})}performAuthorization(e){return Ln(this,void 0,void 0,function*(){try{const t=yield St(this,Xn,"f").cachedAuthorizationResult;return t?(yield St(this,Xn,"f").features[nx].connect({silent:!0}),t):(e?yield St(this,Xn,"f").features[su].signIn(e):yield St(this,Xn,"f").features[nx].connect(),yield yield St(this,Xn,"f").cachedAuthorizationResult)}catch(t){throw new ny(t instanceof Error&&t.message||"Unknown error",t)}})}disconnect(){return Ln(this,void 0,void 0,function*(){return yield St(this,Pr,"m",Oc).call(this,()=>Ln(this,void 0,void 0,function*(){es(this,Bc,!1),es(this,Dl,void 0),es(this,pa,void 0),yield St(this,Xn,"f").features[KH].disconnect(),this.emit("disconnect")}))})}signIn(e){return Ln(this,void 0,void 0,function*(){return St(this,Pr,"m",Oc).call(this,()=>Ln(this,void 0,void 0,function*(){var t;if(St(this,wa,"f")!==Jn.Installed&&St(this,wa,"f")!==Jn.Loadable)throw new yp;es(this,Bc,!0);try{const r=yield St(this,Xn,"f").features[su].signIn(Object.assign(Object.assign({},e),{domain:(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:window.location.host}));if(r.length>0)return r[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(r){throw new ny(r instanceof Error&&r.message||"Unknown error",r)}finally{es(this,Bc,!1)}}))})}signMessage(e){return Ln(this,void 0,void 0,function*(){return yield St(this,Pr,"m",Oc).call(this,()=>Ln(this,void 0,void 0,function*(){const t=St(this,Pr,"m",sy).call(this);try{return(yield St(this,Xn,"f").features[Mc].signMessage({account:t,message:e}))[0].signature}catch(r){throw new G6(r==null?void 0:r.message,r)}}))})}sendTransaction(e,t,r){return Ln(this,void 0,void 0,function*(){return yield St(this,Pr,"m",Oc).call(this,()=>Ln(this,void 0,void 0,function*(){const i=St(this,Pr,"m",sy).call(this);try{let s=function(){let c;switch(t.commitment){case"confirmed":case"finalized":case"processed":c=t.commitment;break;default:c="finalized"}let u;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":u=r.preflightCommitment;break;case void 0:u=c;break;default:u="finalized"}return(u==="finalized"?2:u==="confirmed"?1:0)<(c==="finalized"?2:c==="confirmed"?1:0)?u:c};if(zi in St(this,Xn,"f").features){const c=uO(St(this,Xn,"f").currentAuthorization.chain),[u]=(yield St(this,Xn,"f").features[zi].signAndSendTransaction({account:i,transaction:e.serialize(),chain:c,options:r?{skipPreflight:r.skipPreflight,maxRetries:r.maxRetries}:void 0})).map((h=>vv(h.signature)));return u}else{const[c]=yield St(this,Pr,"m",Tg).call(this,[e]);if(ZH(c))return yield t.sendTransaction(c);{const u=c.serialize();return yield t.sendRawTransaction(u,Object.assign(Object.assign({},r),{preflightCommitment:s()}))}}}catch(s){throw new $l(s==null?void 0:s.message,s)}}))})}signTransaction(e){return Ln(this,void 0,void 0,function*(){return yield St(this,Pr,"m",Oc).call(this,()=>Ln(this,void 0,void 0,function*(){const[t]=yield St(this,Pr,"m",Tg).call(this,[e]);return t}))})}signAllTransactions(e){return Ln(this,void 0,void 0,function*(){return yield St(this,Pr,"m",Oc).call(this,()=>Ln(this,void 0,void 0,function*(){return yield St(this,Pr,"m",Tg).call(this,e)}))})}}Xn=new WeakMap,Bc=new WeakMap,wa=new WeakMap,Rg=new WeakMap,pa=new WeakMap,Dl=new WeakMap,rx=new WeakMap,Pr=new WeakSet,ix=function(e=!1){return Ln(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield St(this,Pr,"m",Oc).call(this,()=>Ln(this,void 0,void 0,function*(){if(St(this,wa,"f")!==Jn.Installed&&St(this,wa,"f")!==Jn.Loadable)throw new yp;es(this,Bc,!0);try{yield St(this,Xn,"f").features[nx].connect({silent:e})}catch(t){throw new ny(t instanceof Error&&t.message||"Unknown error",t)}finally{es(this,Bc,!1)}}))})},lO=function(){St(this,wa,"f")!==Jn.Installed&&this.emit("readyStateChange",es(this,wa,Jn.Installed))},sy=function(){if(!St(this,Xn,"f").isAuthorized||!St(this,pa,"f"))throw new xo;return St(this,pa,"f")},Tg=function(e){return Ln(this,void 0,void 0,function*(){const t=St(this,Pr,"m",sy).call(this);try{if(Zn in St(this,Xn,"f").features)return St(this,Xn,"f").features[Zn].signTransaction(...e.map(r=>({account:t,transaction:r.serialize()}))).then(r=>r.map(i=>{const s=i.signedTransaction,u=s[0]*XH+1;return zy.deserializeMessageVersion(s.slice(u,s.length))==="legacy"?Qt.from(s):sf.deserialize(s)}));throw new Error("Connected wallet does not support signing transactions")}catch(r){throw new Kl(r==null?void 0:r.message,r)}})},Oc=function(e){return Ln(this,void 0,void 0,function*(){try{return yield e()}catch(t){throw this.emit("error",t),t}})};class JH extends QH{constructor(e){var t;const r=uO((t=e.chain)!==null&&t!==void 0?t:e.cluster);super(new PH({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>Ln(this,void 0,void 0,function*(){return yield e.authorizationResultCache.get()}),clear:e.authorizationResultCache.clear},chains:[r],chainSelector:$H(),onWalletNotFound:()=>Ln(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:r})}}class eq extends JH{}function tq(){return{select(n){return Ln(this,void 0,void 0,function*(){return n[0]})}}}function nq(){return GH()}function rq(n){return Ln(this,void 0,void 0,function*(){return qH()})}function iq(){return rq}function sq(n,e){if(n===e)return!0;const t=n.length;if(t!==e.length)return!1;for(let r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}function oq(n){if(n.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let d=0;d<e.length;d++)e[d]=255;for(let d=0;d<n.length;d++){const p=n.charAt(d),v=p.charCodeAt(0);if(e[v]!==255)throw new TypeError(p+" is ambiguous");e[v]=d}const t=n.length,r=n.charAt(0),i=Math.log(t)/Math.log(256),s=Math.log(256)/Math.log(t);function c(d){if(d instanceof Uint8Array||(ArrayBuffer.isView(d)?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):Array.isArray(d)&&(d=Uint8Array.from(d))),!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(d.length===0)return"";let p=0,v=0,x=0;const y=d.length;for(;x!==y&&d[x]===0;)x++,p++;const S=(y-x)*s+1>>>0,k=new Uint8Array(S);for(;x!==y;){let j=d[x],O=0;for(let Q=S-1;(j!==0||O<v)&&Q!==-1;Q--,O++)j+=256*k[Q]>>>0,k[Q]=j%t>>>0,j=j/t>>>0;if(j!==0)throw new Error("Non-zero carry");v=O,x++}let I=S-v;for(;I!==S&&k[I]===0;)I++;let M=r.repeat(p);for(;I<S;++I)M+=n.charAt(k[I]);return M}function u(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;let p=0,v=0,x=0;for(;d[p]===r;)v++,p++;const y=(d.length-p)*i+1>>>0,S=new Uint8Array(y);for(;p<d.length;){const j=d.charCodeAt(p);if(j>255)return;let O=e[j];if(O===255)return;let Q=0;for(let oe=y-1;(O!==0||Q<x)&&oe!==-1;oe--,Q++)O+=t*S[oe]>>>0,S[oe]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");x=Q,p++}let k=y-x;for(;k!==y&&S[k]===0;)k++;const I=new Uint8Array(v+(y-k));let M=v;for(;k!==y;)I[M++]=S[k++];return I}function h(d){const p=u(d);if(p)return p;throw new Error("Non-base"+t+" character")}return{encode:c,decodeUnsafe:u,decode:h}}var aq="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const cq=oq(aq);var pt=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},Ar=function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},Zr,Di,Zl,Ql,jl,qd,oy,gn,ay,sx,Ig,ox,Qd,ax,vI,_I,xI,EI;class lq extends $6{get name(){return pt(this,gn,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return pt(this,gn,"f").icon}get readyState(){return pt(this,ay,"f")}get publicKey(){return pt(this,Zl,"f")}get connecting(){return pt(this,Ql,"f")}get supportedTransactionVersions(){return pt(this,oy,"f")}get wallet(){return pt(this,gn,"f")}get standard(){return!0}constructor({wallet:e}){super(),Zr.add(this),Di.set(this,void 0),Zl.set(this,void 0),Ql.set(this,void 0),jl.set(this,void 0),qd.set(this,void 0),oy.set(this,void 0),gn.set(this,void 0),ay.set(this,typeof window>"u"||typeof document>"u"?Jn.Unsupported:Jn.Installed),ax.set(this,t=>{if("accounts"in t){const r=pt(this,gn,"f").accounts[0];pt(this,Di,"f")&&!pt(this,jl,"f")&&r!==pt(this,Di,"f")&&(r?pt(this,Zr,"m",Ig).call(this,r):(this.emit("error",new lF),pt(this,Zr,"m",ox).call(this)))}"features"in t&&pt(this,Zr,"m",Qd).call(this)}),Ar(this,gn,e,"f"),Ar(this,Di,null,"f"),Ar(this,Zl,null,"f"),Ar(this,Ql,!1,"f"),Ar(this,jl,!1,"f"),Ar(this,qd,pt(this,gn,"f").features[$E].on("change",pt(this,ax,"f")),"f"),pt(this,Zr,"m",Qd).call(this)}destroy(){Ar(this,Di,null,"f"),Ar(this,Zl,null,"f"),Ar(this,Ql,!1,"f"),Ar(this,jl,!1,"f");const e=pt(this,qd,"f");e&&(Ar(this,qd,null,"f"),e())}async autoConnect(){return pt(this,Zr,"m",sx).call(this,{silent:!0})}async connect(){return pt(this,Zr,"m",sx).call(this)}async disconnect(){if(H_ in pt(this,gn,"f").features)try{Ar(this,jl,!0,"f"),await pt(this,gn,"f").features[H_].disconnect()}catch(e){this.emit("error",new uF(e==null?void 0:e.message,e))}finally{Ar(this,jl,!1,"f")}pt(this,Zr,"m",ox).call(this)}async sendTransaction(e,t,r={}){try{const i=pt(this,Di,"f");if(!i)throw new xo;let s;if(zi in pt(this,gn,"f").features)if(i.features.includes(zi))s=zi;else if(Zn in pt(this,gn,"f").features&&i.features.includes(Zn))s=Zn;else throw new Uh;else if(Zn in pt(this,gn,"f").features){if(!i.features.includes(Zn))throw new Uh;s=Zn}else throw new Pd;const c=FF(t.rpcEndpoint);if(!i.chains.includes(c))throw new $l;try{const{signers:u,...h}=r;let d;if(Wl(e)?(u!=null&&u.length&&e.sign(u),d=e.serialize()):(e=await this.prepareTransaction(e,t,h),u!=null&&u.length&&e.partialSign(...u),d=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),s===zi){const[p]=await pt(this,gn,"f").features[zi].signAndSendTransaction({account:i,chain:c,transaction:d,options:{preflightCommitment:dv(h.preflightCommitment||t.commitment),skipPreflight:h.skipPreflight,maxRetries:h.maxRetries,minContextSlot:h.minContextSlot}});return cq.encode(p.signature)}else{const[p]=await pt(this,gn,"f").features[Zn].signTransaction({account:i,chain:c,transaction:d,options:{preflightCommitment:dv(h.preflightCommitment||t.commitment),minContextSlot:h.minContextSlot}});return await t.sendRawTransaction(p.signedTransaction,{...h,preflightCommitment:dv(h.preflightCommitment||t.commitment)})}}catch(u){throw u instanceof Ei?u:new $l(u==null?void 0:u.message,u)}}catch(i){throw this.emit("error",i),i}}}Di=new WeakMap,Zl=new WeakMap,Ql=new WeakMap,jl=new WeakMap,qd=new WeakMap,oy=new WeakMap,gn=new WeakMap,ay=new WeakMap,ax=new WeakMap,Zr=new WeakSet,sx=async function(e){try{if(this.connected||this.connecting)return;if(pt(this,ay,"f")!==Jn.Installed)throw new yp;if(Ar(this,Ql,!0,"f"),!pt(this,gn,"f").accounts.length)try{await pt(this,gn,"f").features[GE].connect(e)}catch(r){throw new ny(r==null?void 0:r.message,r)}const t=pt(this,gn,"f").accounts[0];if(!t)throw new Uh;pt(this,Zr,"m",Ig).call(this,t)}catch(t){throw this.emit("error",t),t}finally{Ar(this,Ql,!1,"f")}},Ig=function(e){let t;try{t=new xe(e.address)}catch(r){throw new q6(r==null?void 0:r.message,r)}Ar(this,Di,e,"f"),Ar(this,Zl,t,"f"),pt(this,Zr,"m",Qd).call(this),this.emit("connect",t)},ox=function(){Ar(this,Di,null,"f"),Ar(this,Zl,null,"f"),pt(this,Zr,"m",Qd).call(this),this.emit("disconnect")},Qd=function(){var t,r;const e=zi in pt(this,gn,"f").features?pt(this,gn,"f").features[zi].supportedTransactionVersions:pt(this,gn,"f").features[Zn].supportedTransactionVersions;Ar(this,oy,sq(e,["legacy"])?null:new Set(e),"f"),Zn in pt(this,gn,"f").features&&((t=pt(this,Di,"f"))!=null&&t.features.includes(Zn))?(this.signTransaction=pt(this,Zr,"m",vI),this.signAllTransactions=pt(this,Zr,"m",_I)):(delete this.signTransaction,delete this.signAllTransactions),Mc in pt(this,gn,"f").features&&((r=pt(this,Di,"f"))!=null&&r.features.includes(Mc))?this.signMessage=pt(this,Zr,"m",xI):delete this.signMessage,su in pt(this,gn,"f").features?this.signIn=pt(this,Zr,"m",EI):delete this.signIn},vI=async function(e){try{const t=pt(this,Di,"f");if(!t)throw new xo;if(!(Zn in pt(this,gn,"f").features))throw new Pd;if(!t.features.includes(Zn))throw new Uh;try{const i=(await pt(this,gn,"f").features[Zn].signTransaction({account:t,transaction:Wl(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Wl(e)?sf.deserialize(i):Qt.from(i)}catch(r){throw r instanceof Ei?r:new Kl(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}},_I=async function(e){try{const t=pt(this,Di,"f");if(!t)throw new xo;if(!(Zn in pt(this,gn,"f").features))throw new Pd;if(!t.features.includes(Zn))throw new Uh;try{const r=await pt(this,gn,"f").features[Zn].signTransaction(...e.map(i=>({account:t,transaction:Wl(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((i,s)=>{const c=r[s].signedTransaction;return Wl(i)?sf.deserialize(c):Qt.from(c)})}catch(r){throw new Kl(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}},xI=async function(e){try{const t=pt(this,Di,"f");if(!t)throw new xo;if(!(Mc in pt(this,gn,"f").features))throw new Pd;if(!t.features.includes(Mc))throw new Uh;try{return(await pt(this,gn,"f").features[Mc].signMessage({account:t,message:e}))[0].signature}catch(r){throw new G6(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}},EI=async function(e={}){try{if(!(su in pt(this,gn,"f").features))throw new Pd;let t;try{[t]=await pt(this,gn,"f").features[su].signIn(e)}catch(r){throw new jN(r==null?void 0:r.message,r)}if(!t)throw new jN;return pt(this,Zr,"m",Ig).call(this,t.account),t}catch(t){throw this.emit("error",t),t}};const uq=pF;var hq=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},fq=function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},kg;let ts;const Yy=new Set;function dq(n){Jd=void 0,Yy.add(n)}function pq(n){Jd=void 0,Yy.delete(n)}const Vh={};function mq(){if(ts||(ts=Object.freeze({register:AI,get:gq,on:yq}),typeof window>"u"))return ts;const n=Object.freeze({register:AI});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(n))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new wq(n))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return ts}function AI(...n){var e;return n=n.filter(t=>!Yy.has(t)),n.length?(n.forEach(t=>dq(t)),(e=Vh.register)==null||e.forEach(t=>cx(()=>t(...n))),function(){var r;n.forEach(i=>pq(i)),(r=Vh.unregister)==null||r.forEach(i=>cx(()=>i(...n)))}):()=>{}}let Jd;function gq(){return Jd||(Jd=[...Yy]),Jd}function yq(n,e){var t;return(t=Vh[n])!=null&&t.push(e)||(Vh[n]=[e]),function(){var i;Vh[n]=(i=Vh[n])==null?void 0:i.filter(s=>e!==s)}}function cx(n){try{n()}catch(e){console.error(e)}}class wq extends Event{get detail(){return hq(this,kg,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),kg.set(this,void 0),fq(this,kg,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}kg=new WeakMap;function bq(){if(ts||(ts=mq(),typeof window>"u"))return ts;const n=window.navigator.wallets||[];if(!Array.isArray(n))return console.error("window.navigator.wallets is not an array"),ts;const{register:e}=ts,t=(...r)=>r.forEach(i=>cx(()=>i({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:t})})}catch{return console.error("window.navigator.wallets could not be set"),ts}return t(...n),ts}function vq(n){const e=SI(()=>new Set),{get:t,on:r}=SI(()=>bq()),[i,s]=ue.useState(()=>RI(t()));ue.useEffect(()=>{const u=[r("register",(...h)=>s(d=>[...d,...RI(h)])),r("unregister",(...h)=>s(d=>d.filter(p=>h.some(v=>v===p.wallet))))];return()=>u.forEach(h=>h())},[r]);const c=_q(i);return ue.useEffect(()=>{if(!c)return;const u=new Set(i);new Set(c.filter(d=>!u.has(d))).forEach(d=>d.destroy())},[c,i]),ue.useEffect(()=>()=>i.forEach(u=>u.destroy()),[]),ue.useMemo(()=>[...i,...n.filter(({name:u})=>i.some(h=>h.name===u)?(e.has(u)||(e.add(u),console.warn(`${u} was registered as a Standard Wallet. The Wallet Adapter for ${u} can be removed from your app.`)),!1):!0)],[i,n,e])}function SI(n){const e=ue.useRef(void 0);return e.current===void 0&&(e.current={value:n()}),e.current.value}function _q(n){const e=ue.useRef(void 0);return ue.useEffect(()=>{e.current=n}),e.current}function RI(n){return n.filter(uq).map(e=>new lq({wallet:e}))}var Yh;(function(n){n[n.DESKTOP_WEB=0]="DESKTOP_WEB",n[n.MOBILE_WEB=1]="MOBILE_WEB"})(Yh||(Yh={}));function xq(n){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(n)}function Eq({adapters:n,userAgentString:e}){return n.some(t=>t.name!==Ng&&t.readyState===Jn.Installed)?Yh.DESKTOP_WEB:e&&/android/i.test(e)&&!xq(e)?Yh.MOBILE_WEB:Yh.DESKTOP_WEB}function Aq(n){return n?/devnet/i.test(n)?"devnet":/testnet/i.test(n)?"testnet":"mainnet-beta":"mainnet-beta"}function Sq({children:n,wallets:e,adapter:t,isUnloadingRef:r,onAutoConnectRequest:i,onConnectError:s,onError:c,onSelectWallet:u}){const h=ue.useRef(!1),[d,p]=ue.useState(!1),v=ue.useRef(!1),[x,y]=ue.useState(!1),[S,k]=ue.useState(()=>(t==null?void 0:t.publicKey)??null),[I,M]=ue.useState(()=>(t==null?void 0:t.connected)??!1),j=ue.useRef(c);ue.useEffect(()=>(j.current=c,()=>{j.current=void 0}),[c]);const O=ue.useRef((R,C)=>(r.current||(j.current?j.current(R,C):(console.error(R,C),R instanceof yp&&typeof window<"u"&&C&&window.open(C.url,"_blank"))),R)),[Q,oe]=ue.useState(()=>e.map(R=>({adapter:R,readyState:R.readyState})).filter(({readyState:R})=>R!==Jn.Unsupported));ue.useEffect(()=>{oe(C=>e.map((Y,te)=>{const Z=C[te];return Z&&Z.adapter===Y&&Z.readyState===Y.readyState?Z:{adapter:Y,readyState:Y.readyState}}).filter(({readyState:Y})=>Y!==Jn.Unsupported));function R(C){oe(Y=>{const te=Y.findIndex(({adapter:D})=>D===this);if(te===-1)return Y;const{adapter:Z}=Y[te];return[...Y.slice(0,te),{adapter:Z,readyState:C},...Y.slice(te+1)].filter(({readyState:D})=>D!==Jn.Unsupported)})}return e.forEach(C=>C.on("readyStateChange",R,C)),()=>{e.forEach(C=>C.off("readyStateChange",R,C))}},[t,e]);const ce=ue.useMemo(()=>Q.find(R=>R.adapter===t)??null,[t,Q]);ue.useEffect(()=>{if(!t)return;const R=te=>{k(te),h.current=!1,p(!1),M(!0),v.current=!1,y(!1)},C=()=>{r.current||(k(null),h.current=!1,p(!1),M(!1),v.current=!1,y(!1))},Y=te=>{O.current(te,t)};return t.on("connect",R),t.on("disconnect",C),t.on("error",Y),()=>{t.off("connect",R),t.off("disconnect",C),t.off("error",Y),C()}},[t,r]);const W=ue.useRef(!1);ue.useEffect(()=>()=>{W.current=!1},[t]),ue.useEffect(()=>{W.current||h.current||I||!i||!((ce==null?void 0:ce.readyState)===Jn.Installed||(ce==null?void 0:ce.readyState)===Jn.Loadable)||(h.current=!0,p(!0),W.current=!0,(async function(){try{await i()}catch{s()}finally{p(!1),h.current=!1}})())},[I,i,s,ce]);const K=ue.useCallback(async(R,C,Y)=>{if(!t)throw O.current(new PN);if(!I)throw O.current(new xo,t);return await t.sendTransaction(R,C,Y)},[t,I]),B=ue.useMemo(()=>t&&"signTransaction"in t?async R=>{if(!I)throw O.current(new xo,t);return await t.signTransaction(R)}:void 0,[t,I]),U=ue.useMemo(()=>t&&"signAllTransactions"in t?async R=>{if(!I)throw O.current(new xo,t);return await t.signAllTransactions(R)}:void 0,[t,I]),q=ue.useMemo(()=>t&&"signMessage"in t?async R=>{if(!I)throw O.current(new xo,t);return await t.signMessage(R)}:void 0,[t,I]),L=ue.useMemo(()=>t&&"signIn"in t?async R=>await t.signIn(R):void 0,[t]),T=ue.useCallback(async()=>{if(h.current||v.current||ce!=null&&ce.adapter.connected)return;if(!ce)throw O.current(new PN);const{adapter:R,readyState:C}=ce;if(!(C===Jn.Installed||C===Jn.Loadable))throw O.current(new yp,R);h.current=!0,p(!0);try{await R.connect()}catch(Y){throw s(),Y}finally{p(!1),h.current=!1}},[s,ce]),g=ue.useCallback(async()=>{if(!v.current&&t){v.current=!0,y(!0);try{await t.disconnect()}finally{y(!1),v.current=!1}}},[t]);return We.createElement(K6.Provider,{value:{autoConnect:!!i,wallets:Q,wallet:ce,publicKey:S,connected:I,connecting:d,disconnecting:x,select:u,connect:T,disconnect:g,sendTransaction:K,signTransaction:B,signAllTransactions:U,signMessage:q,signIn:L}},n)}let _v;function Rq(){var n;return _v===void 0&&(_v=((n=globalThis.navigator)==null?void 0:n.userAgent)??null),_v}function TI(n){const e=Rq();return Eq({adapters:n,userAgentString:e})===Yh.MOBILE_WEB}function Tq(){const n=globalThis.location;if(n)return`${n.protocol}//${n.host}`}function Nq({children:n,wallets:e,autoConnect:t,localStorageKey:r="walletName",onError:i}){const{connection:s}=qE(),c=vq(e),u=ue.useMemo(()=>{if(!TI(c))return null;const j=c.find(O=>O.name===Ng);return j||new eq({addressSelector:tq(),appIdentity:{uri:Tq()},authorizationResultCache:nq(),cluster:Aq(s==null?void 0:s.rpcEndpoint),onWalletNotFound:iq()})},[c,s==null?void 0:s.rpcEndpoint]),h=ue.useMemo(()=>u==null||c.indexOf(u)!==-1?c:[u,...c],[c,u]),[d,p]=gF(r,null),v=ue.useMemo(()=>h.find(j=>j.name===d)??null,[h,d]),x=ue.useCallback(j=>{d!==j&&(v&&v.name!==Ng&&v.disconnect(),p(j))},[v,p,d]);ue.useEffect(()=>{if(!v)return;function j(){k.current||p(null)}return v.on("disconnect",j),()=>{v.off("disconnect",j)}},[v,c,p,d]);const y=ue.useRef(!1),S=ue.useMemo(()=>{if(!(!t||!v))return async()=>{(t===!0||await t(v))&&(y.current?await v.connect():await v.autoConnect())}},[t,v]),k=ue.useRef(!1);ue.useEffect(()=>{if(d===Ng&&TI(c)){k.current=!1;return}function j(){k.current=!0}return window.addEventListener("beforeunload",j),()=>{window.removeEventListener("beforeunload",j)}},[c,d]);const I=ue.useCallback(()=>{v&&x(null)},[v,x]),M=ue.useCallback(j=>{y.current=!0,x(j)},[x]);return We.createElement(Sq,{wallets:h,adapter:v,isUnloadingRef:k,onAutoConnectRequest:S,onConnectError:I,onError:i,onSelectWallet:M},n)}const Iq=n=>We.createElement("button",{className:`wallet-adapter-button ${n.className||""}`,disabled:n.disabled,style:n.style,onClick:n.onClick,tabIndex:n.tabIndex||0,type:"button"},n.startIcon&&We.createElement("i",{className:"wallet-adapter-button-start-icon"},n.startIcon),n.children,n.endIcon&&We.createElement("i",{className:"wallet-adapter-button-end-icon"},n.endIcon)),kq=({wallet:n,...e})=>n&&We.createElement("img",{src:n.adapter.icon,alt:`${n.adapter.name} icon`,...e}),NI=({id:n,children:e,expanded:t=!1})=>{const r=ue.useRef(null),i=ue.useRef(!0),s="height 250ms ease-out",c=()=>{const h=r.current;h&&requestAnimationFrame(()=>{h.style.height=h.scrollHeight+"px"})},u=()=>{const h=r.current;h&&requestAnimationFrame(()=>{h.style.height=h.offsetHeight+"px",h.style.overflow="hidden",requestAnimationFrame(()=>{h.style.height="0"})})};return ue.useLayoutEffect(()=>{t?c():u()},[t]),ue.useLayoutEffect(()=>{const h=r.current;if(!h)return;function d(){h&&(h.style.overflow=t?"initial":"hidden",t&&(h.style.height="auto"))}function p(v){h&&v.target===h&&v.propertyName==="height"&&d()}return i.current&&(d(),i.current=!1),h.addEventListener("transitionend",p),()=>h.removeEventListener("transitionend",p)},[t]),We.createElement("div",{className:"wallet-adapter-collapse",id:n,ref:r,role:"region",style:{height:0,transition:i.current?void 0:s}},e)},xv=({handleClick:n,tabIndex:e,wallet:t})=>We.createElement("li",null,We.createElement(Iq,{onClick:n,startIcon:We.createElement(kq,{wallet:t}),tabIndex:e},t.adapter.name,t.readyState===Jn.Installed&&We.createElement("span",null,"Detected"))),Cq=()=>We.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},We.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),We.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),We.createElement("g",{clipPath:"url(#clip0_880_5115)"},We.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),We.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),We.createElement("defs",null,We.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},We.createElement("stop",{stopColor:"#9945FF"}),We.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),We.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),We.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),We.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),We.createElement("stop",{offset:"1",stopColor:"#00D18C"})),We.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},We.createElement("stop",{stopColor:"#9945FF"}),We.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),We.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),We.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),We.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),We.createElement("stop",{offset:"1",stopColor:"#00D18C"})),We.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},We.createElement("stop",{stopColor:"#9945FF"}),We.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),We.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),We.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),We.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),We.createElement("stop",{offset:"1",stopColor:"#00D18C"})),We.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},We.createElement("stop",{stopColor:"#9945FF"}),We.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),We.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),We.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),We.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),We.createElement("stop",{offset:"1",stopColor:"#00D18C"})),We.createElement("clipPath",{id:"clip0_880_5115"},We.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),Oq=({className:n="",container:e="body"})=>{const t=ue.useRef(null),{wallets:r,select:i}=vf(),{setVisible:s}=fE(),[c,u]=ue.useState(!1),[h,d]=ue.useState(!1),[p,v]=ue.useState(null),[x,y]=ue.useMemo(()=>{const O=[],Q=[];for(const oe of r)oe.readyState===Jn.Installed?O.push(oe):Q.push(oe);return O.length?[O,Q]:[Q,[]]},[r]),S=ue.useCallback(()=>{d(!1),setTimeout(()=>s(!1),150)},[s]),k=ue.useCallback(O=>{O.preventDefault(),S()},[S]),I=ue.useCallback((O,Q)=>{i(Q),k(O)},[i,k]),M=ue.useCallback(()=>u(!c),[c]),j=ue.useCallback(O=>{const Q=t.current;if(!Q)return;const oe=Q.querySelectorAll("button"),ce=oe[0],W=oe[oe.length-1];O.shiftKey?document.activeElement===ce&&(W.focus(),O.preventDefault()):document.activeElement===W&&(ce.focus(),O.preventDefault())},[t]);return ue.useLayoutEffect(()=>{const O=oe=>{oe.key==="Escape"?S():oe.key==="Tab"&&j(oe)},{overflow:Q}=window.getComputedStyle(document.body);return setTimeout(()=>d(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",O,!1),()=>{document.body.style.overflow=Q,window.removeEventListener("keydown",O,!1)}},[S,j]),ue.useLayoutEffect(()=>v(document.querySelector(e)),[e]),p&&eU.createPortal(We.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${h&&"wallet-adapter-modal-fade-in"} ${n}`,ref:t,role:"dialog"},We.createElement("div",{className:"wallet-adapter-modal-container"},We.createElement("div",{className:"wallet-adapter-modal-wrapper"},We.createElement("button",{onClick:k,className:"wallet-adapter-modal-button-close"},We.createElement("svg",{width:"14",height:"14"},We.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),x.length?We.createElement(We.Fragment,null,We.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),We.createElement("ul",{className:"wallet-adapter-modal-list"},x.map(O=>We.createElement(xv,{key:O.adapter.name,handleClick:Q=>I(Q,O.adapter.name),wallet:O})),y.length?We.createElement(NI,{expanded:c,id:"wallet-adapter-modal-collapse"},y.map(O=>We.createElement(xv,{key:O.adapter.name,handleClick:Q=>I(Q,O.adapter.name),tabIndex:c?0:-1,wallet:O}))):null),y.length?We.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:M,tabIndex:0},We.createElement("span",null,c?"Less ":"More ","options"),We.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${c?"wallet-adapter-modal-list-more-icon-rotate":""}`},We.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):We.createElement(We.Fragment,null,We.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),We.createElement("div",{className:"wallet-adapter-modal-middle"},We.createElement(Cq,null)),y.length?We.createElement(We.Fragment,null,We.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:M,tabIndex:0},We.createElement("span",null,c?"Hide ":"Already have a wallet? View ","options"),We.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${c?"wallet-adapter-modal-list-more-icon-rotate":""}`},We.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),We.createElement(NI,{expanded:c,id:"wallet-adapter-modal-collapse"},We.createElement("ul",{className:"wallet-adapter-modal-list"},y.map(O=>We.createElement(xv,{key:O.adapter.name,handleClick:Q=>I(Q,O.adapter.name),tabIndex:c?0:-1,wallet:O}))))):null))),We.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:k})),p)},Mq=({children:n,...e})=>{const[t,r]=ue.useState(!1);return We.createElement(_3.Provider,{value:{visible:t,setVisible:r}},n,t&&We.createElement(Oq,{...e}))},WE={GORBAGANA:"https://rpc.trashscan.io",SOLANA_MAINNET:"https://api.mainnet-beta.solana.com",SOLANA_DEVNET:"https://api.devnet.solana.com"},YE={GORBAGANA:"https://trashscan.io",SOLANA_MAINNET:"https://explorer.solana.com",SOLANA_DEVNET:"https://explorer.solana.com"},Xc={name:"Gorbagana",chainId:"gorbagana-mainnet",rpcEndpoint:WE.GORBAGANA,explorerUrl:YE.GORBAGANA,currency:{symbol:"GOR",decimals:9,displaySymbol:"G"},networkLabel:"Gorbagana_L2",tpsLabel:"GPS",programId:"FreEcfZtek5atZJCJ1ER8kGLXB1C17WKWXqsVcsn1kPq"},Bq={name:"Solana",chainId:"solana-mainnet",rpcEndpoint:WE.SOLANA_MAINNET,explorerUrl:YE.SOLANA_MAINNET,currency:{symbol:"SOL",decimals:9,displaySymbol:"SOL"},networkLabel:"Solana_Mainnet",tpsLabel:"TPS",programId:null,sgorMint:"71Jvq4Epe2FCJ7JFSF7jLXdNk1Wy4Bhqd9iL6bEFELvg"},Lq={name:"Solana Devnet",chainId:"solana-devnet",rpcEndpoint:WE.SOLANA_DEVNET,explorerUrl:YE.SOLANA_DEVNET,currency:{symbol:"SOL",decimals:9,displaySymbol:"SOL"},networkLabel:"Solana_Devnet",tpsLabel:"TPS",programId:"66xqiDYSQZh7A3wyS3n2962Fx1aU8N3nbHjaZUCrXq6M",sgorMint:"5b2P7TQTDQG4nUzrUUSAuv92NT85Ka4oBFXWcTs9A5zk",testTokenAccount:"B7HJE8XsmZmvAAts7yvFoeEuTP2T5LJVg7cMWYVZKtCB"},hO=ue.createContext(void 0),Dq=({children:n})=>{const[e,t]=ue.useState("GORBAGANA"),r=ue.useMemo(()=>{switch(e){case"SOLANA_MAINNET":return Bq;case"SOLANA_DEVNET":return Lq;case"GORBAGANA":default:return Xc}},[e]),i=e==="GORBAGANA"?"GOR":"SOL",s=r.currency.displaySymbol,c=r.networkLabel,u=r.tpsLabel,h=e==="GORBAGANA"?"text-magic-green":"text-purple-400",d=r.rpcEndpoint,p=r.explorerUrl,v=r.programId,x=e==="GORBAGANA",y=e==="SOLANA_MAINNET"||e==="SOLANA_DEVNET",S=e==="SOLANA_DEVNET",k=ue.useCallback((M,j)=>{const O=r.explorerUrl;if(e==="GORBAGANA")switch(M){case"tx":return`${O}/tx/${j}`;case"address":return`${O}/address/${j}`;case"token":return`${O}/token/${j}`;default:return O}else{const Q=S?"?cluster=devnet":"";switch(M){case"tx":return`${O}/tx/${j}${Q}`;case"address":return`${O}/address/${j}${Q}`;case"token":return`${O}/token/${j}${Q}`;default:return O}}},[e,r.explorerUrl,S]),I=ue.useMemo(()=>({currentNetwork:e,network:i,currency:s,networkName:c,tpsLabel:u,accentColor:h,rpcEndpoint:d,explorerUrl:p,programId:v,setNetwork:t,isGorbagana:x,isSolana:y,isDevnet:S,getExplorerLink:k}),[e,i,s,c,u,h,d,p,v,x,y,S,k]);return m.jsx(hO.Provider,{value:I,children:n})},is=()=>{const n=ue.useContext(hO);if(!n)throw new Error("useNetwork must be used within NetworkProvider");return n},fO=ue.createContext(void 0),Ev=n=>{var e;if(typeof window>"u")return!1;switch(n){case"backpack":return!!((e=window.backpack)!=null&&e.gorbagana)||!!window.backpack;case"gorbag":return!!window.gorbag||!!window.gorbagWallet;default:return!1}},Av=n=>{var e;if(typeof window>"u")return null;switch(n){case"backpack":return((e=window.backpack)==null?void 0:e.gorbagana)||window.backpack;case"gorbag":return window.gorbag||window.gorbagWallet;default:return null}},jq=({children:n})=>{const[e,t]=ue.useState({connected:!1,address:null,walletType:null,balance:null}),[r,i]=ue.useState(!1),[s,c]=ue.useState(null),u=ue.useMemo(()=>[{id:"backpack",name:"Backpack",icon:"",installed:Ev("backpack")},{id:"gorbag",name:"Gorbag Wallet",icon:"",installed:Ev("gorbag")}],[]),h=ue.useCallback(y=>!y||y.length<8?y:`${y.slice(0,4)}...${y.slice(-4)}`,[]),d=ue.useCallback(async y=>{var S;try{const I=await(await fetch(Xc.rpcEndpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"getBalance",params:[y]})})).json();return((S=I.result)==null?void 0:S.value)!==void 0?I.result.value/Math.pow(10,Xc.currency.decimals):null}catch(k){return console.error("Failed to fetch balance:",k),null}},[]),p=ue.useCallback(async y=>{var S;if(y){i(!0),c(null);try{const k=Av(y);if(!k){const O={backpack:"https://www.backpack.app/",gorbag:"https://gorbagana.wtf/wallet"};throw new Error(`${y==="backpack"?"Backpack":"Gorbag Wallet"} not detected. Please install it from ${O[y]}`)}const I=await k.connect(),M=((S=I==null?void 0:I.publicKey)==null?void 0:S.toString())||(I==null?void 0:I.address)||I;if(!M)throw new Error("Failed to get wallet address");const j=await d(M);t({connected:!0,address:M,walletType:y,balance:j}),localStorage.setItem("gorbagana_last_wallet",y)}catch(k){console.error("Wallet connection error:",k),c(k.message||"Failed to connect wallet"),t({connected:!1,address:null,walletType:null,balance:null})}finally{i(!1)}}},[d]),v=ue.useRef(null);v.current=e.walletType;const x=ue.useCallback(()=>{const y=Av(v.current);if(y!=null&&y.disconnect)try{y.disconnect()}catch(S){console.error("Error disconnecting:",S)}t({connected:!1,address:null,walletType:null,balance:null}),localStorage.removeItem("gorbagana_last_wallet"),c(null)},[]);return ue.useEffect(()=>{const y=localStorage.getItem("gorbagana_last_wallet");if(y&&Ev(y)){const S=setTimeout(()=>{p(y)},500);return()=>clearTimeout(S)}},[p]),ue.useEffect(()=>{var S,k;const y=Av(e.walletType);if(y&&e.connected){const I=()=>{p(e.walletType)},M=()=>{x()};return(S=y.on)==null||S.call(y,"accountChanged",I),(k=y.on)==null||k.call(y,"disconnect",M),()=>{var j,O;(j=y.off)==null||j.call(y,"accountChanged",I),(O=y.off)==null||O.call(y,"disconnect",M)}}},[e.walletType,e.connected,p,x]),m.jsx(fO.Provider,{value:{...e,connect:p,disconnect:x,isConnecting:r,error:s,formatAddress:h,availableWallets:u},children:n})},Pq=()=>{const n=ue.useContext(fO);if(!n)throw new Error("useWallet must be used within WalletProvider");return n};var Sv,II;function Uq(){if(II)return Sv;II=1;var n=X3().Buffer;function e(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var s=0;s<t.length;s++){var c=t.charAt(s),u=c.charCodeAt(0);if(r[u]!==255)throw new TypeError(c+" is ambiguous");r[u]=s}var h=t.length,d=t.charAt(0),p=Math.log(h)/Math.log(256),v=Math.log(256)/Math.log(h);function x(k){if((Array.isArray(k)||k instanceof Uint8Array)&&(k=n.from(k)),!n.isBuffer(k))throw new TypeError("Expected Buffer");if(k.length===0)return"";for(var I=0,M=0,j=0,O=k.length;j!==O&&k[j]===0;)j++,I++;for(var Q=(O-j)*v+1>>>0,oe=new Uint8Array(Q);j!==O;){for(var ce=k[j],W=0,K=Q-1;(ce!==0||W<M)&&K!==-1;K--,W++)ce+=256*oe[K]>>>0,oe[K]=ce%h>>>0,ce=ce/h>>>0;if(ce!==0)throw new Error("Non-zero carry");M=W,j++}for(var B=Q-M;B!==Q&&oe[B]===0;)B++;for(var U=d.repeat(I);B<Q;++B)U+=t.charAt(oe[B]);return U}function y(k){if(typeof k!="string")throw new TypeError("Expected String");if(k.length===0)return n.alloc(0);for(var I=0,M=0,j=0;k[I]===d;)M++,I++;for(var O=(k.length-I)*p+1>>>0,Q=new Uint8Array(O);I<k.length;){var oe=k.charCodeAt(I);if(oe>255)return;var ce=r[oe];if(ce===255)return;for(var W=0,K=O-1;(ce!==0||W<j)&&K!==-1;K--,W++)ce+=h*Q[K]>>>0,Q[K]=ce%256>>>0,ce=ce/256>>>0;if(ce!==0)throw new Error("Non-zero carry");j=W,I++}for(var B=O-j;B!==O&&Q[B]===0;)B++;var U=n.allocUnsafe(M+(O-B));U.fill(0,0,M);for(var q=M;B!==O;)U[q++]=Q[B++];return U}function S(k){var I=y(k);if(I)return I;throw new Error("Non-base"+h+" character")}return{encode:x,decodeUnsafe:y,decode:S}}return Sv=e,Sv}var Rv,kI;function Vq(){if(kI)return Rv;kI=1;var n=Uq(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return Rv=n(e),Rv}var zq=Vq();const ep=Mo(zq);var B0={exports:{}},CI;function Fq(){if(CI)return B0.exports;CI=1;const n=/[\p{Lu}]/u,e=/[\p{Ll}]/u,t=/^[\p{Lu}](?![\p{Lu}])/gu,r=/([\p{Alpha}\p{N}_]|$)/u,i=/[_.\- ]+/,s=new RegExp("^"+i.source),c=new RegExp(i.source+r.source,"gu"),u=new RegExp("\\d+"+r.source,"gu"),h=(x,y,S)=>{let k=!1,I=!1,M=!1;for(let j=0;j<x.length;j++){const O=x[j];k&&n.test(O)?(x=x.slice(0,j)+"-"+x.slice(j),k=!1,M=I,I=!0,j++):I&&M&&e.test(O)?(x=x.slice(0,j-1)+"-"+x.slice(j-1),M=I,I=!1,k=!0):(k=y(O)===O&&S(O)!==O,M=I,I=S(O)===O&&y(O)!==O)}return x},d=(x,y)=>(t.lastIndex=0,x.replace(t,S=>y(S))),p=(x,y)=>(c.lastIndex=0,u.lastIndex=0,x.replace(c,(S,k)=>y(k)).replace(u,S=>y(S))),v=(x,y)=>{if(!(typeof x=="string"||Array.isArray(x)))throw new TypeError("Expected the input to be `string | string[]`");if(y={pascalCase:!1,preserveConsecutiveUppercase:!1,...y},Array.isArray(x)?x=x.map(M=>M.trim()).filter(M=>M.length).join("-"):x=x.trim(),x.length===0)return"";const S=y.locale===!1?M=>M.toLowerCase():M=>M.toLocaleLowerCase(y.locale),k=y.locale===!1?M=>M.toUpperCase():M=>M.toLocaleUpperCase(y.locale);return x.length===1?y.pascalCase?k(x):S(x):(x!==S(x)&&(x=h(x,S,k)),x=x.replace(s,""),y.preserveConsecutiveUppercase?x=d(x,S):x=S(x),y.pascalCase&&(x=k(x.charAt(0))+x.slice(1)),p(x,k))};return B0.exports=v,B0.exports.default=v,B0.exports}var Hq=Fq();const qq=Mo(Hq);var Rd={},rt={},OI;function MI(){if(OI)return rt;OI=1;class n{constructor(D,A){if(!Number.isInteger(D))throw new TypeError("span must be an integer");this.span=D,this.property=A}makeDestinationObject(){return{}}decode(D,A){throw new Error("Layout is abstract")}encode(D,A,w){throw new Error("Layout is abstract")}getSpan(D,A){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(D){const A=Object.create(this.constructor.prototype);return Object.assign(A,this),A.property=D,A}fromArray(D){}}rt.Layout=n;function e(Z,D){return D.property?Z+"["+D.property+"]":Z}rt.nameWithProperty=e;function t(Z,D){if(typeof Z!="function")throw new TypeError("Class must be constructor");if(Z.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(D&&D instanceof n))throw new TypeError("layout must be a Layout");if(D.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");Z.layout_=D,D.boundConstructor_=Z,D.makeDestinationObject=(()=>new Z),Object.defineProperty(Z.prototype,"encode",{value:function(A,w){return D.encode(this,A,w)},writable:!0}),Object.defineProperty(Z,"decode",{value:function(A,w){return D.decode(A,w)},writable:!0})}rt.bindConstructorLayout=t;class r extends n{isCount(){throw new Error("ExternalLayout is abstract")}}class i extends r{constructor(D,A){if(D===void 0&&(D=1),!Number.isInteger(D)||0>=D)throw new TypeError("elementSpan must be a (positive) integer");super(-1,A),this.elementSpan=D}isCount(){return!0}decode(D,A){A===void 0&&(A=0);const w=D.length-A;return Math.floor(w/this.elementSpan)}encode(D,A,w){return 0}}class s extends r{constructor(D,A,w){if(!(D instanceof n))throw new TypeError("layout must be a Layout");if(A===void 0)A=0;else if(!Number.isInteger(A))throw new TypeError("offset must be integer or undefined");super(D.span,w||D.property),this.layout=D,this.offset=A}isCount(){return this.layout instanceof c||this.layout instanceof u}decode(D,A){return A===void 0&&(A=0),this.layout.decode(D,A+this.offset)}encode(D,A,w){return w===void 0&&(w=0),this.layout.encode(D,A,w+this.offset)}}class c extends n{constructor(D,A){if(super(D,A),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(D,A){return A===void 0&&(A=0),D.readUIntLE(A,this.span)}encode(D,A,w){return w===void 0&&(w=0),A.writeUIntLE(D,w,this.span),this.span}}class u extends n{constructor(D,A){if(super(D,A),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(D,A){return A===void 0&&(A=0),D.readUIntBE(A,this.span)}encode(D,A,w){return w===void 0&&(w=0),A.writeUIntBE(D,w,this.span),this.span}}class h extends n{constructor(D,A){if(super(D,A),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(D,A){return A===void 0&&(A=0),D.readIntLE(A,this.span)}encode(D,A,w){return w===void 0&&(w=0),A.writeIntLE(D,w,this.span),this.span}}class d extends n{constructor(D,A){if(super(D,A),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(D,A){return A===void 0&&(A=0),D.readIntBE(A,this.span)}encode(D,A,w){return w===void 0&&(w=0),A.writeIntBE(D,w,this.span),this.span}}const p=Math.pow(2,32);function v(Z){const D=Math.floor(Z/p),A=Z-D*p;return{hi32:D,lo32:A}}function x(Z,D){return Z*p+D}class y extends n{constructor(D){super(8,D)}decode(D,A){A===void 0&&(A=0);const w=D.readUInt32LE(A),E=D.readUInt32LE(A+4);return x(E,w)}encode(D,A,w){w===void 0&&(w=0);const E=v(D);return A.writeUInt32LE(E.lo32,w),A.writeUInt32LE(E.hi32,w+4),8}}class S extends n{constructor(D){super(8,D)}decode(D,A){A===void 0&&(A=0);const w=D.readUInt32BE(A),E=D.readUInt32BE(A+4);return x(w,E)}encode(D,A,w){w===void 0&&(w=0);const E=v(D);return A.writeUInt32BE(E.hi32,w),A.writeUInt32BE(E.lo32,w+4),8}}class k extends n{constructor(D){super(8,D)}decode(D,A){A===void 0&&(A=0);const w=D.readUInt32LE(A),E=D.readInt32LE(A+4);return x(E,w)}encode(D,A,w){w===void 0&&(w=0);const E=v(D);return A.writeUInt32LE(E.lo32,w),A.writeInt32LE(E.hi32,w+4),8}}class I extends n{constructor(D){super(8,D)}decode(D,A){A===void 0&&(A=0);const w=D.readInt32BE(A),E=D.readUInt32BE(A+4);return x(w,E)}encode(D,A,w){w===void 0&&(w=0);const E=v(D);return A.writeInt32BE(E.hi32,w),A.writeUInt32BE(E.lo32,w+4),8}}class M extends n{constructor(D){super(4,D)}decode(D,A){return A===void 0&&(A=0),D.readFloatLE(A)}encode(D,A,w){return w===void 0&&(w=0),A.writeFloatLE(D,w),4}}class j extends n{constructor(D){super(4,D)}decode(D,A){return A===void 0&&(A=0),D.readFloatBE(A)}encode(D,A,w){return w===void 0&&(w=0),A.writeFloatBE(D,w),4}}class O extends n{constructor(D){super(8,D)}decode(D,A){return A===void 0&&(A=0),D.readDoubleLE(A)}encode(D,A,w){return w===void 0&&(w=0),A.writeDoubleLE(D,w),8}}class Q extends n{constructor(D){super(8,D)}decode(D,A){return A===void 0&&(A=0),D.readDoubleBE(A)}encode(D,A,w){return w===void 0&&(w=0),A.writeDoubleBE(D,w),8}}class oe extends n{constructor(D,A,w){if(!(D instanceof n))throw new TypeError("elementLayout must be a Layout");if(!(A instanceof r&&A.isCount()||Number.isInteger(A)&&0<=A))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let E=-1;!(A instanceof r)&&0<D.span&&(E=A*D.span),super(E,w),this.elementLayout=D,this.count=A}getSpan(D,A){if(0<=this.span)return this.span;A===void 0&&(A=0);let w=0,E=this.count;if(E instanceof r&&(E=E.decode(D,A)),0<this.elementLayout.span)w=E*this.elementLayout.span;else{let H=0;for(;H<E;)w+=this.elementLayout.getSpan(D,A+w),++H}return w}decode(D,A){A===void 0&&(A=0);const w=[];let E=0,H=this.count;for(H instanceof r&&(H=H.decode(D,A));E<H;)w.push(this.elementLayout.decode(D,A)),A+=this.elementLayout.getSpan(D,A),E+=1;return w}encode(D,A,w){w===void 0&&(w=0);const E=this.elementLayout,H=D.reduce((ne,ae)=>ne+E.encode(ae,A,w+ne),0);return this.count instanceof r&&this.count.encode(D.length,A,w),H}}class ce extends n{constructor(D,A,w){if(!(Array.isArray(D)&&D.reduce((H,ne)=>H&&ne instanceof n,!0)))throw new TypeError("fields must be array of Layout instances");typeof A=="boolean"&&w===void 0&&(w=A,A=void 0);for(const H of D)if(0>H.span&&H.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let E=-1;try{E=D.reduce((H,ne)=>H+ne.getSpan(),0)}catch{}super(E,A),this.fields=D,this.decodePrefixes=!!w}getSpan(D,A){if(0<=this.span)return this.span;A===void 0&&(A=0);let w=0;try{w=this.fields.reduce((E,H)=>{const ne=H.getSpan(D,A);return A+=ne,E+ne},0)}catch{throw new RangeError("indeterminate span")}return w}decode(D,A){A===void 0&&(A=0);const w=this.makeDestinationObject();for(const E of this.fields)if(E.property!==void 0&&(w[E.property]=E.decode(D,A)),A+=E.getSpan(D,A),this.decodePrefixes&&D.length===A)break;return w}encode(D,A,w){w===void 0&&(w=0);const E=w;let H=0,ne=0;for(const ae of this.fields){let me=ae.span;if(ne=0<me?me:0,ae.property!==void 0){const Le=D[ae.property];Le!==void 0&&(ne=ae.encode(Le,A,w),0>me&&(me=ae.getSpan(A,w)))}H=w,w+=me}return H+ne-E}fromArray(D){const A=this.makeDestinationObject();for(const w of this.fields)w.property!==void 0&&0<D.length&&(A[w.property]=D.shift());return A}layoutFor(D){if(typeof D!="string")throw new TypeError("property must be string");for(const A of this.fields)if(A.property===D)return A}offsetOf(D){if(typeof D!="string")throw new TypeError("property must be string");let A=0;for(const w of this.fields){if(w.property===D)return A;0>w.span?A=-1:0<=A&&(A+=w.span)}}}class W{constructor(D){this.property=D}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class K extends W{constructor(D,A){if(!(D instanceof r&&D.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(A||D.property||"variant"),this.layout=D}decode(D,A){return this.layout.decode(D,A)}encode(D,A,w){return this.layout.encode(D,A,w)}}class B extends n{constructor(D,A,w){const E=D instanceof c||D instanceof u;if(E)D=new K(new s(D));else if(D instanceof r&&D.isCount())D=new K(D);else if(!(D instanceof W))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(A===void 0&&(A=null),!(A===null||A instanceof n))throw new TypeError("defaultLayout must be null or a Layout");if(A!==null){if(0>A.span)throw new Error("defaultLayout must have constant span");A.property===void 0&&(A=A.replicate("content"))}let H=-1;A&&(H=A.span,0<=H&&E&&(H+=D.layout.span)),super(H,w),this.discriminator=D,this.usesPrefixDiscriminator=E,this.defaultLayout=A,this.registry={};let ne=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(ae){return ne(ae)},this.configGetSourceVariant=function(ae){ne=ae.bind(this)}}getSpan(D,A){if(0<=this.span)return this.span;A===void 0&&(A=0);const w=this.getVariant(D,A);if(!w)throw new Error("unable to determine span for unrecognized variant");return w.getSpan(D,A)}defaultGetSourceVariant(D){if(D.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&D.hasOwnProperty(this.defaultLayout.property))return;const A=this.registry[D[this.discriminator.property]];if(A&&(!A.layout||D.hasOwnProperty(A.property)))return A}else for(const A in this.registry){const w=this.registry[A];if(D.hasOwnProperty(w.property))return w}throw new Error("unable to infer src variant")}decode(D,A){A===void 0&&(A=0);let w;const E=this.discriminator,H=E.decode(D,A);let ne=this.registry[H];if(ne===void 0){let ae=0;ne=this.defaultLayout,this.usesPrefixDiscriminator&&(ae=E.layout.span),w=this.makeDestinationObject(),w[E.property]=H,w[ne.property]=this.defaultLayout.decode(D,A+ae)}else w=ne.decode(D,A);return w}encode(D,A,w){w===void 0&&(w=0);const E=this.getSourceVariant(D);if(E===void 0){const H=this.discriminator,ne=this.defaultLayout;let ae=0;return this.usesPrefixDiscriminator&&(ae=H.layout.span),H.encode(D[H.property],A,w),ae+ne.encode(D[ne.property],A,w+ae)}return E.encode(D,A,w)}addVariant(D,A,w){const E=new U(this,D,A,w);return this.registry[D]=E,E}getVariant(D,A){let w=D;return xt.isBuffer(D)&&(A===void 0&&(A=0),w=this.discriminator.decode(D,A)),this.registry[w]}}class U extends n{constructor(D,A,w,E){if(!(D instanceof B))throw new TypeError("union must be a Union");if(!Number.isInteger(A)||0>A)throw new TypeError("variant must be a (non-negative) integer");if(typeof w=="string"&&E===void 0&&(E=w,w=null),w){if(!(w instanceof n))throw new TypeError("layout must be a Layout");if(D.defaultLayout!==null&&0<=w.span&&w.span>D.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof E!="string")throw new TypeError("variant must have a String property")}let H=D.span;0>D.span&&(H=w?w.span:0,0<=H&&D.usesPrefixDiscriminator&&(H+=D.discriminator.layout.span)),super(H,E),this.union=D,this.variant=A,this.layout=w||null}getSpan(D,A){if(0<=this.span)return this.span;A===void 0&&(A=0);let w=0;return this.union.usesPrefixDiscriminator&&(w=this.union.discriminator.layout.span),w+this.layout.getSpan(D,A+w)}decode(D,A){const w=this.makeDestinationObject();if(A===void 0&&(A=0),this!==this.union.getVariant(D,A))throw new Error("variant mismatch");let E=0;return this.union.usesPrefixDiscriminator&&(E=this.union.discriminator.layout.span),this.layout?w[this.property]=this.layout.decode(D,A+E):this.property?w[this.property]=!0:this.union.usesPrefixDiscriminator&&(w[this.union.discriminator.property]=this.variant),w}encode(D,A,w){w===void 0&&(w=0);let E=0;if(this.union.usesPrefixDiscriminator&&(E=this.union.discriminator.layout.span),this.layout&&!D.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,A,w);let H=E;if(this.layout&&(this.layout.encode(D[this.property],A,w+E),H+=this.layout.getSpan(A,w+E),0<=this.union.span&&H>this.union.span))throw new Error("encoded variant overruns containing union");return H}fromArray(D){if(this.layout)return this.layout.fromArray(D)}}function q(Z){return 0>Z&&(Z+=4294967296),Z}class L extends n{constructor(D,A,w){if(!(D instanceof c||D instanceof u))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof A=="string"&&w===void 0&&(w=A,A=void 0),4<D.span)throw new RangeError("word cannot exceed 32 bits");super(D.span,w),this.word=D,this.msb=!!A,this.fields=[];let E=0;this._packedSetValue=function(H){return E=q(H),this},this._packedGetValue=function(){return E}}decode(D,A){const w=this.makeDestinationObject();A===void 0&&(A=0);const E=this.word.decode(D,A);this._packedSetValue(E);for(const H of this.fields)H.property!==void 0&&(w[H.property]=H.decode(E));return w}encode(D,A,w){w===void 0&&(w=0);const E=this.word.decode(A,w);this._packedSetValue(E);for(const H of this.fields)if(H.property!==void 0){const ne=D[H.property];ne!==void 0&&H.encode(ne)}return this.word.encode(this._packedGetValue(),A,w)}addField(D,A){const w=new T(this,D,A);return this.fields.push(w),w}addBoolean(D){const A=new g(this,D);return this.fields.push(A),A}fieldFor(D){if(typeof D!="string")throw new TypeError("property must be string");for(const A of this.fields)if(A.property===D)return A}}class T{constructor(D,A,w){if(!(D instanceof L))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(A)||0>=A)throw new TypeError("bits must be positive integer");const E=8*D.span,H=D.fields.reduce((ne,ae)=>ne+ae.bits,0);if(A+H>E)throw new Error("bits too long for span remainder ("+(E-H)+" of "+E+" remain)");this.container=D,this.bits=A,this.valueMask=(1<<A)-1,A===32&&(this.valueMask=4294967295),this.start=H,this.container.msb&&(this.start=E-H-A),this.wordMask=q(this.valueMask<<this.start),this.property=w}decode(){const D=this.container._packedGetValue();return q(D&this.wordMask)>>>this.start}encode(D){if(!Number.isInteger(D)||D!==q(D&this.valueMask))throw new TypeError(e("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const A=this.container._packedGetValue(),w=q(D<<this.start);this.container._packedSetValue(q(A&~this.wordMask)|w)}}class g extends T{constructor(D,A){super(D,1,A)}decode(D,A){return!!T.prototype.decode.call(this,D,A)}encode(D){return typeof D=="boolean"&&(D=+D),T.prototype.encode.call(this,D)}}class R extends n{constructor(D,A){if(!(D instanceof r&&D.isCount()||Number.isInteger(D)&&0<=D))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let w=-1;D instanceof r||(w=D),super(w,A),this.length=D}getSpan(D,A){let w=this.span;return 0>w&&(w=this.length.decode(D,A)),w}decode(D,A){A===void 0&&(A=0);let w=this.span;return 0>w&&(w=this.length.decode(D,A)),D.slice(A,A+w)}encode(D,A,w){let E=this.length;if(this.length instanceof r&&(E=D.length),!(xt.isBuffer(D)&&E===D.length))throw new TypeError(e("Blob.encode",this)+" requires (length "+E+") Buffer as src");if(w+E>A.length)throw new RangeError("encoding overruns Buffer");return A.write(D.toString("hex"),w,E,"hex"),this.length instanceof r&&this.length.encode(E,A,w),E}}class C extends n{constructor(D){super(-1,D)}getSpan(D,A){if(!xt.isBuffer(D))throw new TypeError("b must be a Buffer");A===void 0&&(A=0);let w=A;for(;w<D.length&&D[w]!==0;)w+=1;return 1+w-A}decode(D,A,w){A===void 0&&(A=0);let E=this.getSpan(D,A);return D.slice(A,A+E-1).toString("utf-8")}encode(D,A,w){w===void 0&&(w=0),typeof D!="string"&&(D=D.toString());const E=new xt(D,"utf8"),H=E.length;if(w+H>A.length)throw new RangeError("encoding overruns Buffer");return E.copy(A,w),A[w+H]=0,H+1}}class Y extends n{constructor(D,A){if(typeof D=="string"&&A===void 0&&(A=D,D=void 0),D===void 0)D=-1;else if(!Number.isInteger(D))throw new TypeError("maxSpan must be an integer");super(-1,A),this.maxSpan=D}getSpan(D,A){if(!xt.isBuffer(D))throw new TypeError("b must be a Buffer");return A===void 0&&(A=0),D.length-A}decode(D,A,w){A===void 0&&(A=0);let E=this.getSpan(D,A);if(0<=this.maxSpan&&this.maxSpan<E)throw new RangeError("text length exceeds maxSpan");return D.slice(A,A+E).toString("utf-8")}encode(D,A,w){w===void 0&&(w=0),typeof D!="string"&&(D=D.toString());const E=new xt(D,"utf8"),H=E.length;if(0<=this.maxSpan&&this.maxSpan<H)throw new RangeError("text length exceeds maxSpan");if(w+H>A.length)throw new RangeError("encoding overruns Buffer");return E.copy(A,w),H}}class te extends n{constructor(D,A){super(0,A),this.value=D}decode(D,A,w){return this.value}encode(D,A,w){return 0}}return rt.ExternalLayout=r,rt.GreedyCount=i,rt.OffsetLayout=s,rt.UInt=c,rt.UIntBE=u,rt.Int=h,rt.IntBE=d,rt.Float=M,rt.FloatBE=j,rt.Double=O,rt.DoubleBE=Q,rt.Sequence=oe,rt.Structure=ce,rt.UnionDiscriminator=W,rt.UnionLayoutDiscriminator=K,rt.Union=B,rt.VariantLayout=U,rt.BitStructure=L,rt.BitField=T,rt.Boolean=g,rt.Blob=R,rt.CString=C,rt.UTF8=Y,rt.Constant=te,rt.greedy=((Z,D)=>new i(Z,D)),rt.offset=((Z,D,A)=>new s(Z,D,A)),rt.u8=(Z=>new c(1,Z)),rt.u16=(Z=>new c(2,Z)),rt.u24=(Z=>new c(3,Z)),rt.u32=(Z=>new c(4,Z)),rt.u40=(Z=>new c(5,Z)),rt.u48=(Z=>new c(6,Z)),rt.nu64=(Z=>new y(Z)),rt.u16be=(Z=>new u(2,Z)),rt.u24be=(Z=>new u(3,Z)),rt.u32be=(Z=>new u(4,Z)),rt.u40be=(Z=>new u(5,Z)),rt.u48be=(Z=>new u(6,Z)),rt.nu64be=(Z=>new S(Z)),rt.s8=(Z=>new h(1,Z)),rt.s16=(Z=>new h(2,Z)),rt.s24=(Z=>new h(3,Z)),rt.s32=(Z=>new h(4,Z)),rt.s40=(Z=>new h(5,Z)),rt.s48=(Z=>new h(6,Z)),rt.ns64=(Z=>new k(Z)),rt.s16be=(Z=>new d(2,Z)),rt.s24be=(Z=>new d(3,Z)),rt.s32be=(Z=>new d(4,Z)),rt.s40be=(Z=>new d(5,Z)),rt.s48be=(Z=>new d(6,Z)),rt.ns64be=(Z=>new I(Z)),rt.f32=(Z=>new M(Z)),rt.f32be=(Z=>new j(Z)),rt.f64=(Z=>new O(Z)),rt.f64be=(Z=>new Q(Z)),rt.struct=((Z,D,A)=>new ce(Z,D,A)),rt.bits=((Z,D,A)=>new L(Z,D,A)),rt.seq=((Z,D,A)=>new oe(Z,D,A)),rt.union=((Z,D,A)=>new B(Z,D,A)),rt.unionLayoutDiscriminator=((Z,D)=>new K(Z,D)),rt.blob=((Z,D)=>new R(Z,D)),rt.cstr=(Z=>new C(Z)),rt.utf8=((Z,D)=>new Y(Z,D)),rt.const=((Z,D)=>new te(Z,D)),rt}const Gq=sE(aF);var BI;function $q(){return BI||(BI=1,(function(n){var e=Rd&&Rd.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(n,"__esModule",{value:!0}),n.map=n.array=n.rustEnum=n.str=n.vecU8=n.tagged=n.vec=n.bool=n.option=n.publicKey=n.i256=n.u256=n.i128=n.u128=n.i64=n.u64=n.struct=n.f64=n.f32=n.i32=n.u32=n.i16=n.u16=n.i8=n.u8=void 0;const t=MI(),r=Gq,i=e(EE());var s=MI();Object.defineProperty(n,"u8",{enumerable:!0,get:function(){return s.u8}}),Object.defineProperty(n,"i8",{enumerable:!0,get:function(){return s.s8}}),Object.defineProperty(n,"u16",{enumerable:!0,get:function(){return s.u16}}),Object.defineProperty(n,"i16",{enumerable:!0,get:function(){return s.s16}}),Object.defineProperty(n,"u32",{enumerable:!0,get:function(){return s.u32}}),Object.defineProperty(n,"i32",{enumerable:!0,get:function(){return s.s32}}),Object.defineProperty(n,"f32",{enumerable:!0,get:function(){return s.f32}}),Object.defineProperty(n,"f64",{enumerable:!0,get:function(){return s.f64}}),Object.defineProperty(n,"struct",{enumerable:!0,get:function(){return s.struct}});class c extends t.Layout{constructor(T,g,R){super(T,R),this.blob=(0,t.blob)(T),this.signed=g}decode(T,g=0){const R=new i.default(this.blob.decode(T,g),10,"le");return this.signed?R.fromTwos(this.span*8).clone():R}encode(T,g,R=0){return this.signed&&(T=T.toTwos(this.span*8)),this.blob.encode(T.toArrayLike(xt,"le",this.span),g,R)}}function u(L){return new c(8,!1,L)}n.u64=u;function h(L){return new c(8,!0,L)}n.i64=h;function d(L){return new c(16,!1,L)}n.u128=d;function p(L){return new c(16,!0,L)}n.i128=p;function v(L){return new c(32,!1,L)}n.u256=v;function x(L){return new c(32,!0,L)}n.i256=x;class y extends t.Layout{constructor(T,g,R,C){super(T.span,C),this.layout=T,this.decoder=g,this.encoder=R}decode(T,g){return this.decoder(this.layout.decode(T,g))}encode(T,g,R){return this.layout.encode(this.encoder(T),g,R)}getSpan(T,g){return this.layout.getSpan(T,g)}}function S(L){return new y((0,t.blob)(32),T=>new r.PublicKey(T),T=>T.toBuffer(),L)}n.publicKey=S;class k extends t.Layout{constructor(T,g){super(-1,g),this.layout=T,this.discriminator=(0,t.u8)()}encode(T,g,R=0){return T==null?this.discriminator.encode(0,g,R):(this.discriminator.encode(1,g,R),this.layout.encode(T,g,R+1)+1)}decode(T,g=0){const R=this.discriminator.decode(T,g);if(R===0)return null;if(R===1)return this.layout.decode(T,g+1);throw new Error("Invalid option "+this.property)}getSpan(T,g=0){const R=this.discriminator.decode(T,g);if(R===0)return 1;if(R===1)return this.layout.getSpan(T,g+1)+1;throw new Error("Invalid option "+this.property)}}function I(L,T){return new k(L,T)}n.option=I;function M(L){return new y((0,t.u8)(),j,O,L)}n.bool=M;function j(L){if(L===0)return!1;if(L===1)return!0;throw new Error("Invalid bool: "+L)}function O(L){return L?1:0}function Q(L,T){const g=(0,t.u32)("length"),R=(0,t.struct)([g,(0,t.seq)(L,(0,t.offset)(g,-g.span),"values")]);return new y(R,({values:C})=>C,C=>({values:C}),T)}n.vec=Q;function oe(L,T,g){const R=(0,t.struct)([u("tag"),T.replicate("data")]);function C({tag:Y,data:te}){if(!Y.eq(L))throw new Error("Invalid tag, expected: "+L.toString("hex")+", got: "+Y.toString("hex"));return te}return new y(R,C,Y=>({tag:L,data:Y}),g)}n.tagged=oe;function ce(L){const T=(0,t.u32)("length"),g=(0,t.struct)([T,(0,t.blob)((0,t.offset)(T,-T.span),"data")]);return new y(g,({data:R})=>R,R=>({data:R}),L)}n.vecU8=ce;function W(L){return new y(ce(),T=>T.toString("utf-8"),T=>xt.from(T,"utf-8"),L)}n.str=W;function K(L,T,g){const R=(0,t.union)(g??(0,t.u8)(),T);return L.forEach((C,Y)=>R.addVariant(Y,C,C.property)),R}n.rustEnum=K;function B(L,T,g){const R=(0,t.struct)([(0,t.seq)(L,T,"values")]);return new y(R,({values:C})=>C,C=>({values:C}),g)}n.array=B;class U extends t.Layout{constructor(T,g,R){super(T.span+g.span,R),this.keyLayout=T,this.valueLayout=g}decode(T,g){g=g||0;const R=this.keyLayout.decode(T,g),C=this.valueLayout.decode(T,g+this.keyLayout.getSpan(T,g));return[R,C]}encode(T,g,R){R=R||0;const C=this.keyLayout.encode(T[0],g,R),Y=this.valueLayout.encode(T[1],g,R+C);return C+Y}getSpan(T,g){return this.keyLayout.getSpan(T,g)+this.valueLayout.getSpan(T,g)}}function q(L,T,g){const R=(0,t.u32)("length"),C=(0,t.struct)([R,(0,t.seq)(new U(L,T),(0,t.offset)(R,-R.span),"values")]);return new y(C,({values:Y})=>new Map(Y),Y=>({values:Array.from(Y.entries())}),g)}n.map=q})(Rd)),Rd}var Ht=$q();function _f(n){let e=n.length;for(;--e>=0;)n[e]=0}const Kq=3,Wq=258,dO=29,Yq=256,Xq=Yq+1+dO,pO=30,Zq=512,Qq=new Array((Xq+2)*2);_f(Qq);const Jq=new Array(pO*2);_f(Jq);const eG=new Array(Zq);_f(eG);const tG=new Array(Wq-Kq+1);_f(tG);const nG=new Array(dO);_f(nG);const rG=new Array(pO);_f(rG);const iG=(n,e,t,r)=>{let i=n&65535|0,s=n>>>16&65535|0,c=0;for(;t!==0;){c=t>2e3?2e3:t,t-=c;do i=i+e[r++]|0,s=s+i|0;while(--c);i%=65521,s%=65521}return i|s<<16|0};var lx=iG;const sG=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},oG=new Uint32Array(sG()),aG=(n,e,t,r)=>{const i=oG,s=r+t;n^=-1;for(let c=r;c<s;c++)n=n>>>8^i[(n^e[c])&255];return n^-1};var ro=aG,ux={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},mO={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const cG=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var lG=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)cG(t,r)&&(n[r]=t[r])}}return n},uG=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,s=n.length;r<s;r++){let c=n[r];t.set(c,i),i+=c.length}return t},gO={assign:lG,flattenChunks:uG};let yO=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{yO=!1}const wp=new Uint8Array(256);for(let n=0;n<256;n++)wp[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;wp[254]=wp[254]=1;var hG=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,s,c=n.length,u=0;for(i=0;i<c;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<c&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),u+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(u),s=0,i=0;s<u;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<c&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const fG=(n,e)=>{if(e<65534&&n.subarray&&yO)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var dG=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i;const s=new Array(t*2);for(i=0,r=0;r<t;){let c=n[r++];if(c<128){s[i++]=c;continue}let u=wp[c];if(u>4){s[i++]=65533,r+=u-1;continue}for(c&=u===2?31:u===3?15:7;u>1&&r<t;)c=c<<6|n[r++]&63,u--;if(u>1){s[i++]=65533;continue}c<65536?s[i++]=c:(c-=65536,s[i++]=55296|c>>10&1023,s[i++]=56320|c&1023)}return fG(s,i)},pG=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+wp[n[t]]>e?t:e},hx={string2buf:hG,buf2string:dG,utf8border:pG};function mG(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var gG=mG;const L0=16209,yG=16191;var wG=function(e,t){let r,i,s,c,u,h,d,p,v,x,y,S,k,I,M,j,O,Q,oe,ce,W,K,B,U;const q=e.state;r=e.next_in,B=e.input,i=r+(e.avail_in-5),s=e.next_out,U=e.output,c=s-(t-e.avail_out),u=s+(e.avail_out-257),h=q.dmax,d=q.wsize,p=q.whave,v=q.wnext,x=q.window,y=q.hold,S=q.bits,k=q.lencode,I=q.distcode,M=(1<<q.lenbits)-1,j=(1<<q.distbits)-1;e:do{S<15&&(y+=B[r++]<<S,S+=8,y+=B[r++]<<S,S+=8),O=k[y&M];t:for(;;){if(Q=O>>>24,y>>>=Q,S-=Q,Q=O>>>16&255,Q===0)U[s++]=O&65535;else if(Q&16){oe=O&65535,Q&=15,Q&&(S<Q&&(y+=B[r++]<<S,S+=8),oe+=y&(1<<Q)-1,y>>>=Q,S-=Q),S<15&&(y+=B[r++]<<S,S+=8,y+=B[r++]<<S,S+=8),O=I[y&j];n:for(;;){if(Q=O>>>24,y>>>=Q,S-=Q,Q=O>>>16&255,Q&16){if(ce=O&65535,Q&=15,S<Q&&(y+=B[r++]<<S,S+=8,S<Q&&(y+=B[r++]<<S,S+=8)),ce+=y&(1<<Q)-1,ce>h){e.msg="invalid distance too far back",q.mode=L0;break e}if(y>>>=Q,S-=Q,Q=s-c,ce>Q){if(Q=ce-Q,Q>p&&q.sane){e.msg="invalid distance too far back",q.mode=L0;break e}if(W=0,K=x,v===0){if(W+=d-Q,Q<oe){oe-=Q;do U[s++]=x[W++];while(--Q);W=s-ce,K=U}}else if(v<Q){if(W+=d+v-Q,Q-=v,Q<oe){oe-=Q;do U[s++]=x[W++];while(--Q);if(W=0,v<oe){Q=v,oe-=Q;do U[s++]=x[W++];while(--Q);W=s-ce,K=U}}}else if(W+=v-Q,Q<oe){oe-=Q;do U[s++]=x[W++];while(--Q);W=s-ce,K=U}for(;oe>2;)U[s++]=K[W++],U[s++]=K[W++],U[s++]=K[W++],oe-=3;oe&&(U[s++]=K[W++],oe>1&&(U[s++]=K[W++]))}else{W=s-ce;do U[s++]=U[W++],U[s++]=U[W++],U[s++]=U[W++],oe-=3;while(oe>2);oe&&(U[s++]=U[W++],oe>1&&(U[s++]=U[W++]))}}else if((Q&64)===0){O=I[(O&65535)+(y&(1<<Q)-1)];continue n}else{e.msg="invalid distance code",q.mode=L0;break e}break}}else if((Q&64)===0){O=k[(O&65535)+(y&(1<<Q)-1)];continue t}else if(Q&32){q.mode=yG;break e}else{e.msg="invalid literal/length code",q.mode=L0;break e}break}}while(r<i&&s<u);oe=S>>3,r-=oe,S-=oe<<3,y&=(1<<S)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<u?257+(u-s):257-(s-u),q.hold=y,q.bits=S};const wh=15,LI=852,DI=592,jI=0,Tv=1,PI=2,bG=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),vG=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),_G=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),xG=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),EG=(n,e,t,r,i,s,c,u)=>{const h=u.bits;let d=0,p=0,v=0,x=0,y=0,S=0,k=0,I=0,M=0,j=0,O,Q,oe,ce,W,K=null,B;const U=new Uint16Array(wh+1),q=new Uint16Array(wh+1);let L=null,T,g,R;for(d=0;d<=wh;d++)U[d]=0;for(p=0;p<r;p++)U[e[t+p]]++;for(y=h,x=wh;x>=1&&U[x]===0;x--);if(y>x&&(y=x),x===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,u.bits=1,0;for(v=1;v<x&&U[v]===0;v++);for(y<v&&(y=v),I=1,d=1;d<=wh;d++)if(I<<=1,I-=U[d],I<0)return-1;if(I>0&&(n===jI||x!==1))return-1;for(q[1]=0,d=1;d<wh;d++)q[d+1]=q[d]+U[d];for(p=0;p<r;p++)e[t+p]!==0&&(c[q[e[t+p]]++]=p);if(n===jI?(K=L=c,B=20):n===Tv?(K=bG,L=vG,B=257):(K=_G,L=xG,B=0),j=0,p=0,d=v,W=s,S=y,k=0,oe=-1,M=1<<y,ce=M-1,n===Tv&&M>LI||n===PI&&M>DI)return 1;for(;;){T=d-k,c[p]+1<B?(g=0,R=c[p]):c[p]>=B?(g=L[c[p]-B],R=K[c[p]-B]):(g=96,R=0),O=1<<d-k,Q=1<<S,v=Q;do Q-=O,i[W+(j>>k)+Q]=T<<24|g<<16|R|0;while(Q!==0);for(O=1<<d-1;j&O;)O>>=1;if(O!==0?(j&=O-1,j+=O):j=0,p++,--U[d]===0){if(d===x)break;d=e[t+c[p]]}if(d>y&&(j&ce)!==oe){for(k===0&&(k=y),W+=v,S=d-k,I=1<<S;S+k<x&&(I-=U[S+k],!(I<=0));)S++,I<<=1;if(M+=1<<S,n===Tv&&M>LI||n===PI&&M>DI)return 1;oe=j&ce,i[oe]=y<<24|S<<16|W-s|0}}return j!==0&&(i[W+j]=d-k<<24|64<<16|0),u.bits=y,0};var tp=EG;const AG=0,wO=1,bO=2,{Z_FINISH:UI,Z_BLOCK:SG,Z_TREES:D0,Z_OK:hu,Z_STREAM_END:RG,Z_NEED_DICT:TG,Z_STREAM_ERROR:xs,Z_DATA_ERROR:vO,Z_MEM_ERROR:_O,Z_BUF_ERROR:NG,Z_DEFLATED:VI}=mO,Xy=16180,zI=16181,FI=16182,HI=16183,qI=16184,GI=16185,$I=16186,KI=16187,WI=16188,YI=16189,cy=16190,ca=16191,Nv=16192,XI=16193,Iv=16194,ZI=16195,QI=16196,JI=16197,e4=16198,j0=16199,P0=16200,t4=16201,n4=16202,r4=16203,i4=16204,s4=16205,kv=16206,o4=16207,a4=16208,Kn=16209,xO=16210,EO=16211,IG=852,kG=592,CG=15,OG=CG,c4=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function MG(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Eu=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Xy||e.mode>EO?1:0},AO=n=>{if(Eu(n))return xs;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Xy,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(IG),e.distcode=e.distdyn=new Int32Array(kG),e.sane=1,e.back=-1,hu},SO=n=>{if(Eu(n))return xs;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,AO(n)},RO=(n,e)=>{let t;if(Eu(n))return xs;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?xs:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,SO(n))},TO=(n,e)=>{if(!n)return xs;const t=new MG;n.state=t,t.strm=n,t.window=null,t.mode=Xy;const r=RO(n,e);return r!==hu&&(n.state=null),r},BG=n=>TO(n,OG);let l4=!0,Cv,Ov;const LG=n=>{if(l4){Cv=new Int32Array(512),Ov=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(tp(wO,n.lens,0,288,Cv,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;tp(bO,n.lens,0,32,Ov,0,n.work,{bits:5}),l4=!1}n.lencode=Cv,n.lenbits=9,n.distcode=Ov,n.distbits=5},NO=(n,e,t,r)=>{let i;const s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(t-r,t-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(t-r,t),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},DG=(n,e)=>{let t,r,i,s,c,u,h,d,p,v,x,y,S,k,I=0,M,j,O,Q,oe,ce,W,K;const B=new Uint8Array(4);let U,q;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Eu(n)||!n.output||!n.input&&n.avail_in!==0)return xs;t=n.state,t.mode===ca&&(t.mode=Nv),c=n.next_out,i=n.output,h=n.avail_out,s=n.next_in,r=n.input,u=n.avail_in,d=t.hold,p=t.bits,v=u,x=h,K=hu;e:for(;;)switch(t.mode){case Xy:if(t.wrap===0){t.mode=Nv;break}for(;p<16;){if(u===0)break e;u--,d+=r[s++]<<p,p+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,B[0]=d&255,B[1]=d>>>8&255,t.check=ro(t.check,B,2,0),d=0,p=0,t.mode=zI;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",t.mode=Kn;break}if((d&15)!==VI){n.msg="unknown compression method",t.mode=Kn;break}if(d>>>=4,p-=4,W=(d&15)+8,t.wbits===0&&(t.wbits=W),W>15||W>t.wbits){n.msg="invalid window size",t.mode=Kn;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=d&512?YI:ca,d=0,p=0;break;case zI:for(;p<16;){if(u===0)break e;u--,d+=r[s++]<<p,p+=8}if(t.flags=d,(t.flags&255)!==VI){n.msg="unknown compression method",t.mode=Kn;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Kn;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,t.check=ro(t.check,B,2,0)),d=0,p=0,t.mode=FI;case FI:for(;p<32;){if(u===0)break e;u--,d+=r[s++]<<p,p+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,B[2]=d>>>16&255,B[3]=d>>>24&255,t.check=ro(t.check,B,4,0)),d=0,p=0,t.mode=HI;case HI:for(;p<16;){if(u===0)break e;u--,d+=r[s++]<<p,p+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,t.check=ro(t.check,B,2,0)),d=0,p=0,t.mode=qI;case qI:if(t.flags&1024){for(;p<16;){if(u===0)break e;u--,d+=r[s++]<<p,p+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,t.check=ro(t.check,B,2,0)),d=0,p=0}else t.head&&(t.head.extra=null);t.mode=GI;case GI:if(t.flags&1024&&(y=t.length,y>u&&(y=u),y&&(t.head&&(W=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(s,s+y),W)),t.flags&512&&t.wrap&4&&(t.check=ro(t.check,r,y,s)),u-=y,s+=y,t.length-=y),t.length))break e;t.length=0,t.mode=$I;case $I:if(t.flags&2048){if(u===0)break e;y=0;do W=r[s+y++],t.head&&W&&t.length<65536&&(t.head.name+=String.fromCharCode(W));while(W&&y<u);if(t.flags&512&&t.wrap&4&&(t.check=ro(t.check,r,y,s)),u-=y,s+=y,W)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=KI;case KI:if(t.flags&4096){if(u===0)break e;y=0;do W=r[s+y++],t.head&&W&&t.length<65536&&(t.head.comment+=String.fromCharCode(W));while(W&&y<u);if(t.flags&512&&t.wrap&4&&(t.check=ro(t.check,r,y,s)),u-=y,s+=y,W)break e}else t.head&&(t.head.comment=null);t.mode=WI;case WI:if(t.flags&512){for(;p<16;){if(u===0)break e;u--,d+=r[s++]<<p,p+=8}if(t.wrap&4&&d!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Kn;break}d=0,p=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=ca;break;case YI:for(;p<32;){if(u===0)break e;u--,d+=r[s++]<<p,p+=8}n.adler=t.check=c4(d),d=0,p=0,t.mode=cy;case cy:if(t.havedict===0)return n.next_out=c,n.avail_out=h,n.next_in=s,n.avail_in=u,t.hold=d,t.bits=p,TG;n.adler=t.check=1,t.mode=ca;case ca:if(e===SG||e===D0)break e;case Nv:if(t.last){d>>>=p&7,p-=p&7,t.mode=kv;break}for(;p<3;){if(u===0)break e;u--,d+=r[s++]<<p,p+=8}switch(t.last=d&1,d>>>=1,p-=1,d&3){case 0:t.mode=XI;break;case 1:if(LG(t),t.mode=j0,e===D0){d>>>=2,p-=2;break e}break;case 2:t.mode=QI;break;case 3:n.msg="invalid block type",t.mode=Kn}d>>>=2,p-=2;break;case XI:for(d>>>=p&7,p-=p&7;p<32;){if(u===0)break e;u--,d+=r[s++]<<p,p+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Kn;break}if(t.length=d&65535,d=0,p=0,t.mode=Iv,e===D0)break e;case Iv:t.mode=ZI;case ZI:if(y=t.length,y){if(y>u&&(y=u),y>h&&(y=h),y===0)break e;i.set(r.subarray(s,s+y),c),u-=y,s+=y,h-=y,c+=y,t.length-=y;break}t.mode=ca;break;case QI:for(;p<14;){if(u===0)break e;u--,d+=r[s++]<<p,p+=8}if(t.nlen=(d&31)+257,d>>>=5,p-=5,t.ndist=(d&31)+1,d>>>=5,p-=5,t.ncode=(d&15)+4,d>>>=4,p-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Kn;break}t.have=0,t.mode=JI;case JI:for(;t.have<t.ncode;){for(;p<3;){if(u===0)break e;u--,d+=r[s++]<<p,p+=8}t.lens[L[t.have++]]=d&7,d>>>=3,p-=3}for(;t.have<19;)t.lens[L[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,U={bits:t.lenbits},K=tp(AG,t.lens,0,19,t.lencode,0,t.work,U),t.lenbits=U.bits,K){n.msg="invalid code lengths set",t.mode=Kn;break}t.have=0,t.mode=e4;case e4:for(;t.have<t.nlen+t.ndist;){for(;I=t.lencode[d&(1<<t.lenbits)-1],M=I>>>24,j=I>>>16&255,O=I&65535,!(M<=p);){if(u===0)break e;u--,d+=r[s++]<<p,p+=8}if(O<16)d>>>=M,p-=M,t.lens[t.have++]=O;else{if(O===16){for(q=M+2;p<q;){if(u===0)break e;u--,d+=r[s++]<<p,p+=8}if(d>>>=M,p-=M,t.have===0){n.msg="invalid bit length repeat",t.mode=Kn;break}W=t.lens[t.have-1],y=3+(d&3),d>>>=2,p-=2}else if(O===17){for(q=M+3;p<q;){if(u===0)break e;u--,d+=r[s++]<<p,p+=8}d>>>=M,p-=M,W=0,y=3+(d&7),d>>>=3,p-=3}else{for(q=M+7;p<q;){if(u===0)break e;u--,d+=r[s++]<<p,p+=8}d>>>=M,p-=M,W=0,y=11+(d&127),d>>>=7,p-=7}if(t.have+y>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Kn;break}for(;y--;)t.lens[t.have++]=W}}if(t.mode===Kn)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Kn;break}if(t.lenbits=9,U={bits:t.lenbits},K=tp(wO,t.lens,0,t.nlen,t.lencode,0,t.work,U),t.lenbits=U.bits,K){n.msg="invalid literal/lengths set",t.mode=Kn;break}if(t.distbits=6,t.distcode=t.distdyn,U={bits:t.distbits},K=tp(bO,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,U),t.distbits=U.bits,K){n.msg="invalid distances set",t.mode=Kn;break}if(t.mode=j0,e===D0)break e;case j0:t.mode=P0;case P0:if(u>=6&&h>=258){n.next_out=c,n.avail_out=h,n.next_in=s,n.avail_in=u,t.hold=d,t.bits=p,wG(n,x),c=n.next_out,i=n.output,h=n.avail_out,s=n.next_in,r=n.input,u=n.avail_in,d=t.hold,p=t.bits,t.mode===ca&&(t.back=-1);break}for(t.back=0;I=t.lencode[d&(1<<t.lenbits)-1],M=I>>>24,j=I>>>16&255,O=I&65535,!(M<=p);){if(u===0)break e;u--,d+=r[s++]<<p,p+=8}if(j&&(j&240)===0){for(Q=M,oe=j,ce=O;I=t.lencode[ce+((d&(1<<Q+oe)-1)>>Q)],M=I>>>24,j=I>>>16&255,O=I&65535,!(Q+M<=p);){if(u===0)break e;u--,d+=r[s++]<<p,p+=8}d>>>=Q,p-=Q,t.back+=Q}if(d>>>=M,p-=M,t.back+=M,t.length=O,j===0){t.mode=s4;break}if(j&32){t.back=-1,t.mode=ca;break}if(j&64){n.msg="invalid literal/length code",t.mode=Kn;break}t.extra=j&15,t.mode=t4;case t4:if(t.extra){for(q=t.extra;p<q;){if(u===0)break e;u--,d+=r[s++]<<p,p+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,p-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=n4;case n4:for(;I=t.distcode[d&(1<<t.distbits)-1],M=I>>>24,j=I>>>16&255,O=I&65535,!(M<=p);){if(u===0)break e;u--,d+=r[s++]<<p,p+=8}if((j&240)===0){for(Q=M,oe=j,ce=O;I=t.distcode[ce+((d&(1<<Q+oe)-1)>>Q)],M=I>>>24,j=I>>>16&255,O=I&65535,!(Q+M<=p);){if(u===0)break e;u--,d+=r[s++]<<p,p+=8}d>>>=Q,p-=Q,t.back+=Q}if(d>>>=M,p-=M,t.back+=M,j&64){n.msg="invalid distance code",t.mode=Kn;break}t.offset=O,t.extra=j&15,t.mode=r4;case r4:if(t.extra){for(q=t.extra;p<q;){if(u===0)break e;u--,d+=r[s++]<<p,p+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,p-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Kn;break}t.mode=i4;case i4:if(h===0)break e;if(y=x-h,t.offset>y){if(y=t.offset-y,y>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Kn;break}y>t.wnext?(y-=t.wnext,S=t.wsize-y):S=t.wnext-y,y>t.length&&(y=t.length),k=t.window}else k=i,S=c-t.offset,y=t.length;y>h&&(y=h),h-=y,t.length-=y;do i[c++]=k[S++];while(--y);t.length===0&&(t.mode=P0);break;case s4:if(h===0)break e;i[c++]=t.length,h--,t.mode=P0;break;case kv:if(t.wrap){for(;p<32;){if(u===0)break e;u--,d|=r[s++]<<p,p+=8}if(x-=h,n.total_out+=x,t.total+=x,t.wrap&4&&x&&(n.adler=t.check=t.flags?ro(t.check,i,x,c-x):lx(t.check,i,x,c-x)),x=h,t.wrap&4&&(t.flags?d:c4(d))!==t.check){n.msg="incorrect data check",t.mode=Kn;break}d=0,p=0}t.mode=o4;case o4:if(t.wrap&&t.flags){for(;p<32;){if(u===0)break e;u--,d+=r[s++]<<p,p+=8}if(t.wrap&4&&d!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Kn;break}d=0,p=0}t.mode=a4;case a4:K=RG;break e;case Kn:K=vO;break e;case xO:return _O;case EO:default:return xs}return n.next_out=c,n.avail_out=h,n.next_in=s,n.avail_in=u,t.hold=d,t.bits=p,(t.wsize||x!==n.avail_out&&t.mode<Kn&&(t.mode<kv||e!==UI))&&NO(n,n.output,n.next_out,x-n.avail_out),v-=n.avail_in,x-=n.avail_out,n.total_in+=v,n.total_out+=x,t.total+=x,t.wrap&4&&x&&(n.adler=t.check=t.flags?ro(t.check,i,x,n.next_out-x):lx(t.check,i,x,n.next_out-x)),n.data_type=t.bits+(t.last?64:0)+(t.mode===ca?128:0)+(t.mode===j0||t.mode===Iv?256:0),(v===0&&x===0||e===UI)&&K===hu&&(K=NG),K},jG=n=>{if(Eu(n))return xs;let e=n.state;return e.window&&(e.window=null),n.state=null,hu},PG=(n,e)=>{if(Eu(n))return xs;const t=n.state;return(t.wrap&2)===0?xs:(t.head=e,e.done=!1,hu)},UG=(n,e)=>{const t=e.length;let r,i,s;return Eu(n)||(r=n.state,r.wrap!==0&&r.mode!==cy)?xs:r.mode===cy&&(i=1,i=lx(i,e,t,0),i!==r.check)?vO:(s=NO(n,e,t,t),s?(r.mode=xO,_O):(r.havedict=1,hu))};var VG=SO,zG=RO,FG=AO,HG=BG,qG=TO,GG=DG,$G=jG,KG=PG,WG=UG,YG="pako inflate (from Nodeca project)",ma={inflateReset:VG,inflateReset2:zG,inflateResetKeep:FG,inflateInit:HG,inflateInit2:qG,inflate:GG,inflateEnd:$G,inflateGetHeader:KG,inflateSetDictionary:WG,inflateInfo:YG};function XG(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var ZG=XG;const IO=Object.prototype.toString,{Z_NO_FLUSH:QG,Z_FINISH:JG,Z_OK:bp,Z_STREAM_END:Mv,Z_NEED_DICT:Bv,Z_STREAM_ERROR:e$,Z_DATA_ERROR:u4,Z_MEM_ERROR:t$}=mO;function Zy(n){this.options=gO.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new gG,this.strm.avail_out=0;let t=ma.inflateInit2(this.strm,e.windowBits);if(t!==bp)throw new Error(ux[t]);if(this.header=new ZG,ma.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=hx.string2buf(e.dictionary):IO.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=ma.inflateSetDictionary(this.strm,e.dictionary),t!==bp)))throw new Error(ux[t])}Zy.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,c,u;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?JG:QG,IO.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),s=ma.inflate(t,c),s===Bv&&i&&(s=ma.inflateSetDictionary(t,i),s===bp?s=ma.inflate(t,c):s===u4&&(s=Bv));t.avail_in>0&&s===Mv&&t.state.wrap>0&&n[t.next_in]!==0;)ma.inflateReset(t),s=ma.inflate(t,c);switch(s){case e$:case u4:case Bv:case t$:return this.onEnd(s),this.ended=!0,!1}if(u=t.avail_out,t.next_out&&(t.avail_out===0||s===Mv))if(this.options.to==="string"){let h=hx.utf8border(t.output,t.next_out),d=t.next_out-h,p=hx.buf2string(t.output,h);t.next_out=d,t.avail_out=r-d,d&&t.output.set(t.output.subarray(h,h+d),0),this.onData(p)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===bp&&u===0)){if(s===Mv)return s=ma.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Zy.prototype.onData=function(n){this.chunks.push(n)};Zy.prototype.onEnd=function(n){n===bp&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=gO.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function n$(n,e){const t=new Zy(e);if(t.push(n),t.err)throw t.msg||ux[t.err];return t.result}var r$=n$,i$={inflate:r$};const{inflate:s$}=i$;var o$=s$,Lv={exports:{}},h4;function a$(){return h4||(h4=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(h,d,p){this.fn=h,this.context=d,this.once=p||!1}function s(h,d,p,v,x){if(typeof p!="function")throw new TypeError("The listener must be a function");var y=new i(p,v||h,x),S=t?t+d:d;return h._events[S]?h._events[S].fn?h._events[S]=[h._events[S],y]:h._events[S].push(y):(h._events[S]=y,h._eventsCount++),h}function c(h,d){--h._eventsCount===0?h._events=new r:delete h._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],p,v;if(this._eventsCount===0)return d;for(v in p=this._events)e.call(p,v)&&d.push(t?v.slice(1):v);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},u.prototype.listeners=function(d){var p=t?t+d:d,v=this._events[p];if(!v)return[];if(v.fn)return[v.fn];for(var x=0,y=v.length,S=new Array(y);x<y;x++)S[x]=v[x].fn;return S},u.prototype.listenerCount=function(d){var p=t?t+d:d,v=this._events[p];return v?v.fn?1:v.length:0},u.prototype.emit=function(d,p,v,x,y,S){var k=t?t+d:d;if(!this._events[k])return!1;var I=this._events[k],M=arguments.length,j,O;if(I.fn){switch(I.once&&this.removeListener(d,I.fn,void 0,!0),M){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,p),!0;case 3:return I.fn.call(I.context,p,v),!0;case 4:return I.fn.call(I.context,p,v,x),!0;case 5:return I.fn.call(I.context,p,v,x,y),!0;case 6:return I.fn.call(I.context,p,v,x,y,S),!0}for(O=1,j=new Array(M-1);O<M;O++)j[O-1]=arguments[O];I.fn.apply(I.context,j)}else{var Q=I.length,oe;for(O=0;O<Q;O++)switch(I[O].once&&this.removeListener(d,I[O].fn,void 0,!0),M){case 1:I[O].fn.call(I[O].context);break;case 2:I[O].fn.call(I[O].context,p);break;case 3:I[O].fn.call(I[O].context,p,v);break;case 4:I[O].fn.call(I[O].context,p,v,x);break;default:if(!j)for(oe=1,j=new Array(M-1);oe<M;oe++)j[oe-1]=arguments[oe];I[O].fn.apply(I[O].context,j)}}return!0},u.prototype.on=function(d,p,v){return s(this,d,p,v,!1)},u.prototype.once=function(d,p,v){return s(this,d,p,v,!0)},u.prototype.removeListener=function(d,p,v,x){var y=t?t+d:d;if(!this._events[y])return this;if(!p)return c(this,y),this;var S=this._events[y];if(S.fn)S.fn===p&&(!x||S.once)&&(!v||S.context===v)&&c(this,y);else{for(var k=0,I=[],M=S.length;k<M;k++)(S[k].fn!==p||x&&!S[k].once||v&&S[k].context!==v)&&I.push(S[k]);I.length?this._events[y]=I.length===1?I[0]:I:c(this,y)}return this},u.prototype.removeAllListeners=function(d){var p;return d?(p=t?t+d:d,this._events[p]&&c(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=t,u.EventEmitter=u,n.exports=u})(Lv)),Lv.exports}var c$=a$();const l$=Mo(c$);function u$(n,e){return Array.apply(0,new Array(Math.ceil(n.length/e))).map((t,r)=>n.slice(r*e,(r+1)*e))}const kl=n=>"version"in n;function h$(n){return new TextDecoder("utf-8").decode(n)}function f4(n){return ep.encode(n)}function d4(n){return n.toString("base64")}function kO(n){return ft.from(n,"base64")}function zh(n){return"accounts"in n}async function f$(n){const e=(await xe.findProgramAddress([],n))[0];return await xe.createWithSeed(e,d$(),n)}function d$(){return"anchor:idl"}const p$=Ht.struct([Ht.publicKey("authority"),Ht.vecU8("data")]);function m$(n){return p$.decode(n)}function g$(n){const e=["name","path","account","relations","generic"],t=s=>s.split(".").map(qq).join("."),r=s=>{for(const c in s){const u=s[c];e.includes(c)?s[c]=Array.isArray(u)?u.map(t):t(u):typeof u=="object"&&r(u)}},i=structuredClone(n);return r(i),i}function Fh(n,e,t,r){return n!=null&&n.length?n[0].name?t(n):r(n):e()}function y$(n){const e=new Map;return n.errors&&n.errors.forEach(t=>{var r;let i=(r=t.msg)!==null&&r!==void 0?r:t.name;e.set(t.code,i)}),e}function w$(n,...e){if(n.args.length!=e.length)throw new Error("Invalid argument length");const t={};let r=0;return n.args.forEach(i=>{t[i.name]=e[r],r+=1}),t}function CO(n,e={}){n.forEach(t=>{if(zh(t))CO(t.accounts,e[t.name]);else if(!e[t.name])throw new Error(`Account \`${t.name}\` not provided.`)})}function Ls(n){return n instanceof xe?n:new xe(n)}class b$ extends TypeError{constructor(e,t){let r;const{message:i,...s}=e,{path:c}=e,u=c.length===0?i:"At path: "+c.join(".")+" -- "+i;super(u),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var h;return(h=r)!=null?h:r=[e,...t()]}}}function v$(n){return Xh(n)&&typeof n[Symbol.iterator]=="function"}function Xh(n){return typeof n=="object"&&n!=null}function Zc(n){return typeof n=="string"?JSON.stringify(n):""+n}function _$(n){const{done:e,value:t}=n.next();return e?void 0:t}function x$(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:i,branch:s}=e,{type:c}=t,{refinement:u,message:h="Expected a value of type `"+c+"`"+(u?" with refinement `"+u+"`":"")+", but received: `"+Zc(r)+"`"}=n;return{value:r,type:c,refinement:u,key:i[i.length-1],path:i,branch:s,...n,message:h}}function*p4(n,e,t,r){v$(n)||(n=[n]);for(const i of n){const s=x$(i,e,t,r);s&&(yield s)}}function*XE(n,e,t){t===void 0&&(t={});const{path:r=[],branch:i=[n],coerce:s=!1,mask:c=!1}=t,u={path:r,branch:i};if(s&&(n=e.coercer(n,u),c&&e.type!=="type"&&Xh(e.schema)&&Xh(n)&&!Array.isArray(n)))for(const d in n)e.schema[d]===void 0&&delete n[d];let h=!0;for(const d of e.validator(n,u))h=!1,yield[d,void 0];for(let[d,p,v]of e.entries(n,u)){const x=XE(p,v,{path:d===void 0?r:[...r,d],branch:d===void 0?i:[...i,p],coerce:s,mask:c});for(const y of x)y[0]?(h=!1,yield[y[0],void 0]):s&&(p=y[1],d===void 0?n=p:n instanceof Map?n.set(d,p):n instanceof Set?n.add(p):Xh(n)&&(n[d]=p))}if(h)for(const d of e.refiner(n,u))h=!1,yield[d,void 0];h&&(yield[void 0,n])}class sl{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:t,schema:r,validator:i,refiner:s,coercer:c=h=>h,entries:u=function*(){}}=e;this.type=t,this.schema=r,this.entries=u,this.coercer=c,i?this.validator=(h,d)=>{const p=i(h,d);return p4(p,d,this,h)}:this.validator=()=>[],s?this.refiner=(h,d)=>{const p=s(h,d);return p4(p,d,this,h)}:this.refiner=()=>[]}assert(e){return E$(e,this)}create(e){return ZE(e,this)}is(e){return OO(e,this)}mask(e){return A$(e,this)}validate(e,t){return t===void 0&&(t={}),Gp(e,this,t)}}function E$(n,e){const t=Gp(n,e);if(t[0])throw t[0]}function ZE(n,e){const t=Gp(n,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function A$(n,e){const t=Gp(n,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function OO(n,e){return!Gp(n,e)[0]}function Gp(n,e,t){t===void 0&&(t={});const r=XE(n,e,t),i=_$(r);return i[0]?[new b$(i[0],function*(){for(const c of r)c[0]&&(yield c[0])}),void 0]:[void 0,i[1]]}function $p(n,e){return new sl({type:n,schema:null,validator:e})}function S$(){return $p("any",()=>!0)}function Dv(n){return new sl({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+Zc(e)}})}function R$(){return $p("boolean",n=>typeof n=="boolean")}function m4(n){const e=Zc(n);return new sl({type:"literal",schema:n,validator(t){return t===n||"Expected the literal `"+e+"`, but received: "+Zc(t)}})}function U0(n){return new sl({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function Cg(){return $p("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+Zc(n))}function Og(n){return new sl({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function Jl(){return $p("string",n=>typeof n=="string"||"Expected a string, but received: "+Zc(n))}function zc(n){const e=Object.keys(n);return new sl({type:"type",schema:n,*entries(t){if(Xh(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return Xh(t)||"Expected an object, but received: "+Zc(t)}})}function MO(n){const e=n.map(t=>t.type).join(" | ");return new sl({type:"union",schema:null,coercer(t,r){return(n.find(s=>{const[c]=s.validate(t,{coerce:!0});return!c})||QE()).coercer(t,r)},validator(t,r){const i=[];for(const s of n){const[...c]=XE(t,s,r),[u]=c;if(u[0])for(const[h]of c)h&&i.push(h);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Zc(t),...i]}})}function QE(){return $p("unknown",()=>!0)}function T$(n,e,t){return new sl({...n,coercer:(r,i)=>OO(r,e)?n.coercer(t(r,i),i):n.coercer(r,i)})}const g4=99;async function N$(n,e,t){if(e.length<=g4)return await y4(n,e,t);{const r=u$(e,g4);return(await Promise.all(r.map(s=>y4(n,s,t)))).flat()}}async function y4(n,e,t){const r=t??n.commitment,{value:i,context:s}=await n.getMultipleAccountsInfoAndContext(e,r);return i.map((u,h)=>u===null?null:{publicKey:e[h],account:u,context:s})}async function I$(n,e,t,r,i){var s;t&&t.length>0&&e.sign(...t);const c=e._compile(),u=c.serialize(),d=e._serialize(u).toString("base64"),p={encoding:"base64",commitment:r??n.commitment};if(i){const S=(Array.isArray(i)?i:c.nonProgramIds()).map(k=>k.toBase58());p.accounts={encoding:"base64",addresses:S}}t&&t.length>0&&(p.sigVerify=!0);const v=[d,p],x=await n._rpcRequest("simulateTransaction",v),y=ZE(x,M$);if("error"in y){let S;if("data"in y.error&&(S=(s=y.error.data)===null||s===void 0?void 0:s.logs,S&&Array.isArray(S))){const k=`
    `,I=k+S.join(k);console.error(y.error.message,I)}throw new Yc("failed to simulate transaction: "+y.error.message,S)}return y.result}function k$(n){return T$(BO(n),C$,e=>"error"in e?e:{...e,result:ZE(e.result,n)})}const C$=BO(QE());function BO(n){return MO([zc({jsonrpc:m4("2.0"),id:Jl(),result:n}),zc({jsonrpc:m4("2.0"),id:Jl(),error:zc({code:QE(),message:Jl(),data:Og(S$())})})])}function O$(n){return k$(zc({context:zc({slot:Cg()}),value:n}))}const M$=O$(zc({err:U0(MO([zc({}),Jl()])),logs:U0(Dv(Jl())),accounts:Og(U0(Dv(U0(zc({executable:R$(),owner:Jl(),lamports:Cg(),data:Dv(Jl()),rentEpoch:Og(Cg())}))))),unitsConsumed:Og(Cg())}));class af{constructor(e,t,r=af.defaultOptions()){this.connection=e,this.wallet=t,this.opts=r,this.publicKey=t==null?void 0:t.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t=af.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,t,r){var i,s,c,u;if(r===void 0&&(r=this.opts),kl(e))t&&e.sign(t);else if(e.feePayer=(i=e.feePayer)!==null&&i!==void 0?i:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash,t)for(const d of t)e.partialSign(d);e=await this.wallet.signTransaction(e);const h=e.serialize();try{return await w4(this.connection,h,r)}catch(d){if(d instanceof fx){const p=f4(kl(e)?((s=e.signatures)===null||s===void 0?void 0:s[0])||new Uint8Array:(c=e.signature)!==null&&c!==void 0?c:new Uint8Array),v=kl(e)?0:void 0,x=await this.connection.getTransaction(p,{commitment:"confirmed",maxSupportedTransactionVersion:v});if(x){const y=(u=x.meta)===null||u===void 0?void 0:u.logMessages;throw y?new Yc(d.message,y):d}else throw d}else throw d}}async sendAll(e,t){var r,i,s;t===void 0&&(t=this.opts);const c=(await this.connection.getLatestBlockhash(t.preflightCommitment)).blockhash;let u=e.map(p=>{var v,x;if(kl(p.tx)){let y=p.tx;return p.signers&&y.sign(p.signers),y}else{let y=p.tx,S=(v=p.signers)!==null&&v!==void 0?v:[];return y.feePayer=(x=y.feePayer)!==null&&x!==void 0?x:this.wallet.publicKey,y.recentBlockhash=c,S.forEach(k=>{y.partialSign(k)}),y}});const h=await this.wallet.signAllTransactions(u),d=[];for(let p=0;p<u.length;p+=1){const v=h[p],x=v.serialize();try{d.push(await w4(this.connection,x,t))}catch(y){if(y instanceof fx){const S=f4(kl(v)?((r=v.signatures)===null||r===void 0?void 0:r[0])||new Uint8Array:(i=v.signature)!==null&&i!==void 0?i:new Uint8Array),k=kl(v)?0:void 0,I=await this.connection.getTransaction(S,{commitment:"confirmed",maxSupportedTransactionVersion:k});if(I){const M=(s=I.meta)===null||s===void 0?void 0:s.logMessages;throw M?new Yc(y.message,M):y}else throw y}else throw y}}return d}async simulate(e,t,r,i){let s=(await this.connection.getLatestBlockhash(r??this.connection.commitment)).blockhash,c;if(kl(e)?(t&&t.length>0&&(e.sign(t),e=await this.wallet.signTransaction(e)),c=await this.connection.simulateTransaction(e,{commitment:r})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=s,t&&t.length>0&&(e=await this.wallet.signTransaction(e)),c=await I$(this.connection,e,t,r,i)),c.value.err)throw new B$(c.value);return c.value}}class B$ extends Error{constructor(e,t){super(t),this.simulationResponse=e}}async function w4(n,e,t){const r=t&&{skipPreflight:t.skipPreflight,preflightCommitment:t.preflightCommitment||t.commitment},i=await n.sendRawTransaction(e,r),s=(await n.confirmTransaction(i,t&&t.commitment)).value;if(s.err)throw new fx(`Raw transaction ${i} failed (${JSON.stringify(s)})`);return i}class fx extends Error{constructor(e){super(e)}}function dx(){return af.local()}var L$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof js<"u"?js:typeof self<"u"?self:{},Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});var LO=Oe.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=C5=Oe.ANCHOR_ERROR__REQUIRE_VIOLATED=k5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=I5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=N5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=T5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=R5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=S5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=A5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=E5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=x5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=_5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=v5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=b5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=w5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=y5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=g5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=m5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=p5=Oe.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=d5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=f5=Oe.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=h5=Oe.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=u5=Oe.ANCHOR_ERROR__CONSTRAINT_SPACE=l5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=c5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=a5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=o5=Oe.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=s5=Oe.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=i5=Oe.ANCHOR_ERROR__CONSTRAINT_ZERO=r5=Oe.ANCHOR_ERROR__CONSTRAINT_ADDRESS=n5=Oe.ANCHOR_ERROR__CONSTRAINT_CLOSE=t5=Oe.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=e5=Oe.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=JO=Oe.ANCHOR_ERROR__CONSTRAINT_STATE=QO=Oe.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=ZO=Oe.ANCHOR_ERROR__CONSTRAINT_SEEDS=XO=Oe.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=YO=Oe.ANCHOR_ERROR__CONSTRAINT_OWNER=WO=Oe.ANCHOR_ERROR__CONSTRAINT_RAW=KO=Oe.ANCHOR_ERROR__CONSTRAINT_SIGNER=$O=Oe.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=GO=Oe.ANCHOR_ERROR__CONSTRAINT_MUT=qO=Oe.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=HO=Oe.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=FO=Oe.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=zO=Oe.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=VO=Oe.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=UO=Oe.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=PO=Oe.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=jO=Oe.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,DO=Oe.ANCHOR_ERROR__DEPRECATED=r8=Oe.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=n8=Oe.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=t8=Oe.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=e8=Oe.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=J5=Oe.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=Q5=Oe.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=Z5=Oe.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=X5=Oe.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=Y5=Oe.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=W5=Oe.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=K5=Oe.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=$5=Oe.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=G5=Oe.ANCHOR_ERROR__INVALID_PROGRAM_ID=q5=Oe.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=H5=Oe.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=F5=Oe.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=z5=Oe.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=V5=Oe.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=U5=Oe.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=P5=Oe.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=j5=Oe.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=D5=Oe.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=L5=Oe.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=B5=Oe.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=M5=Oe.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=O5=Oe.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,jO=Oe.ANCHOR_ERROR__INSTRUCTION_MISSING=100,PO=Oe.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,UO=Oe.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,VO=Oe.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,zO=Oe.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,FO=Oe.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,HO=Oe.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,qO=Oe.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,GO=Oe.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,$O=Oe.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,KO=Oe.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,WO=Oe.ANCHOR_ERROR__CONSTRAINT_RAW=2003,YO=Oe.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,XO=Oe.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,ZO=Oe.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,QO=Oe.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,JO=Oe.ANCHOR_ERROR__CONSTRAINT_STATE=2008,e5=Oe.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,t5=Oe.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,n5=Oe.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,r5=Oe.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,i5=Oe.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,s5=Oe.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,o5=Oe.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,a5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,c5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,l5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,u5=Oe.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,h5=Oe.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,f5=Oe.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,d5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,p5=Oe.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,m5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,g5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,y5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,w5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,b5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,v5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,_5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,x5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,E5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,A5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,S5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,R5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,T5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,N5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,I5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,k5=Oe.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,C5=Oe.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;LO=Oe.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var O5=Oe.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,M5=Oe.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,B5=Oe.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,L5=Oe.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,D5=Oe.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,j5=Oe.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,P5=Oe.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,U5=Oe.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,V5=Oe.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,z5=Oe.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,F5=Oe.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,H5=Oe.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,q5=Oe.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,G5=Oe.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,$5=Oe.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,K5=Oe.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,W5=Oe.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,Y5=Oe.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,X5=Oe.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,Z5=Oe.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,Q5=Oe.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,J5=Oe.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,e8=Oe.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,t8=Oe.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,n8=Oe.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,r8=Oe.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;DO=Oe.ANCHOR_ERROR__DEPRECATED=5e3;const D$=new Map;function i8(n){return D$.get(n)!==void 0}class Ic extends Error{constructor(e){super(e),this.name="IdlError"}}class Kp{constructor(e){this.stack=e}static parse(e){var t;const r=/^Program (\w*) invoke/,i=/^Program \w* success/,s=[];for(let c=0;c<e.length;c++){if(i.exec(e[c])){s.pop();continue}const u=(t=r.exec(e[c]))===null||t===void 0?void 0:t[1];u&&s.push(new xe(u))}return new Kp(s)}}class np extends Error{constructor(e,t,r,i,s,c){super(r.join(`
`).replace("Program log: ","")),this.errorLogs=r,this.logs=i,this.error={errorCode:e,errorMessage:t,comparedValues:c,origin:s},this._programErrorStack=Kp.parse(i)}static parse(e){if(!e)return null;const t=e.findIndex(x=>x.startsWith("Program log: AnchorError"));if(t===-1)return null;const r=e[t],i=[r];let s;if(t+1<e.length){if(e[t+1]==="Program log: Left:"){const x=/^Program log: (.*)$/,y=x.exec(e[t+2])[1],S=x.exec(e[t+4])[1];s=[new xe(y),new xe(S)],i.push(...e.slice(t+1,t+5))}else if(e[t+1].startsWith("Program log: Left:")){const x=/^Program log: (Left|Right): (.*)$/,y=x.exec(e[t+1])[2],S=x.exec(e[t+2])[2];i.push(...e.slice(t+1,t+3)),s=[y,S]}}const u=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),d=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),v=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r);if(u){const[x,y,S]=u.slice(1,4),k={code:x,number:parseInt(y)};return new np(k,S,i,e,void 0,s)}else if(d){const[x,y,S,k,I]=d.slice(1,6),M={code:S,number:parseInt(k)},j={file:x,line:parseInt(y)};return new np(M,I,i,e,j,s)}else if(v){const[x,y,S,k]=v.slice(1,5),I=x,M={code:y,number:parseInt(S)};return new np(M,k,i,e,I,s)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class ly extends Error{constructor(e,t,r){super(),this.code=e,this.msg=t,this.logs=r,r&&(this._programErrorStack=Kp.parse(r))}static parse(e,t){const r=e.toString();let i;if(r.includes("custom program error:")){let u=r.split("custom program error: ");if(u.length!==2)return null;i=u[1]}else{const u=r.match(/"Custom":([0-9]+)}/g);if(!u||u.length>1)return null;i=u[0].match(/([0-9]+)/g)[0]}let s;try{s=parseInt(i)}catch{return null}let c=t.get(s);return c!==void 0?new ly(s,c,e.logs):(c=j$.get(s),c!==void 0?new ly(s,c,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function s8(n,e){i8("debug-logs")&&console.log("Translating error:",n);const t=np.parse(n.logs);if(t)return t;const r=ly.parse(n,e);if(r)return r;if(n.logs){const i={get:function(s,c){return c==="programErrorStack"?s.programErrorStack.stack:c==="program"?s.programErrorStack.stack[n.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return n.programErrorStack=Kp.parse(n.logs),new Proxy(n,i)}return n}const et={InstructionMissing:jO,InstructionFallbackNotFound:PO,InstructionDidNotDeserialize:UO,InstructionDidNotSerialize:VO,IdlInstructionStub:zO,IdlInstructionInvalidProgram:FO,IdlAccountNotEmpty:HO,EventInstructionStub:qO,ConstraintMut:GO,ConstraintHasOne:$O,ConstraintSigner:KO,ConstraintRaw:WO,ConstraintOwner:YO,ConstraintRentExempt:XO,ConstraintSeeds:ZO,ConstraintExecutable:QO,ConstraintState:JO,ConstraintAssociated:e5,ConstraintAssociatedInit:t5,ConstraintClose:n5,ConstraintAddress:r5,ConstraintZero:i5,ConstraintTokenMint:s5,ConstraintTokenOwner:o5,ConstraintMintMintAuthority:a5,ConstraintMintFreezeAuthority:c5,ConstraintMintDecimals:l5,ConstraintSpace:u5,ConstraintAccountIsNone:h5,ConstraintTokenTokenProgram:f5,ConstraintMintTokenProgram:d5,ConstraintAssociatedTokenTokenProgram:p5,ConstraintMintGroupPointerExtension:m5,ConstraintMintGroupPointerExtensionAuthority:g5,ConstraintMintGroupPointerExtensionGroupAddress:y5,ConstraintMintGroupMemberPointerExtension:w5,ConstraintMintGroupMemberPointerExtensionAuthority:b5,ConstraintMintGroupMemberPointerExtensionMemberAddress:v5,ConstraintMintMetadataPointerExtension:_5,ConstraintMintMetadataPointerExtensionAuthority:x5,ConstraintMintMetadataPointerExtensionMetadataAddress:E5,ConstraintMintCloseAuthorityExtension:A5,ConstraintMintCloseAuthorityExtensionAuthority:S5,ConstraintMintPermanentDelegateExtension:R5,ConstraintMintPermanentDelegateExtensionDelegate:T5,ConstraintMintTransferHookExtension:N5,ConstraintMintTransferHookExtensionAuthority:I5,ConstraintMintTransferHookExtensionProgramId:k5,RequireViolated:C5,RequireEqViolated:LO,RequireKeysEqViolated:O5,RequireNeqViolated:M5,RequireKeysNeqViolated:B5,RequireGtViolated:L5,RequireGteViolated:D5,AccountDiscriminatorAlreadySet:j5,AccountDiscriminatorNotFound:P5,AccountDiscriminatorMismatch:U5,AccountDidNotDeserialize:V5,AccountDidNotSerialize:z5,AccountNotEnoughKeys:F5,AccountNotMutable:H5,AccountOwnedByWrongProgram:q5,InvalidProgramId:G5,InvalidProgramExecutable:$5,AccountNotSigner:K5,AccountNotSystemOwned:W5,AccountNotInitialized:Y5,AccountNotProgramData:X5,AccountNotAssociatedTokenAccount:Z5,AccountSysvarMismatch:Q5,AccountReallocExceedsLimit:J5,AccountDuplicateReallocs:e8,DeclaredProgramIdMismatch:t8,TryingToInitPayerAsProgramAccount:n8,InvalidNumericConversion:r8,Deprecated:DO},j$=new Map([[et.InstructionMissing,"8 byte instruction identifier not provided"],[et.InstructionFallbackNotFound,"Fallback functions are not supported"],[et.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[et.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[et.IdlInstructionStub,"The program was compiled without idl instructions"],[et.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[et.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[et.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[et.ConstraintMut,"A mut constraint was violated"],[et.ConstraintHasOne,"A has one constraint was violated"],[et.ConstraintSigner,"A signer constraint was violated"],[et.ConstraintRaw,"A raw constraint was violated"],[et.ConstraintOwner,"An owner constraint was violated"],[et.ConstraintRentExempt,"A rent exemption constraint was violated"],[et.ConstraintSeeds,"A seeds constraint was violated"],[et.ConstraintExecutable,"An executable constraint was violated"],[et.ConstraintState,"Deprecated Error, feel free to replace with something else"],[et.ConstraintAssociated,"An associated constraint was violated"],[et.ConstraintAssociatedInit,"An associated init constraint was violated"],[et.ConstraintClose,"A close constraint was violated"],[et.ConstraintAddress,"An address constraint was violated"],[et.ConstraintZero,"Expected zero account discriminant"],[et.ConstraintTokenMint,"A token mint constraint was violated"],[et.ConstraintTokenOwner,"A token owner constraint was violated"],[et.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[et.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[et.ConstraintMintDecimals,"A mint decimals constraint was violated"],[et.ConstraintSpace,"A space constraint was violated"],[et.ConstraintAccountIsNone,"A required account for the constraint is None"],[et.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[et.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[et.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[et.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[et.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[et.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[et.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[et.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[et.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[et.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[et.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[et.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[et.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[et.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[et.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[et.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[et.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[et.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[et.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[et.RequireViolated,"A require expression was violated"],[et.RequireEqViolated,"A require_eq expression was violated"],[et.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[et.RequireNeqViolated,"A require_neq expression was violated"],[et.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[et.RequireGtViolated,"A require_gt expression was violated"],[et.RequireGteViolated,"A require_gte expression was violated"],[et.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[et.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[et.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[et.AccountDidNotDeserialize,"Failed to deserialize the account"],[et.AccountDidNotSerialize,"Failed to serialize the account"],[et.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[et.AccountNotMutable,"The given account is not mutable"],[et.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[et.InvalidProgramId,"Program ID was not as expected"],[et.InvalidProgramExecutable,"Program account is not executable"],[et.AccountNotSigner,"The given account did not sign"],[et.AccountNotSystemOwned,"The given account is not owned by the system program"],[et.AccountNotInitialized,"The program expected this account to be already initialized"],[et.AccountNotProgramData,"The given account is not a program data account"],[et.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[et.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[et.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[et.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[et.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[et.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[et.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[et.Deprecated,"The API being used is deprecated and should no longer be used"]]);class ln{static fieldLayout(e,t=[],r){const i=e.name;switch(e.type){case"bool":return Ht.bool(i);case"u8":return Ht.u8(i);case"i8":return Ht.i8(i);case"u16":return Ht.u16(i);case"i16":return Ht.i16(i);case"u32":return Ht.u32(i);case"i32":return Ht.i32(i);case"f32":return Ht.f32(i);case"u64":return Ht.u64(i);case"i64":return Ht.i64(i);case"f64":return Ht.f64(i);case"u128":return Ht.u128(i);case"i128":return Ht.i128(i);case"u256":return Ht.u256(i);case"i256":return Ht.i256(i);case"bytes":return Ht.vecU8(i);case"string":return Ht.str(i);case"pubkey":return Ht.publicKey(i);default:{if("option"in e.type)return Ht.option(ln.fieldLayout({type:e.type.option},t,r),i);if("vec"in e.type)return Ht.vec(ln.fieldLayout({type:e.type.vec},t,r),i);if("array"in e.type){let[s,c]=e.type.array;return c=ln.resolveArrayLen(c,r),Ht.array(ln.fieldLayout({type:s},t,r),c,i)}if("defined"in e.type){if(!t)throw new Ic("User defined types not provided");const s=e.type.defined.name,c=t.find(u=>u.name===s);if(!c)throw new Ic(`Type not found: ${e.name}`);return ln.typeDefLayout({typeDef:c,types:t,genericArgs:r??e.type.defined.generics,name:i})}if("generic"in e.type){const s=r==null?void 0:r.at(0);if((s==null?void 0:s.kind)!=="type")throw new Ic(`Invalid generic field: ${e.name}`);return ln.fieldLayout({...e,type:s.type},t)}throw new Ic(`Not yet implemented: ${JSON.stringify(e.type)}`)}}}static typeDefLayout({typeDef:e,types:t,name:r,genericArgs:i}){switch(e.type.kind){case"struct":{const s=Fh(e.type.fields,()=>[],c=>c.map(u=>{const h=i&&ln.resolveGenericArgs({type:u.type,typeDef:e,genericArgs:i});return ln.fieldLayout(u,t,h)}),c=>c.map((u,h)=>{const d=i&&ln.resolveGenericArgs({type:u,typeDef:e,genericArgs:i});return ln.fieldLayout({name:h.toString(),type:u},t,d)}));return Ht.struct(s,r)}case"enum":{const s=e.type.variants.map(c=>{const u=Fh(c.fields,()=>[],h=>h.map(d=>{const p=i&&ln.resolveGenericArgs({type:d.type,typeDef:e,genericArgs:i});return ln.fieldLayout(d,t,p)}),h=>h.map((d,p)=>{const v=i&&ln.resolveGenericArgs({type:d,typeDef:e,genericArgs:i});return ln.fieldLayout({name:p.toString(),type:d},t,v)}));return Ht.struct(u,c.name)});return r!==void 0?Ht.rustEnum(s).replicate(r):Ht.rustEnum(s,r)}case"type":return ln.fieldLayout({type:e.type.alias,name:r},t)}}static typeSize(e,t,r){var i;switch(e){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"pubkey":return 32;default:if("option"in e)return 1+ln.typeSize(e.option,t,r);if("coption"in e)return 4+ln.typeSize(e.coption,t,r);if("vec"in e)return 1;if("array"in e){let[s,c]=e.array;return c=ln.resolveArrayLen(c,r),ln.typeSize(s,t,r)*c}if("defined"in e){const s=(i=t.types)===null||i===void 0?void 0:i.find(u=>u.name===e.defined.name);if(!s)throw new Ic(`Type not found: ${JSON.stringify(e)}`);const c=u=>{const h=r??e.defined.generics,d=h&&ln.resolveGenericArgs({type:u,typeDef:s,genericArgs:h});return ln.typeSize(u,t,d)};switch(s.type.kind){case"struct":return Fh(s.type.fields,()=>[0],u=>u.map(h=>c(h.type)),u=>u.map(h=>c(h))).reduce((u,h)=>u+h,0);case"enum":{const u=s.type.variants.map(h=>Fh(h.fields,()=>[0],d=>d.map(p=>c(p.type)),d=>d.map(p=>c(p))).reduce((d,p)=>d+p,0));return Math.max(...u)+1}case"type":return ln.typeSize(s.type.alias,t,r)}}if("generic"in e){const s=r==null?void 0:r.at(0);if((s==null?void 0:s.kind)!=="type")throw new Ic(`Invalid generic: ${e.generic}`);return ln.typeSize(s.type,t,r)}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}static resolveArrayLen(e,t){if(typeof e=="number")return e;if(t){const r=t.find(i=>i.kind==="const");(r==null?void 0:r.kind)==="const"&&(e=+r.value)}if(typeof e!="number")throw new Ic("Generic array length did not resolve");return e}static resolveGenericArgs({type:e,typeDef:t,genericArgs:r,isDefined:i}){if(typeof e!="object")return null;for(const s in t.generics){const c=t.generics[s];if("generic"in e&&c.name===e.generic)return[r[s]];if("option"in e){const u=ln.resolveGenericArgs({type:e.option,typeDef:t,genericArgs:r,isDefined:i});if(!u||!i)return u;if(u[0].kind==="type")return[{kind:"type",type:{option:u[0].type}}]}if("vec"in e){const u=ln.resolveGenericArgs({type:e.vec,typeDef:t,genericArgs:r,isDefined:i});if(!u||!i)return u;if(u[0].kind==="type")return[{kind:"type",type:{vec:u[0].type}}]}if("array"in e){const[u,h]=e.array,d=typeof h=="object",p=ln.resolveGenericArgs({type:u,typeDef:t,genericArgs:r,isDefined:i});if(p){for(const v in t.generics.slice(+s)){const x=+s+ +v;d&&t.generics[x].name===h.generic&&p.push(r[x])}if(!i)return p;if(p[0].kind==="type"&&p[1].kind==="const")return[{kind:"type",type:{array:[p[0].type,+p[1].value]}}]}if(d&&c.name===h.generic){const v=r[s];return i?[{kind:"type",type:{array:[u,+v.value]}}]:[v]}return null}if("defined"in e)return e.defined.generics?e.defined.generics.flatMap(u=>{switch(u.kind){case"type":return ln.resolveGenericArgs({type:u.type,typeDef:t,genericArgs:r,isDefined:!0});case"const":return[u]}}).filter(u=>u!==null):null}return null}}class P${constructor(e){this.idl=e;const t=e.instructions.map(i=>{const s=i.name,c=i.args.map(h=>ln.fieldLayout(h,e.types)),u=Ht.struct(c,s);return[s,{discriminator:i.discriminator,layout:u}]});this.ixLayouts=new Map(t);const r=t.map(([i,{discriminator:s,layout:c}])=>[ep.encode(s),{name:i,layout:c}]);this.sighashLayouts=new Map(r)}encode(e,t){const r=ft.alloc(1e3),i=this.ixLayouts.get(e);if(!i)throw new Error(`Unknown method: ${e}`);const s=i.layout.encode(t,r),c=r.slice(0,s);return ft.concat([ft.from(i.discriminator),c])}decode(e,t="hex"){typeof e=="string"&&(e=t==="hex"?ft.from(e,"hex"):ep.decode(e));const r=e.slice(0,Hh),i=e.slice(Hh),s=this.sighashLayouts.get(ep.encode(r));return s?{name:s.name,data:s.layout.decode(i)}:null}format(e,t){return Ji.format(e,t,this.idl)}}class Ji{static format(e,t,r){const i=r.instructions.find(h=>e.name===h.name);if(!i)return console.error("Invalid instruction given"),null;const s=i.args.map(h=>({name:h.name,type:Ji.formatIdlType(h.type),data:Ji.formatIdlData(h,e.data[h.name],r.types)})),c=Ji.flattenIdlAccounts(i.accounts),u=t.map((h,d)=>d<c.length?{name:c[d].name,...h}:{name:void 0,...h});return{args:s,accounts:u}}static formatIdlType(e){if(typeof e=="string")return e;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("coption"in e)return`COption<${this.formatIdlType(e.coption)}>`;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;if("defined"in e){const t=e.defined.name;if(e.defined.generics){const r=e.defined.generics.map(i=>{switch(i.kind){case"type":return Ji.formatIdlType(i.type);case"const":return i.value}}).join(", ");return`${t}<${r}>`}return t}throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,r){if(typeof e.type=="string")return t.toString();if("vec"in e.type)return"["+t.map(i=>this.formatIdlData({name:"",type:e.type.vec},i,r)).join(", ")+"]";if("option"in e.type)return t===null?"null":this.formatIdlData({name:"",type:e.type.option},t,r);if("defined"in e.type){if(!r)throw new Error("User defined types not provided");const i=e.type.defined.name,s=r.find(c=>c.name===i);if(!s)throw new Error(`Type not found: ${i}`);return Ji.formatIdlDataDefined(s,t,r)}return"unknown"}static formatIdlDataDefined(e,t,r){switch(e.type.kind){case"struct":return"{ "+Fh(e.type.fields,()=>"",i=>Object.entries(t).map(([s,c])=>{const u=i.find(h=>h.name===s);if(!u)throw new Error(`Field not found: ${s}`);return s+": "+Ji.formatIdlData(u,c,r)}).join(", "),i=>Object.entries(t).map(([s,c])=>s+": "+Ji.formatIdlData({name:"",type:i[s]},c,r)).join(", "))+" }";case"enum":{const i=Object.keys(t)[0],s=e.type.variants.find(u=>u.name===i);if(!s)throw new Error(`Unable to find variant: ${i}`);const c=t[i];return Fh(s.fields,()=>i,u=>{const h=Object.keys(c).map(d=>{const p=c[d],v=u.find(x=>x.name===d);if(!v)throw new Error(`Field not found: ${d}`);return d+": "+Ji.formatIdlData(v,p,r)}).join(", ");return`${i} { ${h} }`},u=>{const h=Object.entries(c).map(([d,p])=>d+": "+Ji.formatIdlData({name:"",type:u[d]},p,r)).join(", ");return`${i} { ${h} }`})}case"type":return Ji.formatIdlType(e.type.alias)}}static flattenIdlAccounts(e,t){return e.map(r=>{const i=U$(r.name);if(r.hasOwnProperty("accounts")){const s=t?`${t} > ${i}`:i;return Ji.flattenIdlAccounts(r.accounts,s)}else return{...r,name:t?`${t} > ${i}`:i}}).flat()}}function U$(n){const e=n.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}const Hh=8;class V${constructor(e){if(this.idl=e,!e.accounts){this.accountLayouts=new Map;return}const t=e.types;if(!t)throw new Error("Accounts require `idl.types`");const r=e.accounts.map(i=>{const s=t.find(c=>c.name===i.name);if(!s)throw new Error(`Account not found: ${i.name}`);return[i.name,ln.typeDefLayout({typeDef:s,types:t})]});this.accountLayouts=new Map(r)}async encode(e,t){const r=ft.alloc(1e3),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);const s=i.encode(t,r),c=r.slice(0,s),u=this.accountDiscriminator(e);return ft.concat([u,c])}decode(e,t){if(this.accountDiscriminator(e).compare(t.slice(0,Hh)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeAny(e){const t=e.slice(0,Hh),r=Array.from(this.accountLayouts.keys()).find(i=>this.accountDiscriminator(i).equals(t));if(!r)throw new Error("Account not found");return this.decodeUnchecked(r,e)}decodeUnchecked(e,t){const r=t.subarray(Hh),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);return i.decode(r)}memcmp(e,t){const r=this.accountDiscriminator(e);return{offset:0,bytes:ep.encode(t?ft.concat([r,t]):r)}}size(e){return Hh+ln.typeSize({defined:{name:e}},this.idl)}accountDiscriminator(e){var t;const r=(t=this.idl.accounts)===null||t===void 0?void 0:t.find(i=>i.name===e);if(!r)throw new Error(`Account not found: ${e}`);return ft.from(r.discriminator)}}class z${constructor(e){var t;if(!e.events){this.layouts=new Map;return}const r=e.types;if(!r)throw new Error("Events require `idl.types`");const i=e.events.map(s=>{const c=r.find(u=>u.name===s.name);if(!c)throw new Error(`Event not found: ${s.name}`);return[s.name,ln.typeDefLayout({typeDef:c,types:r})]});this.layouts=new Map(i),this.discriminators=new Map(((t=e.events)!==null&&t!==void 0?t:[]).map(s=>[d4(ft.from(s.discriminator)),s.name]))}decode(e){let t;try{t=kO(e)}catch{return null}const r=d4(t.slice(0,8)),i=this.discriminators.get(r);if(!i)return null;const s=this.layouts.get(i);if(!s)throw new Error(`Unknown event: ${i}`);return{data:s.decode(t.slice(8)),name:i}}}class F${constructor(e){const t=e.types;if(!t){this.typeLayouts=new Map;return}const r=t.filter(i=>!i.generics).map(i=>[i.name,ln.typeDefLayout({typeDef:i,types:t})]);this.typeLayouts=new Map(r)}encode(e,t){const r=ft.alloc(1e3),i=this.typeLayouts.get(e);if(!i)throw new Error(`Unknown type: ${e}`);const s=i.encode(t,r);return r.slice(0,s)}decode(e,t){const r=this.typeLayouts.get(e);if(!r)throw new Error(`Unknown type: ${e}`);return r.decode(t)}}class o8{constructor(e){this.instruction=new P$(e),this.accounts=new V$(e),this.events=new z$(e),this.types=new F$(e)}}class qi{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var Qy=qi;function H$(n,e){return e.property?n+"["+e.property+"]":n}class eu extends qi{isCount(){throw new Error("ExternalLayout is abstract")}}class a8 extends eu{constructor(e,t,r){if(!(e instanceof qi))throw new TypeError("layout must be a Layout");if(t===void 0)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Jy||this.layout instanceof c8}decode(e,t){return t===void 0&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return r===void 0&&(r=0),this.layout.encode(e,t,r+this.offset)}}class Jy extends qi{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class c8 extends qi{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntBE(e,r,this.span),this.span}}const px=Math.pow(2,32);function l8(n){const e=Math.floor(n/px),t=n-e*px;return{hi32:e,lo32:t}}function u8(n,e){return n*px+e}class q$ extends qi{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t),i=e.readUInt32LE(t+4);return u8(i,r)}encode(e,t,r){r===void 0&&(r=0);const i=l8(e);return t.writeUInt32LE(i.lo32,r),t.writeUInt32LE(i.hi32,r+4),8}}class G$ extends qi{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t),i=e.readInt32LE(t+4);return u8(i,r)}encode(e,t,r){r===void 0&&(r=0);const i=l8(e);return t.writeUInt32LE(i.lo32,r),t.writeInt32LE(i.hi32,r+4),8}}class $$ extends qi{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((s,c)=>s&&c instanceof qi,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,c)=>s+c.getSpan(),0)}catch{}super(i,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;try{r=this.fields.reduce((i,s)=>{const c=s.getSpan(e,t);return t+=c,i+c},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t){t===void 0&&(t=0);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){r===void 0&&(r=0);const i=r;let s=0,c=0;for(const u of this.fields){let h=u.span;if(c=0<h?h:0,u.property!==void 0){const d=e[u.property];d!==void 0&&(c=u.encode(d,t,r),0>h&&(h=u.getSpan(t,r)))}s=r,r+=h}return s+c-i}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class h8{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class b4 extends h8{constructor(e,t){if(!(e instanceof eu&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class f8 extends qi{constructor(e,t,r){const i=e instanceof Jy||e instanceof c8;if(i)e=new b4(new a8(e));else if(e instanceof eu&&e.isCount())e=new b4(e);else if(!(e instanceof h8))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof qi))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let s=-1;t&&(s=t.span,0<=s&&i&&(s+=e.layout.span)),super(s,r),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=t,this.registry={};let c=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(u){return c(u)},this.configGetSourceVariant=function(u){c=u.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,t){t===void 0&&(t=0);let r;const i=this.discriminator,s=i.decode(e,t);let c=this.registry[s];if(c===void 0){let u=0;c=this.defaultLayout,this.usesPrefixDiscriminator&&(u=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[c.property]=this.defaultLayout.decode(e,t+u)}else r=c.decode(e,t);return r}encode(e,t,r){r===void 0&&(r=0);const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,c=this.defaultLayout;let u=0;return this.usesPrefixDiscriminator&&(u=s.layout.span),s.encode(e[s.property],t,r),u+c.encode(e[c.property],t,r+u)}return i.encode(e,t,r)}addVariant(e,t,r){const i=new K$(this,e,t,r);return this.registry[e]=i,i}getVariant(e,t){let r=e;return xt.isBuffer(e)&&(t===void 0&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}}class K$ extends qi{constructor(e,t,r,i){if(!(e instanceof f8))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof qi))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){const r=this.makeDestinationObject();if(t===void 0&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){r===void 0&&(r=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let s=i;if(this.layout&&(this.layout.encode(e[this.property],t,r+i),s+=this.layout.getSpan(t,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class W$ extends qi{constructor(e,t){if(!(e instanceof eu&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof eu||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){t===void 0&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let i=this.length;if(this.length instanceof eu&&(i=e.length),!(xt.isBuffer(e)&&i===e.length))throw new TypeError(H$("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,i,"hex"),this.length instanceof eu&&this.length.encode(i,t,r),i}}var Y$=((n,e,t)=>new a8(n,e,t)),X$=(n=>new Jy(1,n)),ba=(n=>new Jy(4,n)),Z$=(n=>new q$(n)),ka=(n=>new G$(n)),Mr=((n,e,t)=>new $$(n,e,t)),d8=((n,e,t)=>new f8(n,e,t)),Wp=((n,e)=>new W$(n,e));class Q$ extends Qy{constructor(e){super(-1,e),this.property=e,this.layout=Mr([ba("length"),ba("lengthPadding"),Wp(Y$(ba(),-8),"chars")],this.property)}encode(e,t,r=0){if(e==null)return this.layout.span;const i={chars:xt.from(e,"utf8")};return this.layout.encode(i,t,r)}decode(e,t=0){return this.layout.decode(e,t).chars.toString()}getSpan(e,t=0){return ba().span+ba().span+new Vi(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}function e1(n){return new Q$(n)}function Es(n){return Wp(32,n)}const ss=d8(ba("instruction"));ss.addVariant(0,Mr([ka("lamports"),ka("space"),Es("owner")]),"createAccount");ss.addVariant(1,Mr([Es("owner")]),"assign");ss.addVariant(2,Mr([ka("lamports")]),"transfer");ss.addVariant(3,Mr([Es("base"),e1("seed"),ka("lamports"),ka("space"),Es("owner")]),"createAccountWithSeed");ss.addVariant(4,Mr([Es("authorized")]),"advanceNonceAccount");ss.addVariant(5,Mr([ka("lamports")]),"withdrawNonceAccount");ss.addVariant(6,Mr([Es("authorized")]),"initializeNonceAccount");ss.addVariant(7,Mr([Es("authorized")]),"authorizeNonceAccount");ss.addVariant(8,Mr([ka("space")]),"allocate");ss.addVariant(9,Mr([Es("base"),e1("seed"),ka("space"),Es("owner")]),"allocateWithSeed");ss.addVariant(10,Mr([Es("base"),e1("seed"),Es("owner")]),"assignWithSeed");ss.addVariant(11,Mr([ka("lamports"),e1("seed"),Es("owner")]),"transferWithSeed");Math.max(...Object.values(ss.registry).map(n=>n.span));class J$ extends Qy{constructor(e,t,r,i){super(e.span,i),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}function v4(n){return new J$(Wp(32),e=>new xe(e),e=>e.toBuffer(),n)}Mr([ba("version"),ba("state"),v4("authorizedPubkey"),v4("nonce"),Mr([Z$("lamportsPerSignature")],"feeCalculator")]);new xe("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new xe("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var _4={exports:{}};(function(n,e){var t=typeof self<"u"?self:L$,r=(function(){function s(){this.fetch=!1,this.DOMException=t.DOMException}return s.prototype=t,new s})();(function(s){(function(c){var u={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function h(g){return g&&DataView.prototype.isPrototypeOf(g)}if(u.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],p=ArrayBuffer.isView||function(g){return g&&d.indexOf(Object.prototype.toString.call(g))>-1};function v(g){if(typeof g!="string"&&(g=String(g)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(g))throw new TypeError("Invalid character in header field name");return g.toLowerCase()}function x(g){return typeof g!="string"&&(g=String(g)),g}function y(g){var R={next:function(){var C=g.shift();return{done:C===void 0,value:C}}};return u.iterable&&(R[Symbol.iterator]=function(){return R}),R}function S(g){this.map={},g instanceof S?g.forEach(function(R,C){this.append(C,R)},this):Array.isArray(g)?g.forEach(function(R){this.append(R[0],R[1])},this):g&&Object.getOwnPropertyNames(g).forEach(function(R){this.append(R,g[R])},this)}S.prototype.append=function(g,R){g=v(g),R=x(R);var C=this.map[g];this.map[g]=C?C+", "+R:R},S.prototype.delete=function(g){delete this.map[v(g)]},S.prototype.get=function(g){return g=v(g),this.has(g)?this.map[g]:null},S.prototype.has=function(g){return this.map.hasOwnProperty(v(g))},S.prototype.set=function(g,R){this.map[v(g)]=x(R)},S.prototype.forEach=function(g,R){for(var C in this.map)this.map.hasOwnProperty(C)&&g.call(R,this.map[C],C,this)},S.prototype.keys=function(){var g=[];return this.forEach(function(R,C){g.push(C)}),y(g)},S.prototype.values=function(){var g=[];return this.forEach(function(R){g.push(R)}),y(g)},S.prototype.entries=function(){var g=[];return this.forEach(function(R,C){g.push([C,R])}),y(g)},u.iterable&&(S.prototype[Symbol.iterator]=S.prototype.entries);function k(g){if(g.bodyUsed)return Promise.reject(new TypeError("Already read"));g.bodyUsed=!0}function I(g){return new Promise(function(R,C){g.onload=function(){R(g.result)},g.onerror=function(){C(g.error)}})}function M(g){var R=new FileReader,C=I(R);return R.readAsArrayBuffer(g),C}function j(g){var R=new FileReader,C=I(R);return R.readAsText(g),C}function O(g){for(var R=new Uint8Array(g),C=new Array(R.length),Y=0;Y<R.length;Y++)C[Y]=String.fromCharCode(R[Y]);return C.join("")}function Q(g){if(g.slice)return g.slice(0);var R=new Uint8Array(g.byteLength);return R.set(new Uint8Array(g)),R.buffer}function oe(){return this.bodyUsed=!1,this._initBody=function(g){this._bodyInit=g,g?typeof g=="string"?this._bodyText=g:u.blob&&Blob.prototype.isPrototypeOf(g)?this._bodyBlob=g:u.formData&&FormData.prototype.isPrototypeOf(g)?this._bodyFormData=g:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)?this._bodyText=g.toString():u.arrayBuffer&&u.blob&&h(g)?(this._bodyArrayBuffer=Q(g.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(g)||p(g))?this._bodyArrayBuffer=Q(g):this._bodyText=g=Object.prototype.toString.call(g):this._bodyText="",this.headers.get("content-type")||(typeof g=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var g=k(this);if(g)return g;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?k(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(M)}),this.text=function(){var g=k(this);if(g)return g;if(this._bodyBlob)return j(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(O(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(B)}),this.json=function(){return this.text().then(JSON.parse)},this}var ce=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function W(g){var R=g.toUpperCase();return ce.indexOf(R)>-1?R:g}function K(g,R){R=R||{};var C=R.body;if(g instanceof K){if(g.bodyUsed)throw new TypeError("Already read");this.url=g.url,this.credentials=g.credentials,R.headers||(this.headers=new S(g.headers)),this.method=g.method,this.mode=g.mode,this.signal=g.signal,!C&&g._bodyInit!=null&&(C=g._bodyInit,g.bodyUsed=!0)}else this.url=String(g);if(this.credentials=R.credentials||this.credentials||"same-origin",(R.headers||!this.headers)&&(this.headers=new S(R.headers)),this.method=W(R.method||this.method||"GET"),this.mode=R.mode||this.mode||null,this.signal=R.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&C)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(C)}K.prototype.clone=function(){return new K(this,{body:this._bodyInit})};function B(g){var R=new FormData;return g.trim().split("&").forEach(function(C){if(C){var Y=C.split("="),te=Y.shift().replace(/\+/g," "),Z=Y.join("=").replace(/\+/g," ");R.append(decodeURIComponent(te),decodeURIComponent(Z))}}),R}function U(g){var R=new S,C=g.replace(/\r?\n[\t ]+/g," ");return C.split(/\r?\n/).forEach(function(Y){var te=Y.split(":"),Z=te.shift().trim();if(Z){var D=te.join(":").trim();R.append(Z,D)}}),R}oe.call(K.prototype);function q(g,R){R||(R={}),this.type="default",this.status=R.status===void 0?200:R.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in R?R.statusText:"OK",this.headers=new S(R.headers),this.url=R.url||"",this._initBody(g)}oe.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new S(this.headers),url:this.url})},q.error=function(){var g=new q(null,{status:0,statusText:""});return g.type="error",g};var L=[301,302,303,307,308];q.redirect=function(g,R){if(L.indexOf(R)===-1)throw new RangeError("Invalid status code");return new q(null,{status:R,headers:{location:g}})},c.DOMException=s.DOMException;try{new c.DOMException}catch{c.DOMException=function(R,C){this.message=R,this.name=C;var Y=Error(R);this.stack=Y.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function T(g,R){return new Promise(function(C,Y){var te=new K(g,R);if(te.signal&&te.signal.aborted)return Y(new c.DOMException("Aborted","AbortError"));var Z=new XMLHttpRequest;function D(){Z.abort()}Z.onload=function(){var A={status:Z.status,statusText:Z.statusText,headers:U(Z.getAllResponseHeaders()||"")};A.url="responseURL"in Z?Z.responseURL:A.headers.get("X-Request-URL");var w="response"in Z?Z.response:Z.responseText;C(new q(w,A))},Z.onerror=function(){Y(new TypeError("Network request failed"))},Z.ontimeout=function(){Y(new TypeError("Network request failed"))},Z.onabort=function(){Y(new c.DOMException("Aborted","AbortError"))},Z.open(te.method,te.url,!0),te.credentials==="include"?Z.withCredentials=!0:te.credentials==="omit"&&(Z.withCredentials=!1),"responseType"in Z&&u.blob&&(Z.responseType="blob"),te.headers.forEach(function(A,w){Z.setRequestHeader(w,A)}),te.signal&&(te.signal.addEventListener("abort",D),Z.onreadystatechange=function(){Z.readyState===4&&te.signal.removeEventListener("abort",D)}),Z.send(typeof te._bodyInit>"u"?null:te._bodyInit)})}return T.polyfill=!0,s.fetch||(s.fetch=T,s.Headers=S,s.Request=K,s.Response=q),c.Headers=S,c.Request=K,c.Response=q,c.fetch=T,Object.defineProperty(c,"__esModule",{value:!0}),c})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,n.exports=e})(_4,_4.exports);Ht.rustEnum([Ht.struct([],"uninitialized"),Ht.struct([Ht.option(Ht.publicKey(),"authorityAddress")],"buffer"),Ht.struct([Ht.publicKey("programdataAddress")],"program"),Ht.struct([Ht.u64("slot"),Ht.option(Ht.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,Ht.u32());function t1(n,e){var t,r;let i={};const s=n.args?n.args.length:0;if(e.length>s){if(e.length!==s+1)throw new Error(`provided too many arguments ${e} to instruction ${n==null?void 0:n.name} expecting: ${(r=(t=n.args)===null||t===void 0?void 0:t.map(c=>c.name))!==null&&r!==void 0?r:[]}`);i=e.pop()}return[e,i]}class uy{static build(e,t,r){if(e.name==="_inner")throw new Ic("the _inner name is reserved");const i=(...s)=>{const[c,u]=t1(e,[...s]);CO(e.accounts,u.accounts),eK(e,...s);const h=i.accounts(u.accounts);return u.remainingAccounts!==void 0&&h.push(...u.remainingAccounts),i8("debug-logs")&&console.log("Outgoing account metas:",h),new Rn({keys:h,programId:r,data:t(e.name,w$(e,...c))})};return i.accounts=s=>uy.accountsArray(s,e.accounts,r,e.name),i}static accountsArray(e,t,r,i){return e?t.map(s=>{if(zh(s)){const p=e[s.name];return uy.accountsArray(p,s.accounts,r,i).flat()}let c;try{c=Ls(e[s.name])}catch{throw new Error(`Wrong input type for account "${s.name}" in the instruction accounts object${i!==void 0?' for instruction "'+i+'"':""}. Expected PublicKey or string.`)}const u=s.optional&&c.equals(r),h=!!(s.writable&&!u),d=!!(s.signer&&!u);return{pubkey:c,isWritable:h,isSigner:d}}).flat():[]}}function eK(n,...e){}class tK{static build(e,t){return(...i)=>{var s,c,u;const[,h]=t1(e,[...i]),d=new Qt;if(h.preInstructions&&h.instructions)throw new Error("instructions is deprecated, use preInstructions");return(s=h.preInstructions)===null||s===void 0||s.forEach(p=>d.add(p)),(c=h.instructions)===null||c===void 0||c.forEach(p=>d.add(p)),d.add(t(...i)),(u=h.postInstructions)===null||u===void 0||u.forEach(p=>d.add(p)),d}}}class nK{static build(e,t,r,i){return async(...c)=>{var u;const h=t(...c),[,d]=t1(e,[...c]);if(i.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await i.sendAndConfirm(h,(u=d.signers)!==null&&u!==void 0?u:[],d.options)}catch(p){throw s8(p,r)}}}}class rK{static build(e,t,r,i){var s;return((s=e.accounts)!==null&&s!==void 0?s:[]).reduce((c,u)=>(c[u.name]=new iK(e,u,r,i,t),c),{})}}class iK{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(e,t,r,i,s){this._idlAccount=t,this._programId=r,this._provider=i??dx(),this._coder=s??new o8(e),this._size=this._coder.accounts.size(t.name)}async fetchNullable(e,t){const{data:r}=await this.fetchNullableAndContext(e,t);return r}async fetchNullableAndContext(e,t){const r=await this.getAccountInfoAndContext(e,t),{value:i,context:s}=r;return{data:i&&i.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,i.data):null,context:s}}async fetch(e,t){const{data:r}=await this.fetchNullableAndContext(e,t);if(r===null)throw new Error(`Account does not exist or has no data ${e.toString()}`);return r}async fetchAndContext(e,t){const{data:r,context:i}=await this.fetchNullableAndContext(e,t);if(r===null)throw new Error(`Account does not exist ${e.toString()}`);return{data:r,context:i}}async fetchMultiple(e,t){return(await this.fetchMultipleAndContext(e,t)).map(i=>i?i.data:null)}async fetchMultipleAndContext(e,t){return(await N$(this._provider.connection,e.map(i=>Ls(i)),t)).map(i=>{if(i==null)return null;const{account:s,context:c}=i;return{data:this._coder.accounts.decode(this._idlAccount.name,s.data),context:c}})}async all(e){const t=this.coder.accounts.memcmp(this._idlAccount.name,e instanceof xt?e:void 0),r=[];return(t==null?void 0:t.offset)!=null&&(t==null?void 0:t.bytes)!=null&&r.push({memcmp:{offset:t.offset,bytes:t.bytes}}),(t==null?void 0:t.dataSize)!=null&&r.push({dataSize:t.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...r,...Array.isArray(e)?e:[]]})).map(({pubkey:s,account:c})=>({publicKey:s,account:this._coder.accounts.decode(this._idlAccount.name,c.data)}))}subscribe(e,t){const r=Td.get(e.toString());if(r)return r.ee;const i=new l$;e=Ls(e);const s=this._provider.connection.onAccountChange(e,c=>{const u=this._coder.accounts.decode(this._idlAccount.name,c.data);i.emit("change",u)},t);return Td.set(e.toString(),{ee:i,listener:s}),i}async unsubscribe(e){let t=Td.get(e.toString());if(!t){console.warn("Address is not subscribed");return}Td&&await this._provider.connection.removeAccountChangeListener(t.listener).then(()=>{Td.delete(e.toString())}).catch(console.error)}async createInstruction(e,t){const r=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return zn.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:e.publicKey,space:t??r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(t??r),programId:this._programId})}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(Ls(e),t)}async getAccountInfoAndContext(e,t){return await this._provider.connection.getAccountInfoAndContext(Ls(e),t)}}const Td=new Map,mx="Program log: ",p8="Program data: ",sK=mx.length,oK=p8.length;class aK{constructor(e,t,r){this._programId=e,this._provider=t,this._eventParser=new m8(e,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t){var r;let i=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(e)||this._eventListeners.set(e,[]),this._eventListeners.set(e,((r=this._eventListeners.get(e))!==null&&r!==void 0?r:[]).concat(i)),this._eventCallbacks.set(i,[e,t]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(s,c)=>{if(!s.err)for(const u of this._eventParser.parseLogs(s.logs)){const h=this._eventListeners.get(u.name);h&&h.forEach(d=>{const p=this._eventCallbacks.get(d);if(p){const[,v]=p;v(u.data,c.slot,s.signature)}})}})),i}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[r]=t;let i=this._eventListeners.get(r);if(!i)throw new Error(`Event listeners don't exist for ${r}!`);if(this._eventCallbacks.delete(e),i=i.filter(s=>s!==e),this._eventListeners.set(r,i),i.length===0&&this._eventListeners.delete(r),this._eventCallbacks.size===0){if(this._eventListeners.size!==0)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class m8{constructor(e,t){this.coder=t,this.programId=e}*parseLogs(e,t=!1){const r=new lK(e),i=new cK;let s=r.next();for(;s!==null;){let[c,u,h]=this.handleLog(i,s,t);c&&(yield c),u&&i.push(u),h&&i.pop(),s=r.next()}}handleLog(e,t,r){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t,r):[null,...this.handleSystemLog(t)]}handleProgramLog(e,t){if(e.startsWith(mx)||e.startsWith(p8)){const r=e.startsWith(mx)?e.slice(sK):e.slice(oK),i=this.coder.events.decode(r);if(t&&i===null)throw new Error(`Unable to decode event ${r}`);return[i,null,!1]}else return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return t.match(/^Program (.*) success/g)!==null?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class cK{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class lK{constructor(e){this.logs=e}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}class uK{static build(e,t,r,i,s,c,u){return async(...d)=>{var p;const v=t(...d),[,x]=t1(e,[...d]);let y;if(i.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{y=await i.simulate(v,x.signers,(p=x.options)===null||p===void 0?void 0:p.commitment)}catch(I){throw s8(I,r)}if(y===void 0)throw new Error("Unable to simulate transaction");const S=y.logs;if(!S)throw new Error("Simulated logs not found");const k=[];if(u.events){let I=new m8(c,s);for(const M of I.parseLogs(S))k.push(M)}return{events:k,raw:S}}}}function jv(n){return new g8(Wp(8),e=>fK.fromBuffer(e),e=>e.toBuffer(),n)}function V0(n){return new g8(Wp(32),e=>new xe(e),e=>e.toBuffer(),n)}function Pv(n,e){return new hK(n,e)}class g8 extends Qy{constructor(e,t,r,i){super(e.span,i),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}class hK extends Qy{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=ba()}encode(e,t,r=0){return e==null?this.layout.span+this.discriminator.encode(0,t,r):(this.discriminator.encode(1,t,r),this.layout.encode(e,t,r+4)+4)}decode(e,t=0){const r=this.discriminator.decode(e,t);if(r===0)return null;if(r===1)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.layout.getSpan(e,t+4)+4}}let fK=class y8 extends Vi{toBuffer(){const e=super.toArray().reverse(),t=xt.from(e);if(t.length===8)return t;if(t.length>=8)throw new Error("u64 too large");const r=xt.alloc(8);return t.copy(r),r}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new y8([...e].reverse().map(t=>`00${t.toString(16)}`.slice(-2)).join(""),16)}};const dK=Mr([V0("mint"),V0("owner"),jv("amount"),Pv(V0(),"delegate"),(n=>{const e=d8(X$("discriminator"),null,n);return e.addVariant(0,Mr([]),"uninitialized"),e.addVariant(1,Mr([]),"initialized"),e.addVariant(2,Mr([]),"frozen"),e})("state"),Pv(jv(),"isNative"),jv("delegatedAmount"),Pv(V0(),"closeAuthority")]);function pK(n){return dK.decode(n)}class mK{constructor(e,t,r,i,s,c,u,h){this._args=e,this._accounts=t,this._provider=r,this._programId=i,this._idlIx=s,this._idlTypes=u,this._customResolver=h,this._accountStore=new gK(r,c,i)}args(e){this._args=e}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let e=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(e++,e===16)throw new Error("Reached maximum depth for account resolution")}resolveOptionals(e){Object.assign(this._accounts,this.resolveOptionalsHelper(e,this._idlIx.accounts))}get(e){const t=e.reduce((r,i)=>r&&r[i],this._accounts);if(t&&t.toBase58)return t}set(e,t){let r=this._accounts;e.forEach((i,s)=>{var c;s===e.length-1&&(r[i]=t),r[i]=(c=r[i])!==null&&c!==void 0?c:{},r=r[i]})}resolveOptionalsHelper(e,t){const r={};for(const i of t){const s=i.name,c=e[s];c!==void 0&&(w8(c)?zh(i)?r[s]=this.resolveOptionalsHelper(c,i.accounts):r[s]=b8(c):c!==null?r[s]=Ls(c):i.optional&&(r[s]=this._programId))}return r}async resolveCustom(){if(this._customResolver){const{accounts:e,resolved:t}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=e,t}return 0}resolveEventCpi(e,t=[]){for(const r in e){const i=e[r];zh(i)&&this.resolveEventCpi(i.accounts,[...t,i.name]);const s=+r+1;if(s===e.length)return;const c=e[r].name,u=e[s].name;if(c==="eventAuthority"&&u==="program"){const h=[...t,c],d=[...t,u];this.get(h)||this.set(h,xe.findProgramAddressSync([xt.from("__event_authority")],this._programId)[0]),this.get(d)||this.set(d,this._programId);return}}}resolveConst(e,t=[]){for(const r of e){const i=r.name;if(zh(r))this.resolveConst(r.accounts,[...t,i]);else{const s=r;if((s.signer||s.address)&&!this.get([...t,i])){if(s.signer){if(!this._provider.wallet)throw new Error("This function requires the `Provider` interface implementor to have a `wallet` field.");this.set([...t,i],this._provider.wallet.publicKey)}s.address&&this.set([...t,i],Ls(s.address))}}}}async resolvePdasAndRelations(e,t=[]){let r=0;for(const i of e){const s=i.name;if(zh(i))r+=await this.resolvePdasAndRelations(i.accounts,[...t,s]);else{const c=i;if((c.pda||c.relations)&&!this.get([...t,s])){r++;try{if(c.pda){const u=await Promise.all(c.pda.seeds.map(p=>this.toBuffer(p,t)));if(u.some(p=>!p))continue;const h=await this.parseProgramId(c,t),[d]=xe.findProgramAddressSync(u,h);this.set([...t,s],d)}}catch{}try{if(c.relations){const u=this.get([...t,c.relations[0]]);if(u){const h=await this._accountStore.fetchAccount({publicKey:u});this.set([...t,s],h[s])}}}catch{}}}}return r}async parseProgramId(e,t=[]){var r;if(!(!((r=e.pda)===null||r===void 0)&&r.program))return this._programId;const i=await this.toBuffer(e.pda.program,t);if(!i)throw new Error(`Program seed not resolved: ${e.name}`);return new xe(i)}async toBuffer(e,t=[]){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e,t);default:throw new Error(`Unexpected seed: ${e}`)}}toBufferConst(e){return this.toBufferValue("bytes",e.value)}async toBufferArg(e){const[t,...r]=e.path.split("."),i=this._idlIx.args.findIndex(u=>u.name===t);if(i===-1)throw new Error(`Unable to find argument for seed: ${t}`);const s=r.reduce((u,h)=>(u??{})[h],this._args[i]);if(s===void 0)return;const c=this.getType(this._idlIx.args[i].type,r);return this.toBufferValue(c,s)}async toBufferAccount(e,t=[]){const[r,...i]=e.path.split("."),s=this.get([...t,r]);if(!s)return;if(!i.length)return this.toBufferValue("pubkey",s);if(!e.account)throw new Error(`Seed account is required in order to resolve type: ${e.path}`);let u=await this._accountStore.fetchAccount({publicKey:s,name:e.account}),h=i;for(;h.length>0;)u=u[h[0]],h=h.slice(1);if(u===void 0)return;const d=this.getType({defined:{name:e.account}},i);return this.toBufferValue(d,u)}toBufferValue(e,t){switch(e){case"u8":case"i8":return xt.from([t]);case"u16":case"i16":return new Vi(t).toArrayLike(xt,"le",2);case"u32":case"i32":return new Vi(t).toArrayLike(xt,"le",4);case"u64":case"i64":return new Vi(t).toArrayLike(xt,"le",8);case"u128":case"i128":return new Vi(t).toArrayLike(xt,"le",16);case"u256":case"i256":return new Vi(t).toArrayLike(xt,"le",32);case"string":return xt.from(t);case"pubkey":return t.toBuffer();case"bytes":return xt.from(t);default:if(e!=null&&e.array)return xt.from(t);throw new Error(`Unexpected seed type: ${e}`)}}getType(e,t=[]){var r;const i=(r=e==null?void 0:e.defined)===null||r===void 0?void 0:r.name;if(i){if(i==="tokenAccount")switch(t.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error(`Unknown token account path: ${t}`)}const s=this._idlTypes.find(p=>p.name===i);if(!s)throw new Error(`Type not found: ${i}`);const[c,...u]=t,d=s.type.fields.find(p=>p.name===c);if(!d)throw new Error(`Field not found: ${c}`);return this.getType(d.type,u)}return e}}class gK{constructor(e,t,r){this._provider=e,this._cache=new Map,this._idls={},this._idls[r.toBase58()]=t}async fetchAccount({publicKey:e,name:t}){const r=e.toBase58();if(!this._cache.has(r)){const i=await this._provider.connection.getAccountInfo(e);if(i===null)throw new Error(`Account not found: ${r}`);if(t==="tokenAccount"){const s=pK(i.data);this._cache.set(r,s)}else{const s=await this.getAccountsNs(i.owner);if(s){const c=Object.values(s)[0];if(c){const u=c.coder.accounts.decodeAny(i.data);this._cache.set(r,u)}}}}return this._cache.get(r)}async getAccountsNs(e){const t=e.toBase58();if(!this._idls[t]){const r=await fu.fetchIdl(e,this._provider);if(r){const i=new fu(r,this._provider);this._idls[t]=i.account}}return this._idls[t]}}class yK{static build(e,t,r,i,s,c,u,h,d,p,v){return(...x)=>new wK(x,i,s,c,u,h,e,t,r,d,p,v)}}function w8(n){return typeof n=="object"&&n!==null&&!("_bn"in n)}function b8(n,e){const t={};for(const r in n){const i=n[r];if(i===null)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");t[r]=w8(i)?b8(i):Ls(i)}return t}class wK{constructor(e,t,r,i,s,c,u,h,d,p,v,x){this._args=e,this._ixFn=t,this._txFn=r,this._rpcFn=i,this._simulateFn=s,this._viewFn=c,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new mK(e,this._accounts,u,h,d,p,v,x)}args(e){this._args=e,this._accountsResolver.args(e)}accounts(e){return this.accountsPartial(e)}accountsPartial(e){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(e),this}accountsStrict(e){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e,t=!1){return t?this._preInstructions=e.concat(this._preInstructions):this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async rpc(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpcAndKeys(e){return{pubkeys:await this.pubkeys(),signature:await this.rpc(e)}}async view(e){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async prepare(){return{instruction:await this.instruction(),pubkeys:await this.pubkeys(),signers:this._signers}}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class bK{static build(e,t,r,i){const s=t.accounts.find(h=>h.writable),c=!!t.returns;return s||!c?void 0:async(...h)=>{let d=await r(...h);const p=`Program return: ${e} `;let v=d.raw.find(k=>k.startsWith(p));if(!v)throw new Error("View expected return log");let x=kO(v.slice(p.length)),y=t.returns;if(!y)throw new Error("View expected return type");return ln.fieldLayout({type:y},i.types).decode(x)}}}class vK{static build(e,t,r,i,s){const c={},u={},h={},d={},p={},v={},x=y$(e),y=e.accounts?rK.build(e,t,r,i):{};return e.instructions.forEach(S=>{const k=uy.build(S,(ce,W)=>t.instruction.encode(ce,W),r),I=tK.build(S,k),M=nK.build(S,I,x,i),j=uK.build(S,I,x,i,t,r,e),O=bK.build(r,S,j,e),Q=yK.build(i,r,S,k,I,M,j,O,y,e.types||[],s==null?void 0:s(S)),oe=S.name;u[oe]=k,h[oe]=I,c[oe]=M,d[oe]=j,p[oe]=Q,O&&(v[oe]=O)}),[c,u,h,y,d,p,v]}}class fu{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(e,t=dx(),r,i){const s=g$(e);this._idl=s,this._rawIdl=e,this._provider=t,this._programId=Ls(e.address),this._coder=r??new o8(s),this._events=new aK(this._programId,t,this._coder);const[c,u,h,d,p,v,x]=vK.build(s,this._coder,this._programId,t,i);this.rpc=c,this.instruction=u,this.transaction=h,this.account=d,this.simulate=p,this.methods=v,this.views=x}static async at(e,t){const r=Ls(e),i=await fu.fetchIdl(r,t);if(!i)throw new Error(`IDL not found for program: ${e.toString()}`);return new fu(i,t)}static async fetchIdl(e,t){t=t??dx();const r=Ls(e),i=await f$(r),s=await t.connection.getAccountInfo(i);if(!s)return null;let c=m$(s.data.slice(8));const u=o$(c.data);return JSON.parse(h$(u))}addEventListener(e,t){return this._events.addEventListener(e,t)}async removeEventListener(e){return await this._events.removeEventListener(e)}}new xe("11111111111111111111111111111111");const _K="FreEcfZtek5atZJCJ1ER8kGLXB1C17WKWXqsVcsn1kPq",xK={name:"gorbagana_bridge",version:"0.1.0",spec:"0.1.0",description:"Gorbagana-side gGOR escrow bridge for Gorbagana cross-chain trading"},EK=["Direction for this program (Solana side - handles sGOR only)","This program ONLY handles sGOR escrow. gGOR is handled by Gorbagana program.","","When someone wants to trade sGOR  gGOR:","1. They create an order HERE (Solana) locking sGOR","2. Counterparty fills on Gorbagana network","","When someone wants to trade gGOR  sGOR:","1. They create order on Gorbagana locking gGOR","2. Counterparty fills HERE (Solana) sending sGOR"],AK=[{name:"cancel_order",discriminator:[95,129,237,240,8,49,223,132],accounts:[{name:"maker",writable:!0,signer:!0,relations:["order"]},{name:"order",writable:!0,pda:{seeds:[{kind:"const",value:[111,114,100,101,114]},{kind:"account",path:"order.maker",account:"Order"},{kind:"account",path:"order.amount",account:"Order"}]}},{name:"escrow_token_account",docs:["Escrow sGOR token account"],writable:!0},{name:"maker_token_account",docs:["Maker's sGOR token account (receives refund)"],writable:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"create_order",docs:["Creates an sGOR escrow order on Solana.","Maker deposits sGOR into escrow, expecting gGOR on Gorbagana in return."],discriminator:[141,54,37,207,237,210,250,215],accounts:[{name:"maker",writable:!0,signer:!0},{name:"order",docs:["Order PDA  deterministic from maker + amount"],writable:!0,pda:{seeds:[{kind:"const",value:[111,114,100,101,114]},{kind:"account",path:"maker"},{kind:"arg",path:"amount"}]}},{name:"escrow_token_account",docs:["Escrow token account for sGOR","Initialized with the order PDA as authority"],writable:!0,pda:{seeds:[{kind:"const",value:[101,115,99,114,111,119]},{kind:"account",path:"maker"},{kind:"arg",path:"amount"}]}},{name:"maker_token_account",docs:["Maker's sGOR token account (source of deposit)"],writable:!0},{name:"sgor_mint",docs:["sGOR mint account"]},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"rent",address:"SysvarRent111111111111111111111111111111111"}],args:[{name:"amount",type:"u64"},{name:"expiration_slot",type:"u64"},{name:"gorbagana_recipient",type:"pubkey"}]},{name:"fill_order",docs:["Fills an sGOR order.","This is called when a Gorbagana order is being filled - the taker","sends sGOR on Solana to the maker.","","Flow:","1. Gorbagana maker locked gGOR there","2. Taker sends sGOR HERE to the Gorbagana maker","3. Taker then claims gGOR on Gorbagana"],discriminator:[232,122,115,25,199,143,136,162],accounts:[{name:"taker",writable:!0,signer:!0},{name:"maker",docs:["Validated via order.maker constraint."],writable:!0},{name:"order",writable:!0,pda:{seeds:[{kind:"const",value:[111,114,100,101,114]},{kind:"account",path:"order.maker",account:"Order"},{kind:"account",path:"order.amount",account:"Order"}]}},{name:"escrow_token_account",docs:["Escrow sGOR token account (holds maker's escrowed sGOR)"],writable:!0},{name:"taker_token_account",docs:["Taker's sGOR token account (receives escrowed sGOR)"],writable:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]}],SK=[{name:"Order",discriminator:[134,173,223,185,77,86,28,51]}],RK=[{name:"OrderCancelled",discriminator:[108,56,128,68,168,113,168,239]},{name:"OrderCreated",discriminator:[224,1,229,63,254,60,190,159]},{name:"OrderFilled",discriminator:[120,124,109,66,249,116,174,30]}],TK=[{code:6e3,name:"InvalidAmount",msg:"Amount must be >= minimum order size."},{code:6001,name:"InvalidMint",msg:"Invalid token mint. Must be sGOR."},{code:6002,name:"OrderExpired",msg:"Order has expired."},{code:6003,name:"OrderAlreadyFilled",msg:"Order has already been filled."},{code:6004,name:"Unauthorized",msg:"Unauthorized  only the maker can perform this action."},{code:6005,name:"ExpirationInPast",msg:"Expiration slot is in the past."},{code:6006,name:"ExpirationTooFar",msg:"Expiration too far in the future (max ~24 hours)."}],NK=[{name:"Order",type:{kind:"struct",fields:[{name:"maker",type:"pubkey"},{name:"amount",type:"u64"},{name:"gorbagana_recipient",type:"pubkey"},{name:"expiration_slot",type:"u64"},{name:"is_filled",type:"bool"},{name:"bump",type:"u8"}]}},{name:"OrderCancelled",type:{kind:"struct",fields:[{name:"order_key",type:"pubkey"},{name:"maker",type:"pubkey"},{name:"amount",type:"u64"}]}},{name:"OrderCreated",type:{kind:"struct",fields:[{name:"order_key",type:"pubkey"},{name:"maker",type:"pubkey"},{name:"amount",type:"u64"},{name:"gorbagana_recipient",type:"pubkey"},{name:"expiration_slot",type:"u64"}]}},{name:"OrderFilled",type:{kind:"struct",fields:[{name:"order_key",type:"pubkey"},{name:"maker",type:"pubkey"},{name:"taker",type:"pubkey"},{name:"amount",type:"u64"}]}}],IK={address:_K,metadata:xK,docs:EK,instructions:AK,accounts:SK,events:RK,errors:TK,types:NK},kK="9CGxVdboSmVnQYn8vLwK7mTSo7Qd62DFGFxPjxjQPRez",CK={name:"solana_bridge",version:"0.1.0",spec:"0.1.0",description:"Solana-side sGOR escrow bridge for Gorbagana cross-chain trading"},OK=[{name:"create_order",discriminator:[141,54,37,207,237,210,250,215],accounts:[{name:"maker",writable:!0,signer:!0},{name:"order",writable:!0,pda:{seeds:[{kind:"const",value:[111,114,100,101,114]},{kind:"account",path:"maker"},{kind:"arg",path:"amount"}]}},{name:"escrow_token_account",writable:!0,pda:{seeds:[{kind:"const",value:[101,115,99,114,111,119]},{kind:"account",path:"maker"},{kind:"arg",path:"amount"}]}},{name:"maker_token_account",writable:!0},{name:"sgor_mint"},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"rent",address:"SysvarRent111111111111111111111111111111111"}],args:[{name:"amount",type:"u64"},{name:"expiration_slot",type:"u64"},{name:"gorbagana_recipient",type:"pubkey"}]},{name:"fill_order",discriminator:[232,43,187,21,52,88,220,242],accounts:[{name:"taker",writable:!0,signer:!0},{name:"maker",writable:!0},{name:"order",writable:!0},{name:"escrow_token_account",writable:!0},{name:"taker_token_account",writable:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"cancel_order",discriminator:[95,129,237,240,8,49,223,132],accounts:[{name:"maker",writable:!0,signer:!0},{name:"order",writable:!0},{name:"escrow_token_account",writable:!0},{name:"maker_token_account",writable:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]}],MK=[{name:"Order",discriminator:[134,173,223,185,77,86,28,51],type:{kind:"struct",fields:[{name:"maker",type:"pubkey"},{name:"amount",type:"u64"},{name:"gorbagana_recipient",type:"pubkey"},{name:"expiration_slot",type:"u64"},{name:"is_filled",type:"bool"},{name:"bump",type:"u8"}]}}],BK=[{name:"OrderCreated",discriminator:[56,87,13,145,64,234,79,97],fields:[{name:"order_key",type:"pubkey"},{name:"maker",type:"pubkey"},{name:"amount",type:"u64"},{name:"gorbagana_recipient",type:"pubkey"},{name:"expiration_slot",type:"u64"}]},{name:"OrderFilled",discriminator:[175,198,142,42,212,192,32,110],fields:[{name:"order_key",type:"pubkey"},{name:"maker",type:"pubkey"},{name:"taker",type:"pubkey"},{name:"amount",type:"u64"}]},{name:"OrderCancelled",discriminator:[214,75,19,99,128,46,220,181],fields:[{name:"order_key",type:"pubkey"},{name:"maker",type:"pubkey"},{name:"amount",type:"u64"}]}],LK=[{name:"Order",type:{kind:"struct",fields:[{name:"maker",type:"pubkey"},{name:"amount",type:"u64"},{name:"gorbagana_recipient",type:"pubkey"},{name:"expiration_slot",type:"u64"},{name:"is_filled",type:"bool"},{name:"bump",type:"u8"}]}},{name:"OrderCreated",type:{kind:"struct",fields:[{name:"order_key",type:"pubkey"},{name:"maker",type:"pubkey"},{name:"amount",type:"u64"},{name:"gorbagana_recipient",type:"pubkey"},{name:"expiration_slot",type:"u64"}]}},{name:"OrderFilled",type:{kind:"struct",fields:[{name:"order_key",type:"pubkey"},{name:"maker",type:"pubkey"},{name:"taker",type:"pubkey"},{name:"amount",type:"u64"}]}},{name:"OrderCancelled",type:{kind:"struct",fields:[{name:"order_key",type:"pubkey"},{name:"maker",type:"pubkey"},{name:"amount",type:"u64"}]}}],DK=[{code:6e3,name:"InvalidAmount",msg:"Amount must be >= minimum order size."},{code:6001,name:"InvalidMint",msg:"Invalid token mint. Must be sGOR."},{code:6002,name:"OrderExpired",msg:"Order has expired."},{code:6003,name:"OrderAlreadyFilled",msg:"Order has already been filled."},{code:6004,name:"Unauthorized",msg:"Unauthorized  only the maker can perform this action."},{code:6005,name:"ExpirationInPast",msg:"Expiration slot is in the past."},{code:6006,name:"ExpirationTooFar",msg:"Expiration too far in the future (max ~24 hours)."}],jK={address:kK,metadata:CK,instructions:OK,accounts:MK,events:BK,types:LK,errors:DK},Gd=new xe("FreEcfZtek5atZJCJ1ER8kGLXB1C17WKWXqsVcsn1kPq"),$d=new xe("71Jvq4Epe2FCJ7JFSF7jLXdNk1Wy4Bhqd9iL6bEFELvg");new xe("66xqiDYSQZh7A3wyS3n2962Fx1aU8N3nbHjaZUCrXq6M");new xe("5b2P7TQTDQG4nUzrUUSAuv92NT85Ka4oBFXWcTs9A5zk");const v8=ue.createContext({program:null,solanaProgram:null,provider:null,gorbaganaProvider:null,programId:Gd,sgorMint:$d}),PK=({children:n})=>{var c;const e=vf(),{connection:t}=qE(),r=((c=e.publicKey)==null?void 0:c.toBase58())??null,i=e.connected,s=ue.useMemo(()=>{try{if(!t||!t.rpcEndpoint||t.rpcEndpoint==="")return{program:null,solanaProgram:null,provider:null,gorbaganaProvider:null,programId:Gd,sgorMint:$d};if(!i||!r)return{program:null,solanaProgram:null,provider:null,gorbaganaProvider:null,programId:Gd,sgorMint:$d};const u=new af(t,e,{commitment:"confirmed",preflightCommitment:"processed",skipPreflight:!1}),h=new Gy(Xc.rpcEndpoint,"confirmed"),d=new af(h,e,{commitment:"confirmed",preflightCommitment:"processed",skipPreflight:!1}),p=new fu(IK,d),v=new fu(jK,u);return{program:p,solanaProgram:v,provider:u,gorbaganaProvider:d,programId:Gd,sgorMint:$d}}catch(u){return console.warn("AnchorContext: Failed to initialize program:",u),{program:null,solanaProgram:null,provider:null,gorbaganaProvider:null,programId:Gd,sgorMint:$d}}},[t,r,i]);return m.jsx(v8.Provider,{value:s,children:n})},_8=()=>ue.useContext(v8),UK=({children:n,wallets:e})=>{const{rpcEndpoint:t,currentNetwork:r}=is(),i=ue.useMemo(()=>t,[t]);return ue.useMemo(()=>{switch(r){case"SOLANA_DEVNET":return Zd.Devnet;case"SOLANA_MAINNET":return Zd.Mainnet;case"GORBAGANA":default:return Zd.Mainnet}},[r]),m.jsx(cF,{endpoint:i,children:m.jsx(Nq,{wallets:e,autoConnect:!0,children:m.jsx(PK,{children:n})})})};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VK=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zK=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),x4=n=>{const e=zK(n);return e.charAt(0).toUpperCase()+e.slice(1)},x8=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),FK=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qK=ue.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:c,...u},h)=>ue.createElement("svg",{ref:h,...HK,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:x8("lucide",i),...!s&&!FK(u)&&{"aria-hidden":"true"},...u},[...c.map(([d,p])=>ue.createElement(d,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=(n,e)=>{const t=ue.forwardRef(({className:r,...i},s)=>ue.createElement(qK,{ref:s,iconNode:e,className:x8(`lucide-${VK(x4(n))}`,`lucide-${n}`,r),...i}));return t.displayName=x4(n),t};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GK=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Yp=_t("activity",GK);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $K=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],KK=_t("arrow-down-right",$K);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WK=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]],YK=_t("arrow-down-up",WK);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],ZK=_t("arrow-left-right",XK);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],JE=_t("arrow-left",QK);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Xp=_t("arrow-right",JK);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],tW=_t("arrow-up-right",eW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],z0=_t("beaker",nW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],e2=_t("check",rW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],hy=_t("chevron-down",iW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],oW=_t("circle-alert",sW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],cW=_t("circle-check-big",aW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],uW=_t("circle-check",lW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],fW=_t("circle-x",hW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pW=_t("clock",dW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],E8=_t("copy",mW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],E4=_t("cpu",gW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],gx=_t("download",yW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],bW=_t("droplets",wW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Mg=_t("external-link",vW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],A4=_t("funnel",_W);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Uv=_t("globe",xW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],AW=_t("hash",EW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],A8=_t("info",SW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],TW=_t("layout-template",RW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],IW=_t("loader-circle",NW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],S4=_t("lock-open",kW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],OW=_t("lock",CW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],BW=_t("menu",MW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LW=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],DW=_t("palette",LW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],PW=_t("pause",jW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],R4=_t("play",UW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],zW=_t("plus",VW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],HW=_t("radio",FW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],S8=_t("refresh-cw",qW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],vp=_t("search",GW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yx=_t("settings",$W);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],wx=_t("shopping-cart",KW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],YW=_t("sliders-horizontal",WW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ZW=_t("sparkles",XW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],JW=_t("square",QW);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],xc=_t("tag",eY);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],t2=_t("terminal",tY);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bx=_t("trash-2",nY);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],T4=_t("trending-down",rY);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],vx=_t("trending-up",iY);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_p=_t("triangle-alert",sY);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],aY=_t("trophy",oY);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],lY=_t("type",cY);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],F0=_t("upload",uY);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],N4=_t("user",hY);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],R8=_t("wallet",fY);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ou=_t("x",dY);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],xp=_t("zap",pY),mY=()=>{const[n,e]=ue.useState(!1),[t,r]=ue.useState(!1),[i,s]=ue.useState(7842),[c,u]=ue.useState(null),[h,d]=ue.useState("unknown"),p=il(),{networkName:v,tpsLabel:x,accentColor:y,explorerUrl:S,currentNetwork:k,setNetwork:I,isDevnet:M}=is(),{connected:j,publicKey:O,disconnect:Q,wallet:oe}=vf(),{setVisible:ce}=fE(),{connection:W}=qE(),K=g=>!g||g.length<8?g:`${g.slice(0,4)}...${g.slice(-4)}`,B=(O==null?void 0:O.toBase58())||null;ue.useEffect(()=>{if(!O||!W){u(null);return}let g=!1;const R=async()=>{try{const Y=await W.getBalance(O);g||u(Y/F6)}catch(Y){console.error("Failed to fetch balance:",Y),g||u(null)}};R();const C=setInterval(R,3e4);return()=>{g=!0,clearInterval(C)}},[O,W]),ue.useEffect(()=>{if(!W)return;let g=!1;return(async()=>{try{W.rpcEndpoint===Xc.rpcEndpoint?g||d("gorbagana"):g||d("solana")}catch(C){console.error("Failed to detect network:",C),g||d("unknown")}})(),()=>{g=!0}},[W]),ue.useEffect(()=>{const g=setInterval(()=>{s(R=>{const C=Math.floor(Math.random()*400)-200;let Y=R+C;return Y>9500&&(Y=9e3),Y<6e3&&(Y=6500),Math.max(6e3,Y)})},800);return()=>clearInterval(g)},[]);const q=(g=>g>8e3?{label:"DUMPING",color:"text-magic-green",bg:"bg-magic-green"}:g>7e3?{label:"FLOWING",color:"text-yellow-500",bg:"bg-yellow-500"}:{label:"CLOGGED",color:"text-magic-red",bg:"bg-magic-red"})(i),L=()=>{j?Q():ce(!0)},T=[{name:"Collections",path:"/"},{name:"GorID",path:"/gorid"},{name:"Bridge",path:"/bridge"},{name:"JUNKPUSHER",path:"/junk-pusher"},{name:"DEX",path:"/dex"},{name:"Vanity",path:"/vanity"},{name:"Docs",path:"/docs"}];return m.jsx(m.Fragment,{children:m.jsxs("nav",{className:"sticky top-0 z-50 bg-magic-dark border-b border-white/20",children:[m.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex items-center justify-between h-16",children:[m.jsx("div",{className:"flex-shrink-0 flex items-center gap-2",children:m.jsxs(Ao,{to:"/",className:"flex items-center gap-2 group",children:[m.jsx("div",{className:"bg-magic-green text-black p-1 transition-colors duration-500",children:m.jsx(bx,{className:"h-6 w-6"})}),m.jsxs("span",{className:"text-xl font-bold text-white tracking-tighter group-hover:text-magic-green transition-colors",children:["TRASHMARKET",m.jsx("span",{className:"text-magic-green",children:".FUN"})]})]})}),m.jsx("div",{className:"hidden lg:flex flex-1 max-w-lg mx-8",children:m.jsxs("div",{className:"relative w-full group",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(vp,{className:"h-4 w-4 text-gray-500 group-hover:text-magic-green"})}),m.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-white/20 leading-5 bg-black text-white placeholder-gray-600 focus:outline-none focus:border-magic-green focus:ring-1 focus:ring-magic-green sm:text-sm transition-all duration-150 font-mono uppercase focus:text-magic-green",placeholder:"SEARCH_TRASH..."})]})}),m.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[m.jsx("div",{className:"hidden xl:flex items-center gap-6 mr-4",children:T.map(g=>m.jsx(Ao,{to:g.path,className:`text-sm font-bold uppercase tracking-wide transition-colors hover:text-magic-green ${p.pathname===g.path?"text-magic-green underline decoration-2 underline-offset-4":"text-gray-400"}`,children:g.name},g.name))}),m.jsxs("a",{href:S,target:"_blank",rel:"noopener noreferrer",className:"hidden lg:flex items-center gap-3 px-4 py-1 border-l border-r border-white/10 cursor-pointer hover:bg-white/5 transition-colors group",title:"View on Trashscan",children:[m.jsxs("div",{className:"flex flex-col items-end",children:[m.jsx("span",{className:"text-[9px] text-gray-500 uppercase tracking-widest font-mono mb-0.5 group-hover:text-white transition-colors",children:v}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${q.bg} animate-pulse`}),m.jsx("span",{className:`text-[10px] font-bold ${q.color} font-mono`,children:q.label})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("div",{className:"text-[9px] text-gray-500 uppercase tracking-widest font-mono mb-0.5",children:x}),m.jsxs("div",{className:"text-xs font-bold text-white font-mono flex items-center gap-1",children:[i.toLocaleString()," ",m.jsx(Yp,{className:"w-3 h-3 text-gray-600"})]})]})]}),M&&m.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 border border-blue-500 bg-blue-500/10 animate-pulse",children:[m.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400"}),m.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-blue-400 font-mono",children:" DEVNET MODE"})]}),m.jsxs("div",{className:"relative",children:[m.jsxs("button",{onClick:()=>r(!t),className:`flex items-center gap-2 px-4 py-2 border transition-colors ${M?"border-blue-500 bg-blue-500/10 hover:bg-blue-500/20":"border-white/20 bg-black hover:bg-white/5"}`,children:[m.jsx(Uv,{className:"w-4 h-4"}),m.jsx("span",{className:`text-xs font-bold uppercase tracking-wider font-mono ${k==="GORBAGANA"?"text-magic-green":M?"text-blue-400":"text-purple-400"}`,children:k==="GORBAGANA"?" GOR":M?" SOL-DEV":" SOL"}),m.jsx(hy,{className:`w-3 h-3 text-gray-500 transition-transform ${t?"rotate-180":""}`})]}),t&&m.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-magic-dark border border-white/20 shadow-lg z-50",children:m.jsxs("div",{className:"p-2",children:[m.jsxs("button",{onClick:()=>{I("GORBAGANA"),r(!1)},className:`w-full flex items-center justify-between px-3 py-2 text-left text-sm hover:bg-white/5 transition-colors ${k==="GORBAGANA"?"bg-magic-green/10 border border-magic-green/30":"border border-transparent"}`,children:[m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-magic-green font-bold",children:""}),m.jsx("span",{className:"text-white font-mono",children:"Gorbagana"})]}),k==="GORBAGANA"&&m.jsx("span",{className:"w-2 h-2 rounded-full bg-magic-green animate-pulse"})]}),m.jsxs("button",{onClick:()=>{I("SOLANA_DEVNET"),r(!1)},className:`w-full flex items-center justify-between px-3 py-2 text-left text-sm hover:bg-white/5 transition-colors ${k==="SOLANA_DEVNET"?"bg-blue-500/10 border border-blue-500/30":"border border-transparent"}`,children:[m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-blue-400 font-bold",children:""}),m.jsx("span",{className:"text-white font-mono",children:"Solana Devnet"}),m.jsx("span",{className:"text-[9px] text-blue-400 bg-blue-500/20 px-1 py-0.5 uppercase",children:"test"})]}),k==="SOLANA_DEVNET"&&m.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-400 animate-pulse"})]}),m.jsx("button",{onClick:()=>{alert("Solana mainnet bridge requires deployment (2 SOL). Currently testing on devnet."),r(!1)},disabled:!0,className:"w-full flex items-center justify-between px-3 py-2 text-left text-sm opacity-50 cursor-not-allowed border border-transparent",children:m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-purple-400 font-bold",children:""}),m.jsx("span",{className:"text-gray-400 font-mono",children:"Solana Mainnet"}),m.jsx("span",{className:"text-[9px] text-yellow-500 bg-yellow-500/20 px-1 py-0.5 uppercase",children:"soon"})]})})]})})]}),j&&m.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 border border-white/10 bg-black/50",children:[m.jsx(Uv,{className:"w-3 h-3"}),m.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest font-mono ${h==="gorbagana"?"text-magic-green":h==="solana"?"text-purple-400":"text-gray-500"}`,children:h==="gorbagana"?" GORBAGANA":h==="solana"?" SOLANA":"DETECTING..."}),m.jsx("span",{className:`w-1.5 h-1.5 rounded-full animate-pulse ${h==="gorbagana"?"bg-magic-green":h==="solana"?"bg-purple-400":"bg-gray-500"}`})]}),m.jsxs("button",{onClick:L,className:`flex items-center gap-2 px-6 py-2 border font-bold text-sm transition-all duration-200 uppercase tracking-wider ${j?"bg-black border-magic-green text-magic-green hover:bg-white/10":"bg-magic-green border-magic-green text-black hover:bg-black hover:text-magic-green"}`,children:[m.jsx(R8,{className:"w-4 h-4"}),j&&B?m.jsxs("span",{className:"flex items-center gap-2",children:[K(B),c!==null&&m.jsxs("span",{className:"text-xs opacity-70",children:["(",c.toFixed(2)," G)"]})]}):"CONNECT"]})]}),m.jsx("div",{className:"md:hidden flex items-center",children:m.jsx("button",{onClick:()=>e(!n),className:"inline-flex items-center justify-center p-2 text-magic-green hover:text-white hover:bg-white/10 focus:outline-none",children:n?m.jsx(ou,{className:"h-6 w-6"}):m.jsx(BW,{className:"h-6 w-6"})})})]})}),n&&m.jsx("div",{className:"md:hidden bg-black border-b border-white/20 animate-in slide-in-from-top-5 duration-200",children:m.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[m.jsxs("a",{href:S,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between px-3 py-3 border-b border-white/10 mb-2 bg-white/5 active:bg-white/10",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(bx,{className:"w-4 h-4 text-magic-green"}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-xs font-mono text-gray-400 uppercase",children:"Network"}),m.jsx("span",{className:"text-[10px] font-bold uppercase text-magic-green",children:v})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${q.bg} animate-pulse`}),m.jsx("span",{className:`text-xs font-bold ${q.color} font-mono`,children:q.label})]}),m.jsxs("span",{className:"text-xs font-bold text-white font-mono border-l border-white/20 pl-3",children:[i.toLocaleString()," ",x]})]})]}),T.map(g=>m.jsx(Ao,{to:g.path,onClick:()=>e(!1),className:"block px-3 py-2 text-base font-bold text-gray-300 hover:text-magic-green hover:bg-white/5 uppercase font-mono",children:g.name},g.name)),j&&m.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-black border border-white/10 mt-2",children:[m.jsx(Uv,{className:"w-4 h-4"}),m.jsx("span",{className:`text-xs font-bold uppercase tracking-widest font-mono ${h==="gorbagana"?"text-magic-green":h==="solana"?"text-purple-400":"text-gray-500"}`,children:h==="gorbagana"?" GORBAGANA":h==="solana"?" SOLANA":"DETECTING..."}),m.jsx("span",{className:`w-1.5 h-1.5 rounded-full animate-pulse ${h==="gorbagana"?"bg-magic-green":h==="solana"?"bg-purple-400":"bg-gray-500"}`})]}),m.jsx("button",{onClick:()=>{e(!1),L()},className:"w-full text-left mt-4 block px-3 py-2 text-base font-bold bg-magic-green text-black uppercase font-mono",children:j&&B?K(B):"Connect Wallet"})]})})]})})},gY="https://gorapi.trashscan.io",yY=async()=>{try{const n=await fetch(`${gY}/api/tokens`);if(!n.ok)throw new Error(`Failed to fetch tokens: ${n.status}`);const t=(await n.json()).data||[];if(!Array.isArray(t))throw new Error("Invalid API response format");return t.filter(r=>{var i,s,c;return((i=r.price)==null?void 0:i.native)>0&&((s=r.marketData)==null?void 0:s.liquidity)>0&&((c=r.metadata)==null?void 0:c.symbol)}).map(r=>{var i,s,c,u,h,d,p,v,x,y,S;return{symbol:((i=r.metadata)==null?void 0:i.symbol)||"UNKNOWN",name:((s=r.metadata)==null?void 0:s.name)||((c=r.metadata)==null?void 0:c.symbol)||"Unknown Token",price:parseFloat(((u=r.price)==null?void 0:u.native)||"0"),priceUsd:parseFloat(((h=r.price)==null?void 0:h.usd)||"0"),change24h:parseFloat(((d=r.price)==null?void 0:d.change24h)||"0"),volume24h:parseFloat(((p=r.marketData)==null?void 0:p.volume24h)||"0"),marketCap:parseFloat(((v=r.marketData)==null?void 0:v.marketCap)||"0"),holders:parseInt(((x=r.marketData)==null?void 0:x.holderCount)||"0"),contractAddress:r.mint,logoUrl:(y=r.metadata)==null?void 0:y.logo,decimals:((S=r.metadata)==null?void 0:S.decimals)||6}}).sort((r,i)=>i.marketCap-r.marketCap).slice(0,20)}catch(n){throw console.error("Error fetching tokens:",n),n}},wY=n=>n.map(e=>{const t=e.change24h>=0,r=e.change24h!==0?`${t?"+":""}${e.change24h.toFixed(1)}%`:"0%";let i;return e.price>=1e3?i=`${(e.price/1e3).toFixed(1)}k`:e.price>=1?i=e.price.toFixed(2):e.price>=.001?i=e.price.toFixed(4):i=e.price.toExponential(2),{label:e.symbol,value:`G ${i}`,change:r,color:t?"text-magic-green":"text-magic-red"}}),_x=()=>[{label:"GOR",value:"G 1.00",change:"0%",color:"text-magic-green"},{label:"TRASH",value:"G 0.0042",change:"+69.4%",color:"text-magic-green"},{label:"GORBAG",value:"G 0.15",change:"+12.3%",color:"text-magic-green"},{label:"DUMP",value:"G 0.0001",change:"-5.2%",color:"text-magic-red"},{label:"RECYCLE",value:"G 0.025",change:"+8.1%",color:"text-magic-green"},{label:"WASTE",value:"G 0.0088",change:"+2.4%",color:"text-magic-green"},{label:"COMPOST",value:"G 0.033",change:"-1.8%",color:"text-magic-red"},{label:"LANDFILL",value:"G 0.0005",change:"+420%",color:"text-magic-green"},{label:"SCRAPS",value:"G 0.012",change:"+5.5%",color:"text-magic-green"},{label:"JUNK",value:"G 0.0022",change:"-3.1%",color:"text-magic-red"},{label:"DEBRIS",value:"G 0.045",change:"+15.2%",color:"text-magic-green"},{label:"REFUSE",value:"G 0.008",change:"+1.9%",color:"text-magic-green"},{label:"GPS",value:"4,200",change:"LIVE",color:"text-yellow-400"},{label:"GAS",value:"0.001 G",change:"LOW",color:"text-blue-400"},{label:"TVL",value:"G 1.2M",change:"+24h",color:"text-white"}],bY=async()=>{try{console.log("Fetching live token data from Trashscan API...");const n=await yY();if(!n||n.length===0)return console.warn("No tokens received from API, using mock data"),_x();console.log(`Successfully fetched ${n.length} verified tokens from Trashscan`);const e=wY(n);return e.push({label:"GPS",value:"4,200",change:"LIVE",color:"text-yellow-400"},{label:"GAS",value:"0.001 G",change:"LOW",color:"text-blue-400"}),e}catch(n){return console.error("Failed to fetch market metrics from API:",n),console.warn("Falling back to mock token data"),_x()}},T8=({children:n,reverse:e=!1,className:t=""})=>m.jsxs("div",{className:`flex overflow-hidden relative w-full select-none ${t}`,children:[m.jsx("div",{className:`flex shrink-0 ${e?"animate-marquee-reverse":"animate-marquee"} min-w-full items-center gap-0`,children:n}),m.jsx("div",{className:`flex shrink-0 ${e?"animate-marquee-reverse":"animate-marquee"} min-w-full items-center gap-0`,children:n})]}),vY=()=>{const[n,e]=ue.useState(_x());return ue.useEffect(()=>{const t=async()=>{try{const i=await bY();e(i)}catch(i){console.error("Failed to fetch market metrics:",i)}};t();const r=setInterval(t,3e4);return()=>clearInterval(r)},[]),m.jsxs("div",{className:"border-b border-white/20 bg-[#050505] overflow-hidden relative py-1 sticky top-16 z-30",children:[m.jsx("div",{className:"absolute top-0 left-0 w-24 h-full bg-gradient-to-r from-[#050505] to-transparent z-20 pointer-events-none"}),m.jsx("div",{className:"absolute top-0 right-0 w-24 h-full bg-gradient-to-l from-[#050505] to-transparent z-20 pointer-events-none"}),m.jsx("div",{className:"bg-black/50 backdrop-blur-sm relative z-10",children:m.jsx(T8,{reverse:!0,children:n.map((t,r)=>m.jsxs("div",{className:"flex items-center gap-3 mx-8 py-2 text-xs uppercase tracking-wider font-mono whitespace-nowrap",children:[m.jsx("span",{className:"text-gray-600 font-bold",children:t.label}),m.jsx("span",{className:`font-bold ${t.color}`,children:t.value}),m.jsx("span",{className:`text-[10px] ${t.change.startsWith("+")?"text-magic-green":t.change.startsWith("-")?"text-magic-red":"text-gray-400"}`,children:t.change}),m.jsx("span",{className:"text-gray-800 ml-4",children:"/"})]},`m-${r}`))})})]})},_Y=()=>{const{currency:n,accentColor:e}=is(),t=[{type:"SALE",text:`Mad Lads #2912 sold for 145.5 ${n}`,time:"1s"},{type:"LIST",text:`Tensorian #400 listed for 18.2 ${n}`,time:"1s"},{type:"SALE",text:`SMB Gen2 #441 sold for 24.5 ${n}`,time:"2s"},{type:"OFFER",text:`Offer of 45.0 ${n} on DeGods #3321`,time:"2s"},{type:"SWEEP",text:`Whale swept 5x Claynos (Floor 9.5 ${n})`,time:"3s"},{type:"SALE",text:`Foxes #551 sold for 4.2 ${n}`,time:"4s"},{type:"MINT",text:"Galactic Geckos #999 minted",time:"4s"},{type:"SALE",text:`Okay Bears #881 sold for 12.0 ${n}`,time:"5s"},{type:"LIST",text:`Retardio #12 listed for 5.5 ${n}`,time:"5s"},{type:"SALE",text:`Sharx #302 sold for 7.8 ${n}`,time:"6s"},{type:"VOL",text:"Famous Fox Fed vol spike > 500%",time:"6s"},{type:"SALE",text:`Froganas #221 sold for 1.2 ${n}`,time:"7s"}];return m.jsxs("div",{className:"border-t border-white/20 bg-[#050505] overflow-hidden relative py-1 z-30",children:[m.jsx("div",{className:"absolute top-0 left-0 w-24 h-full bg-gradient-to-r from-[#050505] to-transparent z-20 pointer-events-none"}),m.jsx("div",{className:"absolute top-0 right-0 w-24 h-full bg-gradient-to-l from-[#050505] to-transparent z-20 pointer-events-none"}),m.jsx("div",{className:"bg-black relative z-10",children:m.jsx(T8,{reverse:!1,children:t.map((r,i)=>m.jsxs("div",{className:"flex items-center gap-2 mx-8 py-2 text-xs uppercase tracking-wider font-mono border-r border-white/10 pr-8 whitespace-nowrap",children:[m.jsx("div",{className:`w-1.5 h-1.5 ${r.type==="SALE"?e==="text-magic-purple"?"bg-magic-purple":"bg-magic-green":r.type==="SWEEP"?"bg-magic-pink":"bg-blue-400"}`}),m.jsxs("span",{className:"text-gray-500 font-bold",children:["[",r.type,"]"]}),m.jsx("span",{className:"text-gray-200",children:r.text}),m.jsx("span",{className:"text-gray-700 text-[10px]",children:r.time})]},`a-${i}`))})})]})},xY=()=>m.jsx("footer",{className:"bg-[#121212] border-t border-white/10 py-12",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-magic-green to-white bg-clip-text text-transparent mb-4 tracking-tighter",children:"TRASHMARKET.FUN"}),m.jsx("p",{className:"text-gray-500 text-sm font-mono",children:"The rawest NFT marketplace on Solana. No filler, just trash."})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-white font-bold mb-4 uppercase tracking-widest text-xs",children:"Marketplace"}),m.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm font-mono",children:[m.jsx("li",{className:"hover:text-magic-green cursor-pointer transition-colors",children:"Trending"}),m.jsx("li",{className:"hover:text-magic-green cursor-pointer transition-colors",children:"New Trash"}),m.jsx("li",{className:"hover:text-magic-green cursor-pointer transition-colors",children:"Auctions"})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-white font-bold mb-4 uppercase tracking-widest text-xs",children:"Resources"}),m.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm font-mono",children:[m.jsx("li",{className:"hover:text-magic-green cursor-pointer transition-colors",children:m.jsx(Ao,{to:"/docs",children:"Docs"})}),m.jsx("li",{className:"hover:text-magic-green cursor-pointer transition-colors",children:m.jsx(Ao,{to:"/docs",children:"Brand Kit"})}),m.jsx("li",{className:"hover:text-magic-green cursor-pointer transition-colors",children:m.jsx(Ao,{to:"/docs",children:"API"})})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-white font-bold mb-4 uppercase tracking-widest text-xs",children:"Community"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("div",{className:"w-8 h-8 bg-gray-900 border border-white/20 hover:border-magic-green hover:bg-magic-green/10 cursor-pointer transition-all"}),m.jsx("div",{className:"w-8 h-8 bg-gray-900 border border-white/20 hover:border-magic-green hover:bg-magic-green/10 cursor-pointer transition-all"}),m.jsx("div",{className:"w-8 h-8 bg-gray-900 border border-white/20 hover:border-magic-green hover:bg-magic-green/10 cursor-pointer transition-all"})]})]})]}),m.jsx("div",{className:"mt-12 pt-8 border-t border-white/5 text-center text-gray-600 text-xs font-mono uppercase tracking-widest",children:" 2024 trashmarket.fun. All rights reserved."})]})}),va=[{id:"galactic-geckos",name:"Galactic Geckos",description:"10,000 space-faring lizards ruling the Solana galaxy.",image:"https://picsum.photos/seed/gecko/400/400",banner:"https://picsum.photos/seed/geckobanner/1200/400",floorPrice:12.5,totalVolume:45e4,listedCount:432,supply:1e4,isVerified:!0,change24h:5.2},{id:"gorbagios",name:"GORBAGIO",description:"The Gorbagio collection  4,444 unique NFTs on Solana. Literal garbage bags living on the blockchain.",image:"https://plum-far-bobcat-940.mypinata.cloud/ipfs/bafybeihkdrontwttwgcaqlpifsav2pvyzyi2m4otl2jeklp4dbdzasdcu4/1.png",banner:"https://plum-far-bobcat-940.mypinata.cloud/ipfs/bafybeihkdrontwttwgcaqlpifsav2pvyzyi2m4otl2jeklp4dbdzasdcu4/1.png",floorPrice:.189,totalVolume:12528,listedCount:354,supply:4444,isVerified:!0,change24h:0},{id:"cyber-samurai",name:"Cyber Samurai",description:"Honor and code in a dystopian future.",image:"https://picsum.photos/seed/samurai/400/400",banner:"https://picsum.photos/seed/samuraibanner/1200/400",floorPrice:5.2,totalVolume:12e4,listedCount:150,supply:5e3,isVerified:!0,change24h:-2.1},{id:"pixel-punks",name:"Solana Punks",description:"The OGs of the chain. Not affiliated with anyone.",image:"https://picsum.photos/seed/punk/400/400",banner:"https://picsum.photos/seed/punkbanner/1200/400",floorPrice:45,totalVolume:89e4,listedCount:89,supply:1e4,isVerified:!0,change24h:12.4},{id:"bubble-dragons",name:"Bubble Dragons",description:"Cute dragons trapped in bubbles. Pop them to release!",image:"https://picsum.photos/seed/dragon/400/400",banner:"https://picsum.photos/seed/dragonbanner/1200/400",floorPrice:1.8,totalVolume:4500,listedCount:1200,supply:8888,isVerified:!1,change24h:.5}],Nd=n=>Array.from({length:24}).map((e,t)=>({id:`${n.id}-${t}`,name:`${n.name} #${t+1240}`,image:`https://picsum.photos/seed/${n.id}${t}/500/500`,price:parseFloat((n.floorPrice+Math.random()*(t%5)).toFixed(2)),rank:Math.floor(Math.random()*5e3)+1,collectionId:n.id,description:`A unique item from the ${n.name} collection.`})),xx={"galactic-geckos":Nd(va[0]).sort((n,e)=>n.price-e.price),gorbagios:Nd(va[1]).sort((n,e)=>n.price-e.price),"cyber-samurai":Nd(va[2]).sort((n,e)=>n.price-e.price),"pixel-punks":Nd(va[3]).sort((n,e)=>n.price-e.price),"bubble-dragons":Nd(va[4]).sort((n,e)=>n.price-e.price)},EY=n=>{const e=[];let t=n*.8;const r=new Date;for(let i=30;i>=0;i--){const s=new Date(r);s.setDate(s.getDate()-i),t=t*(1+(Math.random()*.1-.04)),e.push({time:s.toLocaleDateString(void 0,{month:"short",day:"numeric"}),price:parseFloat(t.toFixed(2))})}return e},AY=n=>Array.from({length:15}).map((e,t)=>{const r=Math.random()>.3;return{id:`act-${t}`,type:r?"sale":"list",price:parseFloat((Math.random()*20).toFixed(2)),from:`8x...${Math.floor(Math.random()*999)}`,to:r?`4k...${Math.floor(Math.random()*999)}`:void 0,time:`${Math.floor(Math.random()*59)+1}m ago`,image:`https://picsum.photos/seed/${n}${t}/100/100`,name:`Item #${Math.floor(Math.random()*5e3)}`}}),SY=async(n=5)=>va.slice(0,n),n2=n=>n?n.replace(/\s+/g," ").trim():"",r2=async()=>{try{const n=await fetch("/data/gorbagios_nfts_full.json");if(!n.ok)throw new Error(`Failed to fetch: ${n.status}`);const t=(await n.json()).map(r=>({solana_mint:r.mintAddress,gorbagana_mint:null,current_owner:r.owner,metadata:{mintAddress:r.mintAddress,supply:r.supply,collection:r.collection,collectionName:r.collectionName,name:r.name,updateAuthority:r.updateAuthority,primarySaleHappened:r.primarySaleHappened,sellerFeeBasisPoints:r.sellerFeeBasisPoints,image:r.image,attributes:r.attributes,listStatus:r.listStatus,price_SOL:r.price_SOL}}));return{success:!0,count:t.length,total:t.length,data:t}}catch(n){return console.error("Error fetching Gorbagios:",n),{success:!1,count:0,total:0,data:[]}}},N8=n=>{var e;return typeof n.total=="number"?n.total:typeof n.count=="number"?n.count:((e=n.data)==null?void 0:e.length)??0},I8=async(n,e)=>{var x,y;const t=n.data??[],r=t[0],i=N8(n),s=t.filter(S=>{var k;return((k=S.metadata)==null?void 0:k.listStatus)&&S.metadata.listStatus!=="unlisted"}).length,c=n2(((x=r==null?void 0:r.metadata)==null?void 0:x.collectionName)||(e==null?void 0:e.name)||"Gorbagios")||"Gorbagios",u=((y=r==null?void 0:r.metadata)==null?void 0:y.image)||(e==null?void 0:e.image)||"",h=(e==null?void 0:e.banner)||u;let d=(e==null?void 0:e.floorPrice)??0,p=(e==null?void 0:e.totalVolume)??0,v=t.length?s:(e==null?void 0:e.listedCount)??0;try{const S=await fetch("/data/gorbagios_collection_stats.json");if(S.ok){const k=await S.json();d=k.floorPrice_SOL||d,p=k.volumeAll_SOL||p,v=k.listedCount||v}}catch{console.warn("Could not fetch collection stats, using fallback")}return{id:(e==null?void 0:e.id)||"gorbagios",name:c,description:(e==null?void 0:e.description)||"The Gorbagio collection - 4,444 unique NFTs on Solana.",image:u,banner:h,floorPrice:d,totalVolume:p,listedCount:v,supply:i||(e==null?void 0:e.supply)||4444,isVerified:(e==null?void 0:e.isVerified)??!0,change24h:(e==null?void 0:e.change24h)??0}},k8=(n,e)=>{const t=e.offset??0,r=e.limit??n.length,i=Number.isFinite(e.defaultPrice)?e.defaultPrice:0;return n.slice(t,t+r).map((s,c)=>{var d,p,v;const u=n2((d=s.metadata)==null?void 0:d.name)||`${e.collectionName} #${t+c+1}`,h=((p=s.metadata)==null?void 0:p.price_SOL)??i;return{id:s.gorbagana_mint||s.solana_mint||`${e.collectionId}-${t+c}`,name:u,image:((v=s.metadata)==null?void 0:v.image)||"",price:typeof h=="number"?h:i,collectionId:e.collectionId}})},RY=async n=>{const e=await r2();return await I8(e,n)},TY=async n=>{var i,s;const t=(await r2()).data??[],r=n2((s=(i=t[0])==null?void 0:i.metadata)==null?void 0:s.collectionName)||(n==null?void 0:n.collectionName)||"Gorbagios";return k8(t,{collectionId:(n==null?void 0:n.collectionId)||"gorbagios",collectionName:r,defaultPrice:(n==null?void 0:n.defaultPrice)??0,limit:n==null?void 0:n.limit,offset:n==null?void 0:n.offset})},NY=async n=>{const e=await r2(),t=await I8(e,n==null?void 0:n.collectionFallback),r=k8(e.data??[],{collectionId:t.id,collectionName:t.name,defaultPrice:(n==null?void 0:n.defaultPrice)??t.floorPrice,limit:n==null?void 0:n.limit,offset:n==null?void 0:n.offset});return{collection:t,nfts:r,total:N8(e)}},IY=({children:n,reverse:e=!1,className:t=""})=>m.jsxs("div",{className:`flex overflow-hidden relative w-full select-none ${t}`,children:[m.jsx("div",{className:`flex shrink-0 ${e?"animate-marquee-reverse":"animate-marquee"} min-w-full items-center gap-0`,children:n}),m.jsx("div",{className:`flex shrink-0 ${e?"animate-marquee-reverse":"animate-marquee"} min-w-full items-center gap-0`,children:n})]}),kY=()=>{const{currency:n,accentColor:e}=is(),[t,r]=ue.useState(null),[i,s]=ue.useState([]),[c,u]=ue.useState([]),[h,d]=ue.useState(!0);ue.useEffect(()=>{let y=!0;return(async()=>{var oe;d(!0);const k=18,I=va.find(ce=>ce.id==="gorbagios")||null,M=((oe=xx.gorbagios)==null?void 0:oe.slice(0,k))||[],[j,O,Q]=await Promise.allSettled([RY(I||void 0),SY(5),TY({limit:k,defaultPrice:(I==null?void 0:I.floorPrice)??0})]);if(y){if(j.status==="fulfilled"?r(j.value):(console.error("Error fetching Gorbagios:",j.reason),r(I)),O.status==="fulfilled"?u(O.value):console.error("Error fetching top collections:",O.reason),Q.status==="fulfilled"){const ce=Q.value.filter(W=>W.image);s(ce.length?ce:M)}else console.error("Error fetching Gorbagio artwork:",Q.reason),s(M);d(!1)}})(),()=>{y=!1}},[]);const[p,v]=ue.useState(!1),x=i.filter(y=>y.image);return h?m.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:m.jsx("div",{className:"text-magic-green animate-pulse font-mono uppercase tracking-widest text-2xl",children:"LOADING MARKET DATA..."})}):m.jsxs("div",{className:"min-h-screen bg-black pb-20",onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),children:[t?m.jsxs("div",{className:"relative h-[450px] w-full overflow-hidden border-b border-white/20",children:[m.jsxs("div",{className:"absolute inset-0",children:[m.jsx("img",{src:"/images/hero-bg.webp",alt:"Hero",className:"w-full h-full object-cover opacity-20 grayscale contrast-150"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/80 to-transparent"}),m.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"}),m.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(18,18,18,0.5)_1px,transparent_1px),linear-gradient(90deg,rgba(18,18,18,0.5)_1px,transparent_1px)] bg-[size:40px_40px] opacity-20"})]}),m.jsx("div",{className:"absolute bottom-0 left-0 w-full p-4 md:p-12 z-10",children:m.jsxs("div",{className:"max-w-[1600px] mx-auto flex flex-col gap-6",children:[m.jsxs("div",{className:"max-w-3xl w-full",children:[m.jsxs("div",{className:`flex items-center justify-between mb-2 w-full border-b ${e==="text-magic-purple"?"border-magic-purple/30":"border-magic-green/30"} pb-2`,children:[m.jsxs("div",{className:`inline-flex items-center gap-2 ${e} text-xs font-bold uppercase tracking-widest font-mono`,children:[m.jsx(t2,{className:"w-3 h-3"})," System_Spotlight :: ",t.id.toUpperCase()]}),m.jsxs("div",{className:"flex gap-4 items-center",children:[m.jsxs("span",{className:"text-[10px] font-mono uppercase tracking-widest flex items-center gap-2 text-gray-500",children:[m.jsx(HW,{className:`w-3 h-3 ${e} animate-pulse`}),"SYSTEM_ONLINE"]}),m.jsx("span",{className:"text-[10px] text-gray-500 uppercase tracking-widest font-mono",children:"[ MARKET_LIVE ]"})]})]}),m.jsx("h1",{className:"text-5xl md:text-7xl font-black text-white mb-6 tracking-tighter uppercase leading-none",children:t.name}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start md:items-center",children:[m.jsxs("div",{className:"flex items-center gap-8 text-sm text-gray-400 font-mono",children:[m.jsxs("div",{className:`flex flex-col border-l-2 ${e==="text-magic-purple"?"border-magic-purple":"border-magic-green"} pl-3`,children:[m.jsx("span",{className:"text-[10px] uppercase tracking-wider text-gray-500",children:"Floor_Price"}),m.jsxs("span",{className:"text-white text-xl font-bold",children:[n," ",t.floorPrice]})]}),m.jsxs("div",{className:"flex flex-col border-l-2 border-gray-800 pl-3",children:[m.jsx("span",{className:"text-[10px] uppercase tracking-wider text-gray-500",children:"24h_Volume"}),m.jsxs("span",{className:"text-white text-xl font-bold",children:[n," ",(t.totalVolume/1e3).toFixed(1),"k"]})]})]}),m.jsx(Ao,{to:`/collection/${t.id}`,className:`group relative px-8 py-3 bg-black border ${e==="text-magic-purple"?"border-magic-purple text-magic-purple hover:bg-magic-purple":"border-magic-green text-magic-green hover:bg-magic-green"} font-bold uppercase tracking-widest text-xs hover:text-black transition-all duration-200`,children:m.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:["Execute_View ",m.jsx(Xp,{className:"w-3 h-3"})]})})]})]}),x.length>0&&m.jsxs("div",{className:"border-t border-white/10 pt-4",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest ${e}`,children:"Gorbagio_Art_Stream"}),m.jsx("span",{className:"text-[10px] font-mono uppercase tracking-widest text-gray-600",children:"Continuous_Carousel"})]}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute left-0 top-0 h-full w-16 bg-gradient-to-r from-black to-transparent z-10 pointer-events-none"}),m.jsx("div",{className:"absolute right-0 top-0 h-full w-16 bg-gradient-to-l from-black to-transparent z-10 pointer-events-none"}),m.jsx(IY,{className:"py-2",children:x.map((y,S)=>m.jsx("div",{className:"mx-2 md:mx-3",children:m.jsx("div",{className:`w-20 h-20 md:w-24 md:h-24 bg-black border ${e==="text-magic-purple"?"border-magic-purple/40":"border-magic-green/40"} overflow-hidden`,children:m.jsx("img",{src:y.image,alt:y.name,className:"w-full h-full object-cover grayscale hover:grayscale-0 transition-all duration-300",loading:"lazy"})})},`${y.id}-${S}`))})]})]})]})})]}):m.jsx("div",{className:"relative h-[450px] w-full overflow-hidden border-b border-white/20 flex items-center justify-center",children:m.jsx("div",{className:"text-magic-green animate-pulse font-mono uppercase tracking-widest text-xl",children:"LOADING SPOTLIGHT..."})}),m.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[m.jsxs("div",{className:"flex items-center justify-between mb-8",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Yp,{className:`w-5 h-5 ${e}`}),m.jsx("h2",{className:"text-xl font-bold text-white uppercase tracking-widest font-mono",children:"Market_Feed"})]}),m.jsxs("div",{className:"flex gap-px bg-white/10 border border-white/10",children:[m.jsx("button",{className:"px-4 py-1 bg-black text-gray-500 hover:text-white text-[10px] uppercase font-bold tracking-wider hover:bg-white/5",children:"1h"}),m.jsx("button",{className:`px-4 py-1 ${e==="text-magic-purple"?"bg-magic-purple":"bg-magic-green"} text-black text-[10px] uppercase font-bold tracking-wider`,children:"24h"}),m.jsx("button",{className:"px-4 py-1 bg-black text-gray-500 hover:text-white text-[10px] uppercase font-bold tracking-wider hover:bg-white/5",children:"7d"})]})]}),m.jsxs("div",{className:"border border-white/20 bg-black relative",children:[m.jsx("div",{className:`absolute -top-1 -left-1 w-2 h-2 border-t border-l ${e==="text-magic-purple"?"border-magic-purple":"border-magic-green"}`}),m.jsx("div",{className:`absolute -bottom-1 -right-1 w-2 h-2 border-b border-r ${e==="text-magic-purple"?"border-magic-purple":"border-magic-green"}`}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left border-collapse",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-white/10 text-[10px] text-gray-500 uppercase font-mono tracking-widest bg-white/5",children:[m.jsx("th",{className:"p-4 font-bold",children:"Rank / Collection"}),m.jsx("th",{className:"p-4 font-bold text-right",children:"Floor"}),m.jsx("th",{className:"p-4 font-bold text-right",children:"24h %"}),m.jsx("th",{className:"p-4 font-bold text-right",children:"24h Vol"}),m.jsx("th",{className:"p-4 font-bold text-right",children:"Sales"}),m.jsx("th",{className:"p-4 font-bold text-right",children:"Supply"})]})}),m.jsx("tbody",{className:"divide-y divide-white/5",children:c.map((y,S)=>m.jsxs("tr",{className:"group hover:bg-white/5 transition-colors",children:[m.jsx("td",{className:"p-4",children:m.jsxs(Ao,{to:`/collection/${y.id}`,className:"flex items-center gap-4",children:[m.jsxs("span",{className:"text-gray-700 font-mono text-sm w-4 text-center group-hover:text-white transition-colors",children:["0",S+1]}),m.jsx("div",{className:`w-8 h-8 border border-white/20 overflow-hidden bg-gray-900 group-hover:border-${e==="text-magic-purple"?"magic-purple":"magic-green"} transition-colors`,children:m.jsx("img",{src:y.image,alt:"",className:"w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-500"})}),m.jsx("div",{children:m.jsxs("div",{className:"font-bold text-gray-300 group-hover:text-white flex items-center gap-2 uppercase tracking-tight text-sm transition-colors",children:[y.name,y.isVerified&&m.jsx(xp,{className:`w-3 h-3 ${e} fill-current`})]})})]})}),m.jsxs("td",{className:`p-4 text-right font-mono font-bold text-gray-300 group-hover:${e} transition-colors`,children:[n," ",y.floorPrice]}),m.jsx("td",{className:`p-4 text-right font-mono font-bold text-xs ${y.change24h>=0?"text-magic-green":"text-magic-red"}`,children:m.jsxs("div",{className:"flex items-center justify-end gap-1",children:[y.change24h>=0?m.jsx(tW,{className:"w-3 h-3"}):m.jsx(KK,{className:"w-3 h-3"}),Math.abs(y.change24h),"%"]})}),m.jsxs("td",{className:"p-4 text-right font-mono text-gray-500 text-xs",children:[n," ",(y.totalVolume/1e3).toFixed(1),"k"]}),m.jsx("td",{className:"p-4 text-right font-mono text-gray-500 text-xs",children:y.listedCount*2}),m.jsx("td",{className:"p-4 text-right font-mono text-gray-600 text-xs",children:y.supply})]},y.id))})]})}),m.jsx("div",{className:"p-3 border-t border-white/10 text-center bg-black hover:bg-white/5 cursor-pointer transition-colors",children:m.jsx("button",{className:"text-[10px] text-gray-400 font-bold flex items-center justify-center gap-2 w-full uppercase tracking-widest hover:text-white",children:"[ LOAD_MORE_DATA ]"})})]})]})]})},CY=({nft:n,collectionName:e,isSelected:t,onToggle:r})=>{const{currency:i,accentColor:s}=is(),c=s==="text-magic-purple"?"border-magic-purple":"border-magic-green",u=s==="text-magic-purple"?"ring-magic-purple":"ring-magic-green",h=s==="text-magic-purple"?"bg-magic-purple":"bg-magic-green",d=s==="text-magic-purple"?"hover:shadow-[0_0_20px_rgba(153,69,255,0.15)]":"hover:shadow-[0_0_20px_rgba(173,255,2,0.15)]";return m.jsxs("div",{onClick:r,className:`group relative bg-magic-card cursor-pointer border transition-all duration-200 ease-out hover:scale-[1.02] ${d} hover:z-20 ${t?`${c} ring-2 ${u} ring-offset-2 ring-offset-black z-10`:`border-white/10 hover:${c}/50`}`,children:[t&&m.jsx("div",{className:`absolute top-0 right-0 z-10 ${h} text-black p-1 shadow-none border-b border-l border-black`,children:m.jsx(e2,{className:"w-4 h-4"})}),m.jsxs("div",{className:"aspect-square overflow-hidden bg-gray-900 relative",children:[m.jsx("img",{src:n.image,alt:n.name,className:`w-full h-full object-cover transition-all duration-300 ${t?"opacity-80 grayscale-0":"grayscale group-hover:grayscale-0"}`,loading:"lazy"}),!t&&m.jsx("div",{className:"absolute bottom-0 left-0 w-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:m.jsx("div",{className:`${h} text-black text-center text-xs font-bold py-2 uppercase tracking-widest`,children:"Quick Buy"})})]}),m.jsxs("div",{className:"p-3 bg-black",children:[m.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[m.jsxs("span",{className:`text-sm font-bold font-mono ${t?s:"text-white"}`,children:[i,n.price]}),n.rank&&m.jsxs("span",{className:"text-[10px] text-gray-600 font-mono",children:["#",n.rank]})]}),m.jsx("p",{className:"text-[10px] text-gray-500 truncate font-medium uppercase tracking-wide group-hover:text-gray-300 transition-colors",children:n.name})]})]})},OY=({data:n,color:e="#adff02",height:t=250})=>{if(n.length===0)return null;const r=n.map(p=>p.price),i=Math.min(...r)*.95,c=Math.max(...r)*1.05-i,u=1e3,h=n.map((p,v)=>{const x=v/(n.length-1)*u,y=t-(p.price-i)/c*t;return`${x},${y}`}).join(" "),d=`${h} ${u},${t} 0,${t}`;return m.jsxs("div",{className:"w-full h-full relative group bg-black/50",children:[m.jsxs("svg",{width:"100%",height:"100%",viewBox:`0 0 ${u} ${t}`,preserveAspectRatio:"none",className:"overflow-visible",children:[m.jsx("defs",{children:m.jsxs("linearGradient",{id:"chartGradient",x1:"0",x2:"0",y1:"0",y2:"1",children:[m.jsx("stop",{offset:"0%",stopColor:e,stopOpacity:"0.1"}),m.jsx("stop",{offset:"100%",stopColor:e,stopOpacity:"0"})]})}),m.jsx("line",{x1:"0",y1:t*.25,x2:u,y2:t*.25,stroke:"#333",strokeWidth:"1",strokeDasharray:"4 4"}),m.jsx("line",{x1:"0",y1:t*.5,x2:u,y2:t*.5,stroke:"#333",strokeWidth:"1",strokeDasharray:"4 4"}),m.jsx("line",{x1:"0",y1:t*.75,x2:u,y2:t*.75,stroke:"#333",strokeWidth:"1",strokeDasharray:"4 4"}),m.jsx("path",{d,fill:"url(#chartGradient)"}),m.jsx("polyline",{points:h,fill:"none",stroke:e,strokeWidth:"2",vectorEffect:"non-scaling-stroke"}),m.jsx("circle",{cx:"1000",cy:t-(r[r.length-1]-i)/c*t,r:"4",fill:e,className:"animate-pulse"})]}),m.jsxs("div",{className:"absolute top-2 right-2 bg-black border border-magic-green px-2 py-1 text-xs text-magic-green font-mono font-bold opacity-0 group-hover:opacity-100 transition-opacity z-20",children:["LAST: ",r[r.length-1]]})]})},I4=({accentColor:n,currency:e,borderFocus:t})=>m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-bold text-gray-500 mb-3 uppercase tracking-wider",children:"Status"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("label",{className:"flex items-center gap-3 text-sm text-gray-300 cursor-pointer group",children:[m.jsx("div",{className:`w-4 h-4 border border-white/40 flex items-center justify-center group-hover:border-${n==="text-magic-purple"?"magic-purple":"magic-green"}`,children:m.jsx("div",{className:`w-2 h-2 ${n==="text-magic-purple"?"bg-magic-purple":"bg-magic-green"} opacity-100`})}),m.jsx("span",{className:"group-hover:text-white",children:"Buy Now"})]}),m.jsxs("label",{className:"flex items-center gap-3 text-sm text-gray-300 cursor-pointer group",children:[m.jsx("div",{className:`w-4 h-4 border border-white/40 flex items-center justify-center group-hover:border-${n==="text-magic-purple"?"magic-purple":"magic-green"}`}),m.jsx("span",{className:"group-hover:text-white",children:"Auction"})]})]})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"text-xs font-bold text-gray-500 mb-3 uppercase tracking-wider",children:["Price Range (",e,")"]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"number",placeholder:"Min",className:`w-1/2 bg-black border border-white/20 p-2 text-sm text-white font-mono placeholder-gray-700 ${t} outline-none`}),m.jsx("input",{type:"number",placeholder:"Max",className:`w-1/2 bg-black border border-white/20 p-2 text-sm text-white font-mono placeholder-gray-700 ${t} outline-none`})]})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-bold text-gray-500 mb-3 uppercase tracking-wider",children:"Attributes"}),["Background","Skin","Clothing","Eyes","Mouth","Headwear"].map(r=>m.jsxs("div",{className:"py-2 border-t border-white/10 flex justify-between items-center text-sm text-gray-400 cursor-pointer hover:text-white group",children:[m.jsx("span",{className:`group-hover:${n} transition-colors`,children:r}),m.jsx("span",{className:"text-xs text-gray-600",children:"+"})]},r))]})]}),MY=()=>{const{id:n}=oP(),[e,t]=ue.useState(""),[r,i]=ue.useState("items"),[s,c]=ue.useState(0),[u,h]=ue.useState(!1),{currency:d,accentColor:p}=is(),[v,x]=ue.useState(()=>n&&va.find(U=>U.id===n)||null),[y,S]=ue.useState(()=>n?xx[n]||[]:[]),[k,I]=ue.useState(!1),[M,j]=ue.useState(null);ue.useEffect(()=>{if(!n)return;const U=va.find(T=>T.id===n)||null,q=n?xx[n]||[]:[];if(x(U),S(q),j(null),n!=="gorbagios"){I(!1);return}let L=!0;return I(!0),NY({collectionFallback:U||void 0,defaultPrice:(U==null?void 0:U.floorPrice)??0,limit:120}).then(({collection:T,nfts:g})=>{L&&(x(T),S(g))}).catch(T=>{L&&(console.error("Error fetching Gorbagios:",T),j("Failed to load Gorbagios. Using fallback data."))}).finally(()=>{L&&I(!1)}),()=>{L=!1}},[n]);const O=ue.useMemo(()=>v?EY(v.floorPrice):[],[v]),Q=ue.useMemo(()=>n?AY(n):[],[n]),oe=y==null?void 0:y.filter(U=>U.name.toLowerCase().includes(e.toLowerCase())),ce=ue.useMemo(()=>s===0?new Set:new Set(oe==null?void 0:oe.slice(0,s).map(U=>U.id)),[s,oe]),W=ue.useMemo(()=>{let U=0;return oe==null||oe.slice(0,s).forEach(q=>U+=q.price),U.toFixed(2)},[s,oe]),K=p==="text-magic-purple"?"bg-magic-purple text-white hover:bg-white hover:text-magic-purple":"bg-magic-green text-black hover:bg-white hover:text-black",B=p==="text-magic-purple"?"focus:border-magic-purple":"focus:border-magic-green";return v?m.jsxs("div",{className:"min-h-screen bg-black flex flex-col",children:[M&&m.jsx("div",{className:"bg-yellow-500/20 border-b border-yellow-500/40 px-4 py-2 text-center",children:m.jsx("p",{className:"text-yellow-500 text-xs font-mono uppercase",children:M})}),u&&m.jsxs("div",{className:"fixed inset-0 z-50 flex lg:hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>h(!1)}),m.jsxs("div",{className:"relative w-[85%] max-w-sm bg-black border-r border-white/20 h-full flex flex-col animate-in slide-in-from-left duration-200",children:[m.jsxs("div",{className:"p-4 border-b border-white/20 flex items-center justify-between",children:[m.jsxs("div",{className:`flex items-center gap-2 ${p} font-bold uppercase tracking-wider`,children:[m.jsx(A4,{className:"w-4 h-4"})," Filters"]}),m.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-white",children:m.jsx(ou,{className:"w-6 h-6"})})]}),m.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:m.jsx(I4,{accentColor:p,currency:d,borderFocus:B})}),m.jsx("div",{className:"p-4 border-t border-white/20 bg-magic-card",children:m.jsx("button",{onClick:()=>h(!1),className:`w-full ${K} font-bold py-3 uppercase tracking-widest transition-colors`,children:"Show Results"})})]})]}),m.jsx("div",{className:"bg-black border-b border-white/20",children:m.jsx("div",{className:"max-w-[1600px] mx-auto",children:m.jsxs("div",{className:"flex flex-col lg:flex-row border-l border-r border-white/20",children:[m.jsxs("div",{className:"lg:w-1/3 p-4 md:p-6 border-b lg:border-b-0 lg:border-r border-white/20",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[m.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-gray-900 border-2 border-white grayscale flex-shrink-0",children:m.jsx("img",{src:v.image,className:"w-full h-full object-cover",alt:v.name})}),m.jsxs("div",{className:"min-w-0",children:[m.jsxs("h1",{className:"text-xl md:text-2xl font-black text-white flex items-center gap-2 uppercase tracking-tight truncate",children:[v.name,v.isVerified&&m.jsx(xp,{className:`w-4 h-4 md:w-5 md:h-5 ${p} fill-current flex-shrink-0`})]}),m.jsx("p",{className:"text-gray-500 text-[10px] md:text-xs font-mono mt-1 line-clamp-2",children:v.description}),k&&m.jsx("div",{className:"text-[9px] font-mono uppercase tracking-widest text-gray-600 mt-2",children:"Syncing Gorbagio API..."})]})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-px bg-white/20 border border-white/20",children:[m.jsxs("div",{className:"bg-black p-2 md:p-3 hover:bg-white/5 transition-colors",children:[m.jsx("div",{className:"text-gray-500 text-[9px] md:text-[10px] uppercase font-bold mb-1",children:"Floor"}),m.jsxs("div",{className:`${p} font-mono font-bold text-base md:text-lg`,children:[d," ",v.floorPrice]})]}),m.jsxs("div",{className:"bg-black p-2 md:p-3 hover:bg-white/5 transition-colors",children:[m.jsx("div",{className:"text-gray-500 text-[9px] md:text-[10px] uppercase font-bold mb-1",children:"Vol (24h)"}),m.jsxs("div",{className:"text-white font-mono font-bold text-base md:text-lg",children:[(v.totalVolume/1e3).toFixed(1),"k"]})]}),m.jsxs("div",{className:"bg-black p-2 md:p-3 hover:bg-white/5 transition-colors",children:[m.jsx("div",{className:"text-gray-500 text-[9px] md:text-[10px] uppercase font-bold mb-1",children:"Listed"}),m.jsx("div",{className:"text-white font-mono font-bold text-base md:text-lg",children:v.listedCount})]})]})]}),m.jsxs("div",{className:"lg:w-2/3 h-[200px] md:h-[250px] bg-black p-4 relative group overflow-hidden",children:[m.jsxs("div",{className:"absolute top-4 left-4 z-10 flex gap-4 text-[10px] md:text-xs font-bold font-mono pointer-events-none",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:`w-2 h-2 ${p==="text-magic-purple"?"bg-magic-purple":"bg-magic-green"}`}),m.jsx("span",{className:"text-white",children:"FLOOR_PRICE"})]}),m.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[m.jsx("div",{className:"w-2 h-2 bg-gray-700"}),m.jsx("span",{children:"AVG_PRICE"})]})]}),m.jsx(OY,{data:O,color:p==="text-magic-purple"?"#9945ff":"#adff02"})]})]})})}),m.jsxs("div",{className:"flex-grow flex flex-col lg:flex-row max-w-[1600px] w-full mx-auto border-l border-r border-white/20",children:[m.jsxs("div",{className:"hidden lg:block w-72 border-r border-white/20 p-4 sticky top-16 h-[calc(100vh-64px)] overflow-y-auto bg-black",children:[m.jsxs("div",{className:"flex items-center justify-between text-white font-bold mb-6 pb-4 border-b border-white/20",children:[m.jsxs("span",{className:"flex items-center gap-2 uppercase tracking-wider text-sm",children:[m.jsx(A4,{className:`w-4 h-4 ${p}`})," Filters"]}),m.jsx(hy,{className:"w-4 h-4"})]}),m.jsx(I4,{accentColor:p,currency:d,borderFocus:B})]}),m.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-black",children:[m.jsx("div",{className:"sticky top-16 z-30 bg-black/95 backdrop-blur border-b border-white/20 p-3",children:m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>h(!0),className:`lg:hidden p-2 text-white border border-white/20 hover:border-current hover:${p} transition-colors`,children:m.jsx(YW,{className:"w-4 h-4"})}),m.jsxs("div",{className:"flex",children:[m.jsx("button",{onClick:()=>i("items"),className:`px-3 md:px-4 py-2 text-[10px] md:text-xs font-bold uppercase tracking-widest border transition-colors ${r==="items"?"bg-white text-black border-white":"text-gray-400 border-white/10 hover:border-white/40 hover:text-white"}`,children:"Items"}),m.jsx("button",{onClick:()=>i("activity"),className:`px-3 md:px-4 py-2 text-[10px] md:text-xs font-bold uppercase tracking-widest border border-l-0 transition-colors ${r==="activity"?"bg-white text-black border-white":"text-gray-400 border-white/10 hover:border-white/40 hover:text-white"}`,children:"Activity"})]}),m.jsx("button",{className:`p-2 text-gray-500 hover:${p} transition-colors hidden sm:block`,children:m.jsx(S8,{className:"w-4 h-4"})})]}),m.jsxs("div",{className:"relative hidden md:block",children:[m.jsx("input",{type:"text",placeholder:"SEARCH ID",value:e,onChange:U=>t(U.target.value),className:`bg-black border border-white/20 pl-8 pr-4 py-2 text-xs text-white ${B} outline-none w-48 placeholder-gray-700 font-mono transition-all`}),m.jsx(vp,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 text-gray-600 w-3 h-3"})]})]}),m.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[m.jsxs("div",{className:"flex-1 flex items-center gap-2 md:gap-3 bg-white/5 px-3 py-2 border border-white/10",children:[m.jsx("span",{className:`text-[10px] md:text-xs font-bold ${p} whitespace-nowrap uppercase tracking-wider`,children:"SWEEP"}),m.jsx("input",{type:"range",min:"0",max:"10",step:"1",value:s,onChange:U=>c(parseInt(U.target.value)),className:"w-full h-1 bg-gray-800 rounded-none appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:bg-white"}),m.jsx("span",{className:"text-xs md:text-sm font-mono font-bold w-6 text-center text-white",children:s})]}),m.jsx("div",{className:"relative md:hidden w-1/3",children:m.jsx("input",{type:"text",placeholder:"ID#",value:e,onChange:U=>t(U.target.value),className:`w-full bg-black border border-white/20 px-2 py-2 text-xs text-white ${B} outline-none placeholder-gray-700 font-mono text-center`})})]})]})}),m.jsx("div",{className:"p-2 md:p-4 bg-black min-h-screen",children:r==="items"?m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-2 md:gap-4",children:oe==null?void 0:oe.map(U=>m.jsx(CY,{nft:U,collectionName:v.name,isSelected:ce.has(U.id),onToggle:()=>{}},U.id))}):m.jsx("div",{className:"border border-white/20 bg-black overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left min-w-[500px]",children:[m.jsx("thead",{className:"bg-white/5 text-gray-500 font-mono text-xs uppercase",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-3",children:"Item"}),m.jsx("th",{className:"p-3 text-right",children:"Price"}),m.jsx("th",{className:"p-3 text-right",children:"From"}),m.jsx("th",{className:"p-3 text-right",children:"To"}),m.jsx("th",{className:"p-3 text-right",children:"Time"})]})}),m.jsx("tbody",{className:"divide-y divide-white/10 font-mono text-xs md:text-sm",children:Q.map(U=>m.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[m.jsxs("td",{className:"p-3 flex items-center gap-3",children:[m.jsx("img",{src:U.image,className:"w-8 h-8 object-cover border border-white/20",alt:""}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"font-bold text-white",children:U.name}),m.jsx("span",{className:`text-[9px] w-fit px-1 border ${U.type==="sale"?`${p} border-current`:"border-blue-500 text-blue-500"} uppercase`,children:U.type})]})]}),m.jsxs("td",{className:"p-3 text-right text-white font-bold",children:[d," ",U.price]}),m.jsx("td",{className:"p-3 text-right text-gray-400 truncate max-w-[80px]",children:U.from}),m.jsx("td",{className:"p-3 text-right text-gray-500 truncate max-w-[80px]",children:U.to||"-"}),m.jsx("td",{className:"p-3 text-right text-gray-600",children:U.time})]},U.id))})]})})})]}),m.jsxs("div",{className:"hidden xl:block w-80 border-l border-white/20 p-0 sticky top-16 h-[calc(100vh-64px)] overflow-y-auto bg-black",children:[m.jsx("div",{className:"p-4 border-b border-white/20 bg-white/5",children:m.jsxs("h3",{className:"text-xs font-bold text-white uppercase tracking-widest flex items-center gap-2",children:[m.jsx(Yp,{className:`w-3 h-3 ${p}`})," Live Feed"]})}),m.jsx("div",{className:"divide-y divide-white/10",children:Q.filter(U=>U.type==="sale").map(U=>m.jsxs("div",{className:"p-3 flex gap-3 items-start hover:bg-white/5 transition-colors group cursor-pointer",children:[m.jsx("div",{className:"w-10 h-10 bg-gray-800 border border-white/20 flex-shrink-0",children:m.jsx("img",{src:U.image,className:"w-full h-full object-cover grayscale group-hover:grayscale-0",alt:""})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[m.jsx("span",{className:"text-xs font-bold text-white truncate",children:U.name}),m.jsxs("span",{className:`text-sm font-mono ${p}`,children:[d,U.price]})]}),m.jsxs("div",{className:"flex justify-between text-[10px] text-gray-500 font-mono",children:[m.jsx("span",{children:U.time}),m.jsx("span",{className:"text-gray-600",children:"SALE"})]})]})]},U.id))})]})]}),s>0&&m.jsx("div",{className:`fixed bottom-0 left-0 w-full ${p==="text-magic-purple"?"bg-magic-purple":"bg-magic-green"} text-black border-t-2 border-white z-50 animate-slide-up shadow-[0_-5px_20px_rgba(0,0,0,0.5)]`,children:m.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 md:px-6 py-3 md:py-4 flex flex-col sm:flex-row items-center justify-between gap-3",children:[m.jsxs("div",{className:"flex items-center gap-8 w-full sm:w-auto justify-between sm:justify-start",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-[9px] uppercase font-bold text-black/60 tracking-widest",children:"Quantity"}),m.jsxs("span",{className:"text-lg md:text-xl font-black",children:[s," ITEMS"]})]}),m.jsx("div",{className:"w-px h-8 bg-black/20 hidden sm:block"}),m.jsxs("div",{className:"flex flex-col text-right sm:text-left",children:[m.jsx("span",{className:"text-[9px] uppercase font-bold text-black/60 tracking-widest",children:"Total"}),m.jsxs("span",{className:"text-lg md:text-xl font-black font-mono",children:[d," ",W]})]})]}),m.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[m.jsx("button",{onClick:()=>c(0),className:"flex-1 sm:flex-none px-4 py-3 font-bold uppercase hover:bg-black/10 transition-colors text-xs border border-black/10",children:"Cancel"}),m.jsxs("button",{className:"flex-[2] sm:flex-none bg-black text-white px-6 py-3 font-bold uppercase tracking-widest hover:bg-white hover:text-black border border-black transition-colors flex items-center justify-center gap-2 text-xs md:text-sm",children:[m.jsx(wx,{className:"w-4 h-4"}),m.jsx("span",{className:"truncate",children:"Buy Now"})]})]})]})})]}):m.jsx("div",{className:"p-20 text-center font-mono text-red-500 uppercase",children:"Error: Collection_Not_Found"})},BY=[{name:"Magic Green",hex:"#adff02",class:"bg-magic-green text-black"},{name:"Magic Pink",hex:"#ff00ff",class:"bg-magic-pink text-white"},{name:"Magic Red",hex:"#ff2222",class:"bg-magic-red text-white"},{name:"Magic Purple",hex:"#9945ff",class:"bg-magic-purple text-white"},{name:"Void Black",hex:"#000000",class:"bg-black text-white border border-white/20"},{name:"Card Surface",hex:"#080808",class:"bg-[#080808] text-white border border-white/20"}],LY=[{id:"brand",label:"Identity_Kit"},{id:"manifesto",label:"Manifesto"},{id:"ui",label:"UI_Components"},{id:"api",label:"Dev_API"}],DY=()=>{const[n,e]=ue.useState("brand"),[t,r]=ue.useState(null),i=s=>{navigator.clipboard.writeText(s),r(s),setTimeout(()=>r(null),2e3)};return m.jsxs("div",{className:"min-h-screen bg-black flex flex-col md:flex-row max-w-[1600px] mx-auto border-l border-r border-white/10",children:[m.jsxs("aside",{className:"w-full md:w-64 border-b md:border-b-0 md:border-r border-white/10 sticky top-16 h-auto md:h-[calc(100vh-64px)] bg-black z-20 overflow-y-auto",children:[m.jsxs("div",{className:"p-6",children:[m.jsxs("h2",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-6 flex items-center gap-2",children:[m.jsx(AW,{className:"w-3 h-3"})," Documentation"]}),m.jsx("nav",{className:"space-y-1",children:LY.map(s=>m.jsx("button",{onClick:()=>e(s.id),className:`w-full text-left px-4 py-3 text-xs font-bold font-mono uppercase tracking-wider border-l-2 transition-all ${n===s.id?"border-magic-green text-white bg-white/5":"border-transparent text-gray-500 hover:text-white hover:border-gray-700"}`,children:s.label},s.id))})]}),m.jsx("div",{className:"p-6 mt-auto border-t border-white/10",children:m.jsxs("div",{className:"bg-[#111] p-3 border border-white/10",children:[m.jsx("div",{className:"text-[10px] text-gray-500 mb-2 uppercase",children:"Current Version"}),m.jsx("div",{className:"text-magic-green font-mono text-xs",children:"v0.9.2-beta"})]})})]}),m.jsx("main",{className:"flex-1 min-h-screen bg-black overflow-y-auto",children:m.jsxs("div",{className:"max-w-4xl mx-auto p-6 md:p-12 pb-24",children:[m.jsxs("div",{className:"mb-12 border-b border-white/20 pb-8",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white mb-4 uppercase tracking-tighter",children:"Official_Docs"}),m.jsx("p",{className:"text-gray-400 font-mono text-sm max-w-2xl",children:"The authoritative source for the Trash Market visual language, philosophy, and developer endpoints. Use these assets to build compatible garbage."})]}),n==="brand"&&m.jsxs("div",{className:"space-y-16 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[m.jsxs("section",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-6 text-magic-green",children:[m.jsx(DW,{className:"w-5 h-5"}),m.jsx("h2",{className:"text-xl font-bold uppercase tracking-widest",children:"Color_Palette"})]}),m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:BY.map(s=>m.jsxs("div",{className:`group p-4 h-32 flex flex-col justify-between cursor-pointer transition-all hover:scale-[1.02] ${s.class}`,onClick:()=>i(s.hex),children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsx("span",{className:"font-bold text-sm uppercase tracking-wider",children:s.name}),t===s.hex&&m.jsx(e2,{className:"w-4 h-4 animate-in zoom-in"})]}),m.jsxs("div",{className:"font-mono text-xs uppercase flex items-center gap-2 opacity-60 group-hover:opacity-100",children:[s.hex," ",m.jsx(E8,{className:"w-3 h-3"})]})]},s.hex))})]}),m.jsxs("section",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-6 text-magic-green",children:[m.jsx(lY,{className:"w-5 h-5"}),m.jsx("h2",{className:"text-xl font-bold uppercase tracking-widest",children:"Typography"})]}),m.jsxs("div",{className:"border border-white/20 p-8 bg-[#050505]",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("span",{className:"text-gray-500 text-xs uppercase tracking-widest mb-2 block",children:"Primary Font"}),m.jsx("h3",{className:"text-4xl text-white font-mono",children:"JetBrains Mono"})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 md:items-baseline border-b border-white/10 pb-4",children:[m.jsx("span",{className:"w-32 text-gray-500 text-xs uppercase",children:"Regular (400)"}),m.jsx("p",{className:"text-white font-mono font-normal text-lg",children:"The quick brown fox jumps over the lazy dog."})]}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 md:items-baseline border-b border-white/10 pb-4",children:[m.jsx("span",{className:"w-32 text-gray-500 text-xs uppercase",children:"Bold (700)"}),m.jsx("p",{className:"text-white font-mono font-bold text-lg",children:"THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG."})]})]})]})]}),m.jsxs("section",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-6 text-magic-green",children:[m.jsx(TW,{className:"w-5 h-5"}),m.jsx("h2",{className:"text-xl font-bold uppercase tracking-widest",children:"Logomark"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsx("div",{className:"border border-white/20 bg-black p-12 flex items-center justify-center",children:m.jsxs("div",{className:"text-2xl font-bold text-white tracking-tighter",children:["TRASHMARKET",m.jsx("span",{className:"text-magic-green",children:".FUN"})]})}),m.jsx("div",{className:"border border-white/20 bg-white p-12 flex items-center justify-center",children:m.jsxs("div",{className:"text-2xl font-bold text-black tracking-tighter",children:["TRASHMARKET",m.jsx("span",{className:"text-magic-green",children:".FUN"})]})})]}),m.jsxs("div",{className:"mt-4 flex gap-4",children:[m.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/10 text-xs font-bold uppercase text-white border border-white/20 transition-colors",children:[m.jsx(gx,{className:"w-4 h-4"})," Download SVG"]}),m.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/10 text-xs font-bold uppercase text-white border border-white/20 transition-colors",children:[m.jsx(gx,{className:"w-4 h-4"})," Download PNG"]})]})]})]}),n==="manifesto"&&m.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 max-w-2xl",children:[m.jsx("div",{className:"border-l-4 border-magic-green pl-6 py-2",children:m.jsx("h2",{className:"text-3xl font-black text-white uppercase italic tracking-tighter mb-4",children:`"One man's trash is another man's alpha."`})}),m.jsxs("div",{className:"font-mono text-gray-300 space-y-4 leading-relaxed",children:[m.jsx("p",{children:"TrashMarket was born from the debris of failed mints, rugged projects, and derivative art. We believe that liquidity should flow freely, even in the gutters of the blockchain."}),m.jsx("p",{children:"We reject rounded corners. We reject smooth gradients. We embrace the raw data."}),m.jsx("p",{children:m.jsx("strong",{className:"text-white",children:"Core Values:"})}),m.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-magic-green",children:[m.jsx("li",{children:m.jsx("span",{className:"text-gray-300",children:"Speed over safety."})}),m.jsx("li",{children:m.jsx("span",{className:"text-gray-300",children:"Information density over whitespace."})}),m.jsx("li",{children:m.jsx("span",{className:"text-gray-300",children:"Brutal honesty about asset value (usually 0)."})})]})]})]}),n==="ui"&&m.jsxs("div",{className:"space-y-12 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[m.jsxs("section",{children:[m.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-widest mb-6",children:"Buttons"}),m.jsxs("div",{className:"flex flex-wrap gap-4 p-8 border border-white/20 border-dashed",children:[m.jsx("button",{className:"bg-magic-green text-black px-6 py-2 font-bold uppercase text-sm border border-magic-green hover:bg-black hover:text-magic-green transition-colors",children:"Primary Action"}),m.jsx("button",{className:"bg-black text-magic-green px-6 py-2 font-bold uppercase text-sm border border-magic-green hover:bg-magic-green hover:text-black transition-colors",children:"Secondary Action"}),m.jsx("button",{className:"bg-black text-white px-6 py-2 font-bold uppercase text-sm border border-white/20 hover:border-white transition-colors",children:"Tertiary Action"})]})]}),m.jsxs("section",{children:[m.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-widest mb-6",children:"Inputs & Forms"}),m.jsxs("div",{className:"grid gap-4 p-8 border border-white/20 border-dashed bg-[#050505]",children:[m.jsx("input",{type:"text",placeholder:"PLACEHOLDER_TEXT",className:"w-full bg-black border border-white/20 p-3 text-white font-mono focus:border-magic-green outline-none"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"checkbox",checked:!0,readOnly:!0,className:"appearance-none w-4 h-4 border border-magic-green bg-magic-green"}),m.jsx("span",{className:"text-sm font-mono text-gray-300",children:"Checkbox Active"})]})]})]})]}),n==="api"&&m.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[m.jsxs("div",{className:"bg-[#050505] border border-white/20 p-6",children:[m.jsxs("div",{className:"flex items-center gap-2 text-magic-green mb-4",children:[m.jsx(t2,{className:"w-5 h-5"}),m.jsx("h2",{className:"font-bold font-mono",children:"BASE_URL"})]}),m.jsx("div",{className:"bg-black p-4 border border-white/10 font-mono text-sm text-gray-300",children:"https://api.trashmarket.fun/v1"})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[m.jsx("span",{className:"px-2 py-1 bg-magic-green text-black text-xs font-bold font-mono",children:"GET"}),m.jsx("span",{className:"text-white font-mono text-sm",children:"/collections/trending"})]}),m.jsx("div",{className:"bg-black border border-white/10 p-4 font-mono text-xs overflow-x-auto",children:m.jsx("pre",{className:"text-gray-400",children:`{
  "data": [
    {
      "id": "galactic-geckos",
      "floor_price": 12.5,
      "volume_24h": 450000,
      "status": "trash"
    }
  ],
  "meta": {
    "count": 1,
    "latency": "12ms"
  }
}`})})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[m.jsx("span",{className:"px-2 py-1 bg-magic-green text-black text-xs font-bold font-mono",children:"GET"}),m.jsx("span",{className:"text-white font-mono text-sm",children:"https://gorapi.trashscan.io/api/gorbagios"})]}),m.jsx("div",{className:"bg-black border border-white/10 p-4 font-mono text-xs overflow-x-auto",children:m.jsx("pre",{className:"text-gray-400",children:`{
  "success": true,
  "count": 4444,
  "data": [
    {
      "solana_mint": "DsdQoA...",
      "metadata": {
        "name": "Gorbagio #3437",
        "image": "https://.../3437.png"
      }
    }
  ]
}`})})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[m.jsx("span",{className:"px-2 py-1 bg-blue-500 text-black text-xs font-bold font-mono",children:"POST"}),m.jsx("span",{className:"text-white font-mono text-sm",children:"/orders/sweep"})]}),m.jsx("div",{className:"bg-black border border-white/10 p-4 font-mono text-xs overflow-x-auto",children:m.jsx("pre",{className:"text-gray-400",children:`// Payload
{
  "collection_id": "cyber-samurai",
  "max_price": 5.5,
  "quantity": 10,
  "wallet": "5G..."
}`})})]})]})]})]})})]})};var Jr={},Ex={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Ex.read=function(n,e,t,r,i){var s,c,u=8*i-r-1,h=(1<<u)-1,d=h>>1,p=-7,v=t?i-1:0,x=t?-1:1,y=n[e+v];for(v+=x,s=y&(1<<-p)-1,y>>=-p,p+=u;p>0;s=256*s+n[e+v],v+=x,p-=8);for(c=s&(1<<-p)-1,s>>=-p,p+=r;p>0;c=256*c+n[e+v],v+=x,p-=8);if(s===0)s=1-d;else{if(s===h)return c?NaN:1/0*(y?-1:1);c+=Math.pow(2,r),s-=d}return(y?-1:1)*c*Math.pow(2,s-r)},Ex.write=function(n,e,t,r,i,s){var c,u,h,d=8*s-i-1,p=(1<<d)-1,v=p>>1,x=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=r?0:s-1,S=r?1:-1,k=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,c=p):(c=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-c))<1&&(c--,h*=2),(e+=c+v>=1?x/h:x*Math.pow(2,1-v))*h>=2&&(c++,h/=2),c+v>=p?(u=0,c=p):c+v>=1?(u=(e*h-1)*Math.pow(2,i),c+=v):(u=e*Math.pow(2,v-1)*Math.pow(2,i),c=0));i>=8;n[t+y]=255&u,y+=S,u/=256,i-=8);for(c=c<<i|u,d+=i;d>0;n[t+y]=255&c,y+=S,c/=256,d-=8);n[t+y-S]|=128*k};var Bg={};Bg.byteLength=function(n){var e=C4(n),t=e[0],r=e[1];return 3*(t+r)/4-r},Bg.toByteArray=function(n){var e,t,r=C4(n),i=r[0],s=r[1],c=new jY((function(d,p,v){return 3*(p+v)/4-v})(0,i,s)),u=0,h=s>0?i-4:i;for(t=0;t<h;t+=4)e=ws[n.charCodeAt(t)]<<18|ws[n.charCodeAt(t+1)]<<12|ws[n.charCodeAt(t+2)]<<6|ws[n.charCodeAt(t+3)],c[u++]=e>>16&255,c[u++]=e>>8&255,c[u++]=255&e;return s===2&&(e=ws[n.charCodeAt(t)]<<2|ws[n.charCodeAt(t+1)]>>4,c[u++]=255&e),s===1&&(e=ws[n.charCodeAt(t)]<<10|ws[n.charCodeAt(t+1)]<<4|ws[n.charCodeAt(t+2)]>>2,c[u++]=e>>8&255,c[u++]=255&e),c},Bg.fromByteArray=function(n){for(var e,t=n.length,r=t%3,i=[],s=16383,c=0,u=t-r;c<u;c+=s)i.push(PY(n,c,c+s>u?u:c+s));return r===1?(e=n[t-1],i.push(_o[e>>2]+_o[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],i.push(_o[e>>10]+_o[e>>4&63]+_o[e<<2&63]+"=")),i.join("")};for(var _o=[],ws=[],jY=typeof Uint8Array<"u"?Uint8Array:Array,k4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bh=0;bh<64;++bh)_o[bh]=k4[bh],ws[k4.charCodeAt(bh)]=bh;function C4(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");return t===-1&&(t=e),[t,t===e?0:4-t%4]}function PY(n,e,t){for(var r,i,s=[],c=e;c<t;c+=3)r=(n[c]<<16&16711680)+(n[c+1]<<8&65280)+(255&n[c+2]),s.push(_o[(i=r)>>18&63]+_o[i>>12&63]+_o[i>>6&63]+_o[63&i]);return s.join("")}ws[45]=62,ws[95]=63;/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const e=Bg,t=Ex,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=c,n.SlowBuffer=function(P){return+P!=P&&(P=0),c.alloc(+P)},n.INSPECT_MAX_BYTES=50;const i=2147483647;function s(P){if(P>i)throw new RangeError('The value "'+P+'" is invalid for option "size"');const J=new Uint8Array(P);return Object.setPrototypeOf(J,c.prototype),J}function c(P,J,re){if(typeof P=="number"){if(typeof J=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(P)}return u(P,J,re)}function u(P,J,re){if(typeof P=="string")return(function(Ee,Ve){if(typeof Ve=="string"&&Ve!==""||(Ve="utf8"),!c.isEncoding(Ve))throw new TypeError("Unknown encoding: "+Ve);const Ye=0|y(Ee,Ve);let Je=s(Ye);const Mt=Je.write(Ee,Ve);return Mt!==Ye&&(Je=Je.slice(0,Mt)),Je})(P,J);if(ArrayBuffer.isView(P))return(function(Ee){if(ut(Ee,Uint8Array)){const Ve=new Uint8Array(Ee);return v(Ve.buffer,Ve.byteOffset,Ve.byteLength)}return p(Ee)})(P);if(P==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P);if(ut(P,ArrayBuffer)||P&&ut(P.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ut(P,SharedArrayBuffer)||P&&ut(P.buffer,SharedArrayBuffer)))return v(P,J,re);if(typeof P=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ye=P.valueOf&&P.valueOf();if(ye!=null&&ye!==P)return c.from(ye,J,re);const we=(function(Ee){if(c.isBuffer(Ee)){const Ve=0|x(Ee.length),Ye=s(Ve);return Ye.length===0||Ee.copy(Ye,0,0,Ve),Ye}if(Ee.length!==void 0)return typeof Ee.length!="number"||kt(Ee.length)?s(0):p(Ee);if(Ee.type==="Buffer"&&Array.isArray(Ee.data))return p(Ee.data)})(P);if(we)return we;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]=="function")return c.from(P[Symbol.toPrimitive]("string"),J,re);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}function h(P){if(typeof P!="number")throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function d(P){return h(P),s(P<0?0:0|x(P))}function p(P){const J=P.length<0?0:0|x(P.length),re=s(J);for(let ye=0;ye<J;ye+=1)re[ye]=255&P[ye];return re}function v(P,J,re){if(J<0||P.byteLength<J)throw new RangeError('"offset" is outside of buffer bounds');if(P.byteLength<J+(re||0))throw new RangeError('"length" is outside of buffer bounds');let ye;return ye=J===void 0&&re===void 0?new Uint8Array(P):re===void 0?new Uint8Array(P,J):new Uint8Array(P,J,re),Object.setPrototypeOf(ye,c.prototype),ye}function x(P){if(P>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|P}function y(P,J){if(c.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||ut(P,ArrayBuffer))return P.byteLength;if(typeof P!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);const re=P.length,ye=arguments.length>2&&arguments[2]===!0;if(!ye&&re===0)return 0;let we=!1;for(;;)switch(J){case"ascii":case"latin1":case"binary":return re;case"utf8":case"utf-8":return Le(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*re;case"hex":return re>>>1;case"base64":return Ue(P).length;default:if(we)return ye?-1:Le(P).length;J=(""+J).toLowerCase(),we=!0}}function S(P,J,re){let ye=!1;if((J===void 0||J<0)&&(J=0),J>this.length||((re===void 0||re>this.length)&&(re=this.length),re<=0)||(re>>>=0)<=(J>>>=0))return"";for(P||(P="utf8");;)switch(P){case"hex":return L(this,J,re);case"utf8":case"utf-8":return K(this,J,re);case"ascii":return U(this,J,re);case"latin1":case"binary":return q(this,J,re);case"base64":return W(this,J,re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,J,re);default:if(ye)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),ye=!0}}function k(P,J,re){const ye=P[J];P[J]=P[re],P[re]=ye}function I(P,J,re,ye,we){if(P.length===0)return-1;if(typeof re=="string"?(ye=re,re=0):re>2147483647?re=2147483647:re<-2147483648&&(re=-2147483648),kt(re=+re)&&(re=we?0:P.length-1),re<0&&(re=P.length+re),re>=P.length){if(we)return-1;re=P.length-1}else if(re<0){if(!we)return-1;re=0}if(typeof J=="string"&&(J=c.from(J,ye)),c.isBuffer(J))return J.length===0?-1:M(P,J,re,ye,we);if(typeof J=="number")return J&=255,typeof Uint8Array.prototype.indexOf=="function"?we?Uint8Array.prototype.indexOf.call(P,J,re):Uint8Array.prototype.lastIndexOf.call(P,J,re):M(P,[J],re,ye,we);throw new TypeError("val must be string, number or Buffer")}function M(P,J,re,ye,we){let Ee,Ve=1,Ye=P.length,Je=J.length;if(ye!==void 0&&((ye=String(ye).toLowerCase())==="ucs2"||ye==="ucs-2"||ye==="utf16le"||ye==="utf-16le")){if(P.length<2||J.length<2)return-1;Ve=2,Ye/=2,Je/=2,re/=2}function Mt(lt,Et){return Ve===1?lt[Et]:lt.readUInt16BE(Et*Ve)}if(we){let lt=-1;for(Ee=re;Ee<Ye;Ee++)if(Mt(P,Ee)===Mt(J,lt===-1?0:Ee-lt)){if(lt===-1&&(lt=Ee),Ee-lt+1===Je)return lt*Ve}else lt!==-1&&(Ee-=Ee-lt),lt=-1}else for(re+Je>Ye&&(re=Ye-Je),Ee=re;Ee>=0;Ee--){let lt=!0;for(let Et=0;Et<Je;Et++)if(Mt(P,Ee+Et)!==Mt(J,Et)){lt=!1;break}if(lt)return Ee}return-1}function j(P,J,re,ye){re=Number(re)||0;const we=P.length-re;ye?(ye=Number(ye))>we&&(ye=we):ye=we;const Ee=J.length;let Ve;for(ye>Ee/2&&(ye=Ee/2),Ve=0;Ve<ye;++Ve){const Ye=parseInt(J.substr(2*Ve,2),16);if(kt(Ye))return Ve;P[re+Ve]=Ye}return Ve}function O(P,J,re,ye){return it(Le(J,P.length-re),P,re,ye)}function Q(P,J,re,ye){return it((function(we){const Ee=[];for(let Ve=0;Ve<we.length;++Ve)Ee.push(255&we.charCodeAt(Ve));return Ee})(J),P,re,ye)}function oe(P,J,re,ye){return it(Ue(J),P,re,ye)}function ce(P,J,re,ye){return it((function(we,Ee){let Ve,Ye,Je;const Mt=[];for(let lt=0;lt<we.length&&!((Ee-=2)<0);++lt)Ve=we.charCodeAt(lt),Ye=Ve>>8,Je=Ve%256,Mt.push(Je),Mt.push(Ye);return Mt})(J,P.length-re),P,re,ye)}function W(P,J,re){return J===0&&re===P.length?e.fromByteArray(P):e.fromByteArray(P.slice(J,re))}function K(P,J,re){re=Math.min(P.length,re);const ye=[];let we=J;for(;we<re;){const Ee=P[we];let Ve=null,Ye=Ee>239?4:Ee>223?3:Ee>191?2:1;if(we+Ye<=re){let Je,Mt,lt,Et;switch(Ye){case 1:Ee<128&&(Ve=Ee);break;case 2:Je=P[we+1],(192&Je)==128&&(Et=(31&Ee)<<6|63&Je,Et>127&&(Ve=Et));break;case 3:Je=P[we+1],Mt=P[we+2],(192&Je)==128&&(192&Mt)==128&&(Et=(15&Ee)<<12|(63&Je)<<6|63&Mt,Et>2047&&(Et<55296||Et>57343)&&(Ve=Et));break;case 4:Je=P[we+1],Mt=P[we+2],lt=P[we+3],(192&Je)==128&&(192&Mt)==128&&(192&lt)==128&&(Et=(15&Ee)<<18|(63&Je)<<12|(63&Mt)<<6|63&lt,Et>65535&&Et<1114112&&(Ve=Et))}}Ve===null?(Ve=65533,Ye=1):Ve>65535&&(Ve-=65536,ye.push(Ve>>>10&1023|55296),Ve=56320|1023&Ve),ye.push(Ve),we+=Ye}return(function(Ee){const Ve=Ee.length;if(Ve<=B)return String.fromCharCode.apply(String,Ee);let Ye="",Je=0;for(;Je<Ve;)Ye+=String.fromCharCode.apply(String,Ee.slice(Je,Je+=B));return Ye})(ye)}n.kMaxLength=i,c.TYPED_ARRAY_SUPPORT=(function(){try{const P=new Uint8Array(1),J={foo:function(){return 42}};return Object.setPrototypeOf(J,Uint8Array.prototype),Object.setPrototypeOf(P,J),P.foo()===42}catch{return!1}})(),c.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(P,J,re){return u(P,J,re)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(P,J,re){return(function(ye,we,Ee){return h(ye),ye<=0?s(ye):we!==void 0?typeof Ee=="string"?s(ye).fill(we,Ee):s(ye).fill(we):s(ye)})(P,J,re)},c.allocUnsafe=function(P){return d(P)},c.allocUnsafeSlow=function(P){return d(P)},c.isBuffer=function(P){return P!=null&&P._isBuffer===!0&&P!==c.prototype},c.compare=function(P,J){if(ut(P,Uint8Array)&&(P=c.from(P,P.offset,P.byteLength)),ut(J,Uint8Array)&&(J=c.from(J,J.offset,J.byteLength)),!c.isBuffer(P)||!c.isBuffer(J))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(P===J)return 0;let re=P.length,ye=J.length;for(let we=0,Ee=Math.min(re,ye);we<Ee;++we)if(P[we]!==J[we]){re=P[we],ye=J[we];break}return re<ye?-1:ye<re?1:0},c.isEncoding=function(P){switch(String(P).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(P,J){if(!Array.isArray(P))throw new TypeError('"list" argument must be an Array of Buffers');if(P.length===0)return c.alloc(0);let re;if(J===void 0)for(J=0,re=0;re<P.length;++re)J+=P[re].length;const ye=c.allocUnsafe(J);let we=0;for(re=0;re<P.length;++re){let Ee=P[re];if(ut(Ee,Uint8Array))we+Ee.length>ye.length?(c.isBuffer(Ee)||(Ee=c.from(Ee)),Ee.copy(ye,we)):Uint8Array.prototype.set.call(ye,Ee,we);else{if(!c.isBuffer(Ee))throw new TypeError('"list" argument must be an Array of Buffers');Ee.copy(ye,we)}we+=Ee.length}return ye},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const P=this.length;if(P%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let J=0;J<P;J+=2)k(this,J,J+1);return this},c.prototype.swap32=function(){const P=this.length;if(P%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let J=0;J<P;J+=4)k(this,J,J+3),k(this,J+1,J+2);return this},c.prototype.swap64=function(){const P=this.length;if(P%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let J=0;J<P;J+=8)k(this,J,J+7),k(this,J+1,J+6),k(this,J+2,J+5),k(this,J+3,J+4);return this},c.prototype.toString=function(){const P=this.length;return P===0?"":arguments.length===0?K(this,0,P):S.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(P){if(!c.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P||c.compare(this,P)===0},c.prototype.inspect=function(){let P="";const J=n.INSPECT_MAX_BYTES;return P=this.toString("hex",0,J).replace(/(.{2})/g,"$1 ").trim(),this.length>J&&(P+=" ... "),"<Buffer "+P+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(P,J,re,ye,we){if(ut(P,Uint8Array)&&(P=c.from(P,P.offset,P.byteLength)),!c.isBuffer(P))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof P);if(J===void 0&&(J=0),re===void 0&&(re=P?P.length:0),ye===void 0&&(ye=0),we===void 0&&(we=this.length),J<0||re>P.length||ye<0||we>this.length)throw new RangeError("out of range index");if(ye>=we&&J>=re)return 0;if(ye>=we)return-1;if(J>=re)return 1;if(this===P)return 0;let Ee=(we>>>=0)-(ye>>>=0),Ve=(re>>>=0)-(J>>>=0);const Ye=Math.min(Ee,Ve),Je=this.slice(ye,we),Mt=P.slice(J,re);for(let lt=0;lt<Ye;++lt)if(Je[lt]!==Mt[lt]){Ee=Je[lt],Ve=Mt[lt];break}return Ee<Ve?-1:Ve<Ee?1:0},c.prototype.includes=function(P,J,re){return this.indexOf(P,J,re)!==-1},c.prototype.indexOf=function(P,J,re){return I(this,P,J,re,!0)},c.prototype.lastIndexOf=function(P,J,re){return I(this,P,J,re,!1)},c.prototype.write=function(P,J,re,ye){if(J===void 0)ye="utf8",re=this.length,J=0;else if(re===void 0&&typeof J=="string")ye=J,re=this.length,J=0;else{if(!isFinite(J))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");J>>>=0,isFinite(re)?(re>>>=0,ye===void 0&&(ye="utf8")):(ye=re,re=void 0)}const we=this.length-J;if((re===void 0||re>we)&&(re=we),P.length>0&&(re<0||J<0)||J>this.length)throw new RangeError("Attempt to write outside buffer bounds");ye||(ye="utf8");let Ee=!1;for(;;)switch(ye){case"hex":return j(this,P,J,re);case"utf8":case"utf-8":return O(this,P,J,re);case"ascii":case"latin1":case"binary":return Q(this,P,J,re);case"base64":return oe(this,P,J,re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,P,J,re);default:if(Ee)throw new TypeError("Unknown encoding: "+ye);ye=(""+ye).toLowerCase(),Ee=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const B=4096;function U(P,J,re){let ye="";re=Math.min(P.length,re);for(let we=J;we<re;++we)ye+=String.fromCharCode(127&P[we]);return ye}function q(P,J,re){let ye="";re=Math.min(P.length,re);for(let we=J;we<re;++we)ye+=String.fromCharCode(P[we]);return ye}function L(P,J,re){const ye=P.length;(!J||J<0)&&(J=0),(!re||re<0||re>ye)&&(re=ye);let we="";for(let Ee=J;Ee<re;++Ee)we+=lr[P[Ee]];return we}function T(P,J,re){const ye=P.slice(J,re);let we="";for(let Ee=0;Ee<ye.length-1;Ee+=2)we+=String.fromCharCode(ye[Ee]+256*ye[Ee+1]);return we}function g(P,J,re){if(P%1!=0||P<0)throw new RangeError("offset is not uint");if(P+J>re)throw new RangeError("Trying to access beyond buffer length")}function R(P,J,re,ye,we,Ee){if(!c.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(J>we||J<Ee)throw new RangeError('"value" argument is out of bounds');if(re+ye>P.length)throw new RangeError("Index out of range")}function C(P,J,re,ye,we){H(J,ye,we,P,re,7);let Ee=Number(J&BigInt(4294967295));P[re++]=Ee,Ee>>=8,P[re++]=Ee,Ee>>=8,P[re++]=Ee,Ee>>=8,P[re++]=Ee;let Ve=Number(J>>BigInt(32)&BigInt(4294967295));return P[re++]=Ve,Ve>>=8,P[re++]=Ve,Ve>>=8,P[re++]=Ve,Ve>>=8,P[re++]=Ve,re}function Y(P,J,re,ye,we){H(J,ye,we,P,re,7);let Ee=Number(J&BigInt(4294967295));P[re+7]=Ee,Ee>>=8,P[re+6]=Ee,Ee>>=8,P[re+5]=Ee,Ee>>=8,P[re+4]=Ee;let Ve=Number(J>>BigInt(32)&BigInt(4294967295));return P[re+3]=Ve,Ve>>=8,P[re+2]=Ve,Ve>>=8,P[re+1]=Ve,Ve>>=8,P[re]=Ve,re+8}function te(P,J,re,ye,we,Ee){if(re+ye>P.length)throw new RangeError("Index out of range");if(re<0)throw new RangeError("Index out of range")}function Z(P,J,re,ye,we){return J=+J,re>>>=0,we||te(P,0,re,4),t.write(P,J,re,ye,23,4),re+4}function D(P,J,re,ye,we){return J=+J,re>>>=0,we||te(P,0,re,8),t.write(P,J,re,ye,52,8),re+8}c.prototype.slice=function(P,J){const re=this.length;(P=~~P)<0?(P+=re)<0&&(P=0):P>re&&(P=re),(J=J===void 0?re:~~J)<0?(J+=re)<0&&(J=0):J>re&&(J=re),J<P&&(J=P);const ye=this.subarray(P,J);return Object.setPrototypeOf(ye,c.prototype),ye},c.prototype.readUintLE=c.prototype.readUIntLE=function(P,J,re){P>>>=0,J>>>=0,re||g(P,J,this.length);let ye=this[P],we=1,Ee=0;for(;++Ee<J&&(we*=256);)ye+=this[P+Ee]*we;return ye},c.prototype.readUintBE=c.prototype.readUIntBE=function(P,J,re){P>>>=0,J>>>=0,re||g(P,J,this.length);let ye=this[P+--J],we=1;for(;J>0&&(we*=256);)ye+=this[P+--J]*we;return ye},c.prototype.readUint8=c.prototype.readUInt8=function(P,J){return P>>>=0,J||g(P,1,this.length),this[P]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(P,J){return P>>>=0,J||g(P,2,this.length),this[P]|this[P+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(P,J){return P>>>=0,J||g(P,2,this.length),this[P]<<8|this[P+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(P,J){return P>>>=0,J||g(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+16777216*this[P+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(P,J){return P>>>=0,J||g(P,4,this.length),16777216*this[P]+(this[P+1]<<16|this[P+2]<<8|this[P+3])},c.prototype.readBigUInt64LE=Ot((function(P){ne(P>>>=0,"offset");const J=this[P],re=this[P+7];J!==void 0&&re!==void 0||ae(P,this.length-8);const ye=J+256*this[++P]+65536*this[++P]+this[++P]*2**24,we=this[++P]+256*this[++P]+65536*this[++P]+re*2**24;return BigInt(ye)+(BigInt(we)<<BigInt(32))})),c.prototype.readBigUInt64BE=Ot((function(P){ne(P>>>=0,"offset");const J=this[P],re=this[P+7];J!==void 0&&re!==void 0||ae(P,this.length-8);const ye=J*2**24+65536*this[++P]+256*this[++P]+this[++P],we=this[++P]*2**24+65536*this[++P]+256*this[++P]+re;return(BigInt(ye)<<BigInt(32))+BigInt(we)})),c.prototype.readIntLE=function(P,J,re){P>>>=0,J>>>=0,re||g(P,J,this.length);let ye=this[P],we=1,Ee=0;for(;++Ee<J&&(we*=256);)ye+=this[P+Ee]*we;return we*=128,ye>=we&&(ye-=Math.pow(2,8*J)),ye},c.prototype.readIntBE=function(P,J,re){P>>>=0,J>>>=0,re||g(P,J,this.length);let ye=J,we=1,Ee=this[P+--ye];for(;ye>0&&(we*=256);)Ee+=this[P+--ye]*we;return we*=128,Ee>=we&&(Ee-=Math.pow(2,8*J)),Ee},c.prototype.readInt8=function(P,J){return P>>>=0,J||g(P,1,this.length),128&this[P]?-1*(255-this[P]+1):this[P]},c.prototype.readInt16LE=function(P,J){P>>>=0,J||g(P,2,this.length);const re=this[P]|this[P+1]<<8;return 32768&re?4294901760|re:re},c.prototype.readInt16BE=function(P,J){P>>>=0,J||g(P,2,this.length);const re=this[P+1]|this[P]<<8;return 32768&re?4294901760|re:re},c.prototype.readInt32LE=function(P,J){return P>>>=0,J||g(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},c.prototype.readInt32BE=function(P,J){return P>>>=0,J||g(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},c.prototype.readBigInt64LE=Ot((function(P){ne(P>>>=0,"offset");const J=this[P],re=this[P+7];J!==void 0&&re!==void 0||ae(P,this.length-8);const ye=this[P+4]+256*this[P+5]+65536*this[P+6]+(re<<24);return(BigInt(ye)<<BigInt(32))+BigInt(J+256*this[++P]+65536*this[++P]+this[++P]*2**24)})),c.prototype.readBigInt64BE=Ot((function(P){ne(P>>>=0,"offset");const J=this[P],re=this[P+7];J!==void 0&&re!==void 0||ae(P,this.length-8);const ye=(J<<24)+65536*this[++P]+256*this[++P]+this[++P];return(BigInt(ye)<<BigInt(32))+BigInt(this[++P]*2**24+65536*this[++P]+256*this[++P]+re)})),c.prototype.readFloatLE=function(P,J){return P>>>=0,J||g(P,4,this.length),t.read(this,P,!0,23,4)},c.prototype.readFloatBE=function(P,J){return P>>>=0,J||g(P,4,this.length),t.read(this,P,!1,23,4)},c.prototype.readDoubleLE=function(P,J){return P>>>=0,J||g(P,8,this.length),t.read(this,P,!0,52,8)},c.prototype.readDoubleBE=function(P,J){return P>>>=0,J||g(P,8,this.length),t.read(this,P,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(P,J,re,ye){P=+P,J>>>=0,re>>>=0,!ye&&R(this,P,J,re,Math.pow(2,8*re)-1,0);let we=1,Ee=0;for(this[J]=255&P;++Ee<re&&(we*=256);)this[J+Ee]=P/we&255;return J+re},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(P,J,re,ye){P=+P,J>>>=0,re>>>=0,!ye&&R(this,P,J,re,Math.pow(2,8*re)-1,0);let we=re-1,Ee=1;for(this[J+we]=255&P;--we>=0&&(Ee*=256);)this[J+we]=P/Ee&255;return J+re},c.prototype.writeUint8=c.prototype.writeUInt8=function(P,J,re){return P=+P,J>>>=0,re||R(this,P,J,1,255,0),this[J]=255&P,J+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(P,J,re){return P=+P,J>>>=0,re||R(this,P,J,2,65535,0),this[J]=255&P,this[J+1]=P>>>8,J+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(P,J,re){return P=+P,J>>>=0,re||R(this,P,J,2,65535,0),this[J]=P>>>8,this[J+1]=255&P,J+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(P,J,re){return P=+P,J>>>=0,re||R(this,P,J,4,4294967295,0),this[J+3]=P>>>24,this[J+2]=P>>>16,this[J+1]=P>>>8,this[J]=255&P,J+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(P,J,re){return P=+P,J>>>=0,re||R(this,P,J,4,4294967295,0),this[J]=P>>>24,this[J+1]=P>>>16,this[J+2]=P>>>8,this[J+3]=255&P,J+4},c.prototype.writeBigUInt64LE=Ot((function(P,J=0){return C(this,P,J,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Ot((function(P,J=0){return Y(this,P,J,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(P,J,re,ye){if(P=+P,J>>>=0,!ye){const Ye=Math.pow(2,8*re-1);R(this,P,J,re,Ye-1,-Ye)}let we=0,Ee=1,Ve=0;for(this[J]=255&P;++we<re&&(Ee*=256);)P<0&&Ve===0&&this[J+we-1]!==0&&(Ve=1),this[J+we]=(P/Ee|0)-Ve&255;return J+re},c.prototype.writeIntBE=function(P,J,re,ye){if(P=+P,J>>>=0,!ye){const Ye=Math.pow(2,8*re-1);R(this,P,J,re,Ye-1,-Ye)}let we=re-1,Ee=1,Ve=0;for(this[J+we]=255&P;--we>=0&&(Ee*=256);)P<0&&Ve===0&&this[J+we+1]!==0&&(Ve=1),this[J+we]=(P/Ee|0)-Ve&255;return J+re},c.prototype.writeInt8=function(P,J,re){return P=+P,J>>>=0,re||R(this,P,J,1,127,-128),P<0&&(P=255+P+1),this[J]=255&P,J+1},c.prototype.writeInt16LE=function(P,J,re){return P=+P,J>>>=0,re||R(this,P,J,2,32767,-32768),this[J]=255&P,this[J+1]=P>>>8,J+2},c.prototype.writeInt16BE=function(P,J,re){return P=+P,J>>>=0,re||R(this,P,J,2,32767,-32768),this[J]=P>>>8,this[J+1]=255&P,J+2},c.prototype.writeInt32LE=function(P,J,re){return P=+P,J>>>=0,re||R(this,P,J,4,2147483647,-2147483648),this[J]=255&P,this[J+1]=P>>>8,this[J+2]=P>>>16,this[J+3]=P>>>24,J+4},c.prototype.writeInt32BE=function(P,J,re){return P=+P,J>>>=0,re||R(this,P,J,4,2147483647,-2147483648),P<0&&(P=4294967295+P+1),this[J]=P>>>24,this[J+1]=P>>>16,this[J+2]=P>>>8,this[J+3]=255&P,J+4},c.prototype.writeBigInt64LE=Ot((function(P,J=0){return C(this,P,J,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Ot((function(P,J=0){return Y(this,P,J,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(P,J,re){return Z(this,P,J,!0,re)},c.prototype.writeFloatBE=function(P,J,re){return Z(this,P,J,!1,re)},c.prototype.writeDoubleLE=function(P,J,re){return D(this,P,J,!0,re)},c.prototype.writeDoubleBE=function(P,J,re){return D(this,P,J,!1,re)},c.prototype.copy=function(P,J,re,ye){if(!c.isBuffer(P))throw new TypeError("argument should be a Buffer");if(re||(re=0),ye||ye===0||(ye=this.length),J>=P.length&&(J=P.length),J||(J=0),ye>0&&ye<re&&(ye=re),ye===re||P.length===0||this.length===0)return 0;if(J<0)throw new RangeError("targetStart out of bounds");if(re<0||re>=this.length)throw new RangeError("Index out of range");if(ye<0)throw new RangeError("sourceEnd out of bounds");ye>this.length&&(ye=this.length),P.length-J<ye-re&&(ye=P.length-J+re);const we=ye-re;return this===P&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(J,re,ye):Uint8Array.prototype.set.call(P,this.subarray(re,ye),J),we},c.prototype.fill=function(P,J,re,ye){if(typeof P=="string"){if(typeof J=="string"?(ye=J,J=0,re=this.length):typeof re=="string"&&(ye=re,re=this.length),ye!==void 0&&typeof ye!="string")throw new TypeError("encoding must be a string");if(typeof ye=="string"&&!c.isEncoding(ye))throw new TypeError("Unknown encoding: "+ye);if(P.length===1){const Ee=P.charCodeAt(0);(ye==="utf8"&&Ee<128||ye==="latin1")&&(P=Ee)}}else typeof P=="number"?P&=255:typeof P=="boolean"&&(P=Number(P));if(J<0||this.length<J||this.length<re)throw new RangeError("Out of range index");if(re<=J)return this;let we;if(J>>>=0,re=re===void 0?this.length:re>>>0,P||(P=0),typeof P=="number")for(we=J;we<re;++we)this[we]=P;else{const Ee=c.isBuffer(P)?P:c.from(P,ye),Ve=Ee.length;if(Ve===0)throw new TypeError('The value "'+P+'" is invalid for argument "value"');for(we=0;we<re-J;++we)this[we+J]=Ee[we%Ve]}return this};const A={};function w(P,J,re){A[P]=class extends re{constructor(){super(),Object.defineProperty(this,"message",{value:J.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${P}]`,delete this.name}get code(){return P}set code(ye){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ye,writable:!0})}toString(){return`${this.name} [${P}]: ${this.message}`}}}function E(P){let J="",re=P.length;const ye=P[0]==="-"?1:0;for(;re>=ye+4;re-=3)J=`_${P.slice(re-3,re)}${J}`;return`${P.slice(0,re)}${J}`}function H(P,J,re,ye,we,Ee){if(P>re||P<J){const Ve=typeof J=="bigint"?"n":"";let Ye;throw Ye=J===0||J===BigInt(0)?`>= 0${Ve} and < 2${Ve} ** ${8*(Ee+1)}${Ve}`:`>= -(2${Ve} ** ${8*(Ee+1)-1}${Ve}) and < 2 ** ${8*(Ee+1)-1}${Ve}`,new A.ERR_OUT_OF_RANGE("value",Ye,P)}(function(Ve,Ye,Je){ne(Ye,"offset"),Ve[Ye]!==void 0&&Ve[Ye+Je]!==void 0||ae(Ye,Ve.length-(Je+1))})(ye,we,Ee)}function ne(P,J){if(typeof P!="number")throw new A.ERR_INVALID_ARG_TYPE(J,"number",P)}function ae(P,J,re){throw Math.floor(P)!==P?(ne(P,re),new A.ERR_OUT_OF_RANGE("offset","an integer",P)):J<0?new A.ERR_BUFFER_OUT_OF_BOUNDS:new A.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${J}`,P)}w("ERR_BUFFER_OUT_OF_BOUNDS",(function(P){return P?`${P} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),w("ERR_INVALID_ARG_TYPE",(function(P,J){return`The "${P}" argument must be of type number. Received type ${typeof J}`}),TypeError),w("ERR_OUT_OF_RANGE",(function(P,J,re){let ye=`The value of "${P}" is out of range.`,we=re;return Number.isInteger(re)&&Math.abs(re)>2**32?we=E(String(re)):typeof re=="bigint"&&(we=String(re),(re>BigInt(2)**BigInt(32)||re<-(BigInt(2)**BigInt(32)))&&(we=E(we)),we+="n"),ye+=` It must be ${J}. Received ${we}`,ye}),RangeError);const me=/[^+/0-9A-Za-z-_]/g;function Le(P,J){let re;J=J||1/0;const ye=P.length;let we=null;const Ee=[];for(let Ve=0;Ve<ye;++Ve){if(re=P.charCodeAt(Ve),re>55295&&re<57344){if(!we){if(re>56319){(J-=3)>-1&&Ee.push(239,191,189);continue}if(Ve+1===ye){(J-=3)>-1&&Ee.push(239,191,189);continue}we=re;continue}if(re<56320){(J-=3)>-1&&Ee.push(239,191,189),we=re;continue}re=65536+(we-55296<<10|re-56320)}else we&&(J-=3)>-1&&Ee.push(239,191,189);if(we=null,re<128){if((J-=1)<0)break;Ee.push(re)}else if(re<2048){if((J-=2)<0)break;Ee.push(re>>6|192,63&re|128)}else if(re<65536){if((J-=3)<0)break;Ee.push(re>>12|224,re>>6&63|128,63&re|128)}else{if(!(re<1114112))throw new Error("Invalid code point");if((J-=4)<0)break;Ee.push(re>>18|240,re>>12&63|128,re>>6&63|128,63&re|128)}}return Ee}function Ue(P){return e.toByteArray((function(J){if((J=(J=J.split("=")[0]).trim().replace(me,"")).length<2)return"";for(;J.length%4!=0;)J+="=";return J})(P))}function it(P,J,re,ye){let we;for(we=0;we<ye&&!(we+re>=J.length||we>=P.length);++we)J[we+re]=P[we];return we}function ut(P,J){return P instanceof J||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===J.name}function kt(P){return P!=P}const lr=(function(){const P="0123456789abcdef",J=new Array(256);for(let re=0;re<16;++re){const ye=16*re;for(let we=0;we<16;++we)J[ye+we]=P[re]+P[we]}return J})();function Ot(P){return typeof BigInt>"u"?Jt:P}function Jt(){throw new Error("BigInt not supported")}})(Jr);var C8=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"],UY=(function(){function n(e){this.offset=0,this.buffer_size=e.length,this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e),this.view=new DataView(this.buffer)}return n.prototype.assert_enough_buffer=function(e){if(this.offset+e>this.buffer.byteLength)throw new Error("Error in schema, the buffer is smaller than expected")},n.prototype.consume_value=function(e){var t=e.substring(1),r=parseInt(t)/8;this.assert_enough_buffer(r);var i=e[0]==="f"?"getFloat".concat(t):e[0]==="i"?"getInt".concat(t):"getUint".concat(t),s=this.view[i](this.offset,!0);return this.offset+=r,s},n.prototype.consume_bytes=function(e){this.assert_enough_buffer(e);var t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},n})(),H0,VY=(H0=function(n,e){return H0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},H0(n,e)},function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}H0(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}),O4=C8.concat(["bool","string"]),M4=["option","enum","array","set","map","struct"],vh=(function(n){function e(t,r){var i="Invalid schema: ".concat(JSON.stringify(t)," expected ").concat(r);return n.call(this,i)||this}return VY(e,n),e})(Error);function kc(n){if(typeof n!="string"||!O4.includes(n)){if(n&&typeof n=="object"){var e=Object.keys(n);if(e.length===1&&M4.includes(e[0])){var t=e[0];if(t==="option")return kc(n[t]);if(t==="enum")return(function(r){if(!Array.isArray(r))throw new vh(r,"Array");for(var i=0,s=r;i<s.length;i++){var c=s[i];if(typeof c!="object"||!("struct"in c))throw new Error('Missing "struct" key in enum schema');if(typeof c.struct!="object"||Object.keys(c.struct).length!==1)throw new Error('The "struct" in each enum must have a single key');kc({struct:c.struct})}})(n[t]);if(t==="array")return(function(r){if(typeof r!="object")throw new vh(r,"{ type, len? }");if(r.len&&typeof r.len!="number")throw new Error("Invalid schema: ".concat(r));if("type"in r)return kc(r.type);throw new vh(r,"{ type, len? }")})(n[t]);if(t==="set")return kc(n[t]);if(t==="map")return(function(r){if(typeof r!="object"||!("key"in r)||!("value"in r))throw new vh(r,"{ key, value }");kc(r.key),kc(r.value)})(n[t]);if(t==="struct")return(function(r){if(typeof r!="object")throw new vh(r,"object");for(var i in r)kc(r[i])})(n[t])}}throw new vh(n,M4.join(", ")+" or "+O4.join(", "))}}var zY=(function(){function n(e){this.buffer=new UY(e)}return n.prototype.decode=function(e){return this.decode_value(e)},n.prototype.decode_value=function(e){if(typeof e=="string"){if(C8.includes(e))return this.decode_integer(e);if(e==="string")return this.decode_string();if(e==="bool")return this.decode_boolean()}if(typeof e=="object"){if("option"in e)return this.decode_option(e);if("enum"in e)return this.decode_enum(e);if("array"in e)return this.decode_array(e);if("set"in e)return this.decode_set(e);if("map"in e)return this.decode_map(e);if("struct"in e)return this.decode_struct(e)}throw new Error("Unsupported type: ".concat(e))},n.prototype.decode_integer=function(e){var t=parseInt(e.substring(1));return t<=32||e=="f64"?this.buffer.consume_value(e):this.decode_bigint(t,e.startsWith("i"))},n.prototype.decode_bigint=function(e,t){t===void 0&&(t=!1);var r=e/8,i=new Uint8Array(this.buffer.consume_bytes(r)),s=i.reduceRight((function(c,u){return c+u.toString(16).padStart(2,"0")}),"");return t&&i[r-1]?BigInt.asIntN(e,BigInt("0x".concat(s))):BigInt("0x".concat(s))},n.prototype.decode_string=function(){for(var e=this.decode_integer("u32"),t=new Uint8Array(this.buffer.consume_bytes(e)),r=[],i=0;i<e;++i){var s=t[i];if(s<128)r.push(s);else if(s<224)r.push((31&s)<<6|63&t[++i]);else if(s<240)r.push((15&s)<<12|(63&t[++i])<<6|63&t[++i]);else{var c=(7&s)<<18|(63&t[++i])<<12|(63&t[++i])<<6|63&t[++i];r.push(c)}}return String.fromCodePoint.apply(String,r)},n.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},n.prototype.decode_option=function(e){var t=this.buffer.consume_value("u8");if(t===1)return this.decode_value(e.option);if(t!==0)throw new Error("Invalid option ".concat(t));return null},n.prototype.decode_enum=function(e){var t,r=this.buffer.consume_value("u8");if(r>e.enum.length)throw new Error("Enum option ".concat(r," is not available"));var i=e.enum[r].struct,s=Object.keys(i)[0];return(t={})[s]=this.decode_value(i[s]),t},n.prototype.decode_array=function(e){for(var t=[],r=e.array.len?e.array.len:this.decode_integer("u32"),i=0;i<r;++i)t.push(this.decode_value(e.array.type));return t},n.prototype.decode_set=function(e){for(var t=this.decode_integer("u32"),r=new Set,i=0;i<t;++i)r.add(this.decode_value(e.set));return r},n.prototype.decode_map=function(e){for(var t=this.decode_integer("u32"),r=new Map,i=0;i<t;++i){var s=this.decode_value(e.map.key),c=this.decode_value(e.map.value);r.set(s,c)}return r},n.prototype.decode_struct=function(e){var t={};for(var r in e.struct)t[r]=this.decode_value(e.struct[r]);return t},n})();function Lg(n,e,t){return t===void 0&&(t=!0),t&&kc(n),new zY(e).decode(n)}const O8=new xe("namesLPneVptA9Z5rqUDD9tMTWEJwofgaYwp8cawRkX"),FY="SPL Name Service",i2=new xe("CWG7Sn38ho7EzTaQMDykw6VNSSGcbn3TTsTvhDbTUmFd");new xe("SNSm5hSYiaeYvyweSGoioyyD2hP7mJK1SsVQoC6uo3P");const HY=new xe("5R7P6U3gTB9Dt4jnE85qXsEoXRkSAqmW7ZRnSvNiJLNC");new xe("7xyrTVdPAaM9Hvrb41HtfUHC1ndHnkbumiW5rRWtUC5g");new xe("FvPH7PrVrLGKPfqaf3xJodFTjZriqrAXXLTVWEorTFBi");new xe("4YcexoW3r78zz16J2aqmukBLRwGq6rAvWzJpkYAXqebv");new xe("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v");new xe("3ogYncmMM5CmytsGCqKHydmXmKUZ6sGWvizkzqwT7zb1"),new xe("DM1jJCkZZEwY5tmWbgvKRxsDFzXCdbfrYCCH1CtwguEs"),new xe("ADCp4QXFajHrhy4f43pD6GJFtQLkdBY2mjS9DfCk7tNW"),new xe("2XTgjw8yi1E3Etgj4CUyRD7Zk49gynH2U9gA5N2MY4NP"),new xe("5PwNeqQPiygQks9R17jUAodZQNuhvCqqkrxSaeNE8qTR"),new xe("8kJqxAbqbPLGLMgB6FhLcnw2SiUEavx2aEGM3WQGhtJF"),new xe("HemvJzwxvVpWBjPETpaseAH395WAxb2G73MeUfjVkK1u"),new xe("7hMiiUtkH4StMPJxyAtvzXTUjecTniQ8czkCPusf5eSW"),new xe("DGpjHo4yYA3NgHvhHTp3XfBFrESsx1DnhfTr8D881ZBM"),new xe("7vWSqSw1eCXZXXUubuHWssXELNQ8MLaDgAs2ErEfCKxn"),new xe("5F6gcdzpw7wUjNEugdsD4aLJdEQ4Wt8d6E85vaQXZQSJ"),new xe("XEy9o73JBN2pEuN7aspe8mVLaWbL4ozjJs1tNRxx8bL"),new xe("D5cLoAGjNTHKU1UGv2bYwbnyRoGTMe3sbpLtJW3fRq91"),new xe("FePcCmrr7vgjeFXcXtJHqShSXydaTrga2wfHRt9RrYvP"),new xe("5D2zKog251d6KPCyFyLMt3KroWwXXPWSgTPyhV22K2gR"),new xe("452cMqDHe5cf1Z96HxUNaQjiLckhMiZdZ5abe7oQ2iRB"),new xe("8hmebGRQpZG8RpR3SFTfnuY2K4QgNxyAtqdhR9UuFksB"),new xe("7siDgAEyXRCEhNjZcQ8VLVbMxXQaQY4hNcRbGbKj2i7u");new xe("AHtgzX45WTKfkPG53L6WYhGEXwQkN1BVknET3sVsLL8J");new xe("FzdN2zE7QUmwKL2T4Y3LTcBUYGtMZP5qsgUjBxsdedNx");new xe("FzdN2zE7QUmwKL2T4Y3LTcBUYGtMZP5qsgUjBxsdedNx");new xe("BPeXUQDqGbzxeK1LJby6ugvCBuo7kRSEUkjD726mUVsz");new xe("72aLKvXeV4aansAQtxKymeXDevT5ed6sCuz9iN62ugPT");new xe("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");new xe("pythWSnswVUd12oZpeFP8e9CVaEqJg25g1Vtc2biRsT");var q0,M8=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"],qY=(function(){function n(e){this.offset=0,this.buffer_size=e.length,this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e),this.view=new DataView(this.buffer)}return n.prototype.assert_enough_buffer=function(e){if(this.offset+e>this.buffer.byteLength)throw new Error("Error in schema, the buffer is smaller than expected")},n.prototype.consume_value=function(e){var t=e.substring(1),r=parseInt(t)/8;this.assert_enough_buffer(r);var i=e[0]==="f"?"getFloat".concat(t):e[0]==="i"?"getInt".concat(t):"getUint".concat(t),s=this.view[i](this.offset,!0);return this.offset+=r,s},n.prototype.consume_bytes=function(e){this.assert_enough_buffer(e);var t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},n})(),GY=(q0=function(n,e){return q0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},q0(n,e)},function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}q0(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}),B4=M8.concat(["bool","string"]),L4=["option","enum","array","set","map","struct"],_h=(function(n){function e(t,r){var i="Invalid schema: ".concat(JSON.stringify(t)," expected ").concat(r);return n.call(this,i)||this}return GY(e,n),e})(Error);function Cc(n){if(typeof n!="string"||!B4.includes(n)){if(n&&typeof n=="object"){var e=Object.keys(n);if(e.length===1&&L4.includes(e[0])){var t=e[0];if(t==="option")return Cc(n[t]);if(t==="enum")return(function(r){if(!Array.isArray(r))throw new _h(r,"Array");for(var i=0,s=r;i<s.length;i++){var c=s[i];if(typeof c!="object"||!("struct"in c))throw new Error('Missing "struct" key in enum schema');if(typeof c.struct!="object"||Object.keys(c.struct).length!==1)throw new Error('The "struct" in each enum must have a single key');Cc({struct:c.struct})}})(n[t]);if(t==="array")return(function(r){if(typeof r!="object")throw new _h(r,"{ type, len? }");if(r.len&&typeof r.len!="number")throw new Error("Invalid schema: ".concat(r));if("type"in r)return Cc(r.type);throw new _h(r,"{ type, len? }")})(n[t]);if(t==="set")return Cc(n[t]);if(t==="map")return(function(r){if(typeof r!="object"||!("key"in r)||!("value"in r))throw new _h(r,"{ key, value }");Cc(r.key),Cc(r.value)})(n[t]);if(t==="struct")return(function(r){if(typeof r!="object")throw new _h(r,"object");for(var i in r)Cc(r[i])})(n[t])}}throw new _h(n,L4.join(", ")+" or "+B4.join(", "))}}var $Y=(function(){function n(e){this.buffer=new qY(e)}return n.prototype.decode=function(e){return this.decode_value(e)},n.prototype.decode_value=function(e){if(typeof e=="string"){if(M8.includes(e))return this.decode_integer(e);if(e==="string")return this.decode_string();if(e==="bool")return this.decode_boolean()}if(typeof e=="object"){if("option"in e)return this.decode_option(e);if("enum"in e)return this.decode_enum(e);if("array"in e)return this.decode_array(e);if("set"in e)return this.decode_set(e);if("map"in e)return this.decode_map(e);if("struct"in e)return this.decode_struct(e)}throw new Error("Unsupported type: ".concat(e))},n.prototype.decode_integer=function(e){var t=parseInt(e.substring(1));return t<=32||e=="f64"?this.buffer.consume_value(e):this.decode_bigint(t,e.startsWith("i"))},n.prototype.decode_bigint=function(e,t){t===void 0&&(t=!1);var r=e/8,i=new Uint8Array(this.buffer.consume_bytes(r)),s=i.reduceRight((function(c,u){return c+u.toString(16).padStart(2,"0")}),"");return t&&i[r-1]?BigInt.asIntN(e,BigInt("0x".concat(s))):BigInt("0x".concat(s))},n.prototype.decode_string=function(){var e=this.decode_integer("u32"),t=new Uint8Array(this.buffer.consume_bytes(e));return String.fromCharCode.apply(null,t)},n.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},n.prototype.decode_option=function(e){var t=this.buffer.consume_value("u8");if(t===1)return this.decode_value(e.option);if(t!==0)throw new Error("Invalid option ".concat(t));return null},n.prototype.decode_enum=function(e){var t,r=this.buffer.consume_value("u8");if(r>e.enum.length)throw new Error("Enum option ".concat(r," is not available"));var i=e.enum[r].struct,s=Object.keys(i)[0];return(t={})[s]=this.decode_value(i[s]),t},n.prototype.decode_array=function(e){for(var t=[],r=e.array.len?e.array.len:this.decode_integer("u32"),i=0;i<r;++i)t.push(this.decode_value(e.array.type));return t},n.prototype.decode_set=function(e){for(var t=this.decode_integer("u32"),r=new Set,i=0;i<t;++i)r.add(this.decode_value(e.set));return r},n.prototype.decode_map=function(e){for(var t=this.decode_integer("u32"),r=new Map,i=0;i<t;++i){var s=this.decode_value(e.map.key),c=this.decode_value(e.map.value);r.set(s,c)}return r},n.prototype.decode_struct=function(e){var t={};for(var r in e.struct)t[r]=this.decode_value(e.struct[r]);return t},n})();const D4=new xe("HP3D4D1ZCmohQGFVms2SS4LCANgJyksBf5s1F77FuFjZ"),[B8]=xe.findProgramAddressSync([D4.toBuffer()],D4);var Pc,Ec;(Ec=Pc||(Pc={}))[Ec.None=0]="None",Ec[Ec.Solana=1]="Solana",Ec[Ec.Ethereum=2]="Ethereum",Ec[Ec.UnverifiedSolana=3]="UnverifiedSolana";const Id=n=>{switch(n){case Pc.None:return 0;case Pc.Ethereum:return 20;case Pc.Solana:case Pc.UnverifiedSolana:return 32;default:throw new Error("Invalid validation enum")}};let rp=class L8{constructor(e){this.stalenessValidation=e.stalenessValidation,this.rightOfAssociationValidation=e.rightOfAssociationValidation,this.contentLength=e.contentLength}static deserialize(e){return new L8((t=this.schema,r=e,(i=!0)===void 0&&(i=!0),i&&Cc(t),new $Y(r).decode(t)));var t,r,i}static async retrieve(e,t){const r=await e.getAccountInfo(t);if(!r||!r.data)throw new Error("Record header account not found");return this.deserialize(r.data.slice(96,96+this.LEN))}};rp.LEN=8,rp.schema={struct:{stalenessValidation:"u16",rightOfAssociationValidation:"u16",contentLength:"u32"}};let KY=class D8{constructor(e,t){this.data=t,this.header=e}static deserialize(e){const t=rp.deserialize(e.slice(96,96+rp.LEN)),r=e.slice(96+rp.LEN);return new D8(t,r)}static async retrieve(e,t){const r=await e.getAccountInfo(t);if(!r||!r.data)throw new Error("Record header account not found");return this.deserialize(r.data)}static async retrieveBatch(e,t){return(await e.getMultipleAccountsInfo(t)).map((r=>{if(r!=null&&r.data)return this.deserialize(r.data)}))}getContent(){let e=Id(this.header.stalenessValidation)+Id(this.header.rightOfAssociationValidation);return this.data.slice(e)}getStalenessId(){let e=Id(this.header.stalenessValidation);return this.data.slice(0,e)}getRoAId(){let e=Id(this.header.stalenessValidation),t=e+Id(this.header.rightOfAssociationValidation);return this.data.slice(e,t)}};var zt;(function(n){n.IPFS="IPFS",n.ARWV="ARWV",n.SOL="SOL",n.ETH="ETH",n.BTC="BTC",n.LTC="LTC",n.DOGE="DOGE",n.Email="email",n.Url="url",n.Discord="discord",n.Github="github",n.Reddit="reddit",n.Twitter="twitter",n.Telegram="telegram",n.Pic="pic",n.SHDW="SHDW",n.POINT="POINT",n.BSC="BSC",n.Injective="INJ",n.Backpack="backpack",n.A="A",n.AAAA="AAAA",n.CNAME="CNAME",n.TXT="TXT",n.Background="background",n.BASE="BASE",n.IPNS="IPNS"})(zt||(zt={}));zt.SOL,zt.ETH,zt.BSC,zt.Injective,zt.A,zt.AAAA,zt.Background;var Ep;(function(n){n[n.V1=1]="V1",n[n.V2=2]="V2"})(Ep||(Ep={}));var As;(function(n){n.SymbolNotFound="SymbolNotFound",n.InvalidSubdomain="InvalidSubdomain",n.FavouriteDomainNotFound="FavouriteDomainNotFound",n.MissingParentOwner="MissingParentOwner",n.U32Overflow="U32Overflow",n.InvalidBufferLength="InvalidBufferLength",n.U64Overflow="U64Overflow",n.NoRecordData="NoRecordData",n.InvalidRecordData="InvalidRecordData",n.UnsupportedRecord="UnsupportedRecord",n.InvalidEvmAddress="InvalidEvmAddress",n.InvalidInjectiveAddress="InvalidInjectiveAddress",n.InvalidARecord="InvalidARecord",n.InvalidAAAARecord="InvalidAAAARecord",n.InvalidRecordInput="InvalidRecordInput",n.InvalidSignature="InvalidSignature",n.AccountDoesNotExist="AccountDoesNotExist",n.MultipleRegistries="MultipleRegistries",n.InvalidReverseTwitter="InvalidReverseTwitter",n.NoAccountData="NoAccountData",n.InvalidInput="InvalidInput",n.InvalidDomain="InvalidDomain",n.InvalidCustomBg="InvalidCustomBackground",n.UnsupportedSignature="UnsupportedSignature",n.RecordDoestNotSupportGuardianSig="RecordDoestNotSupportGuardianSig",n.RecordIsNotSigned="RecordIsNotSigned",n.UnsupportedSignatureType="UnsupportedSignatureType",n.InvalidSolRecordV2="InvalidSolRecordV2",n.MissingVerifier="MissingVerifier",n.PythFeedNotFound="PythFeedNotFound",n.InvalidRoA="InvalidRoA",n.InvalidPda="InvalidPda",n.InvalidParent="InvalidParent",n.NftRecordNotFound="NftRecordNotFound",n.PdaOwnerNotAllowed="PdaOwnerNotAllowed",n.DomainDoesNotExist="DomainDoesNotExist",n.RecordMalformed="RecordMalformed",n.CouldNotFindNftOwner="CouldNotFindNftOwner",n.WrongValidation="WrongValidation"})(As||(As={}));let Do=class j8 extends Error{constructor(e,t){super(t),this.name="SNSError",this.type=e,Error.captureStackTrace&&Error.captureStackTrace(this,j8)}},WY=class extends Do{constructor(e){super(As.AccountDoesNotExist,e)}},YY=class extends Do{constructor(e){super(As.NoAccountData,e)}},XY=class extends Do{constructor(e){super(As.InvalidInput,e)}},ZY=class extends Do{constructor(e){super(As.InvalidRoA,e)}},QY=class extends Do{constructor(e){super(As.NftRecordNotFound,e)}},j4=class extends Do{constructor(e){super(As.PdaOwnerNotAllowed,e)}},JY=class extends Do{constructor(e){super(As.DomainDoesNotExist,e)}},eX=class extends Do{constructor(e){super(As.RecordMalformed,e)}},tX=class extends Do{constructor(e){super(As.CouldNotFindNftOwner,e)}};class nX extends Do{constructor(e){super(As.WrongValidation,e)}}const xh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function rX(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function iX(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function s2(n,...e){if(!rX(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function P4(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function sX(n,e){s2(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function Ap(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}function Vv(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function io(n,e){return n<<32-e|n>>>e}function oX(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function P8(n){return typeof n=="string"&&(n=oX(n)),s2(n),n}let aX=class{};function U8(n){const e=r=>n().update(P8(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function cX(n=32){if(xh&&typeof xh.getRandomValues=="function")return xh.getRandomValues(new Uint8Array(n));if(xh&&typeof xh.randomBytes=="function")return Uint8Array.from(xh.randomBytes(n));throw new Error("crypto.getRandomValues must be defined")}function lX(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const i=BigInt(32),s=BigInt(4294967295),c=Number(t>>i&s),u=Number(t&s),h=r?4:0,d=r?0:4;n.setUint32(e+h,c,r),n.setUint32(e+d,u,r)}function uX(n,e,t){return n&e^~n&t}function hX(n,e,t){return n&e^n&t^e&t}let V8=class extends aX{constructor(e,t,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Vv(this.buffer)}update(e){P4(this),e=P8(e),s2(e);const{view:t,buffer:r,blockLen:i}=this,s=e.length;for(let c=0;c<s;){const u=Math.min(i-this.pos,s-c);if(u!==i)r.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===i&&(this.process(t,0),this.pos=0);else{const h=Vv(e);for(;i<=s-c;c+=i)this.process(h,c)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){P4(this),sX(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:s}=this;let{pos:c}=this;t[c++]=128,Ap(this.buffer.subarray(c)),this.padOffset>i-c&&(this.process(r,0),c=0);for(let v=c;v<i;v++)t[v]=0;lX(r,i-8,BigInt(8*this.length),s),this.process(r,0);const u=Vv(e),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=h/4,p=this.get();if(d>p.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<d;v++)u.setUint32(4*v,p[v],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:s,destroyed:c,pos:u}=this;return e.destroyed=c,e.finished=s,e.length=i,e.pos=u,i%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const Ac=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),hi=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),G0=BigInt(2**32-1),U4=BigInt(32);function fX(n,e=!1){return e?{h:Number(n&G0),l:Number(n>>U4&G0)}:{h:0|Number(n>>U4&G0),l:0|Number(n&G0)}}function dX(n,e=!1){const t=n.length;let r=new Uint32Array(t),i=new Uint32Array(t);for(let s=0;s<t;s++){const{h:c,l:u}=fX(n[s],e);[r[s],i[s]]=[c,u]}return[r,i]}const V4=(n,e,t)=>n>>>t,z4=(n,e,t)=>n<<32-t|e>>>t,Eh=(n,e,t)=>n>>>t|e<<32-t,Ah=(n,e,t)=>n<<32-t|e>>>t,$0=(n,e,t)=>n<<64-t|e>>>t-32,K0=(n,e,t)=>n>>>t-32|e<<64-t;function la(n,e,t,r){const i=(e>>>0)+(r>>>0);return{h:n+t+(i/2**32|0)|0,l:0|i}}const pX=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),mX=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,gX=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),yX=(n,e,t,r,i)=>e+t+r+i+(n/2**32|0)|0,wX=(n,e,t,r,i)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),bX=(n,e,t,r,i,s)=>e+t+r+i+s+(n/2**32|0)|0,vX=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Sc=new Uint32Array(64);let _X=class extends V8{constructor(e=32){super(64,e,8,!1),this.A=0|Ac[0],this.B=0|Ac[1],this.C=0|Ac[2],this.D=0|Ac[3],this.E=0|Ac[4],this.F=0|Ac[5],this.G=0|Ac[6],this.H=0|Ac[7]}get(){const{A:e,B:t,C:r,D:i,E:s,F:c,G:u,H:h}=this;return[e,t,r,i,s,c,u,h]}set(e,t,r,i,s,c,u,h){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|i,this.E=0|s,this.F=0|c,this.G=0|u,this.H=0|h}process(e,t){for(let v=0;v<16;v++,t+=4)Sc[v]=e.getUint32(t,!1);for(let v=16;v<64;v++){const x=Sc[v-15],y=Sc[v-2],S=io(x,7)^io(x,18)^x>>>3,k=io(y,17)^io(y,19)^y>>>10;Sc[v]=k+Sc[v-7]+S+Sc[v-16]|0}let{A:r,B:i,C:s,D:c,E:u,F:h,G:d,H:p}=this;for(let v=0;v<64;v++){const x=p+(io(u,6)^io(u,11)^io(u,25))+uX(u,h,d)+vX[v]+Sc[v]|0,y=(io(r,2)^io(r,13)^io(r,22))+hX(r,i,s)|0;p=d,d=h,h=u,u=c+x|0,c=s,s=i,i=r,r=x+y|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,c=c+this.D|0,u=u+this.E|0,h=h+this.F|0,d=d+this.G|0,p=p+this.H|0,this.set(r,i,s,c,u,h,d,p)}roundClean(){Ap(Sc)}destroy(){this.set(0,0,0,0,0,0,0,0),Ap(this.buffer)}};const z8=dX(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((n=>BigInt(n)))),xX=z8[0],EX=z8[1],Rc=new Uint32Array(80),Tc=new Uint32Array(80);let AX=class extends V8{constructor(e=64){super(128,e,16,!1),this.Ah=0|hi[0],this.Al=0|hi[1],this.Bh=0|hi[2],this.Bl=0|hi[3],this.Ch=0|hi[4],this.Cl=0|hi[5],this.Dh=0|hi[6],this.Dl=0|hi[7],this.Eh=0|hi[8],this.El=0|hi[9],this.Fh=0|hi[10],this.Fl=0|hi[11],this.Gh=0|hi[12],this.Gl=0|hi[13],this.Hh=0|hi[14],this.Hl=0|hi[15]}get(){const{Ah:e,Al:t,Bh:r,Bl:i,Ch:s,Cl:c,Dh:u,Dl:h,Eh:d,El:p,Fh:v,Fl:x,Gh:y,Gl:S,Hh:k,Hl:I}=this;return[e,t,r,i,s,c,u,h,d,p,v,x,y,S,k,I]}set(e,t,r,i,s,c,u,h,d,p,v,x,y,S,k,I){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|i,this.Ch=0|s,this.Cl=0|c,this.Dh=0|u,this.Dl=0|h,this.Eh=0|d,this.El=0|p,this.Fh=0|v,this.Fl=0|x,this.Gh=0|y,this.Gl=0|S,this.Hh=0|k,this.Hl=0|I}process(e,t){for(let O=0;O<16;O++,t+=4)Rc[O]=e.getUint32(t),Tc[O]=e.getUint32(t+=4);for(let O=16;O<80;O++){const Q=0|Rc[O-15],oe=0|Tc[O-15],ce=Eh(Q,oe,1)^Eh(Q,oe,8)^V4(Q,oe,7),W=Ah(Q,oe,1)^Ah(Q,oe,8)^z4(Q,oe,7),K=0|Rc[O-2],B=0|Tc[O-2],U=Eh(K,B,19)^$0(K,B,61)^V4(K,B,6),q=Ah(K,B,19)^K0(K,B,61)^z4(K,B,6),L=gX(W,q,Tc[O-7],Tc[O-16]),T=yX(L,ce,U,Rc[O-7],Rc[O-16]);Rc[O]=0|T,Tc[O]=0|L}let{Ah:r,Al:i,Bh:s,Bl:c,Ch:u,Cl:h,Dh:d,Dl:p,Eh:v,El:x,Fh:y,Fl:S,Gh:k,Gl:I,Hh:M,Hl:j}=this;for(let O=0;O<80;O++){const Q=Eh(v,x,14)^Eh(v,x,18)^$0(v,x,41),oe=Ah(v,x,14)^Ah(v,x,18)^K0(v,x,41),ce=v&y^~v&k,W=wX(j,oe,x&S^~x&I,EX[O],Tc[O]),K=bX(W,M,Q,ce,xX[O],Rc[O]),B=0|W,U=Eh(r,i,28)^$0(r,i,34)^$0(r,i,39),q=Ah(r,i,28)^K0(r,i,34)^K0(r,i,39),L=r&s^r&u^s&u,T=i&c^i&h^c&h;M=0|k,j=0|I,k=0|y,I=0|S,y=0|v,S=0|x,{h:v,l:x}=la(0|d,0|p,0|K,0|B),d=0|u,p=0|h,u=0|s,h=0|c,s=0|r,c=0|i;const g=pX(B,q,T);r=mX(g,K,U,L),i=0|g}({h:r,l:i}=la(0|this.Ah,0|this.Al,0|r,0|i)),{h:s,l:c}=la(0|this.Bh,0|this.Bl,0|s,0|c),{h:u,l:h}=la(0|this.Ch,0|this.Cl,0|u,0|h),{h:d,l:p}=la(0|this.Dh,0|this.Dl,0|d,0|p),{h:v,l:x}=la(0|this.Eh,0|this.El,0|v,0|x),{h:y,l:S}=la(0|this.Fh,0|this.Fl,0|y,0|S),{h:k,l:I}=la(0|this.Gh,0|this.Gl,0|k,0|I),{h:M,l:j}=la(0|this.Hh,0|this.Hl,0|M,0|j),this.set(r,i,s,c,u,h,d,p,v,x,y,S,k,I,M,j)}roundClean(){Ap(Rc,Tc)}destroy(){Ap(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const SX=U8((()=>new _X)),RX=U8((()=>new AX)),TX=SX,o2=n=>{const e=FY+n,t=TX(Jr.Buffer.from(e,"utf8"));return Jr.Buffer.from(t)},a2=(n,e,t)=>{const r=[n];e?r.push(e.toBuffer()):r.push(Jr.Buffer.alloc(32)),t?r.push(t.toBuffer()):r.push(Jr.Buffer.alloc(32));const[i]=xe.findProgramAddressSync(r,O8);return i},Sh=(n,e=i2,t)=>{let r=o2(n);return{pubkey:a2(r,t,e),hashed:r}},c2=(n,e)=>{n.endsWith(".sol")&&(n=n.slice(0,-4));const t=e===Ep.V2?B8:void 0,r=n.split(".");if(r.length===2){const i=Jr.Buffer.from([e||0]).toString().concat(r[0]),{pubkey:s}=Sh(r[1]);return{...Sh(i,s,t),isSub:!0,parent:s}}if(r.length===3&&e){const{pubkey:i}=Sh(r[2]),{pubkey:s}=Sh("\0".concat(r[1]),i),c=e===Ep.V2?"":"";return{...Sh(c.concat(r[0]),s,t),isSub:!0,parent:i,isSubRecord:!0}}if(r.length>=3)throw new XY("The domain is malformed");return{...Sh(n,i2),isSub:!1,parent:void 0}},F8=new xe("nftD3vbNkNqfj2Sd3HZwbpw4BxxKWr4AjGb9X38JeZk"),NX=Jr.Buffer.from("tokenized_name"),IX=n=>{const[e]=xe.findProgramAddressSync([NX,n.toBuffer()],F8);return e},l2=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}};var Cl={},F4;function kX(){if(F4)return Cl;F4=1,Object.defineProperty(Cl,"__esModule",{value:!0});function n(i){{const s=xt.from(i);s.reverse();const c=s.toString("hex");return c.length===0?BigInt(0):BigInt(`0x${c}`)}}Cl.toBigIntLE=n;function e(i){{const s=i.toString("hex");return s.length===0?BigInt(0):BigInt(`0x${s}`)}}Cl.toBigIntBE=e;function t(i,s){{const c=i.toString(16),u=xt.from(c.padStart(s*2,"0").slice(0,s*2),"hex");return u.reverse(),u}}Cl.toBufferLE=t;function r(i,s){{const c=i.toString(16);return xt.from(c.padStart(s*2,"0").slice(0,s*2),"hex")}}return Cl.toBufferBE=r,Cl}var H4=kX();const CX=n=>e=>{const t=pe.blob(n,e),{encode:r,decode:i}=l2(t),s=t;return s.decode=(c,u)=>{const h=i(c,u);return H4.toBigIntLE(xt.from(h))},s.encode=(c,u,h)=>{const d=H4.toBufferLE(c,n);return r(d,u,h)},s},ip=CX(8),u2=n=>{const e=pe.u8(n),{encode:t,decode:r}=l2(e),i=e;return i.decode=(s,c)=>!!r(s,c),i.encode=(s,c,u)=>{const h=Number(s);return t(h,c,u)},i},Cr=n=>{const e=pe.blob(32,n),{encode:t,decode:r}=l2(e),i=e;return i.decode=(s,c)=>{const u=r(s,c);return new xe(u)},i.encode=(s,c,u)=>{const h=s.toBuffer();return t(h,c,u)},i};var q4;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initialized=1]="Initialized",n[n.Frozen=2]="Frozen"})(q4||(q4={}));const H8=pe.struct([Cr("mint"),Cr("owner"),ip("amount"),pe.u32("delegateOption"),Cr("delegate"),pe.u8("state"),pe.u32("isNativeOption"),ip("isNative"),ip("delegatedAmount"),pe.u32("closeAuthorityOption"),Cr("closeAuthority")]);H8.span;const q8=async(n,e)=>{try{const t=IX(e),r=await n.getTokenLargestAccounts(t);if(r.value.length===0)return null;const i=await n.getAccountInfo(r.value[0].address);if(!i)return null;const s=H8.decode(i.data);return s.amount.toString()==="1"?s.owner:null}catch(t){if(t instanceof dt&&t.code===-32602)return null;throw t}};let ho=class Dg{constructor(e){this.parentName=new xe(e.parentName),this.owner=new xe(e.owner),this.class=new xe(e.class)}static deserialize(e){const t=new Dg(Lg(this.schema,e));return t.data=e==null?void 0:e.slice(this.HEADER_LEN),t}static async retrieve(e,t){var r;const i=await e.getAccountInfo(t);if(!i)throw new WY("The name account does not exist");const s=new Dg(Lg(this.schema,i.data));return s.data=(r=i.data)===null||r===void 0?void 0:r.slice(this.HEADER_LEN),{registry:s,nftOwner:await q8(e,t)}}static async _retrieveBatch(e,t){const r=await e.getMultipleAccountsInfo(t),i=s=>{if(!s)return;const c=new Dg(Lg(this.schema,s));return c.data=s==null?void 0:s.slice(this.HEADER_LEN),c};return r.map((s=>i(s==null?void 0:s.data)))}static async retrieveBatch(e,t){let r=[];const i=[...t];for(;i.length>0;)r.push(...await this._retrieveBatch(e,i.splice(0,100)));return r}};ho.HEADER_LEN=96,ho.schema={struct:{parentName:{array:{type:"u8",len:32}},owner:{array:{type:"u8",len:32}},class:{array:{type:"u8",len:32}}}};/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function G4(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function G8(n,e){return!!Array.isArray(e)&&(e.length===0||(n?e.every((t=>typeof t=="string")):e.every((t=>Number.isSafeInteger(t)))))}function sp(n,e){if(typeof e!="string")throw new Error(`${n}: string expected`);return!0}function $8(n){if(!Number.isSafeInteger(n))throw new Error(`invalid integer: ${n}`)}function Ax(n){if(!Array.isArray(n))throw new Error("array expected")}function $4(n,e){if(!G8(!0,e))throw new Error(`${n}: array of strings expected`)}function K4(n,e){if(!G8(!1,e))throw new Error(`${n}: array of numbers expected`)}const K8=(n,e)=>e===0?n:K8(e,n%e),fy=(n,e)=>n+(e-K8(n,e)),jg=(()=>{let n=[];for(let e=0;e<40;e++)n.push(2**e);return n})();function Sx(n,e,t,r){if(Ax(n),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(t<=0||t>32)throw new Error(`convertRadix2: wrong to=${t}`);if(fy(e,t)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${t} carryBits=${fy(e,t)}`);let i=0,s=0;const c=jg[e],u=jg[t]-1,h=[];for(const d of n){if($8(d),d>=c)throw new Error(`convertRadix2: invalid data word=${d} from=${e}`);if(i=i<<e|d,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=t;s-=t)h.push((i>>s-t&u)>>>0);const p=jg[s];if(p===void 0)throw new Error("invalid carry");i&=p-1}if(i=i<<t-s&u,!r&&s>=e)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&s>0&&h.push(i>>>0),h}function W4(n){return(function(e){if(typeof e!="function")throw new Error("function expected")})(n),function(...e){try{return n.apply(null,e)}catch{}}}const Rx=(function(...n){const e=r=>r,t=(r,i)=>s=>r(i(s));return{encode:n.map((r=>r.encode)).reduceRight(t,e),decode:n.map((r=>r.decode)).reduce(t,e)}})((function(n){const e=n.split(""),t=e.length;$4("alphabet",e);const r=new Map(e.map(((i,s)=>[i,s])));return{encode:i=>(Ax(i),i.map((s=>{if(!Number.isSafeInteger(s)||s<0||s>=t)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${n}`);return e[s]}))),decode:i=>(Ax(i),i.map((s=>{sp("alphabet.decode",s);const c=r.get(s);if(c===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${n}`);return c})))}})("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),(function(n=""){return sp("join",n),{encode:e=>($4("join.decode",e),e.join(n)),decode:e=>(sp("join.decode",e),e.split(n))}})("")),Y4=[996825010,642813549,513874426,1027748829,705979059];function kd(n){const e=n>>25;let t=(33554431&n)<<5;for(let r=0;r<Y4.length;r++)(e>>r&1)==1&&(t^=Y4[r]);return t}function X4(n,e,t=1){const r=n.length;let i=1;for(let s=0;s<r;s++){const c=n.charCodeAt(s);if(c<33||c>126)throw new Error(`Invalid prefix (${n})`);i=kd(i)^c>>5}i=kd(i);for(let s=0;s<r;s++)i=kd(i)^31&n.charCodeAt(s);for(let s of e)i=kd(i)^s;for(let s=0;s<6;s++)i=kd(i);return i^=t,Rx.encode(Sx([i%jg[30]],30,5,!1))}(function(n){const t=(function(h,d=!1){if($8(h),h>32,fy(8,h)>32||fy(h,8)>32)throw new Error("radix2: carry overflow");return{encode:p=>{if(!G4(p))throw new Error("radix2.encode input should be Uint8Array");return Sx(Array.from(p),8,h,!d)},decode:p=>(K4("radix2.decode",p),Uint8Array.from(Sx(p,h,8,d)))}})(5),r=t.decode,i=t.encode,s=W4(r);function c(h,d,p=90){sp("bech32.encode prefix",h),G4(d)&&(d=Array.from(d)),K4("bech32.encode",d);const v=h.length;if(v===0)throw new TypeError(`Invalid prefix length ${v}`);const x=v+7+d.length;if(p!==!1&&x>p)throw new TypeError(`Length ${x} exceeds limit ${p}`);const y=h.toLowerCase(),S=X4(y,d,1);return`${y}1${Rx.encode(d)}${S}`}function u(h,d=90){sp("bech32.decode input",h);const p=h.length;if(p<8||d!==!1&&p>d)throw new TypeError(`invalid string length: ${p} (${h}). Expected (8..${d})`);const v=h.toLowerCase();if(h!==v&&h!==h.toUpperCase())throw new Error("String must be lowercase or uppercase");const x=v.lastIndexOf("1");if(x===0||x===-1)throw new Error('Letter "1" must be present between prefix and data only');const y=v.slice(0,x),S=v.slice(x+1);if(S.length<6)throw new Error("Data must be at least 6 characters long");const k=Rx.decode(S).slice(0,-6),I=X4(y,k,1);if(!S.endsWith(I))throw new Error(`Invalid checksum in ${h}: expected "${I}"`);return{prefix:y,words:k}}return{encode:c,decode:u,encodeFromBytes:function(h,d){return c(h,i(d))},decodeToBytes:function(h){const{prefix:d,words:p}=u(h,!1);return{prefix:d,words:p,bytes:r(p)}},decodeUnsafe:W4(u),fromWords:r,fromWordsUnsafe:s,toWords:i}})();var OX=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof js<"u"?js:typeof self<"u"?self:{};function MX(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var W8={exports:{}},zv;zv=W8,(function(n){const e="(0?\\d+|0x[a-f0-9]+)",t={fourOctet:new RegExp(`^${e}\\.${e}\\.${e}\\.${e}$`,"i"),threeOctet:new RegExp(`^${e}\\.${e}\\.${e}$`,"i"),twoOctet:new RegExp(`^${e}\\.${e}$`,"i"),longValue:new RegExp(`^${e}$`,"i")},r=new RegExp("^0[0-7]+$","i"),i=new RegExp("^0x[a-f0-9]+$","i"),s="%[0-9a-z]{1,}",c="(?:[0-9a-f]+::?)+",u={zoneIndex:new RegExp(s,"i"),native:new RegExp(`^(::)?(${c})?([0-9a-f]+)?(::)?(${s})?$`,"i"),deprecatedTransitional:new RegExp(`^(?:::)(${e}\\.${e}\\.${e}\\.${e}(${s})?)$`,"i"),transitional:new RegExp(`^((?:${c})|(?:::)(?:${c})?)${e}\\.${e}\\.${e}\\.${e}(${s})?$`,"i")};function h(y,S){if(y.indexOf("::")!==y.lastIndexOf("::"))return null;let k,I,M=0,j=-1,O=(y.match(u.zoneIndex)||[])[0];for(O&&(O=O.substring(1),y=y.replace(/%.+$/,""));(j=y.indexOf(":",j+1))>=0;)M++;if(y.substr(0,2)==="::"&&M--,y.substr(-2,2)==="::"&&M--,M>S)return null;for(I=S-M,k=":";I--;)k+="0:";return(y=y.replace("::",k))[0]===":"&&(y=y.slice(1)),y[y.length-1]===":"&&(y=y.slice(0,-1)),{parts:S=(function(){const Q=y.split(":"),oe=[];for(let ce=0;ce<Q.length;ce++)oe.push(parseInt(Q[ce],16));return oe})(),zoneId:O}}function d(y,S,k,I){if(y.length!==S.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");let M,j=0;for(;I>0;){if(M=k-I,M<0&&(M=0),y[j]>>M!==S[j]>>M)return!1;I-=k,j+=1}return!0}function p(y){if(i.test(y))return parseInt(y,16);if(y[0]==="0"&&!isNaN(parseInt(y[1],10))){if(r.test(y))return parseInt(y,8);throw new Error(`ipaddr: cannot parse ${y} as octal`)}return parseInt(y,10)}function v(y,S){for(;y.length<S;)y=`0${y}`;return y}const x={};x.IPv4=(function(){function y(S){if(S.length!==4)throw new Error("ipaddr: ipv4 octet count should be 4");let k,I;for(k=0;k<S.length;k++)if(I=S[k],!(0<=I&&I<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=S}return y.prototype.SpecialRanges={unspecified:[[new y([0,0,0,0]),8]],broadcast:[[new y([255,255,255,255]),32]],multicast:[[new y([224,0,0,0]),4]],linkLocal:[[new y([169,254,0,0]),16]],loopback:[[new y([127,0,0,0]),8]],carrierGradeNat:[[new y([100,64,0,0]),10]],private:[[new y([10,0,0,0]),8],[new y([172,16,0,0]),12],[new y([192,168,0,0]),16]],reserved:[[new y([192,0,0,0]),24],[new y([192,0,2,0]),24],[new y([192,88,99,0]),24],[new y([198,18,0,0]),15],[new y([198,51,100,0]),24],[new y([203,0,113,0]),24],[new y([240,0,0,0]),4]],as112:[[new y([192,175,48,0]),24],[new y([192,31,196,0]),24]],amt:[[new y([192,52,193,0]),24]]},y.prototype.kind=function(){return"ipv4"},y.prototype.match=function(S,k){let I;if(k===void 0&&(I=S,S=I[0],k=I[1]),S.kind()!=="ipv4")throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return d(this.octets,S.octets,8,k)},y.prototype.prefixLengthFromSubnetMask=function(){let S=0,k=!1;const I={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0};let M,j,O;for(M=3;M>=0;M-=1){if(j=this.octets[M],!(j in I)||(O=I[j],k&&O!==0))return null;O!==8&&(k=!0),S+=O}return 32-S},y.prototype.range=function(){return x.subnetMatch(this,this.SpecialRanges)},y.prototype.toByteArray=function(){return this.octets.slice(0)},y.prototype.toIPv4MappedAddress=function(){return x.IPv6.parse(`::ffff:${this.toString()}`)},y.prototype.toNormalizedString=function(){return this.toString()},y.prototype.toString=function(){return this.octets.join(".")},y})(),x.IPv4.broadcastAddressFromCIDR=function(y){try{const S=this.parseCIDR(y),k=S[0].toByteArray(),I=this.subnetMaskFromPrefixLength(S[1]).toByteArray(),M=[];let j=0;for(;j<4;)M.push(parseInt(k[j],10)|255^parseInt(I[j],10)),j++;return new this(M)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},x.IPv4.isIPv4=function(y){return this.parser(y)!==null},x.IPv4.isValid=function(y){try{return new this(this.parser(y)),!0}catch{return!1}},x.IPv4.isValidCIDR=function(y){try{return this.parseCIDR(y),!0}catch{return!1}},x.IPv4.isValidFourPartDecimal=function(y){return!(!x.IPv4.isValid(y)||!y.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},x.IPv4.networkAddressFromCIDR=function(y){let S,k,I,M,j;try{for(S=this.parseCIDR(y),I=S[0].toByteArray(),j=this.subnetMaskFromPrefixLength(S[1]).toByteArray(),M=[],k=0;k<4;)M.push(parseInt(I[k],10)&parseInt(j[k],10)),k++;return new this(M)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},x.IPv4.parse=function(y){const S=this.parser(y);if(S===null)throw new Error("ipaddr: string is not formatted like an IPv4 Address");return new this(S)},x.IPv4.parseCIDR=function(y){let S;if(S=y.match(/^(.+)\/(\d+)$/)){const k=parseInt(S[2]);if(k>=0&&k<=32){const I=[this.parse(S[1]),k];return Object.defineProperty(I,"toString",{value:function(){return this.join("/")}}),I}}throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},x.IPv4.parser=function(y){let S,k,I;if(S=y.match(t.fourOctet))return(function(){const M=S.slice(1,6),j=[];for(let O=0;O<M.length;O++)k=M[O],j.push(p(k));return j})();if(S=y.match(t.longValue)){if(I=p(S[1]),I>4294967295||I<0)throw new Error("ipaddr: address outside defined range");return(function(){const M=[];let j;for(j=0;j<=24;j+=8)M.push(I>>j&255);return M})().reverse()}return(S=y.match(t.twoOctet))?(function(){const M=S.slice(1,4),j=[];if(I=p(M[1]),I>16777215||I<0)throw new Error("ipaddr: address outside defined range");return j.push(p(M[0])),j.push(I>>16&255),j.push(I>>8&255),j.push(255&I),j})():(S=y.match(t.threeOctet))?(function(){const M=S.slice(1,5),j=[];if(I=p(M[2]),I>65535||I<0)throw new Error("ipaddr: address outside defined range");return j.push(p(M[0])),j.push(p(M[1])),j.push(I>>8&255),j.push(255&I),j})():null},x.IPv4.subnetMaskFromPrefixLength=function(y){if((y=parseInt(y))<0||y>32)throw new Error("ipaddr: invalid IPv4 prefix length");const S=[0,0,0,0];let k=0;const I=Math.floor(y/8);for(;k<I;)S[k]=255,k++;return I<4&&(S[I]=Math.pow(2,y%8)-1<<8-y%8),new this(S)},x.IPv6=(function(){function y(S,k){let I,M;if(S.length===16)for(this.parts=[],I=0;I<=14;I+=2)this.parts.push(S[I]<<8|S[I+1]);else{if(S.length!==8)throw new Error("ipaddr: ipv6 part count should be 8 or 16");this.parts=S}for(I=0;I<this.parts.length;I++)if(M=this.parts[I],!(0<=M&&M<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");k&&(this.zoneId=k)}return y.prototype.SpecialRanges={unspecified:[new y([0,0,0,0,0,0,0,0]),128],linkLocal:[new y([65152,0,0,0,0,0,0,0]),10],multicast:[new y([65280,0,0,0,0,0,0,0]),8],loopback:[new y([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new y([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new y([0,0,0,0,0,65535,0,0]),96],discard:[new y([256,0,0,0,0,0,0,0]),64],rfc6145:[new y([0,0,0,0,65535,0,0,0]),96],rfc6052:[new y([100,65435,0,0,0,0,0,0]),96],"6to4":[new y([8194,0,0,0,0,0,0,0]),16],teredo:[new y([8193,0,0,0,0,0,0,0]),32],benchmarking:[new y([8193,2,0,0,0,0,0,0]),48],amt:[new y([8193,3,0,0,0,0,0,0]),32],as112v6:[[new y([8193,4,274,0,0,0,0,0]),48],[new y([9760,79,32768,0,0,0,0,0]),48]],deprecated:[new y([8193,16,0,0,0,0,0,0]),28],orchid2:[new y([8193,32,0,0,0,0,0,0]),28],droneRemoteIdProtocolEntityTags:[new y([8193,48,0,0,0,0,0,0]),28],reserved:[[new y([8193,0,0,0,0,0,0,0]),23],[new y([8193,3512,0,0,0,0,0,0]),32]]},y.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"},y.prototype.kind=function(){return"ipv6"},y.prototype.match=function(S,k){let I;if(k===void 0&&(I=S,S=I[0],k=I[1]),S.kind()!=="ipv6")throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return d(this.parts,S.parts,16,k)},y.prototype.prefixLengthFromSubnetMask=function(){let S=0,k=!1;const I={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0};let M,j;for(let O=7;O>=0;O-=1){if(M=this.parts[O],!(M in I)||(j=I[M],k&&j!==0))return null;j!==16&&(k=!0),S+=j}return 128-S},y.prototype.range=function(){return x.subnetMatch(this,this.SpecialRanges)},y.prototype.toByteArray=function(){let S;const k=[],I=this.parts;for(let M=0;M<I.length;M++)S=I[M],k.push(S>>8),k.push(255&S);return k},y.prototype.toFixedLengthString=function(){const S=(function(){const I=[];for(let M=0;M<this.parts.length;M++)I.push(v(this.parts[M].toString(16),4));return I}).call(this).join(":");let k="";return this.zoneId&&(k=`%${this.zoneId}`),S+k},y.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");const S=this.parts.slice(-2),k=S[0],I=S[1];return new x.IPv4([k>>8,255&k,I>>8,255&I])},y.prototype.toNormalizedString=function(){const S=(function(){const I=[];for(let M=0;M<this.parts.length;M++)I.push(this.parts[M].toString(16));return I}).call(this).join(":");let k="";return this.zoneId&&(k=`%${this.zoneId}`),S+k},y.prototype.toRFC5952String=function(){const S=/((^|:)(0(:|$)){2,})/g,k=this.toNormalizedString();let I,M=0,j=-1;for(;I=S.exec(k);)I[0].length>j&&(M=I.index,j=I[0].length);return j<0?k:`${k.substring(0,M)}::${k.substring(M+j)}`},y.prototype.toString=function(){return this.toRFC5952String()},y})(),x.IPv6.broadcastAddressFromCIDR=function(y){try{const S=this.parseCIDR(y),k=S[0].toByteArray(),I=this.subnetMaskFromPrefixLength(S[1]).toByteArray(),M=[];let j=0;for(;j<16;)M.push(parseInt(k[j],10)|255^parseInt(I[j],10)),j++;return new this(M)}catch(S){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${S})`)}},x.IPv6.isIPv6=function(y){return this.parser(y)!==null},x.IPv6.isValid=function(y){if(typeof y=="string"&&y.indexOf(":")===-1)return!1;try{const S=this.parser(y);return new this(S.parts,S.zoneId),!0}catch{return!1}},x.IPv6.isValidCIDR=function(y){if(typeof y=="string"&&y.indexOf(":")===-1)return!1;try{return this.parseCIDR(y),!0}catch{return!1}},x.IPv6.networkAddressFromCIDR=function(y){let S,k,I,M,j;try{for(S=this.parseCIDR(y),I=S[0].toByteArray(),j=this.subnetMaskFromPrefixLength(S[1]).toByteArray(),M=[],k=0;k<16;)M.push(parseInt(I[k],10)&parseInt(j[k],10)),k++;return new this(M)}catch(O){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${O})`)}},x.IPv6.parse=function(y){const S=this.parser(y);if(S.parts===null)throw new Error("ipaddr: string is not formatted like an IPv6 Address");return new this(S.parts,S.zoneId)},x.IPv6.parseCIDR=function(y){let S,k,I;if((k=y.match(/^(.+)\/(\d+)$/))&&(S=parseInt(k[2]),S>=0&&S<=128))return I=[this.parse(k[1]),S],Object.defineProperty(I,"toString",{value:function(){return this.join("/")}}),I;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},x.IPv6.parser=function(y){let S,k,I,M,j,O;if(I=y.match(u.deprecatedTransitional))return this.parser(`::ffff:${I[1]}`);if(u.native.test(y))return h(y,8);if((I=y.match(u.transitional))&&(O=I[6]||"",S=I[1],I[1].endsWith("::")||(S=S.slice(0,-1)),S=h(S+O,6),S.parts)){for(j=[parseInt(I[2]),parseInt(I[3]),parseInt(I[4]),parseInt(I[5])],k=0;k<j.length;k++)if(M=j[k],!(0<=M&&M<=255))return null;return S.parts.push(j[0]<<8|j[1]),S.parts.push(j[2]<<8|j[3]),{parts:S.parts,zoneId:S.zoneId}}return null},x.IPv6.subnetMaskFromPrefixLength=function(y){if((y=parseInt(y))<0||y>128)throw new Error("ipaddr: invalid IPv6 prefix length");const S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];let k=0;const I=Math.floor(y/8);for(;k<I;)S[k]=255,k++;return I<16&&(S[I]=Math.pow(2,y%8)-1<<8-y%8),new this(S)},x.fromByteArray=function(y){const S=y.length;if(S===4)return new x.IPv4(y);if(S===16)return new x.IPv6(y);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},x.isValid=function(y){return x.IPv6.isValid(y)||x.IPv4.isValid(y)},x.isValidCIDR=function(y){return x.IPv6.isValidCIDR(y)||x.IPv4.isValidCIDR(y)},x.parse=function(y){if(x.IPv6.isValid(y))return x.IPv6.parse(y);if(x.IPv4.isValid(y))return x.IPv4.parse(y);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},x.parseCIDR=function(y){try{return x.IPv6.parseCIDR(y)}catch{try{return x.IPv4.parseCIDR(y)}catch{throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},x.process=function(y){const S=this.parse(y);return S.kind()==="ipv6"&&S.isIPv4MappedAddress()?S.toIPv4Address():S},x.subnetMatch=function(y,S,k){let I,M,j,O;for(M in k==null&&(k="unicast"),S)if(Object.prototype.hasOwnProperty.call(S,M)){for(j=S[M],!j[0]||j[0]instanceof Array||(j=[j]),I=0;I<j.length;I++)if(O=j[I],y.kind()===O[0].kind()&&y.match.apply(y,O))return M}return k},zv.exports?zv.exports=x:n.ipaddr=x})(OX);W8.exports;zt.Url,new xe("ExXjtfdQe8JacoqP9Z535WzQKjF4CzW1TTRKRgpxvya3"),zt.CNAME,new xe("ExXjtfdQe8JacoqP9Z535WzQKjF4CzW1TTRKRgpxvya3");zt.ETH,zt.Injective,zt.BSC,zt.BASE;zt.ETH,zt.BSC,zt.BASE;zt.IPFS,zt.ARWV,zt.LTC,zt.DOGE,zt.Email,zt.Url,zt.Discord,zt.Github,zt.Reddit,zt.Twitter,zt.Telegram,zt.Pic,zt.SHDW,zt.POINT,zt.Backpack,zt.TXT,zt.CNAME,zt.BTC,zt.IPNS;zt.ETH,zt.Injective,zt.SOL;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const h2=BigInt(0),Tx=BigInt(1);function f2(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function d2(n){if(!f2(n))throw new Error("Uint8Array expected")}function Fv(n,e){if(typeof e!="boolean")throw new Error(n+" boolean expected, got "+e)}function Y8(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?h2:BigInt("0x"+n)}const X8=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",BX=Array.from({length:256},((n,e)=>e.toString(16).padStart(2,"0")));function p2(n){if(d2(n),X8)return n.toHex();let e="";for(let t=0;t<n.length;t++)e+=BX[n[t]];return e}const Z4=48,LX=57,Q4=65,DX=70,J4=97,jX=102;function ek(n){return n>=Z4&&n<=LX?n-Z4:n>=Q4&&n<=DX?n-(Q4-10):n>=J4&&n<=jX?n-(J4-10):void 0}function Z8(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);if(X8)return Uint8Array.fromHex(n);const e=n.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let i=0,s=0;i<t;i++,s+=2){const c=ek(n.charCodeAt(s)),u=ek(n.charCodeAt(s+1));if(c===void 0||u===void 0){const h=n[s]+n[s+1];throw new Error('hex string expected, got non-hex character "'+h+'" at index '+s)}r[i]=16*c+u}return r}function PX(n){return Y8(p2(n))}function Pg(n){return d2(n),Y8(p2(Uint8Array.from(n).reverse()))}function Q8(n,e){return Z8(n.toString(16).padStart(2*e,"0"))}function Nx(n,e){return Q8(n,e).reverse()}function ua(n,e,t){let r;if(typeof e=="string")try{r=Z8(e)}catch(s){throw new Error(n+" must be hex string or Uint8Array, cause: "+s)}else{if(!f2(e))throw new Error(n+" must be hex string or Uint8Array");r=Uint8Array.from(e)}const i=r.length;if(typeof t=="number"&&i!==t)throw new Error(n+" of length "+t+" expected, got "+i);return r}function tk(...n){let e=0;for(let r=0;r<n.length;r++){const i=n[r];d2(i),e+=i.length}const t=new Uint8Array(e);for(let r=0,i=0;r<n.length;r++){const s=n[r];t.set(s,i),i+=s.length}return t}const Hv=n=>typeof n=="bigint"&&h2<=n;function UX(n,e,t){return Hv(n)&&Hv(e)&&Hv(t)&&e<=n&&n<t}function Cd(n,e,t,r){if(!UX(e,t,r))throw new Error("expected valid "+n+": "+t+" <= n < "+r+", got "+e)}function VX(n){let e;for(e=0;n>h2;n>>=Tx,e+=1);return e}const m2=n=>(Tx<<BigInt(n))-Tx,zX={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||f2(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function g2(n,e,t={}){const r=(i,s,c)=>{const u=zX[s];if(typeof u!="function")throw new Error("invalid validator function");const h=n[i];if(!(c&&h===void 0||u(h,n)))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+h)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(t))r(i,s,!0);return n}function nk(n){const e=new WeakMap;return(t,...r)=>{const i=e.get(t);if(i!==void 0)return i;const s=n(t,...r);return e.set(t,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Hi=BigInt(0),_i=BigInt(1),tu=BigInt(2),FX=BigInt(3),J8=BigInt(4),eM=BigInt(5),tM=BigInt(8);function Or(n,e){const t=n%e;return t>=Hi?t:e+t}function so(n,e,t){let r=n;for(;e-- >Hi;)r*=r,r%=t;return r}function rk(n,e){if(n===Hi)throw new Error("invert: expected non-zero number");if(e<=Hi)throw new Error("invert: expected positive modulus, got "+e);let t=Or(n,e),r=e,i=Hi,s=_i;for(;t!==Hi;){const c=r%t,u=i-s*(r/t);r=t,t=c,i=s,s=u}if(r!==_i)throw new Error("invert: does not exist");return Or(i,e)}function nM(n,e){const t=(n.ORDER+_i)/J8,r=n.pow(e,t);if(!n.eql(n.sqr(r),e))throw new Error("Cannot find square root");return r}function HX(n,e){const t=(n.ORDER-eM)/tM,r=n.mul(e,tu),i=n.pow(r,t),s=n.mul(e,i),c=n.mul(n.mul(s,tu),i),u=n.mul(s,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),e))throw new Error("Cannot find square root");return u}function qX(n){if(n<BigInt(3))throw new Error("sqrt is not defined for small field");let e=n-_i,t=0;for(;e%tu===Hi;)e/=tu,t++;let r=tu;const i=y2(n);for(;ik(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(t===1)return nM;let s=i.pow(r,e);const c=(e+_i)/tu;return function(u,h){if(u.is0(h))return h;if(ik(u,h)!==1)throw new Error("Cannot find square root");let d=t,p=u.mul(u.ONE,s),v=u.pow(h,e),x=u.pow(h,c);for(;!u.eql(v,u.ONE);){if(u.is0(v))return u.ZERO;let y=1,S=u.sqr(v);for(;!u.eql(S,u.ONE);)if(y++,S=u.sqr(S),y===d)throw new Error("Cannot find square root");const k=_i<<BigInt(d-y-1),I=u.pow(p,k);d=y,p=u.sqr(I),v=u.mul(v,p),x=u.mul(x,I)}return x}}function GX(n){return n%J8===FX?nM:n%tM===eM?HX:qX(n)}const $X=(n,e)=>(Or(n,e)&_i)===_i,KX=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function WX(n){const e=KX.reduce(((t,r)=>(t[r]="function",t)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return g2(n,e)}function YX(n,e,t){if(t<Hi)throw new Error("invalid exponent, negatives unsupported");if(t===Hi)return n.ONE;if(t===_i)return e;let r=n.ONE,i=e;for(;t>Hi;)t&_i&&(r=n.mul(r,i)),i=n.sqr(i),t>>=_i;return r}function rM(n,e,t=!1){const r=new Array(e.length).fill(t?n.ZERO:void 0),i=e.reduce(((c,u,h)=>n.is0(u)?c:(r[h]=c,n.mul(c,u))),n.ONE),s=n.inv(i);return e.reduceRight(((c,u,h)=>n.is0(u)?c:(r[h]=n.mul(c,r[h]),n.mul(c,u))),s),r}function ik(n,e){const t=(n.ORDER-_i)/tu,r=n.pow(e,t),i=n.eql(r,n.ONE),s=n.eql(r,n.ZERO),c=n.eql(r,n.neg(n.ONE));if(!i&&!s&&!c)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function iM(n,e){e!==void 0&&iX(e);const t=e!==void 0?e:n.toString(2).length;return{nBitLength:t,nByteLength:Math.ceil(t/8)}}function y2(n,e,t=!1,r={}){if(n<=Hi)throw new Error("invalid field: expected ORDER > 0, got "+n);const{nBitLength:i,nByteLength:s}=iM(n,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const u=Object.freeze({ORDER:n,isLE:t,BITS:i,BYTES:s,MASK:m2(i),ZERO:Hi,ONE:_i,create:h=>Or(h,n),isValid:h=>{if(typeof h!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof h);return Hi<=h&&h<n},is0:h=>h===Hi,isOdd:h=>(h&_i)===_i,neg:h=>Or(-h,n),eql:(h,d)=>h===d,sqr:h=>Or(h*h,n),add:(h,d)=>Or(h+d,n),sub:(h,d)=>Or(h-d,n),mul:(h,d)=>Or(h*d,n),pow:(h,d)=>YX(u,h,d),div:(h,d)=>Or(h*rk(d,n),n),sqrN:h=>h*h,addN:(h,d)=>h+d,subN:(h,d)=>h-d,mulN:(h,d)=>h*d,inv:h=>rk(h,n),sqrt:r.sqrt||(h=>(c||(c=GX(n)),c(u,h))),toBytes:h=>t?Nx(h,s):Q8(h,s),fromBytes:h=>{if(h.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+h.length);return t?Pg(h):PX(h)},invertBatch:h=>rM(u,h),cmov:(h,d,p)=>p?d:h});return Object.freeze(u)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sk=BigInt(0),Ix=BigInt(1);function qv(n,e){const t=e.negate();return n?t:e}function sM(n,e){if(!Number.isSafeInteger(n)||n<=0||n>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+n)}function Gv(n,e){sM(n,e);const t=2**n;return{windows:Math.ceil(e/n)+1,windowSize:2**(n-1),mask:m2(n),maxNumber:t,shiftBy:BigInt(n)}}function ok(n,e,t){const{windowSize:r,mask:i,maxNumber:s,shiftBy:c}=t;let u=Number(n&i),h=n>>c;u>r&&(u-=s,h+=Ix);const d=e*r;return{nextN:h,offset:d+Math.abs(u)-1,isZero:u===0,isNeg:u<0,isNegF:e%2!=0,offsetF:d}}const $v=new WeakMap,oM=new WeakMap;function Kv(n){return oM.get(n)||1}function XX(n,e){return{constTimeNegate:qv,hasPrecomputes:t=>Kv(t)!==1,unsafeLadder(t,r,i=n.ZERO){let s=t;for(;r>sk;)r&Ix&&(i=i.add(s)),s=s.double(),r>>=Ix;return i},precomputeWindow(t,r){const{windows:i,windowSize:s}=Gv(r,e),c=[];let u=t,h=u;for(let d=0;d<i;d++){h=u,c.push(h);for(let p=1;p<s;p++)h=h.add(u),c.push(h);u=h.double()}return c},wNAF(t,r,i){let s=n.ZERO,c=n.BASE;const u=Gv(t,e);for(let h=0;h<u.windows;h++){const{nextN:d,offset:p,isZero:v,isNeg:x,isNegF:y,offsetF:S}=ok(i,h,u);i=d,v?c=c.add(qv(y,r[S])):s=s.add(qv(x,r[p]))}return{p:s,f:c}},wNAFUnsafe(t,r,i,s=n.ZERO){const c=Gv(t,e);for(let u=0;u<c.windows&&i!==sk;u++){const{nextN:h,offset:d,isZero:p,isNeg:v}=ok(i,u,c);if(i=h,!p){const x=r[d];s=s.add(v?x.negate():x)}}return s},getPrecomputes(t,r,i){let s=$v.get(r);return s||(s=this.precomputeWindow(r,t),t!==1&&$v.set(r,i(s))),s},wNAFCached(t,r,i){const s=Kv(t);return this.wNAF(s,this.getPrecomputes(s,t,i),r)},wNAFCachedUnsafe(t,r,i,s){const c=Kv(t);return c===1?this.unsafeLadder(t,r,s):this.wNAFUnsafe(c,this.getPrecomputes(c,t,i),r,s)},setWindowSize(t,r){sM(r,e),oM.set(t,r),$v.delete(t)}}}function ZX(n,e,t,r){(function(x,y){if(!Array.isArray(x))throw new Error("array expected");x.forEach(((S,k)=>{if(!(S instanceof y))throw new Error("invalid point at index "+k)}))})(t,n),(function(x,y){if(!Array.isArray(x))throw new Error("array of scalars expected");x.forEach(((S,k)=>{if(!y.isValid(S))throw new Error("invalid scalar at index "+k)}))})(r,e);const i=t.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const c=n.ZERO,u=VX(BigInt(i));let h=1;u>12?h=u-3:u>4?h=u-2:u>0&&(h=2);const d=m2(h),p=new Array(Number(d)+1).fill(c);let v=c;for(let x=Math.floor((e.BITS-1)/h)*h;x>=0;x-=h){p.fill(c);for(let S=0;S<s;S++){const k=r[S],I=Number(k>>BigInt(x)&d);p[I]=p[I].add(t[S])}let y=c;for(let S=p.length-1,k=c;S>0;S--)k=k.add(p[S]),y=y.add(k);if(v=v.add(y),x!==0)for(let S=0;S<h;S++)v=v.double()}return v}function QX(n){return WX(n.Fp),g2(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...iM(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const oo=BigInt(0),bi=BigInt(1),ak=BigInt(2),JX=BigInt(8),eZ={zip215:!0};function tZ(n){const e=(function(T){const g=QX(T);return g2(T,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...g})})(n),{Fp:t,n:r,prehash:i,hash:s,randomBytes:c,nByteLength:u,h}=e,d=ak<<BigInt(8*u)-bi,p=t.create,v=y2(e.n,e.nBitLength);if(!(function(T,g){const R=t.sqr(T),C=t.sqr(g),Y=t.add(t.mul(e.a,R),C),te=t.add(t.ONE,t.mul(e.d,t.mul(R,C)));return t.eql(Y,te)})(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const x=e.uvRatio||((T,g)=>{try{return{isValid:!0,value:t.sqrt(T*t.inv(g))}}catch{return{isValid:!1,value:oo}}}),y=e.adjustScalarBytes||(T=>T),S=e.domain||((T,g,R)=>{if(Fv("phflag",R),g.length||R)throw new Error("Contexts/pre-hash are not supported");return T});function k(T,g,R=!1){Cd("coordinate "+T,g,R?bi:oo,d)}function I(T){if(!(T instanceof O))throw new Error("ExtendedPoint expected")}const M=nk(((T,g)=>{const{ex:R,ey:C,ez:Y}=T,te=T.is0();g==null&&(g=te?JX:t.inv(Y));const Z=p(R*g),D=p(C*g),A=p(Y*g);if(te)return{x:oo,y:bi};if(A!==bi)throw new Error("invZ was invalid");return{x:Z,y:D}})),j=nk((T=>{const{a:g,d:R}=e;if(T.is0())throw new Error("bad point: ZERO");const{ex:C,ey:Y,ez:te,et:Z}=T,D=p(C*C),A=p(Y*Y),w=p(te*te),E=p(w*w),H=p(D*g);if(p(w*p(H+A))!==p(E+p(R*p(D*A))))throw new Error("bad point: equation left != right (1)");if(p(C*Y)!==p(te*Z))throw new Error("bad point: equation left != right (2)");return!0}));class O{constructor(g,R,C,Y){k("x",g),k("y",R),k("z",C,!0),k("t",Y),this.ex=g,this.ey=R,this.ez=C,this.et=Y,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(g){if(g instanceof O)throw new Error("extended point not allowed");const{x:R,y:C}=g||{};return k("x",R),k("y",C),new O(R,C,bi,p(R*C))}static normalizeZ(g){const R=rM(t,g.map((C=>C.ez)));return g.map(((C,Y)=>C.toAffine(R[Y]))).map(O.fromAffine)}static msm(g,R){return ZX(O,v,g,R)}_setWindowSize(g){ce.setWindowSize(this,g)}assertValidity(){j(this)}equals(g){I(g);const{ex:R,ey:C,ez:Y}=this,{ex:te,ey:Z,ez:D}=g,A=p(R*D),w=p(te*Y),E=p(C*D),H=p(Z*Y);return A===w&&E===H}is0(){return this.equals(O.ZERO)}negate(){return new O(p(-this.ex),this.ey,this.ez,p(-this.et))}double(){const{a:g}=e,{ex:R,ey:C,ez:Y}=this,te=p(R*R),Z=p(C*C),D=p(ak*p(Y*Y)),A=p(g*te),w=R+C,E=p(p(w*w)-te-Z),H=A+Z,ne=H-D,ae=A-Z,me=p(E*ne),Le=p(H*ae),Ue=p(E*ae),it=p(ne*H);return new O(me,Le,it,Ue)}add(g){I(g);const{a:R,d:C}=e,{ex:Y,ey:te,ez:Z,et:D}=this,{ex:A,ey:w,ez:E,et:H}=g,ne=p(Y*A),ae=p(te*w),me=p(D*C*H),Le=p(Z*E),Ue=p((Y+te)*(A+w)-ne-ae),it=Le-me,ut=Le+me,kt=p(ae-R*ne),lr=p(Ue*it),Ot=p(ut*kt),Jt=p(Ue*kt),P=p(it*ut);return new O(lr,Ot,P,Jt)}subtract(g){return this.add(g.negate())}wNAF(g){return ce.wNAFCached(this,g,O.normalizeZ)}multiply(g){const R=g;Cd("scalar",R,bi,r);const{p:C,f:Y}=this.wNAF(R);return O.normalizeZ([C,Y])[0]}multiplyUnsafe(g,R=O.ZERO){const C=g;return Cd("scalar",C,oo,r),C===oo?oe:this.is0()||C===bi?this:ce.wNAFCachedUnsafe(this,C,O.normalizeZ,R)}isSmallOrder(){return this.multiplyUnsafe(h).is0()}isTorsionFree(){return ce.unsafeLadder(this,r).is0()}toAffine(g){return M(this,g)}clearCofactor(){const{h:g}=e;return g===bi?this:this.multiplyUnsafe(g)}static fromHex(g,R=!1){const{d:C,a:Y}=e,te=t.BYTES;g=ua("pointHex",g,te),Fv("zip215",R);const Z=g.slice(),D=g[te-1];Z[te-1]=-129&D;const A=Pg(Z),w=R?d:t.ORDER;Cd("pointHex.y",A,oo,w);const E=p(A*A),H=p(E-bi),ne=p(C*E-Y);let{isValid:ae,value:me}=x(H,ne);if(!ae)throw new Error("Point.fromHex: invalid y coordinate");const Le=(me&bi)===bi,Ue=!!(128&D);if(!R&&me===oo&&Ue)throw new Error("Point.fromHex: x=0 and x_0=1");return Ue!==Le&&(me=p(-me)),O.fromAffine({x:me,y:A})}static fromPrivateKey(g){const{scalar:R}=B(g);return Q.multiply(R)}toRawBytes(){const{x:g,y:R}=this.toAffine(),C=Nx(R,t.BYTES);return C[C.length-1]|=g&bi?128:0,C}toHex(){return p2(this.toRawBytes())}}O.BASE=new O(e.Gx,e.Gy,bi,p(e.Gx*e.Gy)),O.ZERO=new O(oo,bi,bi,oo);const{BASE:Q,ZERO:oe}=O,ce=XX(O,8*u);function W(T){return Or(T,r)}function K(T){return W(Pg(T))}function B(T){const g=t.BYTES;T=ua("private key",T,g);const R=ua("hashed private key",s(T),2*g),C=y(R.slice(0,g));return{head:C,prefix:R.slice(g,2*g),scalar:K(C)}}function U(T){const{head:g,prefix:R,scalar:C}=B(T),Y=Q.multiply(C),te=Y.toRawBytes();return{head:g,prefix:R,scalar:C,point:Y,pointBytes:te}}function q(T=Uint8Array.of(),...g){const R=tk(...g);return K(s(S(R,ua("context",T),!!i)))}const L=eZ;return Q._setWindowSize(8),{CURVE:e,getPublicKey:function(T){return U(T).pointBytes},sign:function(T,g,R={}){T=ua("message",T),i&&(T=i(T));const{prefix:C,scalar:Y,pointBytes:te}=U(g),Z=q(R.context,C,T),D=Q.multiply(Z).toRawBytes(),A=W(Z+q(R.context,D,te,T)*Y);Cd("signature.s",A,oo,r);const w=tk(D,Nx(A,t.BYTES));return ua("result",w,2*t.BYTES)},verify:function(T,g,R,C=L){const{context:Y,zip215:te}=C,Z=t.BYTES;T=ua("signature",T,2*Z),g=ua("message",g),R=ua("publicKey",R,Z),te!==void 0&&Fv("zip215",te),i&&(g=i(g));const D=Pg(T.slice(Z,2*Z));let A,w,E;try{A=O.fromHex(R,te),w=O.fromHex(T.slice(0,Z),te),E=Q.multiplyUnsafe(D)}catch{return!1}if(!te&&A.isSmallOrder())return!1;const H=q(Y,w.toRawBytes(),A.toRawBytes(),g);return w.add(A.multiplyUnsafe(H)).subtract(E).clearCofactor().equals(O.ZERO)},ExtendedPoint:O,utils:{getExtendedPublicKey:U,randomPrivateKey:()=>c(t.BYTES),precompute:(T=8,g=O.BASE)=>(g._setWindowSize(T),g.multiply(BigInt(3)),g)}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kx=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ck=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const nZ=BigInt(1),lk=BigInt(2);BigInt(3);const rZ=BigInt(5),iZ=BigInt(8);function sZ(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function oZ(n,e){const t=kx,r=Or(e*e*e,t),i=(function(x){const y=BigInt(10),S=BigInt(20),k=BigInt(40),I=BigInt(80),M=kx,j=x*x%M*x%M,O=so(j,lk,M)*j%M,Q=so(O,nZ,M)*x%M,oe=so(Q,rZ,M)*Q%M,ce=so(oe,y,M)*oe%M,W=so(ce,S,M)*ce%M,K=so(W,k,M)*W%M,B=so(K,I,M)*K%M,U=so(B,I,M)*K%M,q=so(U,y,M)*oe%M;return{pow_p_5_8:so(q,lk,M)*x%M,b2:j}})(n*Or(r*r*e,t)).pow_p_5_8;let s=Or(n*r*i,t);const c=Or(e*s*s,t),u=s,h=Or(s*ck,t),d=c===n,p=c===Or(-n,t),v=c===Or(-n*ck,t);return d&&(s=u),(p||v)&&(s=h),$X(s,t)&&(s=Or(-s,t)),{isValid:d||p,value:s}}const uk=y2(kx,void 0,!0),aZ={a:uk.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:uk,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:iZ,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:RX,randomBytes:cX,adjustScalarBytes:sZ,uvRatio:oZ},cZ=tZ(aZ),lZ=(n,e,t)=>cZ.verify(e,n,t.toBytes());new xe("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new xe("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");new xe("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new xe("So11111111111111111111111111111111111111112"),new xe("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");var hk;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Mint=1]="Mint",n[n.Account=2]="Account"})(hk||(hk={}));const uZ=pe.struct([pe.u8("m"),pe.u8("n"),u2("isInitialized"),Cr("signer1"),Cr("signer2"),Cr("signer3"),Cr("signer4"),Cr("signer5"),Cr("signer6"),Cr("signer7"),Cr("signer8"),Cr("signer9"),Cr("signer10"),Cr("signer11")]);uZ.span;const hZ=pe.struct([pe.u32("mintAuthorityOption"),Cr("mintAuthority"),ip("supply"),pe.u8("decimals"),u2("isInitialized"),pe.u32("freezeAuthorityOption"),Cr("freezeAuthority")]);hZ.span;function fZ(n,e=!1){if(!n)return;const t=n.slice(0,4).readUInt32LE(0);return n.slice(4,4+t).toString().replace(/^\0/,e?"":"\0")}const dZ=(n,e)=>{const t=o2(n.toBase58());return a2(t,HY,e)};async function pZ(n,e){const t=[{memcmp:{offset:32,bytes:e.toBase58()}},{memcmp:{offset:0,bytes:i2.toBase58()}}];return(await n.getProgramAccounts(O8,{filters:t,dataSlice:{offset:0,length:0}})).map((r=>r.pubkey))}function Sp(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function mZ(n,e){this.source=n,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=e,this.destLen=0,this.ltree=new Sp,this.dtree=new Sp}var aM=new Sp,cM=new Sp,Cx=new Uint8Array(30),Ox=new Uint16Array(30),lM=new Uint8Array(30),uM=new Uint16Array(30),gZ=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fk=new Sp,ao=new Uint8Array(320);function dk(n,e,t,r){var i,s;for(i=0;i<t;++i)n[i]=0;for(i=0;i<30-t;++i)n[i+t]=i/t|0;for(s=r,i=0;i<30;++i)e[i]=s,s+=1<<n[i]}var pk=new Uint16Array(16);function Wv(n,e,t,r){var i,s;for(i=0;i<16;++i)n.table[i]=0;for(i=0;i<r;++i)n.table[e[t+i]]++;for(n.table[0]=0,s=0,i=0;i<16;++i)pk[i]=s,s+=n.table[i];for(i=0;i<r;++i)e[t+i]&&(n.trans[pk[e[t+i]]++]=i)}function yZ(n){n.bitcount--||(n.tag=n.source[n.sourceIndex++],n.bitcount=7);var e=1&n.tag;return n.tag>>>=1,e}function fo(n,e,t){if(!e)return t;for(;n.bitcount<24;)n.tag|=n.source[n.sourceIndex++]<<n.bitcount,n.bitcount+=8;var r=n.tag&65535>>>16-e;return n.tag>>>=e,n.bitcount-=e,r+t}function Mx(n,e){for(;n.bitcount<24;)n.tag|=n.source[n.sourceIndex++]<<n.bitcount,n.bitcount+=8;var t=0,r=0,i=0,s=n.tag;do r=2*r+(1&s),s>>>=1,++i,t+=e.table[i],r-=e.table[i];while(r>=0);return n.tag=s,n.bitcount-=i,e.trans[t+r]}function wZ(n,e,t){var r,i,s,c,u,h;for(r=fo(n,5,257),i=fo(n,5,1),s=fo(n,4,4),c=0;c<19;++c)ao[c]=0;for(c=0;c<s;++c){var d=fo(n,3,0);ao[gZ[c]]=d}for(Wv(fk,ao,0,19),u=0;u<r+i;){var p=Mx(n,fk);switch(p){case 16:var v=ao[u-1];for(h=fo(n,2,3);h;--h)ao[u++]=v;break;case 17:for(h=fo(n,3,3);h;--h)ao[u++]=0;break;case 18:for(h=fo(n,7,11);h;--h)ao[u++]=0;break;default:ao[u++]=p}}Wv(e,ao,0,r),Wv(t,ao,r,i)}function mk(n,e,t){for(;;){var r,i,s,c,u=Mx(n,e);if(u===256)return 0;if(u<256)n.dest[n.destLen++]=u;else for(r=fo(n,Cx[u-=257],Ox[u]),i=Mx(n,t),c=s=n.destLen-fo(n,lM[i],uM[i]);c<s+r;++c)n.dest[n.destLen++]=n.dest[c]}}function bZ(n){for(var e,t;n.bitcount>8;)n.sourceIndex--,n.bitcount-=8;if((e=256*(e=n.source[n.sourceIndex+1])+n.source[n.sourceIndex])!==(65535&~(256*n.source[n.sourceIndex+3]+n.source[n.sourceIndex+2])))return-3;for(n.sourceIndex+=4,t=e;t;--t)n.dest[n.destLen++]=n.source[n.sourceIndex++];return n.bitcount=0,0}(function(n,e){var t;for(t=0;t<7;++t)n.table[t]=0;for(n.table[7]=24,n.table[8]=152,n.table[9]=112,t=0;t<24;++t)n.trans[t]=256+t;for(t=0;t<144;++t)n.trans[24+t]=t;for(t=0;t<8;++t)n.trans[168+t]=280+t;for(t=0;t<112;++t)n.trans[176+t]=144+t;for(t=0;t<5;++t)e.table[t]=0;for(e.table[5]=32,t=0;t<32;++t)e.trans[t]=t})(aM,cM),dk(Cx,Ox,4,3),dk(lM,uM,2,1),Cx[28]=0,Ox[28]=258;var vZ=function(n,e){var t,r,i=new mZ(n,e);do{switch(t=yZ(i),fo(i,2,0)){case 0:r=bZ(i);break;case 1:r=mk(i,aM,cM);break;case 2:wZ(i,i.ltree,i.dtree),r=mk(i,i.ltree,i.dtree);break;default:r=-3}if(r!==0)throw new Error("Data error")}while(!t);return i.destLen<i.dest.length?typeof i.dest.slice=="function"?i.dest.slice(0,i.destLen):i.dest.subarray(0,i.destLen):i.dest};const _Z=new Uint8Array(new Uint32Array([305419896]).buffer)[0]===18,gk=(n,e,t)=>{let r=n[e];n[e]=n[t],n[t]=r};var xZ={swap32LE:n=>{_Z&&(e=>{const t=e.length;for(let r=0;r<t;r+=4)gk(e,r,r+3),gk(e,r+1,r+2)})(n)}};const yk=vZ,{swap32LE:EZ}=xZ;var AZ=class{constructor(e){const t=typeof e.readUInt32BE=="function"&&typeof e.slice=="function";if(t||e instanceof Uint8Array){let r;if(t)this.highStart=e.readUInt32LE(0),this.errorValue=e.readUInt32LE(4),r=e.readUInt32LE(8),e=e.slice(12);else{const i=new DataView(e.buffer);this.highStart=i.getUint32(0,!0),this.errorValue=i.getUint32(4,!0),r=i.getUint32(8,!0),e=e.subarray(12)}e=yk(e,new Uint8Array(r)),e=yk(e,new Uint8Array(r)),EZ(e),this.data=new Uint32Array(e.buffer)}else({data:this.data,highStart:this.highStart,errorValue:this.errorValue}=e)}get(e){let t;return e<0||e>1114111?this.errorValue:e<55296||e>56319&&e<=65535?(t=(this.data[e>>5]<<2)+(31&e),this.data[t]):e<=65535?(t=(this.data[2048+(e-55296>>5)]<<2)+(31&e),this.data[t]):e<this.highStart?(t=this.data[2080+(e>>11)],t=this.data[t+(e>>5&63)],t=(t<<2)+(31&e),this.data[t]):this.data[this.data.length-4]}},hM={exports:{}},wk,bk,Ol,Yv,Xv,vk,Rh,Od,_k,jr,Zv,Qv,Jv,e_,W0,Y0,Md,xk,Ek,t_,n_,Ml,r_,Ak,Sk,i_,s_,X0,o_,a_,Rk,c_,l_,u_,h_,f_,Tk,Bd,d_;hM.exports=(bk=wk="3.7.7",Ol=typeof Jr.Buffer=="function",Yv=typeof TextDecoder=="function"?new TextDecoder:void 0,Xv=typeof TextEncoder=="function"?new TextEncoder:void 0,vk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Rh=Array.prototype.slice.call(vk),d_={},Rh.forEach((function(n,e){return d_[n]=e})),Od=d_,_k=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,jr=String.fromCharCode.bind(String),Zv=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(n){return new Uint8Array(Array.prototype.slice.call(n,0))},Qv=function(n){return n.replace(/=/g,"").replace(/[+\/]/g,(function(e){return e=="+"?"-":"_"}))},Jv=function(n){return n.replace(/[^A-Za-z0-9\+\/]/g,"")},e_=function(n){for(var e,t,r,i,s="",c=n.length%3,u=0;u<n.length;){if((t=n.charCodeAt(u++))>255||(r=n.charCodeAt(u++))>255||(i=n.charCodeAt(u++))>255)throw new TypeError("invalid character found");s+=Rh[(e=t<<16|r<<8|i)>>18&63]+Rh[e>>12&63]+Rh[e>>6&63]+Rh[63&e]}return c?s.slice(0,c-3)+"===".substring(c):s},W0=typeof btoa=="function"?function(n){return btoa(n)}:Ol?function(n){return Jr.Buffer.from(n,"binary").toString("base64")}:e_,Y0=Ol?function(n){return Jr.Buffer.from(n).toString("base64")}:function(n){for(var e=4096,t=[],r=0,i=n.length;r<i;r+=e)t.push(jr.apply(null,n.subarray(r,r+e)));return W0(t.join(""))},Md=function(n,e){return e===void 0&&(e=!1),e?Qv(Y0(n)):Y0(n)},xk=function(n){if(n.length<2)return(e=n.charCodeAt(0))<128?n:e<2048?jr(192|e>>>6)+jr(128|63&e):jr(224|e>>>12&15)+jr(128|e>>>6&63)+jr(128|63&e);var e=65536+1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320);return jr(240|e>>>18&7)+jr(128|e>>>12&63)+jr(128|e>>>6&63)+jr(128|63&e)},Ek=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,t_=function(n){return n.replace(Ek,xk)},n_=Ol?function(n){return Jr.Buffer.from(n,"utf8").toString("base64")}:Xv?function(n){return Y0(Xv.encode(n))}:function(n){return W0(t_(n))},Ml=function(n,e){return e===void 0&&(e=!1),e?Qv(n_(n)):n_(n)},r_=function(n){return Ml(n,!0)},Ak=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Sk=function(n){switch(n.length){case 4:var e=((7&n.charCodeAt(0))<<18|(63&n.charCodeAt(1))<<12|(63&n.charCodeAt(2))<<6|63&n.charCodeAt(3))-65536;return jr((e>>>10)+55296)+jr(56320+(1023&e));case 3:return jr((15&n.charCodeAt(0))<<12|(63&n.charCodeAt(1))<<6|63&n.charCodeAt(2));default:return jr((31&n.charCodeAt(0))<<6|63&n.charCodeAt(1))}},i_=function(n){return n.replace(Ak,Sk)},s_=function(n){if(n=n.replace(/\s+/g,""),!_k.test(n))throw new TypeError("malformed base64.");n+="==".slice(2-(3&n.length));for(var e,t,r,i="",s=0;s<n.length;)e=Od[n.charAt(s++)]<<18|Od[n.charAt(s++)]<<12|(t=Od[n.charAt(s++)])<<6|(r=Od[n.charAt(s++)]),i+=t===64?jr(e>>16&255):r===64?jr(e>>16&255,e>>8&255):jr(e>>16&255,e>>8&255,255&e);return i},X0=typeof atob=="function"?function(n){return atob(Jv(n))}:Ol?function(n){return Jr.Buffer.from(n,"base64").toString("binary")}:s_,o_=Ol?function(n){return Zv(Jr.Buffer.from(n,"base64"))}:function(n){return Zv(X0(n).split("").map((function(e){return e.charCodeAt(0)})))},a_=function(n){return o_(c_(n))},Rk=Ol?function(n){return Jr.Buffer.from(n,"base64").toString("utf8")}:Yv?function(n){return Yv.decode(o_(n))}:function(n){return i_(X0(n))},c_=function(n){return Jv(n.replace(/[-_]/g,(function(e){return e=="-"?"+":"/"})))},u_=function(n){return{value:n,enumerable:!1,writable:!0,configurable:!0}},h_=function(){var n=function(e,t){return Object.defineProperty(String.prototype,e,u_(t))};n("fromBase64",(function(){return l_(this)})),n("toBase64",(function(e){return Ml(this,e)})),n("toBase64URI",(function(){return Ml(this,!0)})),n("toBase64URL",(function(){return Ml(this,!0)})),n("toUint8Array",(function(){return a_(this)}))},f_=function(){var n=function(e,t){return Object.defineProperty(Uint8Array.prototype,e,u_(t))};n("toBase64",(function(e){return Md(this,e)})),n("toBase64URI",(function(){return Md(this,!0)})),n("toBase64URL",(function(){return Md(this,!0)}))},Tk=function(){h_(),f_()},Bd={version:wk,VERSION:bk,atob:X0,atobPolyfill:s_,btoa:W0,btoaPolyfill:e_,fromBase64:l_=function(n){return Rk(c_(n))},toBase64:Ml,encode:Ml,encodeURI:r_,encodeURL:r_,utob:t_,btou:i_,decode:l_,isValid:function(n){if(typeof n!="string")return!1;var e=n.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},fromUint8Array:Md,toUint8Array:a_,extendString:h_,extendUint8Array:f_,extendBuiltins:Tk,Base64:{}},Object.keys(Bd).forEach((function(n){return Bd.Base64[n]=Bd[n]})),Bd);var SZ=hM.exports,RZ="ABAOAAAAAADQjQAAAd4HIfjtnG2oFUUYxx/1nHu29OolvKRSZIIQghSSEFJwwj4YWdzoFcoQyriBHwz8YHDBiSKDLG9YKSEiUX4IFQ0FCaRLoFmUb9mLBqJ+EDOIsAgpjf7b7nCnOTO7M7szu8frPPBjZufleZ6ZeWZm73pwYALRk2ApGAQMvC6UlU2HwUbwDthk0P5DsC2jfifYC0bAQXAE/AhOgXNCu1/A7+ASoAZRD5gMekE/mAFmge1gN9jbSPrOSdPPkM4DX4AvwVFwApwBZ8EFcBH8Bf4GE5pEUXP0uQ/5ac2k/UyktzWT/ncgPYj0rmZip91M6hc1R/U/hPzj4BnwPBgECwT7cb8VKFsZJflVyK9O9cW8gvwb6fM6pO+l+c1It4Lt4Hah/R7k94H94BuhPGZDNMqWlK1gf4rYNovthu1c8x3G8xOYmhKXnUH6c5pf0/h/+8Uo/1Wagz+bev1X0rpGD9GkniS/FjRTvVNRdiO4BcwGc8H8tN3dabqwp1Pv/Sh7WFHOGU4pOz9vws/1qa+PCuXxGHZmjDtQAdL6n1DEgAs7NwnrvCQj5gKBQCAQCAQCgUAgEOgGnsPfrlOE7zlvG3y/WI4+K4W/eYciotVgCGWv8u85SNeDjVHyPXAj8tORbknrtyLdAT5Jnz9Fehnp5zl/S3+F+kPQeRgcAUfBMfAtOB6FulAX6kJdqHNdtwPsAQei+u+sQCAwdjnk+d9TNk0Y/Xd1mUFFmfh+vKHhxycbRnoTaDLR0t582mg3oGg7LJWN4JmmoD1YNSUp24b0NJjWR3QnGAT3TcT7Pzh7HdGt1xNF4xKeFvIiu9D25ER1nczqVMeMSUS7kX8M6bvgMKBeMx2BQCAQGJv8gXuhEd8nLaJ/cB+2cCdPaiW/E2ojvyi9oyOkN6B8Df5mmZbW34x0QLjDZ7eS707i/Rr/ZmRua/R3ZPORv6eV1C2MU/R/MP1O9gCeH2mN9n0K+Wdb+rt7EHUrhPpVreS7GH9mQt1ryL+VoWt9Rl3MEuhdJr2vvI8+H4CPwQuo25XqeLHAe81ewf4I8gckf77G80up3uM5voqcRNuX0e800vMW/XwyBH7rEl9EZiC2n6jQ3masyxzY/EHxnXjeVfptIP797rAAkxjO4KNGZ/trjTJz/33O33rTpXPpVBf+1u4cfLqg8Wuxo9+Dnk/1XzQc/6W03RWhrD+dSzI4x+K/eS914Xnnisvp2MY7OrP2ldAToe86MFnQ0X+VnqU2xOfnrCh5f3Oha0GUpPciXQQGrqY5hK9LBX+nK/aebaweS8+AZSXnIa9/v4MzTh7b2jH6O/rlJdfiZBeMoUFmjBfy4wz7mBCkPgnz7y6Oq4x/l+sWXeO4lKrsdJvUvYZF111MdfmxLm0NpmI7591853Tj+VJVDGaNoZ3TRtahautDRL/qkm6KlW6Wa2EeXI3N5Ry0SX+e26xJ27K9K5iijNJyjvwsnllZ4mKeZbuy72I5F5VvNr6o+hcVbredoVc3/y7vN/keke0ywS6T6tqOfOE2mQKS8rJ/3A8mpHWfZVl7qq0oV0lbQ9m9bOszt+lb5LWsU8TxN8j9+LnOPnL3Pc73tz4X31fy7mVdDObZcnHfdev3VNV86ebRtF1VUsSui7U0OQ/rEvE8Jsp+j1H5Lbfnecrpa+Nf1XEi2mZUz/qIe4b7oJtDXi8/m85bN69HJOXr2i9Z+0PVVuW36n5x6V8Z/Yw640s+t5nQlpGfOPAdX2XPI5d+iP6wDJ8YFdvfRc/bOkR31jKpXHx2eb7J91kd7yaMOseb9w6Vp7PO9YyFUWeMM6pvfC7mhBXoI78z1SnyfDPLvqoyRp1nmNieZeAqRlUxV+Ssz3vvdSWm/paJ87ruuipsyTGmssfI3X4zWSMVTFNOlD1PNjbK+OeKsmI6b/J4mdTWp+TZ8jkfRXXEwgz0lPXZx9z7PruqOhdNYlqMZR2qeHe1N33OQdYYVeWyiG3l/rKeKteS2/UhXDdP885CMaWcPqbzaBJTOt1ViqnPjOqJmSzxcbfWtQ6iMNLPv6tx5om8fxh1niUu/GA5mMalq3lQnQ+25PmtspnlDxdRrwupaw/7WCvb9VLpynrWlbkURp17zrcPjNT7rSopsr9cnX95+861PRN/bM8Y1/YZmd0//Fmnp0oxvRvk5yJ2TNqwArpdiY+Y4Kk8b1nzWGSOGZnFF29nK1ynHAuiraK6XUudPlRh2+ZM1d3xJnp9S9H3Op2OKu4Xn7qrfn9gVO+Za3oe6vrq7vWq3z24Py6Fkf59Qjd2VzZ0dnXC62x89iGi7xwuumebc8ZUZFum81BlvKoka+19+cLIPGZU7fizT3GlP29+xfEwKa864+oUk3OCkXp9maJtFeLaJqNisctTG9HFRh13XZaoxmd6T7sWRuZz5Ssus3zgIseI2F7WVbWYzFsVsWZzT5veHWVE1qWaj7w4cyWma6TyMW8cTJP37bvchqQ6Gx+YAlkfL/exPqIt0b5r4brz5lPVzqfo9GfZLRrTNmMx1cfIz5z5Pkd9ntfyvilCnv6y/tr2q+ouM/WhbPyX2UNFdPqSqs6pLLuucWXLZAw24/UlOt9dzqELn1z5Zrtv8uz6EF82ZlaEK2FU7vtpXcIsydJRhbCa+e8/D60bUcbXTMMzfRK24nKssvgYr+x71lh8iO/1tBl/LPGlIseAT6q2J8m/",TZ={data:RZ},NZ="AAACAAAAAACAOAAAAbYBSf7t2S1IBEEYBuDVDZ7FYrQMNsFiu3hgEYOI0SCXRIUrB8JhEZtgs5gEg1GMFk02m82oGI02m+9xezCOczv/uwv3fvAwc/PzfXOzcdqzWdaBDdiGPdiHdjE+DS3RNDuCfsn8idQ/g3OH3BdwKf0e96/gumTfYcncLdzBPTzAo+RZ+f0Cr/AG7/AJX4738x1wtz9FO5PX/50n6UXMNdfg/0lERERERERERERERETpdedHBvDRql4nq0cXtW9af98qdRby0Vvp8K4W0V+C5Xw0t4J2bfjeBp3cnEu1brnnCTYNa7eKdz91XP7WO9Lb4GqRb7cY6xbtAdqeVOsY/QGcevw/tb6OT85YhvfKYEx9CMuxKsKnrs+eJtVInVvHJ0eVYVvTZk2siFVLOCjb61PTZX3MdVWEyP7fjzpmMxdzTyq2Ebue6x61nXRGnzndWpf1an7dXmGYE4Y1ptqqKsK1nu26Ju0ty+maV2Rpvk+qnDZjKUIobUiesdAQE/jmCTmHmsskpFZsVYbtmXRcaoSGUPomunW2derQhDPFjtT1Q/eb8vnm990fq35oHVt11bU9m89c7DNI8Qs=",IZ={data:NZ},kZ="AAgOAAAAAABQfgAAAWMGnPntmm2IVUUYx+dyb2ezXXtBiSCLsKDIiKIIoYINciGwQHrRL2Ufii0qMsv7QVBuQkXhkmW5gksQRhRFSBslbkllHyy3L2XllkXrB3uhF0tQ0Kj+xzN3d3buzJx5PeesOw/8mDNvz/PMnOc8s/fs6asTcgu4A9wF+mjdV9kEa8FqsE5j/DPgeUX/JvASeBW8Bd4GO8CHYDcz7nPwFRgD4+An8Cf4AxwBx0G9QcjrYBt4p5HN/YDqGEF9F7gW3AC6wU1gCVgK5oDlYA8YBXvBGOgHD4FzwSo6fg24EDwBxsEB8Cu1N4ByI1gA/gbfo+0wyuO0vgW8DK5i+tN5tVOyMmUWrs9k6nNxPY/WL0B5Mb2+HOU14HrwY2Ny/CLUbwa3gzsZPT7ZGECnDvdiPQ+ARyhpWxPlWnr9JLfeAdS/43S8qNiTIdq3FeUb9HolOEj7h9H2LtgJPgHr0TZKx31Jy30C/T+g7aDCbpPiuj/fStrTNfQGioWIHr9z+z8iiAEfdg4zdo7Gex6JRCKRSCQSiUQikYrzL367HmLq8zV+yyYJIbOTzva5aJtH2y9CuYBebwdX4PoYyv107ELUe5PsPWBavzHJ3tMtFuhluTWnPxKJRCKRSCQy/TjQCKt/XX3y/+o6HPJs35XNszPO0WQf+FnQfsnpU+vLUN8MdgNyRtZ2Ncp7wBDYDn4D47MIOes0QpaADeDUWsYe5pql3k3IZd3iPp4H6bjnUI6Cf8B1PYQ0wWCPno5IJBKJnJx83eN2fi7NeYd0jKsvr+A7p3749KzkXd2Ap+9R7qfrflhz/ava45m2I7Rcw+lI3/WtAO+Bx5PsG6+nk+xbv7Q/fWe4gc7ZRPu3oNzK6Hktmfy2r036vc82On44yb4ZHKFzPkL5aZJ9f9hH7Y8y+nbheq9irWOpf0z/L8nUWPmL6TuK6/8Uuhpd6r3sRv8cbszZXZm981HOB5fS/itzdIlYyMzpTa85HYtRv422LTPQ/yjd+/SZudvCr1DcV5Iv6W+HFRXaB988Rte2ugJrHKTPW4vx5akK+MWzvoI++Sb9zvKFriy/m8wbwpxXQL/gDNs5Tb+zTPfiza6sHEa5A3w8jWLgM/j6BePvoOBcM33+v6Hj9zvuQ978lR5ihl/bedM0DvN4vwI+NOvy7/SbCkze51WVRfXaCaJEmdlSm+H4lKLsVE3Kvoe2950tZdcnu5T1rISQKuaHovZNZw26/aKxvn0tS6oUG1WWmbAPvtbGjzPU2WvgV4uoEc7PkQ77MhHoYu1K7YvOVhv7uuJ7/QpdLcKtX2ZPthc1A/tEcK/zbAW+/0rbnqRVAlPuk0gC5b5cv1Q+BbIp8kGnX2VjQmT7bLm/Hfp1RfZ3kAdpGZI3h2iMnZCC47ftj+351WJ06PTLxk6I7OxxWH8rd4RCRHHuKC1DbOaIdJyQAn4vuPpqS8d5HVJUfy+p2lXjihIbuya/L2wowkae3TJEZFfmjywnBshRSl9s9Je1v7z9kL7bPE9Fi+xMlf09Z3Ne2KxNFu8qf2x02ojMD9McrpOLivTX9j6F9l/HfmgbotKnfp9nJCHqffFho0hcxWRNhHTarUI8h94PGx28Pp2xrrZ8SehcFToPhvabvbZ5JkXx4etZd4lZfn0+pIz8oMoRunpsbPgUUZ4NaYu1qcr9vC+2MWsa8yHOPlOxfU7L9Fnkg0t+0dGdZ9O38PGr6nPxwzRWXUX0/JmSN09kU+WPyD8f4jM+ioo7lW1femzuv0iXqi5r8yGq/fBts+gca/M8+orLvOc0RJ7P88c0J/m2L/OFbzfVa5LrXc4WH2NsbJrulcsafa+T99lFVwgpwr7JMy47U3T0FiFF56uQuss4j3gfbOb68sUlB6vOjaLPtrbdkLp9nZmqffcpqnurk4NU+oq8rzIx2Xddv8tel+peydar+htBpIufH0J4O2XFCCu2z0GZayjyDMzLS6Z+yGK1Sjmk7RNbtq91zrXQfumeOb58MdGTtxdlngmyc09nTlmxqfMcmvij67OJXV3R3dOQsZznh6qfkOL80M3BuvtW1B7yY2R+FLG/MsnzVXd+aF9VuUk1xzWudPwy1edzz1x8t9UfyndbHTY2yxTdHOCa92zj3CR+Te6fjzX5Ftf9M/E1VC4yzVehROa77/h09cmXb6Zxm2c3pPjSH9bn/wE=",CZ={data:kZ},OZ={CR:1,LF:2,Control:4,Extend:8,ZWJ:16,Regional_Indicator:32,Prepend:64,SpacingMark:128,L:256,V:512,T:1024,LV:2048,LVT:4096,Extended_Pictographic:8192,InCB_Linker:16384,InCB_Consonant:32768,InCB_Extend:65536};const jt=OZ,MZ=TZ.data,BZ=IZ.data,LZ=CZ.data,w2=AZ,b2=SZ.Base64,DZ=new w2(b2.toUint8Array(MZ)),jZ=new w2(b2.toUint8Array(BZ)),PZ=new w2(b2.toUint8Array(LZ));function mn(n,e){return(n&e)!==0}function UZ(n,e,t){const r=e.length;for(let i=t;i+1<r;i++){const s=e[i+0],c=e[i+1];switch(n.gb9c){case 0:mn(s,jt.InCB_Consonant)&&(n.gb9c=1);break;case 1:mn(s,jt.InCB_Extend)?n.gb9c=1:mn(s,jt.InCB_Linker)?n.gb9c=2:n.gb9c=mn(s,jt.InCB_Consonant)?1:0;break;case 2:mn(s,jt.InCB_Extend|jt.InCB_Linker)?n.gb9c=2:n.gb9c=mn(s,jt.InCB_Consonant)?1:0}switch(n.gb11){case 0:mn(s,jt.Extended_Pictographic)&&(n.gb11=1);break;case 1:mn(s,jt.Extend)?n.gb11=1:mn(s,jt.ZWJ)?n.gb11=2:n.gb11=mn(s,jt.Extended_Pictographic)?1:0;break;case 2:n.gb11=mn(s,jt.Extended_Pictographic)?1:0}switch(n.gb12){case 0:mn(s,jt.Regional_Indicator)?n.gb12=1:n.gb12=-1;break;case 1:mn(s,jt.Regional_Indicator)?n.gb12=0:n.gb12=-1}switch(n.gb13){case 0:mn(s,jt.Regional_Indicator)||(n.gb13=1);break;case 1:mn(s,jt.Regional_Indicator)?n.gb13=2:n.gb13=1;break;case 2:n.gb13=1}if((!mn(s,jt.CR)||!mn(c,jt.LF))&&(mn(s,jt.Control|jt.CR|jt.LF)||mn(c,jt.Control|jt.CR|jt.LF)||!(mn(s,jt.L)&&mn(c,jt.L|jt.V|jt.LV|jt.LVT)||mn(s,jt.LV|jt.V)&&mn(c,jt.V|jt.T)||mn(s,jt.LVT|jt.T)&&mn(c,jt.T)||mn(c,jt.Extend|jt.ZWJ)||mn(c,jt.SpacingMark)||mn(s,jt.Prepend)||mn(c,jt.InCB_Consonant)&&n.gb9c===2||mn(c,jt.Extended_Pictographic)&&n.gb11===2||mn(c,jt.Regional_Indicator)&&n.gb12===1||mn(c,jt.Regional_Indicator)&&n.gb13===2)))return i+1-t}return r-t}MX((function(n){const e=[],t=[0],r=[];for(let s=0;s<n.length;){const c=n.codePointAt(s);r.push(DZ.get(c)|jZ.get(c)|PZ.get(c)),s+=c>65535?2:1,t.push(s)}const i={gb9c:0,gb11:0,gb12:0,gb13:0};for(let s=0;s<r.length;){const c=UZ(i,r,s),u=t[s],h=t[s+c];e.push(n.slice(u,h)),s+=c}return e}));var Bx;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.CentralState=1]="CentralState",n[n.ActiveRecord=2]="ActiveRecord",n[n.InactiveRecord=3]="InactiveRecord"})(Bx||(Bx={}));let dy=class fM{constructor(e){this.tag=e.tag,this.nonce=e.nonce,this.nameAccount=new xe(e.nameAccount),this.owner=new xe(e.owner),this.nftMint=new xe(e.nftMint)}static deserialize(e){return new fM(Lg(this.schema,e))}static async retrieve(e,t){const r=await e.getAccountInfo(t);if(!r||!r.data)throw new QY("NFT record not found: "+t.toBase58());return this.deserialize(r.data)}static async findKey(e,t){return await xe.findProgramAddress([Jr.Buffer.from("nft_record"),e.toBuffer()],t)}static findKeySync(e,t){return xe.findProgramAddressSync([Jr.Buffer.from("nft_record"),e.toBuffer()],t)}};dy.LEN=98,dy.schema={struct:{tag:"u8",nonce:"u8",nameAccount:{array:{type:"u8",len:32}},owner:{array:{type:"u8",len:32}},nftMint:{array:{type:"u8",len:32}}}};async function VZ(n,e,t){const r=dZ(e,t),{registry:i}=await ho.retrieve(n,r);if(!i.data)throw new YY("The registry data is empty");return fZ(i.data,!1)}new xe("8nbvMciS9B6a93S5Bq3azG3NaHGZq8wC3umnPPU9oTJ");var zZ=function(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var i=n.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var c=n.length,u=n.charAt(0),h=Math.log(c)/Math.log(256),d=Math.log(256)/Math.log(c);function p(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;for(var x=0,y=0,S=0;v[x]===u;)y++,x++;for(var k=(v.length-x)*h+1>>>0,I=new Uint8Array(k);v[x];){var M=v.charCodeAt(x);if(M>255)return;var j=e[M];if(j===255)return;for(var O=0,Q=k-1;(j!==0||O<S)&&Q!==-1;Q--,O++)j+=c*I[Q]>>>0,I[Q]=j%256>>>0,j=j/256>>>0;if(j!==0)throw new Error("Non-zero carry");S=O,x++}for(var oe=k-S;oe!==k&&I[oe]===0;)oe++;for(var ce=new Uint8Array(y+(k-oe)),W=y;oe!==k;)ce[W++]=I[oe++];return ce}return{encode:function(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var x=0,y=0,S=0,k=v.length;S!==k&&v[S]===0;)S++,x++;for(var I=(k-S)*d+1>>>0,M=new Uint8Array(I);S!==k;){for(var j=v[S],O=0,Q=I-1;(j!==0||O<y)&&Q!==-1;Q--,O++)j+=256*M[Q]>>>0,M[Q]=j%c>>>0,j=j/c>>>0;if(j!==0)throw new Error("Non-zero carry");y=O,S++}for(var oe=I-y;oe!==I&&M[oe]===0;)oe++;for(var ce=u.repeat(x);oe<I;++oe)ce+=n.charAt(M[oe]);return ce},decodeUnsafe:p,decode:function(v){var x=p(v);if(x)return x;throw new Error("Non-base"+c+" character")}}};zZ("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");const FZ=(n,e)=>{const{pubkey:t}=c2(e+"."+n,Ep.V1);return t};var Nk;(function(n){n.DegenPoet1="DegenPoet#1",n.Rgb0x001="rgb0x00#1",n.Retardio1="Retardio#1",n.Retardio2="Retardio#2",n.Retardio3="Retardio#3",n.NumberArt0="NumberArt#0",n.NumberArt1="NumberArt#1",n.NumberArt2="NumberArt#2",n.NumberArt3="NumberArt#3",n.NumberArt4="NumberArt#4",n.NumberArt5="NumberArt#5",n.NumberArt6="NumberArt#6",n.NumberArt7="NumberArt#7",n.NumberArt8="NumberArt#8",n.NumberArt9="NumberArt#9",n.ValentineDay2025="Valentine'sDay2025",n.Monkedao="Monkedao"})(Nk||(Nk={}));const HZ=(n,e)=>{const{pubkey:t}=c2(n),r=o2("".concat(e));return a2(r,B8,t)},qZ=async(n,e,t={allowPda:!1})=>{var r;const{pubkey:i}=c2(e),[s]=dy.findKeySync(i,F8),c=FZ(e,zt.SOL),u=HZ(e,zt.SOL),[h,d,p,v]=await n.getMultipleAccountsInfo([s,c,u,i]);if(!(v!=null&&v.data))throw new JY(`Domain ${e} does not exist`);const x=ho.deserialize(v.data);if(h!=null&&h.data&&dy.deserialize(h.data).tag===Bx.ActiveRecord){const y=await q8(n,i);if(!y)throw new tX;return y}e:if(p!=null&&p.data){const y=KY.deserialize(p.data),S=y.getStalenessId(),k=y.getRoAId(),I=y.getContent();if(I.length!==32)throw new eX("Record is malformed");if(y.header.rightOfAssociationValidation!==Pc.Solana||y.header.stalenessValidation!==Pc.Solana)throw new nX;if(!S.equals(x.owner.toBuffer()))break e;if(k.equals(I))return new xe(I);throw new ZY(`The RoA ID shoudl be ${new xe(I).toBase58()} but is ${new xe(k).toBase58()} `)}if(d!=null&&d.data){const y=new TextEncoder,S=Jr.Buffer.concat([d.data.slice(ho.HEADER_LEN,ho.HEADER_LEN+32),c.toBuffer()]),k=y.encode(S.toString("hex"));if(lZ(k,d.data.slice(ho.HEADER_LEN+32,ho.HEADER_LEN+32+rf),x.owner))return new xe(d.data.slice(ho.HEADER_LEN,ho.HEADER_LEN+32))}if(!xe.isOnCurve(x.owner)){if(t.allowPda==="any")return x.owner;if(t.allowPda){const y=await n.getAccountInfo(x.owner);if(!((r=t.programIds)===null||r===void 0)&&r.some((S=>{var k;return(k=y==null?void 0:y.owner)===null||k===void 0?void 0:k.equals(S)})))return x.owner;throw new j4(`The Program ${y==null?void 0:y.owner.toBase58()} is not allowed`)}throw new j4}return x.owner};new xe("ART5dr4bDic2sQVZoFheEmUxwQq5VGSx9he7JxHcXNQD");new xe("CSWvuDHXExVGEMR9kP8xYAHuNjXogeRck9Cnr312CC9g");new xe("J2Q2j6kpSg7tq8JzueCHNTQNcyNnQkvr85RhsFnYZWeG");new xe("6vwnZJZNQjtY4zR93YUuyeDUBhacLLH2mQaZiJAvVwzu");new xe("namesLPneVptA9Z5rqUDD9tMTWEJwofgaYwp8cawRkX"),new xe("CWG7Sn38ho7EzTaQMDykw6VNSSGcbn3TTsTvhDbTUmFd"),new xe("SNSm5hSYiaeYvyweSGoioyyD2hP7mJK1SsVQoC6uo3P"),new xe("zugu92jR3kqgFiNEJywq7gbbc9NbaLmHLiQhsZRwd6J"),new xe("Ga872GkshNeNMDag7m1Bn54dN3NiHksfqnN2pH6A1H9F"),new xe("9Wo9amAUKvrHXSSwg9HXY28miHH3sh2TQhxNgYiewkpg"),new xe("5R7P6U3gTB9Dt4jnE85qXsEoXRkSAqmW7ZRnSvNiJLNC"),new xe("4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU"),new xe("3ogYncmMM5CmytsGCqKHydmXmKUZ6sGWvizkzqwT7zb1"),new xe("BmA9Z6FjioHJPpjT39QazZyhDRUdZy2ezwx4GiDdE2u2"),new xe("FzdN2zE7QUmwKL2T4Y3LTcBUYGtMZP5qsgUjBxsdedNx");const v2={rpcEndpoint:Xc.rpcEndpoint,programId:"namesLPneVptA9Z5rqUDD9tMTWEJwofgaYwp8cawRkX",tld:".gor"};let p_=null;function dM(){return p_||(p_=new Gy(v2.rpcEndpoint,"confirmed")),p_}async function GZ(n){try{const e=dM(),t=n.replace(/\.gor$/i,"").toLowerCase(),r=await qZ(e,t);return(r==null?void 0:r.toBase58())||null}catch(e){return console.error("Error resolving gorid name:",e),null}}async function $Z(n){try{const e=dM(),t=new xe(n),r=await pZ(e,t);return await Promise.all(r.map(async s=>{try{const c=await VZ(e,s);return{name:c?`${c}${v2.tld}`:s.toBase58(),owner:n,domainKey:s.toBase58()}}catch{return{name:s.toBase58().slice(0,8)+"...",owner:n,domainKey:s.toBase58()}}}))}catch(e){return console.error("Error getting domains:",e),[]}}const KZ=[{name:"trash.gor",domainKey:"TrAsH1111111111111111111111111111111111111",owner:"7xKX...3nPq",price:500,listedAt:Date.now()-864e5},{name:"degen.gor",domainKey:"DeGeN2222222222222222222222222222222222222",owner:"9mBQ...7kLp",price:1200,listedAt:Date.now()-1728e5},{name:"gorbag.gor",domainKey:"GorBaG333333333333333333333333333333333333",owner:"3pFR...9xWz",price:2500,listedAt:Date.now()-2592e5},{name:"alpha.gor",domainKey:"ALphA4444444444444444444444444444444444444",owner:"5kMN...2yQr",price:800,listedAt:Date.now()-3456e5},{name:"whale.gor",domainKey:"wHaLe5555555555555555555555555555555555555",owner:"8jRT...4pKm",price:3e3,listedAt:Date.now()-432e6},{name:"moon.gor",domainKey:"MoON66666666666666666666666666666666666666",owner:"2vXY...6nLs",price:1500,listedAt:Date.now()-5184e5},{name:"ape.gor",domainKey:"ApE777777777777777777777777777777777777777",owner:"6wHJ...8mBv",price:750,listedAt:Date.now()-6048e5},{name:"diamond.gor",domainKey:"DiAmOnD8888888888888888888888888888888888",owner:"1qNP...5kRt",price:4500,listedAt:Date.now()-6912e5},{name:"lambo.gor",domainKey:"LaMbO9999999999999999999999999999999999999",owner:"4tFG...3jWx",price:2e3,listedAt:Date.now()-7776e5},{name:"wagmi.gor",domainKey:"WaGmI0000000000000000000000000000000000000",owner:"9hKL...7pYz",price:600,listedAt:Date.now()-864e6},{name:"gm.gor",domainKey:"Gm111111111111111111111111111111111111111A",owner:"3bCD...1nMs",price:5e3,listedAt:Date.now()-9504e5},{name:"ser.gor",domainKey:"SeR22222222222222222222222222222222222222B",owner:"7fEF...4qPv",price:400,listedAt:Date.now()-10368e5}],WZ=[{name:"chad.gor",price:1800,from:"7xKX...3nPq",to:"9mBQ...7kLp",timestamp:Date.now()-36e5,txSignature:"5K7x...mN3p"},{name:"based.gor",price:950,from:"3pFR...9xWz",to:"5kMN...2yQr",timestamp:Date.now()-72e5,txSignature:"8Jb2...qR4w"},{name:"fren.gor",price:650,from:"8jRT...4pKm",to:"2vXY...6nLs",timestamp:Date.now()-144e5,txSignature:"3Lm9...xY7k"},{name:"king.gor",price:3200,from:"6wHJ...8mBv",to:"1qNP...5kRt",timestamp:Date.now()-288e5,txSignature:"9Np4...bZ2j"},{name:"pump.gor",price:420,from:"4tFG...3jWx",to:"9hKL...7pYz",timestamp:Date.now()-432e5,txSignature:"2Qr8...hK5m"}];async function pM(){return KZ.sort((n,e)=>e.listedAt-n.listedAt)}async function mM(){return WZ.sort((n,e)=>e.timestamp-n.timestamp)}function Z0(n){const e=Math.floor((Date.now()-n)/1e3);if(e<60)return`${e}s ago`;const t=Math.floor(e/60);if(t<60)return`${t}m ago`;const r=Math.floor(t/60);return r<24?`${r}h ago`:`${Math.floor(r/24)}d ago`}async function YZ(){const n=await pM();return n.length===0?0:Math.min(...n.map(e=>e.price))}async function XZ(){return(await mM()).reduce((e,t)=>e+t.price,0)}const ZZ=()=>{const{currency:n,accentColor:e,getExplorerLink:t}=is(),{connected:r,publicKey:i}=vf(),s=(i==null?void 0:i.toBase58())||null,[c,u]=ue.useState([]),[h,d]=ue.useState([]),[p,v]=ue.useState([]),[x,y]=ue.useState(!0),[S,k]=ue.useState(""),[I,M]=ue.useState("marketplace"),[j,O]=ue.useState(null),[Q,oe]=ue.useState(""),[ce,W]=ue.useState(null),[K,B]=ue.useState(!1),[U,q]=ue.useState(0),[L,T]=ue.useState(0);ue.useEffect(()=>{(async()=>{y(!0);try{const[Z,D,A,w]=await Promise.all([pM(),mM(),YZ(),XZ()]);u(Z),d(D),q(A),T(w)}catch(Z){console.error("Error loading gorid data:",Z)}y(!1)})()},[]),ue.useEffect(()=>{r&&s?$Z(s).then(v).catch(console.error):v([])},[r,s]);const g=ue.useMemo(()=>S?c.filter(te=>te.name.toLowerCase().includes(S.toLowerCase().replace(/\.gor$/i,""))):c,[c,S]),R=async()=>{if(Q){B(!0),W(null);try{const te=await GZ(Q);W(te||"Not found")}catch{W("Error looking up domain")}B(!1)}},C="bg-magic-green text-black hover:bg-white hover:text-black",Y="focus:border-magic-green";return m.jsxs("div",{className:"min-h-screen bg-black",children:[m.jsx("div",{className:"bg-yellow-500/20 border-b border-yellow-500/50",children:m.jsx("div",{className:"max-w-[1600px] mx-auto px-4 py-3",children:m.jsxs("div",{className:"flex items-center justify-center gap-3",children:[m.jsx(xc,{className:"w-5 h-5 text-yellow-500"}),m.jsx("p",{className:"text-yellow-500 text-sm font-bold uppercase tracking-wider",children:" UNDER CONSTRUCTION  GorID marketplace integration in progress"}),m.jsx(xc,{className:"w-5 h-5 text-yellow-500"})]})})}),m.jsx("div",{className:"border-b border-white/20 bg-gradient-to-b from-magic-green/5 to-transparent",children:m.jsx("div",{className:"max-w-[1600px] mx-auto px-4 py-8 md:py-12",children:m.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[m.jsx("div",{className:"bg-magic-green text-black p-2",children:m.jsx(xc,{className:"w-6 h-6"})}),m.jsxs("h1",{className:"text-3xl md:text-4xl font-black text-white uppercase tracking-tight",children:["GorID",m.jsx("span",{className:"text-magic-green",children:".gor"})]})]}),m.jsx("p",{className:"text-gray-400 text-sm md:text-base font-mono max-w-xl",children:"Trade and manage your Gorbagana identity. Own your .gor domain and turn your wallet into a memorable name."}),m.jsxs("a",{href:"https://gorid.com",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-magic-green text-sm font-bold mt-3 hover:text-white transition-colors",children:["Register at GorID.com ",m.jsx(Mg,{className:"w-4 h-4"})]})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-px bg-white/20 border border-white/20 w-full md:w-auto",children:[m.jsxs("div",{className:"bg-black p-4 hover:bg-white/5 transition-colors",children:[m.jsx("div",{className:"text-gray-500 text-[10px] uppercase font-bold mb-1",children:"Floor"}),m.jsxs("div",{className:"text-magic-green font-mono font-bold text-lg md:text-xl",children:[n," ",U]})]}),m.jsxs("div",{className:"bg-black p-4 hover:bg-white/5 transition-colors",children:[m.jsx("div",{className:"text-gray-500 text-[10px] uppercase font-bold mb-1",children:"Volume"}),m.jsxs("div",{className:"text-white font-mono font-bold text-lg md:text-xl",children:[n," ",L.toLocaleString()]})]}),m.jsxs("div",{className:"bg-black p-4 hover:bg-white/5 transition-colors",children:[m.jsx("div",{className:"text-gray-500 text-[10px] uppercase font-bold mb-1",children:"Listed"}),m.jsx("div",{className:"text-white font-mono font-bold text-lg md:text-xl",children:c.length})]})]})]})})}),m.jsx("div",{className:"border-b border-white/20 bg-white/5",children:m.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 py-4",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[m.jsx("div",{className:"flex-1 relative",children:m.jsx("input",{type:"text",value:Q,onChange:te=>oe(te.target.value),onKeyDown:te=>te.key==="Enter"&&R(),placeholder:"Enter domain name to resolve (e.g. trash.gor)",className:`w-full bg-black border border-white/20 px-4 py-3 text-sm text-white ${Y} outline-none placeholder-gray-600 font-mono`})}),m.jsx("button",{onClick:R,disabled:K||!Q,className:`${C} px-6 py-3 font-bold uppercase tracking-wider text-sm transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2`,children:K?m.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent animate-spin"}):m.jsxs(m.Fragment,{children:[m.jsx(vp,{className:"w-4 h-4"})," Resolve"]})})]}),ce&&m.jsxs("div",{className:"mt-3 p-3 bg-black border border-white/20 font-mono text-sm",children:[m.jsx("span",{className:"text-gray-500",children:"Result: "}),m.jsx("span",{className:ce==="Not found"||ce==="Error looking up domain"?"text-red-400":"text-magic-green",children:ce})]})]})}),m.jsx("div",{className:"max-w-[1600px] mx-auto",children:m.jsxs("div",{className:"flex flex-col lg:flex-row border-l border-r border-white/20",children:[m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("div",{className:"sticky top-16 z-30 bg-black/95 backdrop-blur border-b border-white/20 p-3",children:m.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3",children:[m.jsxs("div",{className:"flex",children:[m.jsxs("button",{onClick:()=>M("marketplace"),className:`px-4 py-2 text-xs font-bold uppercase tracking-widest border transition-colors ${I==="marketplace"?"bg-white text-black border-white":"text-gray-400 border-white/10 hover:border-white/40 hover:text-white"}`,children:[m.jsx(wx,{className:"w-3 h-3 inline mr-2"}),"Marketplace"]}),m.jsxs("button",{onClick:()=>M("activity"),className:`px-4 py-2 text-xs font-bold uppercase tracking-widest border border-l-0 transition-colors ${I==="activity"?"bg-white text-black border-white":"text-gray-400 border-white/10 hover:border-white/40 hover:text-white"}`,children:[m.jsx(Yp,{className:"w-3 h-3 inline mr-2"}),"Activity"]}),r&&m.jsxs("button",{onClick:()=>M("my-domains"),className:`px-4 py-2 text-xs font-bold uppercase tracking-widest border border-l-0 transition-colors ${I==="my-domains"?"bg-white text-black border-white":"text-gray-400 border-white/10 hover:border-white/40 hover:text-white"}`,children:[m.jsx(N4,{className:"w-3 h-3 inline mr-2"}),"My Domains"]})]}),I==="marketplace"&&m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",value:S,onChange:te=>k(te.target.value),placeholder:"SEARCH DOMAINS...",className:`bg-black border border-white/20 pl-8 pr-4 py-2 text-xs text-white ${Y} outline-none w-full sm:w-48 placeholder-gray-700 font-mono`}),m.jsx(vp,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-gray-600 w-3 h-3"})]})]})}),m.jsx("div",{className:"p-4",children:x?m.jsx("div",{className:"flex items-center justify-center py-20",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-8 h-8 border-2 border-magic-green border-t-transparent animate-spin mx-auto mb-4"}),m.jsx("p",{className:"text-gray-500 font-mono text-sm uppercase",children:"Loading domains..."})]})}):I==="marketplace"?m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[g.map(te=>m.jsxs("div",{onClick:()=>O(te),className:"bg-magic-card border border-white/10 hover:border-magic-green/50 transition-all cursor-pointer group",children:[m.jsxs("div",{className:"p-4",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("div",{className:"bg-magic-green/10 text-magic-green px-2 py-1 text-[10px] font-bold uppercase",children:v2.tld}),m.jsx(xp,{className:"w-4 h-4 text-gray-600 group-hover:text-magic-green transition-colors"})]}),m.jsx("h3",{className:"text-xl font-black text-white mb-2 group-hover:text-magic-green transition-colors",children:te.name}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Price"}),m.jsxs("div",{className:"text-magic-green font-mono font-bold",children:[n," ",te.price]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Owner"}),m.jsx("div",{className:"text-gray-400 font-mono text-sm",children:te.owner})]})]})]}),m.jsxs("div",{className:"border-t border-white/10 p-3 bg-white/5 flex items-center justify-between",children:[m.jsxs("span",{className:"text-[10px] text-gray-500 font-mono",children:[m.jsx(pW,{className:"w-3 h-3 inline mr-1"}),Z0(te.listedAt)]}),m.jsxs("button",{className:"text-magic-green text-xs font-bold uppercase hover:text-white transition-colors flex items-center gap-1",children:["Buy ",m.jsx(Xp,{className:"w-3 h-3"})]})]})]},te.domainKey)),g.length===0&&m.jsxs("div",{className:"col-span-full text-center py-12",children:[m.jsx(xc,{className:"w-12 h-12 text-gray-700 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-500 font-mono",children:"No domains found"})]})]}):I==="activity"?m.jsx("div",{className:"border border-white/20 bg-black overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left min-w-[500px]",children:[m.jsx("thead",{className:"bg-white/5 text-gray-500 font-mono text-xs uppercase",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-3",children:"Domain"}),m.jsx("th",{className:"p-3 text-right",children:"Price"}),m.jsx("th",{className:"p-3 text-right",children:"From"}),m.jsx("th",{className:"p-3 text-right",children:"To"}),m.jsx("th",{className:"p-3 text-right",children:"Time"})]})}),m.jsx("tbody",{className:"divide-y divide-white/10 font-mono text-sm",children:h.map((te,Z)=>m.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[m.jsx("td",{className:"p-3",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 bg-magic-green/10 border border-magic-green/30 flex items-center justify-center",children:m.jsx(xc,{className:"w-4 h-4 text-magic-green"})}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"font-bold text-white",children:te.name}),m.jsx("span",{className:"text-[9px] w-fit px-1 border border-magic-green text-magic-green uppercase",children:"sale"})]})]})}),m.jsxs("td",{className:"p-3 text-right text-magic-green font-bold",children:[n," ",te.price]}),m.jsx("td",{className:"p-3 text-right text-gray-400",children:te.from}),m.jsx("td",{className:"p-3 text-right text-gray-500",children:te.to}),m.jsx("td",{className:"p-3 text-right text-gray-600",children:Z0(te.timestamp)})]},Z))})]})}):m.jsx("div",{children:r?p.length===0?m.jsxs("div",{className:"text-center py-12",children:[m.jsx(xc,{className:"w-12 h-12 text-gray-700 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-500 font-mono mb-4",children:"You don't own any .gor domains yet"}),m.jsxs("a",{href:"https://gorid.com",target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center gap-2 ${C} px-6 py-3 font-bold uppercase tracking-wider text-sm`,children:["Register at GorID.com ",m.jsx(Mg,{className:"w-4 h-4"})]})]}):m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(te=>m.jsxs("div",{className:"bg-magic-card border border-magic-green/30 p-4",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("div",{className:"bg-magic-green/10 text-magic-green px-2 py-1 text-[10px] font-bold uppercase",children:"owned"}),m.jsx(xp,{className:"w-4 h-4 text-magic-green"})]}),m.jsx("h3",{className:"text-xl font-black text-white mb-4",children:te.name}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{className:"flex-1 bg-white/10 text-white px-3 py-2 text-xs font-bold uppercase hover:bg-white/20 transition-colors",children:"List for Sale"}),m.jsx("button",{className:"flex-1 border border-white/20 text-gray-400 px-3 py-2 text-xs font-bold uppercase hover:border-white/40 hover:text-white transition-colors",children:"Transfer"})]})]},te.domainKey))}):m.jsxs("div",{className:"text-center py-12",children:[m.jsx(N4,{className:"w-12 h-12 text-gray-700 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-500 font-mono mb-4",children:"Connect wallet to view your domains"})]})})})]}),m.jsx("div",{className:"hidden xl:block w-80 border-l border-white/20 bg-black",children:m.jsxs("div",{className:"sticky top-16",children:[m.jsx("div",{className:"p-4 border-b border-white/20 bg-white/5",children:m.jsxs("h3",{className:"text-xs font-bold text-white uppercase tracking-widest flex items-center gap-2",children:[m.jsx(vx,{className:"w-3 h-3 text-magic-green"})," Recent Sales"]})}),m.jsx("div",{className:"divide-y divide-white/10 max-h-[calc(100vh-8rem)] overflow-y-auto",children:h.map((te,Z)=>m.jsx("div",{className:"p-3 hover:bg-white/5 transition-colors cursor-pointer",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 bg-magic-green/10 border border-magic-green/30 flex items-center justify-center flex-shrink-0",children:m.jsx(xc,{className:"w-4 h-4 text-magic-green"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[m.jsx("span",{className:"text-sm font-bold text-white truncate",children:te.name}),m.jsxs("span",{className:"text-magic-green font-mono text-sm",children:[n,te.price]})]}),m.jsxs("div",{className:"flex justify-between text-[10px] text-gray-500 font-mono",children:[m.jsx("span",{children:Z0(te.timestamp)}),m.jsx("span",{className:"text-gray-600",children:"SALE"})]})]})]})},Z))})]})})]})}),j&&m.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[m.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>O(null)}),m.jsxs("div",{className:"relative bg-magic-dark border border-magic-green/30 p-6 max-w-md w-full animate-in zoom-in-95",children:[m.jsx("button",{onClick:()=>O(null),className:"absolute top-4 right-4 text-gray-500 hover:text-white text-2xl",children:""}),m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{className:"bg-magic-green text-black p-2",children:m.jsx(xc,{className:"w-6 h-6"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-black text-white",children:j.name}),m.jsx("p",{className:"text-gray-500 text-sm font-mono",children:"Gorbagana Name Service"})]})]}),m.jsxs("div",{className:"space-y-4 mb-6",children:[m.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-white/10",children:[m.jsx("span",{className:"text-gray-500 text-sm uppercase",children:"Price"}),m.jsxs("span",{className:"text-magic-green font-mono font-bold text-xl",children:[n," ",j.price]})]}),m.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-white/10",children:[m.jsx("span",{className:"text-gray-500 text-sm uppercase",children:"Owner"}),m.jsx("span",{className:"text-white font-mono text-sm",children:j.owner})]}),m.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-white/10",children:[m.jsx("span",{className:"text-gray-500 text-sm uppercase",children:"Listed"}),m.jsx("span",{className:"text-gray-400 font-mono text-sm",children:Z0(j.listedAt)})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("button",{className:`w-full ${C} py-3 font-bold uppercase tracking-widest flex items-center justify-center gap-2`,children:[m.jsx(wx,{className:"w-4 h-4"})," Buy Now"]}),m.jsx("button",{className:"w-full border border-white/20 text-gray-400 py-3 font-bold uppercase tracking-widest hover:border-white/40 hover:text-white transition-colors",children:"Make Offer"})]}),m.jsx("div",{className:"mt-6 pt-4 border-t border-white/10 text-center",children:m.jsxs("a",{href:`https://gorid.com/${j.name.replace(".gor","")}`,target:"_blank",rel:"noopener noreferrer",className:"text-magic-green text-xs font-bold hover:text-white transition-colors inline-flex items-center gap-1",children:["View on GorID.com ",m.jsx(Mg,{className:"w-3 h-3"})]})})]})]})]})},Lc=new xe("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new xe("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");const _2=new xe("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new xe("So11111111111111111111111111111111111111112");new xe("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");class Zp extends Error{constructor(e){super(e)}}class Ose extends Zp{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class Mse extends Zp{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class Bse extends Zp{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class Lse extends Zp{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class QZ extends Zp{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}const JZ=pe.struct([pe.u32("mintAuthorityOption"),Cr("mintAuthority"),ip("supply"),pe.u8("decimals"),u2("isInitialized"),pe.u32("freezeAuthorityOption"),Cr("freezeAuthority")]);JZ.span;async function Ld(n,e,t=!1,r=Lc,i=_2){if(!t&&!xe.isOnCurve(e.toBuffer()))throw new QZ;const[s]=await xe.findProgramAddress([e.toBuffer(),r.toBuffer(),n.toBuffer()],i);return s}function Q0(n,e,t,r,i=Lc,s=_2){return eQ(n,e,t,r,xt.alloc(0),i,s)}function eQ(n,e,t,r,i,s=Lc,c=_2){const u=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:zn.programId,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1}];return new Rn({keys:u,programId:c,data:i})}const tQ=new xe("FreEcfZtek5atZJCJ1ER8kGLXB1C17WKWXqsVcsn1kPq"),nQ=new xe("71Jvq4Epe2FCJ7JFSF7jLXdNk1Wy4Bhqd9iL6bEFELvg"),rQ=new xe("66xqiDYSQZh7A3wyS3n2962Fx1aU8N3nbHjaZUCrXq6M"),iQ=new xe("5b2P7TQTDQG4nUzrUUSAuv92NT85Ka4oBFXWcTs9A5zk"),sQ=()=>{const{program:n,gorbaganaProvider:e,solanaProgram:t}=_8(),{isDevnet:r,currentNetwork:i}=is(),s=r?t:n,c=r?rQ:tQ,u=r?iQ:nQ,h=(I,M)=>{const[j]=xe.findProgramAddressSync([xt.from("order"),I.toBuffer(),M.toArrayLike(xt,"le",8)],c);return j},d=async(I,M)=>{if(!n||!e)throw new Error("Wallet not connected");const j=e.wallet,O=new Vi(I),Q=h(j.publicKey,O),oe=await n.methods.createOrder(O,1,new Vi(M)).accounts({maker:j.publicKey,order:Q,escrowTokenAccount:null,makerTokenAccount:null,sgorMint:null,tokenProgram:Lc,systemProgram:zn.programId,rent:Aa}).transaction(),ce=await e.connection.getLatestBlockhash();oe.recentBlockhash=ce.blockhash,oe.feePayer=j.publicKey;const W=await j.signTransaction(oe),K=await e.connection.sendRawTransaction(W.serialize(),{skipPreflight:!0,maxRetries:2});return await e.connection.confirmTransaction({blockhash:ce.blockhash,lastValidBlockHeight:ce.lastValidBlockHeight,signature:K},"confirmed"),{tx:K,orderPDA:Q}},p=async(I,M,j)=>{const O=r?t==null?void 0:t.provider:e,Q=r?t:n;if(!Q||!O)throw new Error("Wallet not connected");const oe=O.wallet,ce=new Vi(I),W=h(oe.publicKey,ce),K=xe.findProgramAddressSync([xt.from("escrow"),oe.publicKey.toBuffer(),ce.toArrayLike(xt,"le",8)],c)[0],B=await Ld(u,oe.publicKey),U=j||oe.publicKey,q=r?await Q.methods.createOrder(ce,new Vi(M),U).accounts({maker:oe.publicKey,order:W,escrowTokenAccount:K,makerTokenAccount:B,sgorMint:u,tokenProgram:Lc,systemProgram:zn.programId,rent:Aa}).transaction():await Q.methods.createOrder(ce,0,new Vi(M)).accounts({maker:oe.publicKey,order:W,escrowTokenAccount:K,makerTokenAccount:B,sgorMint:u,tokenProgram:Lc,systemProgram:zn.programId,rent:Aa}).transaction(),L=await O.connection.getLatestBlockhash();q.recentBlockhash=L.blockhash,q.feePayer=oe.publicKey;const T=await oe.signTransaction(q),g=await O.connection.sendRawTransaction(T.serialize(),{skipPreflight:!1,maxRetries:2});return await O.connection.confirmTransaction({blockhash:L.blockhash,lastValidBlockHeight:L.lastValidBlockHeight,signature:g},"confirmed"),{tx:g,orderPDA:W,escrowPDA:K}},v=async I=>e?await e.connection.getAccountInfo(I)!==null:!1,x=async(I,M,j)=>{if(!e)return null;const O=await Ld(M,j);return await v(O)||I.add(Q0(e.wallet.publicKey,O,j,M)),O},y=async I=>{if(!n||!e)throw new Error("Wallet not connected");const M=e.wallet;console.log("[fillOrder] Starting fill order process for:",I.toBase58());const j=await n.account.order.fetch(I);if(console.log("[fillOrder] Order fetched:",{maker:j.maker.toBase58(),amount:j.amount.toString(),direction:j.direction,isFilled:j.isFilled,expirationSlot:j.expirationSlot.toString()}),j.isFilled)throw new Error("Order has already been filled.");const O=await e.connection.getBalance(M.publicKey);if(console.log("[fillOrder] Taker SOL balance:",O/1e9,"SOL"),O<.01*1e9)throw new Error("Insufficient SOL balance. You need at least 0.01 SOL for transaction fees and rent.");const Q=new Qt,oe={taker:M.publicKey,maker:j.maker,order:I,tokenProgram:Lc,systemProgram:zn.programId,escrowTokenAccount:null,takerTokenAccount:null,takerReceiveTokenAccount:null,makerReceiveTokenAccount:null};if(j.direction===0){console.log("[fillOrder] Direction 0: Taker sends gGOR, receives sGOR");const q=xe.findProgramAddressSync([xt.from("escrow"),j.maker.toBuffer(),j.amount.toArrayLike(xt,"le",8)],c)[0];if(console.log("[fillOrder] Escrow PDA:",q.toBase58()),!await e.connection.getAccountInfo(q))throw new Error("Escrow account does not exist. The order may be invalid.");console.log("[fillOrder] Escrow account exists");const T=await Ld(u,M.publicKey);await v(T)?console.log("[fillOrder] Taker receive ATA exists:",T.toBase58()):(console.log("[fillOrder] Creating taker receive ATA:",T.toBase58()),Q.add(Q0(M.publicKey,T,M.publicKey,u))),oe.escrowTokenAccount=q,oe.takerReceiveTokenAccount=T;const R=j.amount.toNumber();if(O<R+.01*1e9)throw new Error(`Insufficient gGOR balance. You need ${R/1e9} gGOR + 0.01 SOL for fees.`)}else{console.log("[fillOrder] Direction 1: Taker sends sGOR, receives gGOR");const q=await Ld(u,M.publicKey);if(await v(q)){console.log("[fillOrder] Taker send ATA exists:",q.toBase58());const R=await e.connection.getTokenAccountBalance(q),C=j.amount.toNumber(),Y=BigInt(R.value.amount);if(console.log("[fillOrder] Taker sGOR balance:",Y.toString(),"required:",C.toString()),Y<BigInt(C))throw new Error(`Insufficient sGOR balance. You have ${Number(Y)/1e9} sGOR but need ${C/1e9} sGOR.`)}else throw console.log("[fillOrder] Creating taker send ATA:",q.toBase58()),Q.add(Q0(M.publicKey,q,M.publicKey,u)),new Error("You do not have an sGOR token account. Please create one and fund it with sGOR first.");const T=await Ld(u,j.maker);await v(T)?console.log("[fillOrder] Maker receive ATA exists:",T.toBase58()):(console.log("[fillOrder] Creating maker receive ATA:",T.toBase58()),Q.add(Q0(M.publicKey,T,j.maker,u))),oe.takerTokenAccount=q,oe.makerReceiveTokenAccount=T}const ce=await n.methods.fillOrder().accounts(oe).instruction();Q.add(ce);const W=await e.connection.getLatestBlockhash("confirmed");Q.recentBlockhash=W.blockhash,Q.feePayer=M.publicKey,console.log("[fillOrder] Transaction prepared:",{recentBlockhash:Q.recentBlockhash,feePayer:Q.feePayer.toBase58(),instructions:Q.instructions.length});try{console.log("[fillOrder] Simulating transaction...");const q=await e.connection.simulateTransaction(Q);if(q.value.err)throw console.error("[fillOrder] Simulation failed:",q.value),new Error(`Transaction simulation failed: ${JSON.stringify(q.value.err)}`);console.log("[fillOrder] Simulation successful. Logs:",q.value.logs)}catch(q){throw console.error("[fillOrder] Simulation error:",q),new Error(`Transaction simulation failed: ${q.message}`)}console.log("[fillOrder] Requesting wallet signature...");const K=await M.signTransaction(Q);let B;try{console.log("[fillOrder] Sending transaction to Gorbagana RPC..."),B=await e.connection.sendRawTransaction(K.serialize(),{skipPreflight:!1,preflightCommitment:"confirmed",maxRetries:3}),console.log("[fillOrder] Transaction sent. Signature:",B)}catch(q){throw console.error("[fillOrder] sendRawTransaction error:",q),q!=null&&q.logs?(console.error("[fillOrder] Transaction logs:",q.logs),new Error(`Transaction failed: ${q.message}

Logs:
${q.logs.join(`
`)}`)):new Error(`Failed to send transaction: ${q.message||q}`)}console.log("[fillOrder] Confirming transaction...");const U=await e.connection.confirmTransaction({blockhash:W.blockhash,lastValidBlockHeight:W.lastValidBlockHeight,signature:B},"confirmed");if(U.value.err){console.error("[fillOrder] Confirmation error:",U.value.err);const q=JSON.stringify(U.value.err),L=q.match(/"Custom":(\d+)/);if(L){const T=parseInt(L[1],10),g=new Error(`Transaction failed with error code ${T}`);throw g.code=T,g}throw new Error(`Transaction failed: ${q}`)}return console.log("[fillOrder] Order filled successfully! Transaction:",B),B},S=async I=>{if(!n||!e)throw new Error("Wallet not connected");const M=e.wallet,j=await n.account.order.fetch(I),O=new Qt,Q={maker:M.publicKey,order:I,tokenProgram:Lc,systemProgram:zn.programId,escrowTokenAccount:null,makerTokenAccount:null};if(j.direction===0){const U=xe.findProgramAddressSync([xt.from("escrow"),M.publicKey.toBuffer(),j.amount.toArrayLike(xt,"le",8)],c)[0],q=await x(O,u,M.publicKey);Q.escrowTokenAccount=U,Q.makerTokenAccount=q}const oe=await n.methods.cancelOrder().accounts(Q).instruction();O.add(oe);const ce=await e.connection.getLatestBlockhash();O.recentBlockhash=ce.blockhash,O.feePayer=M.publicKey;const W=await M.signTransaction(O),K=await e.connection.sendRawTransaction(W.serialize(),{skipPreflight:!0,maxRetries:2}),B=await e.connection.confirmTransaction({blockhash:ce.blockhash,lastValidBlockHeight:ce.lastValidBlockHeight,signature:K},"confirmed");if(B.value.err)throw new Error(`Transaction failed: ${JSON.stringify(B.value.err)}`);return K},k=ue.useCallback(async()=>{const I=s;if(!I)return[];try{return(await I.account.order.all()).map(j=>({orderPDA:j.publicKey,maker:j.account.maker,amount:j.account.amount,direction:j.account.direction||0,expirationSlot:j.account.expirationSlot,isFilled:j.account.isFilled,bump:j.account.bump}))}catch(M){return console.error("Failed to fetch orders:",M),[]}},[s]);return{createOrderGGOR:d,createOrderSGOR:p,fillOrder:y,cancelOrder:S,fetchAllOrders:k,deriveOrderPDA:h}},oQ=()=>{const{connected:n}=vf(),{fetchAllOrders:e,createOrderGGOR:t,createOrderSGOR:r,fillOrder:i,cancelOrder:s}=sQ(),{program:c}=_8(),{rpcEndpoint:u,isDevnet:h,currentNetwork:d}=is(),[p,v]=ue.useState("trade"),[x,y]=ue.useState([]),[S,k]=ue.useState(!1),[I,M]=ue.useState("all"),[j,O]=ue.useState(!1),[Q,oe]=ue.useState(null),[ce,W]=ue.useState(!1),[K,B]=ue.useState(""),[U,q]=ue.useState("gGOR");ue.useEffect(()=>{const w=async()=>{k(!0);try{const ne=(await e()).filter(ae=>!ae.isFilled);y(ne),console.log(`[Bridge] Loaded ${ne.length} active orders on ${d}`)}catch(H){console.error("[Bridge] Failed to fetch orders:",H)}finally{k(!1)}};w();const E=setInterval(w,3e4);return()=>clearInterval(E)},[d,n,e]);const L=ue.useMemo(()=>{if(I==="all")return x;const w=I==="gGOR"?1:0;return x.filter(E=>E.direction===w)},[x,I]),T=w=>{if(!n){alert("Please connect your wallet first");return}oe(w),O(!0)},g=async()=>{if(!n){alert("Please connect wallet first");return}const w=parseFloat(K);if(isNaN(w)||w<=0){alert("Please enter a valid amount");return}W(!0);try{if(!c||!c.provider){alert("Program not initialized. Please connect your wallet.");return}const H=await c.provider.connection.getSlot()+216e3;U==="gGOR"?await t(w*1e9,H):await r(w*1e9,H),alert("Order created successfully!"),B(""),v("trade");const ne=await e();y(ne.filter(ae=>!ae.isFilled))}catch(E){console.error(E),alert("Failed to create order: "+E.message)}finally{W(!1)}},R=async()=>{if(Q){W(!0);try{if(c)try{if((await c.account.order.fetch(Q.orderPDA)).isFilled){y(H=>H.filter(ne=>!ne.orderPDA.equals(Q.orderPDA))),O(!1),oe(null),W(!1),alert("This order has already been filled by another trader.");return}}catch(E){console.error("Failed to pre-check order:",E),y(H=>H.filter(ne=>!ne.orderPDA.equals(Q.orderPDA))),O(!1),oe(null),W(!1),alert("This order is no longer available.");return}await i(Q.orderPDA);const w=Q.orderPDA.toBase58();y(E=>E.filter(H=>H.orderPDA.toBase58()!==w)),O(!1),oe(null),alert("Order filled successfully!"),setTimeout(async()=>{try{const E=await e();y(E.filter(H=>!H.isFilled))}catch(E){console.error("Failed to refresh orders after fill:",E)}},3e3)}catch(w){console.error("Fill order error:",w);const E=C(w);alert("Failed to fill order: "+E),Y(w)&&(y(H=>H.filter(ne=>!ne.orderPDA.equals(Q.orderPDA))),O(!1))}finally{W(!1),oe(null)}}},C=w=>{let E="";typeof w=="string"?E=w:w!=null&&w.message&&w.message!=="undefined"?E=w.message:w!=null&&w.logs?E=w.logs.join(" "):w!=null&&w.toString&&w.toString()!=="[object Object]"&&(E=w.toString()),!E&&(w!=null&&w.error)&&(E=JSON.stringify(w.error));const ae={...{2006:"Account owner mismatch.",2014:"Token mint mismatch  wrong SPL token.",2015:"Token account owner mismatch.",3007:"Account owned by wrong program.",3012:"Required token account not initialized. Please ensure you have an sGOR token account."},...{6e3:"Amount must be >= minimum order size.",6001:"Invalid direction.",6002:"Invalid token mint for this direction.",6003:"Order has expired.",6004:"Order has already been filled.",6005:"Insufficient funds for swap.",6006:"Only the maker can perform this action.",6007:"Expiration slot is in the past.",6008:"Expiration too far in future (max ~24 hours).",6009:"Missing escrow token account.",6010:"Missing maker token account.",6011:"Missing taker token account.",6012:"Missing taker receive token account.",6013:"Missing maker receive token account."}},me=E.match(/Custom"?\s*[:]\s*(\d+)/i);if(me){const Ue=parseInt(me[1],10);return ae[Ue]?ae[Ue]:`Transaction failed (error code ${Ue}).`}const Le=E.match(/InstructionError.*?Custom.*?(\d+)/i);if(Le){const Ue=parseInt(Le[1],10);if(ae[Ue])return ae[Ue]}if((w==null?void 0:w.code)!==void 0&&typeof w.code=="number"&&ae[w.code])return ae[w.code];if(!E||E==="undefined"||E==="[object Object]"){try{const Ue=JSON.stringify(w);if(Ue!=="{}")return`Transaction failed: ${Ue}`}catch{}return`Transaction failed: ${String(w)}. The order may have already been filled or expired.`}return E},Y=w=>{const E=typeof w=="string"?w:(w==null?void 0:w.message)||(w==null?void 0:w.toString())||"";return!!(/Custom"?\s*[:]\s*6004/i.test(E)||/already\s+filled/i.test(E))},te=async w=>{if(n){if(u!==Xc.rpcEndpoint){alert("You can only cancel orders when connected to the Gorbagana network.");return}if(confirm("Are you sure you want to cancel this order?")){W(!0);try{await s(w),alert("Order cancelled successfully!");const E=await e();y(E.filter(H=>!H.isFilled))}catch(E){console.error(E),alert("Failed to cancel order: "+E.message)}finally{W(!1)}}}},Z=w=>(w.toNumber()/1e9).toLocaleString(),D=w=>w===1?{sell:"gGOR",buy:"sGOR"}:{sell:"sGOR",buy:"gGOR"},A=w=>`px-4 py-2 text-xs font-bold uppercase tracking-widest border transition-all duration-200 ${w?"bg-magic-green text-black border-magic-green":"text-gray-400 border-white/10 hover:border-white/40 hover:text-white"}`;return m.jsxs("div",{className:"min-h-screen bg-black text-white font-mono",children:[h&&m.jsx("div",{className:"bg-blue-500/20 border-b border-blue-500/50 animate-pulse",children:m.jsx("div",{className:"max-w-[1600px] mx-auto px-4 py-3",children:m.jsxs("div",{className:"flex items-center justify-center gap-3",children:[m.jsx(z0,{className:"w-5 h-5 text-blue-400"}),m.jsx("p",{className:"text-blue-400 text-sm font-bold uppercase tracking-wider",children:" DEVNET TESTING MODE  Using test sGOR"}),m.jsx(z0,{className:"w-5 h-5 text-blue-400"})]})})}),m.jsx("div",{className:"border-b border-white/20 bg-gradient-to-b from-magic-green/5 to-transparent",children:m.jsx("div",{className:"max-w-[1600px] mx-auto px-4 py-8 md:py-12",children:m.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[m.jsx("div",{className:"bg-magic-green text-black p-2",children:m.jsx(ZK,{className:"w-6 h-6"})}),m.jsxs("h1",{className:"text-3xl md:text-4xl font-black uppercase tracking-tight",children:["GORBAGANA",m.jsx("span",{className:"text-magic-green",children:"_BRIDGE"})]})]}),m.jsx("p",{className:"text-gray-400 text-sm md:text-base max-w-xl",children:"Secure P2P OTC trading between Solana (sGOR) and Gorbagana (gGOR). 100% decentralized escrow system for the trashiest traders."})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-px bg-white/20 border border-white/20 w-full md:w-auto",children:[m.jsxs("div",{className:"bg-black p-4",children:[m.jsx("div",{className:"text-gray-500 text-[10px] uppercase font-bold mb-1",children:"Active_Offers"}),m.jsx("div",{className:"text-magic-green font-bold text-xl",children:x.length})]}),m.jsxs("div",{className:"bg-black p-4",children:[m.jsx("div",{className:"text-gray-500 text-[10px] uppercase font-bold mb-1",children:"Status"}),m.jsx("div",{className:"text-white font-bold text-xl",children:S?"SYNCING...":"ONLINE"})]})]})]})})}),m.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 py-8",children:[m.jsxs("div",{className:"flex flex-wrap gap-2 mb-8 border-b border-white/10 pb-4",children:[m.jsxs("button",{onClick:()=>v("trade"),className:A(p==="trade"),children:[m.jsx(Yp,{className:"w-3 h-3 inline mr-2"})," Market"]}),m.jsxs("button",{onClick:()=>v("orders"),className:A(p==="orders"),children:[m.jsx(zW,{className:"w-3 h-3 inline mr-2"})," Create_Offer"]})]}),p==="trade"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>M("all"),className:`px-3 py-1 text-[10px] border ${I==="all"?"border-magic-green text-magic-green":"border-white/10 text-gray-500"}`,children:"ALL"}),m.jsx("button",{onClick:()=>M("gGOR"),className:`px-3 py-1 text-[10px] border ${I==="gGOR"?"border-magic-green text-magic-green":"border-white/10 text-gray-500"}`,children:"gGOR"}),m.jsx("button",{onClick:()=>M("sGOR"),className:`px-3 py-1 text-[10px] border ${I==="sGOR"?"border-magic-green text-magic-green":"border-white/10 text-gray-500"}`,children:"sGOR"})]}),m.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:"Live_Market_Feed"})]}),m.jsx("div",{className:"overflow-x-auto border border-white/10",children:m.jsxs("table",{className:"w-full text-left border-collapse",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-white/5 text-[10px] uppercase text-gray-500 border-b border-white/10",children:[m.jsx("th",{className:"p-4 font-bold",children:"Seller"}),m.jsx("th",{className:"p-4 font-bold",children:"Selling"}),m.jsx("th",{className:"p-4 font-bold",children:"Amount"}),m.jsx("th",{className:"p-4 font-bold",children:"Buying"}),m.jsx("th",{className:"p-4 font-bold text-right",children:"Action"})]})}),m.jsx("tbody",{className:"text-sm",children:L.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"p-10 text-center text-gray-500",children:"NO_ACTIVE_ORDERS"})}):L.map(w=>{var ae;const{sell:E,buy:H}=D(w.direction),ne=(ae=c==null?void 0:c.provider.publicKey)==null?void 0:ae.equals(w.maker);return m.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:[m.jsxs("td",{className:"p-4 text-magic-green font-mono",children:[w.maker.toBase58().slice(0,8),"..."]}),m.jsx("td",{className:"p-4",children:m.jsx("span",{className:`px-2 py-0.5 text-[10px] font-bold rounded ${E==="gGOR"?"bg-orange-500/20 text-orange-400":"bg-purple-500/20 text-purple-400"}`,children:E})}),m.jsxs("td",{className:"p-4 font-bold",children:[Z(w.amount)," ",E]}),m.jsx("td",{className:"p-4 text-gray-400 text-xs",children:H}),m.jsxs("td",{className:"p-4 text-right",children:[ne&&u===Xc.rpcEndpoint&&m.jsx("button",{onClick:()=>te(w.orderPDA),disabled:ce,className:"px-4 py-1 border border-red-500/50 text-red-500 text-xs font-bold hover:bg-red-500/10 transition-colors",children:"CANCEL"}),!ne&&m.jsx("button",{onClick:()=>T(w),disabled:ce,className:"px-4 py-1 bg-magic-green text-black text-xs font-bold hover:bg-white transition-colors",children:"TRADE"})]})]},w.orderPDA.toBase58())})})]})})]}),p==="orders"&&m.jsxs("div",{className:"max-w-xl mx-auto border border-white/10 p-8 bg-white/5",children:[m.jsxs("h2",{className:"text-xl font-bold mb-6 uppercase tracking-widest flex items-center gap-2",children:["Create_OTC_Offer",h&&m.jsxs("span",{className:"text-[10px] px-2 py-1 bg-blue-500/20 text-blue-400 border border-blue-500 flex items-center gap-1",children:[m.jsx(z0,{className:"w-3 h-3"}),"DEVNET TEST"]})]}),h&&m.jsx("div",{className:"mb-6 p-4 bg-blue-500/10 border border-blue-500/30",children:m.jsxs("div",{className:"flex gap-2 text-blue-400 text-xs items-start",children:[m.jsx(z0,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold mb-1",children:" SOLANA DEVNET TESTING MODE"}),m.jsxs("p",{className:"text-blue-300",children:["You can only create orders selling ",m.jsx("span",{className:"font-bold",children:"test sGOR  gGOR"}),"."]}),m.jsx("p",{className:"text-blue-300 mt-2 text-[10px]",children:"Program: 66xqiDYSQZh7A3wyS3n2962Fx1aU8N3nbHjaZUCrXq6M"})]})]})}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] text-gray-500 uppercase mb-1",children:"I want to sell"}),m.jsxs("select",{value:h?"sGOR":U,onChange:w=>!h&&q(w.target.value),disabled:h,className:"w-full bg-black border border-white/20 p-3 text-sm outline-none focus:border-magic-green disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx("option",{value:"gGOR",children:"gGOR (Gorbagana)"}),m.jsxs("option",{value:"sGOR",children:["sGOR (Solana",h?" Devnet":"",")"]})]}),h&&m.jsx("p",{className:"text-[10px] text-blue-400 mt-1",children:"Only sGOR orders available on devnet"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] text-gray-500 uppercase mb-1",children:"Amount"}),m.jsx("input",{type:"number",value:K,onChange:w=>B(w.target.value),placeholder:h?"5.0 (test sGOR)":"0.00",step:h?"0.000001":"0.01",className:"w-full bg-black border border-white/20 p-3 text-sm outline-none focus:border-magic-green"}),h&&m.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"Test sGOR has 6 decimals (1 sGOR = 1,000,000 base units)"})]}),m.jsx("div",{className:`p-4 border rounded ${h?"bg-blue-500/10 border-blue-500/20":"bg-magic-green/10 border-magic-green/20"}`,children:m.jsxs("div",{className:`flex gap-2 text-xs ${h?"text-blue-400":"text-magic-green"}`,children:[m.jsx(A8,{className:"w-4 h-4 flex-shrink-0"}),m.jsx("span",{children:h?"Test tokens will be locked in escrow on Solana devnet for testing.":"Your tokens will be locked in a secure escrow contract until a buyer completes the trade."})]})}),m.jsx("button",{onClick:g,disabled:ce,className:"w-full py-4 bg-magic-green text-black font-bold uppercase tracking-widest hover:bg-white transition-colors disabled:opacity-50",children:ce?"PROCESSING...":"POST_OFFER"})]})]})]}),j&&Q&&m.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[m.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-sm",onClick:()=>!ce&&O(!1)}),m.jsxs("div",{className:"relative bg-magic-dark border border-magic-green/30 p-8 max-w-md w-full",children:[m.jsx("h2",{className:"text-xl font-bold mb-6 uppercase tracking-widest",children:"Confirm_Trade"}),m.jsxs("div",{className:"space-y-4 mb-8",children:[m.jsxs("div",{className:"flex justify-between text-sm border-b border-white/10 pb-2",children:[m.jsx("span",{className:"text-gray-500",children:"You Send"}),m.jsxs("span",{className:"font-bold",children:[Z(Q.amount)," ",D(Q.direction).buy]})]}),m.jsxs("div",{className:"flex justify-between text-sm border-b border-white/10 pb-2",children:[m.jsx("span",{className:"text-gray-500",children:"You Receive"}),m.jsxs("span",{className:"font-bold text-magic-green",children:[Z(Q.amount)," ",D(Q.direction).sell]})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-gray-500",children:"Counterparty"}),m.jsx("span",{className:"text-xs font-mono",children:Q.maker.toBase58()})]})]}),m.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 p-4 mb-8 flex gap-3",children:[m.jsx(_p,{className:"w-5 h-5 text-yellow-500 shrink-0"}),m.jsx("p",{className:"text-[10px] text-yellow-500 leading-relaxed",children:"WARNING: This is a cross-chain trade. Ensure you have the correct wallet connected for the receiving network. Funds will be locked in escrow until verification is complete."})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("button",{disabled:ce,onClick:()=>O(!1),className:"flex-1 py-3 border border-white/20 text-gray-400 font-bold uppercase tracking-widest hover:bg-white/5 transition-colors disabled:opacity-50",children:"CANCEL"}),m.jsx("button",{disabled:ce,onClick:R,className:"flex-1 py-3 bg-magic-green text-black font-bold uppercase tracking-widest hover:bg-white transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:ce?m.jsx("div",{className:"w-4 h-4 border-2 border-black border-t-transparent animate-spin"}):"CONFIRM"})]})]})]})]})},aQ="modulepreload",cQ=function(n,e){return new URL(n,e).href},Ik={},lQ=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let c=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};const u=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),d=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));i=c(t.map(p=>{if(p=cQ(p,r),p in Ik)return;Ik[p]=!0;const v=p.endsWith(".css"),x=v?'[rel="stylesheet"]':"";if(!!r)for(let k=u.length-1;k>=0;k--){const I=u[k];if(I.href===p&&(!v||I.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${p}"]${x}`))return;const S=document.createElement("link");if(S.rel=v?"stylesheet":aQ,v||(S.as="script"),S.crossOrigin="",S.href=p,d&&S.setAttribute("nonce",d),document.head.appendChild(S),v)return new Promise((k,I)=>{S.addEventListener("load",k),S.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${p}`)))})}))}function s(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return i.then(c=>{for(const u of c||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})},uQ=ue.lazy(()=>lQ(()=>import("./JunkPusherGame-PpNpQXfC.js"),[],import.meta.url));function hQ(){const{isGorbagana:n}=is();return n?m.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-black",children:m.jsx(ue.Suspense,{fallback:m.jsx("div",{className:"flex min-h-screen items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-green-500 mx-auto mb-4"}),m.jsx("p",{className:"text-green-400 text-lg font-bold",children:"Loading Junk Pusher..."}),m.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Initializing game engine..."})]})}),children:m.jsx(uQ,{})})}):m.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-black flex items-center justify-center",children:m.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[m.jsx("div",{className:"text-6xl mb-6",children:""}),m.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Network Restricted"}),m.jsxs("p",{className:"text-gray-400 mb-6",children:["The Junk Pusher game is only available on the ",m.jsx("span",{className:"text-green-400 font-bold",children:"Gorbagana Network"}),"."]}),m.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 text-left",children:[m.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"To play:"}),m.jsxs("ol",{className:"text-sm text-gray-300 space-y-2",children:[m.jsxs("li",{children:["1. Switch your wallet to ",m.jsx("strong",{className:"text-green-400",children:"Gorbagana Network"})]}),m.jsx("li",{children:"2. Make sure you're connected to Gorbagana in the navbar"}),m.jsx("li",{children:"3. Return to this page"})]})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-6",children:"The Junk Pusher game requires GOR tokens and operates exclusively on Gorbagana."})]})})}const gM="https://gorapi.trashscan.io",fQ=async()=>{const n=await fetch(`${gM}/api/tokens`);if(!n.ok)throw new Error(`Failed to fetch tokens: ${n.status}`);const e=await n.json();if(!e.success||!Array.isArray(e.data))throw new Error("Invalid API response");return e.data.filter(t=>{var r,i,s;return((r=t.price)==null?void 0:r.native)>0&&((i=t.marketData)==null?void 0:i.liquidity)>0&&((s=t.metadata)==null?void 0:s.symbol)}).map(t=>({mint:t.mint,symbol:t.metadata.symbol,name:t.metadata.name||t.metadata.symbol,logo:t.metadata.logo||"",decimals:t.metadata.decimals||6,priceUsd:t.price.usd||0,priceNative:t.price.native||0,change24h:t.price.change24h||0,volume24h:t.marketData.volume24h||0,liquidity:t.marketData.liquidity||0,marketCap:t.marketData.marketCap||0,holderCount:t.marketData.holderCount||0})).sort((t,r)=>r.liquidity-t.liquidity)},dQ=async()=>{const n=await fetch(`${gM}/api/markets`);if(!n.ok)throw new Error(`Failed to fetch markets: ${n.status}`);const e=await n.json();if(!e.markets||!Array.isArray(e.markets))throw new Error("Invalid markets response");return e.markets},pQ=(n,e,t,r=.3)=>{if(n<=0||e<=0||t<=0)return{outputAmount:0,priceImpact:0,fee:0};const i=n*(r/100),s=n-i,c=t*s/(e+s),u=t/e,h=c/n,d=Math.abs((u-h)/u)*100;return{outputAmount:c,priceImpact:d,fee:i}},Pl="So11111111111111111111111111111111111111112",mQ="GOR",Dd=n=>n>=1e3?`${(n/1e3).toFixed(1)}k`:n>=1?n.toFixed(2):n>=.001?n.toFixed(4):n>=1e-6?n.toFixed(6):n.toExponential(2),Th={mint:Pl,symbol:mQ,name:"Gorbagana",logo:"",decimals:9,priceUsd:0,priceNative:1,change24h:0,volume24h:0,liquidity:0,marketCap:0,holderCount:0},gQ=()=>{const{getExplorerLink:n}=is(),[e,t]=ue.useState([]),[r,i]=ue.useState([]),[s,c]=ue.useState(0),[u,h]=ue.useState(!0),[d,p]=ue.useState(null),[v,x]=ue.useState(Th),[y,S]=ue.useState(null),[k,I]=ue.useState(""),[M,j]=ue.useState(""),[O,Q]=ue.useState("1.0"),[oe,ce]=ue.useState(!1),[W,K]=ue.useState(0),[B,U]=ue.useState(0),[q,L]=ue.useState(null),[T,g]=ue.useState(""),[R,C]=ue.useState(null);ue.useEffect(()=>{(async()=>{var H;try{h(!0);const[ne,ae]=await Promise.all([fQ(),dQ()]);t(ne),i(ae),ae.length>0&&((H=ae[0].quoteToken)!=null&&H.priceUsd)&&(c(ae[0].quoteToken.priceUsd),Th.priceUsd=ae[0].quoteToken.priceUsd),ne.length>0&&S(ne[0])}catch(ne){console.error("Failed to fetch DEX data:",ne),p("Failed to load DEX data from gorapi.trashscan.io")}finally{h(!1)}})()},[]),ue.useEffect(()=>{if(!v||!y||r.length===0){C(null);return}const E=r.find(H=>{const ne=H.baseToken.mint,ae=H.quoteToken.mint;return ne===v.mint&&ae===y.mint||ne===y.mint&&ae===v.mint||v.mint===Pl&&ne===y.mint||y.mint===Pl&&ne===v.mint||v.mint===Pl&&ae===y.mint||y.mint===Pl&&ae===v.mint});C(E||null)},[v,y,r]);const Y=ue.useCallback(E=>{if(!E||isNaN(Number(E))||!v||!y){j(""),K(0),U(0);return}const H=Number(E);if(R){const ne=R.baseToken.mint===v.mint||v.mint===Pl&&R.quoteToken.mint===Pl,ae=ne?R.baseToken.amount:R.quoteToken.amount,me=ne?R.quoteToken.amount:R.baseToken.amount,Le=pQ(H,ae,me);j(Le.outputAmount.toFixed(6)),K(Le.priceImpact),U(Le.fee)}else if(v.priceUsd>0&&y.priceUsd>0){const ne=v.priceUsd/y.priceUsd;j((H*ne).toFixed(6)),K(0),U(H*.003)}},[v,y,R]),te=E=>{const H=E.target.value;I(H),Y(H)},Z=()=>{if(!y)return;const E=v;x(y),S(E),I(M),j(k)},D=E=>{q==="pay"?((y==null?void 0:y.mint)===E.mint&&S(v),x(E)):(v.mint===E.mint&&x(y||Th),S(E)),L(null),g(""),I(""),j("")},A=T?e.filter(E=>E.symbol.toLowerCase().includes(T.toLowerCase())||E.name.toLowerCase().includes(T.toLowerCase())||E.mint.toLowerCase().startsWith(T.toLowerCase())):e,w=()=>{if(!v||!y)return"";if(v.priceUsd>0&&y.priceUsd>0){const E=v.priceUsd/y.priceUsd;return`1 ${v.symbol}  ${Dd(E)} ${y.symbol}`}return""};return u?m.jsx("div",{className:"min-h-screen bg-black text-white font-mono flex items-center justify-center",children:m.jsx("div",{className:"text-magic-green animate-pulse uppercase tracking-widest text-lg",children:"LOADING TRASH DEX..."})}):d?m.jsx("div",{className:"min-h-screen bg-black text-white font-mono flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-magic-red text-lg mb-2",children:d}),m.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 border border-magic-green text-magic-green hover:bg-magic-green/10 text-sm uppercase",children:"RETRY"})]})}):m.jsxs("div",{className:"min-h-screen bg-black text-white font-mono",children:[m.jsx("div",{className:"border-b border-white/10 bg-gradient-to-r from-black via-gray-900 to-black",children:m.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 py-3 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("h1",{className:"text-xl font-bold text-magic-green tracking-tighter",children:"TRASH_DEX"}),m.jsx("span",{className:"text-[10px] text-gray-500 border border-gray-800 px-2 py-0.5",children:"V1.0"})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-gray-500",children:[m.jsx("span",{className:"w-2 h-2 bg-magic-green rounded-full animate-pulse"}),"gorapi.trashscan.io"]}),m.jsxs("div",{className:"text-[10px] text-gray-400",children:["GOR: ",m.jsxs("span",{className:"text-magic-green",children:["$",s.toFixed(6)]})]}),m.jsxs("div",{className:"text-[10px] text-gray-400",children:[e.length," tokens | ",r.length," pools"]})]})]})}),m.jsx("div",{className:"border-b border-white/10 bg-black overflow-hidden",children:m.jsxs("div",{className:"flex animate-marquee whitespace-nowrap py-2",children:[e.slice(0,15).map((E,H)=>m.jsxs("div",{className:"flex items-center gap-2 mx-6 text-[10px]",children:[m.jsx("span",{className:"text-white font-bold",children:E.symbol}),m.jsxs("span",{className:"text-gray-400",children:["$",Dd(E.priceUsd)]}),m.jsxs("span",{className:E.change24h>=0?"text-magic-green":"text-magic-red",children:[E.change24h>=0?m.jsx(vx,{size:10,className:"inline"}):m.jsx(T4,{size:10,className:"inline"})," ",E.change24h.toFixed(1),"%"]})]},H)),e.slice(0,15).map((E,H)=>m.jsxs("div",{className:"flex items-center gap-2 mx-6 text-[10px]",children:[m.jsx("span",{className:"text-white font-bold",children:E.symbol}),m.jsxs("span",{className:"text-gray-400",children:["$",Dd(E.priceUsd)]}),m.jsxs("span",{className:E.change24h>=0?"text-magic-green":"text-magic-red",children:[E.change24h>=0?m.jsx(vx,{size:10,className:"inline"}):m.jsx(T4,{size:10,className:"inline"})," ",E.change24h.toFixed(1),"%"]})]},`dup-${H}`))]})}),m.jsxs("div",{className:"max-w-[1600px] mx-auto flex flex-col lg:flex-row min-h-[calc(100vh-120px)]",children:[m.jsxs("div",{className:"flex-1 flex flex-col border-r border-white/10 min-w-0",children:[m.jsxs("div",{className:"px-4 py-3 border-b border-white/10 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(bW,{className:"w-4 h-4 text-magic-green"}),m.jsx("span",{className:"text-sm font-bold uppercase tracking-wider",children:"LIQUIDITY_POOLS"}),m.jsx("span",{className:"text-[10px] text-gray-500 border border-gray-800 px-1.5 py-0.5",children:r.length})]}),m.jsxs("div",{className:"text-[10px] text-gray-500 uppercase",children:["TVL: $",r.reduce((E,H)=>E+H.liquidityUsd,0).toLocaleString(void 0,{maximumFractionDigits:0})]})]}),m.jsx("div",{className:"flex-1 overflow-auto",children:m.jsxs("table",{className:"w-full text-[11px]",children:[m.jsx("thead",{className:"sticky top-0 bg-black border-b border-white/10",children:m.jsxs("tr",{className:"text-gray-500 uppercase",children:[m.jsx("th",{className:"text-left px-4 py-2 font-normal",children:"PAIR"}),m.jsx("th",{className:"text-left px-2 py-2 font-normal",children:"TYPE"}),m.jsx("th",{className:"text-right px-2 py-2 font-normal",children:"LIQUIDITY"}),m.jsx("th",{className:"text-right px-4 py-2 font-normal",children:"BASE_RESERVE"}),m.jsx("th",{className:"text-right px-4 py-2 font-normal hidden md:table-cell",children:"QUOTE_RESERVE"})]})}),m.jsx("tbody",{children:r.map((E,H)=>m.jsxs("tr",{className:`border-b border-white/5 hover:bg-white/5 cursor-pointer transition-colors ${(R==null?void 0:R.marketId)===E.marketId?"bg-magic-green/5 border-magic-green/20":""}`,onClick:()=>{const ne=e.find(ae=>ae.mint===E.baseToken.mint);ne&&(S(ne),x(Th),I(""),j(""))},children:[m.jsx("td",{className:"px-4 py-2.5",children:m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("span",{className:"text-white font-bold",children:E.baseToken.symbol}),m.jsx("span",{className:"text-gray-600",children:"/"}),m.jsx("span",{className:"text-gray-400",children:E.quoteToken.symbol==="SO1111"?"GOR":E.quoteToken.symbol})]})}),m.jsx("td",{className:"px-2 py-2.5",children:m.jsx("span",{className:`px-1.5 py-0.5 text-[9px] border ${E.type.includes("DAMM")?"border-purple-500/30 text-purple-400":E.type.includes("SAMM")?"border-blue-500/30 text-blue-400":"border-magic-green/30 text-magic-green"}`,children:E.type})}),m.jsx("td",{className:"px-2 py-2.5 text-right",children:m.jsxs("span",{className:"text-magic-green font-bold",children:["$",Dd(E.liquidityUsd)]})}),m.jsx("td",{className:"px-4 py-2.5 text-right text-gray-400",children:E.baseToken.amount.toLocaleString(void 0,{maximumFractionDigits:2})}),m.jsx("td",{className:"px-4 py-2.5 text-right text-gray-400 hidden md:table-cell",children:E.quoteToken.amount.toLocaleString(void 0,{maximumFractionDigits:2})})]},E.marketId))})]})})]}),m.jsx("div",{className:"w-full lg:w-[420px] xl:w-[460px] flex flex-col border-l border-white/10",children:m.jsxs("div",{className:"p-4 flex-1",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-lg font-bold text-white tracking-tight",children:"SWAP_TOKEN"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>{I(""),j("")},className:"text-gray-500 hover:text-white transition-colors",children:m.jsx(S8,{size:14})}),m.jsx("button",{onClick:()=>ce(!oe),className:`transition-colors ${oe?"text-magic-green":"text-gray-500 hover:text-white"}`,children:m.jsx(yx,{size:14})})]})]}),oe&&m.jsxs("div",{className:"mb-4 p-3 border border-gray-700 bg-black/50 text-[10px]",children:[m.jsxs("div",{className:"flex justify-between mb-2 text-gray-400",children:[m.jsx("span",{children:"MAX_SLIPPAGE"}),m.jsxs("span",{className:"text-magic-green",children:[O,"%"]})]}),m.jsx("div",{className:"flex gap-2",children:["0.1","0.5","1.0","2.5"].map(E=>m.jsxs("button",{onClick:()=>Q(E),className:`flex-1 py-1 border ${O===E?"border-magic-green text-magic-green bg-magic-green/10":"border-gray-700 text-gray-500 hover:border-gray-500"}`,children:[E,"%"]},E))})]}),m.jsxs("div",{className:"space-y-1 mb-1",children:[m.jsx("div",{className:"flex justify-between text-[10px] text-gray-500 px-1",children:m.jsx("span",{children:"YOU_PAY"})}),m.jsxs("div",{className:"bg-black border border-gray-700 p-3 focus-within:border-magic-green transition-colors",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("input",{type:"number",value:k,onChange:te,placeholder:"0.00",className:"bg-transparent border-none outline-none text-2xl font-bold text-white w-2/3 placeholder-gray-800"}),m.jsxs("button",{onClick:()=>L("pay"),className:"flex items-center gap-2 bg-gray-900 px-3 py-1.5 border border-gray-800 hover:border-gray-600 transition-colors",children:[v.logo&&m.jsx("img",{src:v.logo,alt:"",className:"w-5 h-5 rounded-full",onError:E=>{E.target.style.display="none"}}),m.jsx("span",{className:"font-bold text-sm",children:v.symbol}),m.jsx(hy,{size:12,className:"text-gray-500"})]})]}),m.jsxs("div",{className:"text-[10px] text-gray-600 mt-1",children:[" $",k?(Number(k)*v.priceUsd).toFixed(4):"0.00"]})]})]}),m.jsxs("div",{className:"flex justify-center my-4 relative z-10",children:[m.jsx("button",{onClick:Z,className:"bg-gray-900 border border-gray-700 p-1.5 hover:border-magic-green hover:text-magic-green transition-all active:scale-95",children:m.jsx(YK,{size:16,className:"text-gray-400"})}),m.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-[1px] bg-gray-800 -z-10"})]}),m.jsxs("div",{className:"space-y-1 mb-6",children:[m.jsx("div",{className:"flex justify-between text-[10px] text-gray-500 px-1",children:m.jsx("span",{children:"YOU_RECEIVE"})}),m.jsxs("div",{className:"bg-black border border-gray-700 p-3 focus-within:border-magic-green transition-colors",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("input",{type:"number",value:M,readOnly:!0,placeholder:"0.00",className:"bg-transparent border-none outline-none text-2xl font-bold text-white w-2/3 placeholder-gray-800"}),m.jsxs("button",{onClick:()=>L("receive"),className:"flex items-center gap-2 bg-gray-900 px-3 py-1.5 border border-gray-800 hover:border-gray-600 transition-colors",children:[(y==null?void 0:y.logo)&&m.jsx("img",{src:y.logo,alt:"",className:"w-5 h-5 rounded-full",onError:E=>{E.target.style.display="none"}}),m.jsx("span",{className:"font-bold text-sm",children:(y==null?void 0:y.symbol)||"Select"}),m.jsx(hy,{size:12,className:"text-gray-500"})]})]}),m.jsxs("div",{className:"text-[10px] text-gray-600 mt-1",children:[" $",M&&y?(Number(M)*y.priceUsd).toFixed(4):"0.00"]})]})]}),k&&M&&m.jsxs("div",{className:"mb-4 p-2 bg-gray-900/50 border border-gray-700 text-[10px] space-y-1",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-500",children:"RATE"}),m.jsx("span",{className:"text-gray-300",children:w()})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-500",children:"PRICE_IMPACT"}),m.jsxs("span",{className:W>5?"text-magic-red":W>1?"text-yellow-500":"text-magic-green",children:[W.toFixed(2),"%"]})]}),R&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-500",children:"POOL"}),m.jsx("span",{className:"text-gray-300",children:R.type})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-500",children:"FEE"}),m.jsxs("span",{className:"text-gray-300",children:[B.toFixed(6)," ",v.symbol]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-500",children:"MIN_RECEIVED"}),m.jsxs("span",{className:"text-gray-300",children:[(Number(M)*(1-Number(O)/100)).toFixed(6)," ",y==null?void 0:y.symbol]})]})]}),v&&y&&!R&&v.mint!==y.mint&&m.jsxs("div",{className:"mb-4 p-2 border border-yellow-500/30 bg-yellow-500/5 text-[10px] flex items-center gap-2",children:[m.jsx(_p,{size:12,className:"text-yellow-500 flex-shrink-0"}),m.jsx("span",{className:"text-yellow-500",children:"NO_DIRECT_POOL  rate estimated from prices. Swap may route through GOR."})]}),R&&m.jsx("div",{className:"mb-4 text-[10px] text-gray-500 flex items-center gap-1",children:m.jsxs("a",{href:n("address",R.marketId),target:"_blank",rel:"noopener noreferrer",className:"hover:text-magic-green transition-colors flex items-center gap-1",children:["VIEW_POOL_ON_TRASHSCAN ",m.jsx(Mg,{size:10})]})}),m.jsx("button",{className:"w-full bg-magic-green text-black font-bold py-3 text-sm hover:bg-white transition-colors uppercase tracking-wider",disabled:!k||!M,onClick:()=>{alert("Swap execution requires wallet connection. Connect via Backpack or Gorbag Wallet.")},children:k?y?"EXECUTE_SWAP":"SELECT_TOKEN":"ENTER_AMOUNT"}),m.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-[10px] text-gray-600",children:[m.jsx(_p,{size:10}),m.jsx("span",{children:"ALWAYS_VERIFY_TOKEN_CONTRACTS"})]})]})})]}),q&&m.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:()=>{L(null),g("")},children:m.jsxs("div",{className:"bg-gray-900 border border-white/20 w-full max-w-md max-h-[80vh] flex flex-col",onClick:E=>E.stopPropagation(),children:[m.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[m.jsxs("span",{className:"text-sm font-bold uppercase tracking-wider",children:["SELECT_",q==="pay"?"PAY":"RECEIVE","_TOKEN"]}),m.jsx("button",{onClick:()=>{L(null),g("")},className:"text-gray-500 hover:text-white",children:m.jsx(ou,{size:16})})]}),m.jsx("div",{className:"p-3 border-b border-white/10",children:m.jsxs("div",{className:"relative",children:[m.jsx(vp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),m.jsx("input",{type:"text",value:T,onChange:E=>g(E.target.value),placeholder:"SEARCH_TOKEN_OR_PASTE_MINT...",className:"w-full bg-black border border-gray-700 pl-10 pr-3 py-2 text-sm text-white placeholder-gray-600 focus:border-magic-green focus:outline-none font-mono uppercase",autoFocus:!0})]})}),m.jsxs("div",{className:"px-3 py-2 flex gap-2 flex-wrap border-b border-white/10",children:[m.jsx("button",{onClick:()=>D(Th),className:"px-3 py-1 text-[10px] font-bold border border-gray-700 hover:border-magic-green hover:text-magic-green transition-colors uppercase",children:"GOR"}),e.slice(0,5).map(E=>m.jsx("button",{onClick:()=>D(E),className:"px-3 py-1 text-[10px] font-bold border border-gray-700 hover:border-magic-green hover:text-magic-green transition-colors uppercase",children:E.symbol},E.mint))]}),m.jsxs("div",{className:"flex-1 overflow-auto",children:[(!T||"gor".includes(T.toLowerCase()))&&m.jsxs("button",{onClick:()=>D(Th),className:"w-full flex items-center justify-between px-4 py-3 hover:bg-white/5 transition-colors border-b border-white/5",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 bg-magic-green/20 border border-magic-green/30 flex items-center justify-center text-magic-green text-xs font-bold",children:"G"}),m.jsxs("div",{className:"text-left",children:[m.jsx("div",{className:"text-sm font-bold text-white",children:"GOR"}),m.jsx("div",{className:"text-[10px] text-gray-500",children:"Gorbagana (Native)"})]})]}),m.jsx("div",{className:"text-right",children:m.jsxs("div",{className:"text-sm text-white",children:["$",s.toFixed(6)]})})]}),A.slice(0,50).map(E=>m.jsxs("button",{onClick:()=>D(E),className:"w-full flex items-center justify-between px-4 py-3 hover:bg-white/5 transition-colors border-b border-white/5",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[E.logo?m.jsx("img",{src:E.logo,alt:"",className:"w-8 h-8 rounded-full bg-gray-800",onError:H=>{var ae;const ne=H.target;ne.style.display="none",(ae=ne.nextElementSibling)==null||ae.classList.remove("hidden")}}):null,m.jsx("div",{className:`w-8 h-8 bg-gray-800 flex items-center justify-center text-gray-400 text-xs font-bold ${E.logo?"hidden":""}`,children:E.symbol.slice(0,2)}),m.jsxs("div",{className:"text-left",children:[m.jsx("div",{className:"text-sm font-bold text-white",children:E.symbol}),m.jsx("div",{className:"text-[10px] text-gray-500 truncate max-w-[150px]",children:E.name})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("div",{className:"text-sm text-white",children:["$",Dd(E.priceUsd)]}),m.jsxs("div",{className:`text-[10px] ${E.change24h>=0?"text-magic-green":"text-magic-red"}`,children:[E.change24h>=0?"+":"",E.change24h.toFixed(1),"%"]})]})]},E.mint)),A.length===0&&T&&m.jsx("div",{className:"p-8 text-center text-gray-500 text-sm",children:"NO_TOKENS_FOUND"})]})]})})]})};class yQ{constructor(e){this.workers=[],this.isRunning=!1,this.totalChecked=0,this.aggregatedRate=0,this.progressSnapshots=new Map,this.config=e}getOptimalWorkerCount(){const e=navigator.hardwareConcurrency||4;return Math.max(1,Math.min(e-1,this.config.maxWorkers||8))}start(e){if(this.isRunning){console.warn("Workers already running");return}const t=this.getOptimalWorkerCount();this.isRunning=!0,this.totalChecked=0,this.aggregatedRate=0,this.progressSnapshots.clear(),console.log(`Starting ${t} workers...`);for(let r=0;r<t;r++){const i=new Worker(new URL(""+new URL("vanityMiner.worker-DppGk_AN.js",import.meta.url).href,import.meta.url),{type:"module"});i.onmessage=s=>this.handleWorkerMessage(s,r),i.onerror=s=>{var c,u;console.error(`Worker ${r} error:`,s),(u=(c=this.config).onError)==null||u.call(c,new Error(s.message))},this.workers.push(i),i.postMessage({type:"START",config:{patterns:e,workerId:r,batchSize:500}})}}handleWorkerMessage(e,t){var s,c,u,h,d,p;const{type:r,data:i}=e.data;switch(r){case"PROGRESS":this.progressSnapshots.set(t,i),this.aggregateProgress();break;case"MATCH":(c=(s=this.config).onMatch)==null||c.call(s,i);break;case"STOPPED":(h=(u=this.config).onStopped)==null||h.call(u,i);break;case"ERROR":(p=(d=this.config).onError)==null||p.call(d,new Error(i.message));break}}aggregateProgress(){var i,s;let e=0,t=0,r=0;this.progressSnapshots.forEach(c=>{e+=c.checked,t+=c.rate,r=Math.max(r,c.elapsed)}),this.totalChecked=e,this.aggregatedRate=t,(s=(i=this.config).onProgress)==null||s.call(i,{workerId:-1,checked:e,rate:t,elapsed:r})}pause(){this.workers.forEach(e=>{e.postMessage({type:"PAUSE"})})}resume(){this.workers.forEach(e=>{e.postMessage({type:"RESUME"})})}stop(){this.isRunning=!1,this.workers.forEach(e=>{e.postMessage({type:"STOP"})})}terminate(){this.stop(),this.workers.forEach(e=>{e.terminate()}),this.workers=[]}getStats(){return{checked:this.totalChecked,rate:this.aggregatedRate,workerCount:this.workers.length}}getIsRunning(){return this.isRunning}}const yM={a:["a","A","4"],A:["A","a","4"],b:["b","B","8"],B:["B","b","8"],e:["e","E","3"],E:["E","e","3"],g:["g","G","9"],G:["G","g","9"],i:["i","1"],s:["s","S","5"],S:["S","s","5"],t:["t","T","7"],T:["T","t","7"],z:["z","Z","2"],Z:["Z","z","2"],c:["c","C"],C:["C","c"],d:["d","D"],D:["D","d"],f:["f","F"],F:["F","f"],h:["h","H"],H:["H","h"],j:["j","J"],J:["J","j"],k:["k","K"],K:["K","k"],m:["m","M"],M:["M","m"],n:["n","N"],N:["N","n"],p:["p","P"],P:["P","p"],q:["q","Q"],Q:["Q","q"],r:["r","R"],R:["R","r"],u:["u","U"],U:["U","u"],v:["v","V"],V:["V","v"],w:["w","W"],W:["W","w"],x:["x","X"],X:["X","x"],y:["y","Y"],Y:["Y","y"],1:["1"],2:["2"],3:["3"],4:["4"],5:["5"],6:["6"],7:["7"],8:["8"],9:["9"]};function m_(n){const t=n.split("").map(s=>yM[s]||[s]),r=[];function i(s,c){if(s===t.length){r.push(c);return}for(const u of t[s])i(s+1,c+u)}return i(0,""),r}function wQ(n,e){const t=n+e,r=1/Math.pow(58,t),s=1/(r*1e5);let c;return s<60?c="easy":s<600?c="medium":s<3600?c="hard":c="extreme",{difficulty:c,estimatedSeconds:s,probability:r}}function kk(n){return n<60?`${Math.round(n)}s`:n<3600?`${Math.round(n/60)}m`:n<86400?`${(n/3600).toFixed(1)}h`:`${(n/86400).toFixed(1)}d`}function Ck(n){return n>=1e6?`${(n/1e6).toFixed(1)}M`:n>=1e3?`${(n/1e3).toFixed(1)}k`:n.toString()}const J0={BASIC:{price:.05,maxPrefixLen:3,label:"BASIC"},PRO:{price:.15,maxPrefixLen:4,label:"PRO"},PREMIUM:{price:.5,maxPrefixLen:5,label:"PREMIUM"},ULTRA:{price:1,maxPrefixLen:6,label:"ULTRA"}},bQ=()=>{const{accentColor:n,currency:e}=is(),{connected:t,address:r}=Pq(),[i,s]=ue.useState(""),[c,u]=ue.useState([]),[h,d]=ue.useState(4),[p,v]=ue.useState(0),[x,y]=ue.useState(!1),[S,k]=ue.useState(!1),[I,M]=ue.useState(!1),[j,O]=ue.useState(null),[Q,oe]=ue.useState([]),[ce,W]=ue.useState(0),[K,B]=ue.useState(!1),[U,q]=ue.useState(null),L=ue.useRef(null),T=We.useMemo(()=>{if(!i||c.length===0)return null;const ae=c.map(kt=>kt.selected.length>0?kt.selected[0]:kt.char).join(""),me=ae.slice(0,h),Le=p>0?ae.slice(-p):"",Ue=h>0?m_(me):[],it=p>0?m_(Le):[],ut=x?m_(ae):[];return{prefixes:Ue,suffixes:it,contains:ut}},[i,c,h,p,x]),g=We.useMemo(()=>wQ(h,p),[h,p]),R=We.useMemo(()=>{const ae=Math.max(h,p);return ae>=6?J0.ULTRA:ae>=5?J0.PREMIUM:ae>=4?J0.PRO:J0.BASIC},[h,p]);ue.useEffect(()=>{if(!i){u([]);return}const ae=i.split("").map(me=>({char:me,variants:yM[me]||[me],selected:[me]}));u(ae)},[i]);const C=(ae,me)=>{u(Le=>{const Ue=[...Le],it={...Ue[ae]};return it.selected.includes(me)?it.selected.length>1&&(it.selected=it.selected.filter(ut=>ut!==me)):it.selected=[...it.selected,me],Ue[ae]=it,Ue})},Y=ue.useCallback(()=>{if(!T||S)return;const ae={prefixes:T.prefixes.slice(0,100),suffixes:T.suffixes.slice(0,50),contains:T.contains.slice(0,20),minScore:10};L.current=new yQ({workerPath:"../workers/vanityMiner.worker.ts",maxWorkers:8,onProgress:me=>{O(me)},onMatch:me=>{oe(Le=>[...Le,{...me,encrypted:!0,unlocked:!1}])},onError:me=>{console.error("Mining error:",me)}}),L.current.start(ae),W(L.current.getOptimalWorkerCount()),k(!0),M(!1)},[T,S]),te=ue.useCallback(()=>{L.current&&(I?L.current.resume():L.current.pause(),M(!I))},[I]),Z=ue.useCallback(()=>{var ae;(ae=L.current)==null||ae.terminate(),L.current=null,k(!1),M(!1)},[]);ue.useEffect(()=>()=>{var ae;(ae=L.current)==null||ae.terminate()},[]);const D=async ae=>{oe(me=>{const Le=[...me];return Le[ae]={...Le[ae],encrypted:!1,unlocked:!0},Le})},A=ae=>{if(ae.encrypted)return;const me={publicKey:ae.address,secretKey:Array.from(ae.secretKey)},Le=new Blob([JSON.stringify(me,null,2)],{type:"application/json"}),Ue=URL.createObjectURL(Le),it=document.createElement("a");it.href=Ue,it.download=`vanity-${ae.address.slice(0,8)}.json`,it.click(),URL.revokeObjectURL(Ue)},w=ae=>{navigator.clipboard.writeText(ae),q(ae),setTimeout(()=>q(null),2e3)},E=ae=>ae.slice(0,8)+"".repeat(24)+ae.slice(-8),H=n==="text-magic-purple"?"border-magic-purple":"border-magic-green",ne=n==="text-magic-purple"?"bg-magic-purple":"bg-magic-green";return m.jsxs("div",{className:"min-h-screen bg-black text-white font-mono",children:[m.jsx("div",{className:"border-b border-white/10 bg-gradient-to-r from-black via-gray-900 to-black",children:m.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 py-4 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(t2,{className:`w-5 h-5 ${n}`}),m.jsx("h1",{className:"text-xl font-bold tracking-tighter uppercase",children:"VANITY_GENERATOR"}),m.jsx("span",{className:"text-[10px] text-gray-500 border border-gray-800 px-2 py-0.5",children:"BETA"})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-gray-500",children:[m.jsx(E4,{className:"w-3 h-3"}),ce>0?`${ce} CORES`:"IDLE"]}),m.jsx("button",{onClick:()=>B(!K),className:`p-2 border border-gray-800 hover:border-gray-600 ${K?n:"text-gray-500"}`,children:m.jsx(yx,{className:"w-4 h-4"})})]})]})}),m.jsx("div",{className:"max-w-[1600px] mx-auto px-4 py-8",children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:`border ${H}/30 bg-black p-6`,children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx(ZW,{className:`w-4 h-4 ${n}`}),m.jsx("span",{className:"text-sm font-bold uppercase tracking-wider",children:"YOUR_NAME"})]}),m.jsx("input",{type:"text",value:i,onChange:ae=>s(ae.target.value.replace(/[^a-zA-Z0-9]/g,"")),placeholder:"Enter desired name (letters + numbers only)",className:"w-full bg-gray-900 border border-gray-700 px-4 py-3 text-xl font-bold text-white placeholder-gray-600 focus:border-magic-green focus:outline-none",maxLength:12}),m.jsxs("div",{className:"mt-2 text-[10px] text-gray-500 flex justify-between",children:[m.jsx("span",{children:"Base58 ONLY (no 0, O, I, l)"}),m.jsxs("span",{children:[i.length,"/12 chars"]})]})]}),c.length>0&&m.jsxs("div",{className:"border border-white/10 bg-black p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("span",{className:"text-sm font-bold uppercase tracking-wider",children:"CHAR_VARIANTS"}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"Click to toggle"})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsx("div",{className:"flex gap-1 min-w-max",children:c.map((ae,me)=>m.jsxs("div",{className:"flex flex-col gap-1",children:[m.jsx("div",{className:`w-10 h-10 flex items-center justify-center border-2 ${H} text-lg font-bold ${n}`,children:ae.char}),ae.variants.map((Le,Ue)=>m.jsx("button",{onClick:()=>C(me,Le),className:`w-10 h-10 flex items-center justify-center border text-sm font-bold transition-all ${ae.selected.includes(Le)?`${H} ${n} ${ne}/20`:"border-gray-700 text-gray-500 hover:border-gray-500"}`,children:Le},Ue))]},me))})}),m.jsxs("div",{className:"mt-4 text-[10px] text-gray-500",children:["SELECTED: ",c.map(ae=>ae.selected.join("/")).join(" ")]})]}),m.jsxs("div",{className:"border border-white/10 bg-black p-6",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx(yx,{className:"w-4 h-4 text-gray-500"}),m.jsx("span",{className:"text-sm font-bold uppercase tracking-wider",children:"MINING_CONFIG"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-[10px] text-gray-500 uppercase block mb-2",children:"PREFIX_LENGTH"}),m.jsx("div",{className:"flex gap-px",children:[0,2,3,4,5,6].map(ae=>m.jsx("button",{onClick:()=>d(ae),className:`flex-1 py-2 text-xs font-bold ${h===ae?`${ne} text-black`:"bg-gray-900 text-gray-500 hover:text-white"}`,children:ae},ae))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-[10px] text-gray-500 uppercase block mb-2",children:"SUFFIX_LENGTH"}),m.jsx("div",{className:"flex gap-px",children:[0,2,3,4].map(ae=>m.jsx("button",{onClick:()=>v(ae),className:`flex-1 py-2 text-xs font-bold ${p===ae?`${ne} text-black`:"bg-gray-900 text-gray-500 hover:text-white"}`,children:ae},ae))})]})]}),m.jsxs("div",{className:"mt-6 p-3 bg-gray-900/50 border border-gray-800",children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsx("span",{className:"text-[10px] text-gray-500 uppercase",children:"DIFFICULTY"}),m.jsx("span",{className:`text-xs font-bold uppercase ${g.difficulty==="easy"?"text-magic-green":g.difficulty==="medium"?"text-yellow-500":g.difficulty==="hard"?"text-orange-500":"text-magic-red"}`,children:g.difficulty})]}),m.jsx("div",{className:"w-full h-2 bg-gray-800 overflow-hidden",children:m.jsx("div",{className:`h-full transition-all ${g.difficulty==="easy"?"bg-magic-green w-1/4":g.difficulty==="medium"?"bg-yellow-500 w-2/4":g.difficulty==="hard"?"bg-orange-500 w-3/4":"bg-magic-red w-full"}`})}),m.jsxs("div",{className:"flex justify-between mt-2 text-[10px] text-gray-500",children:[m.jsxs("span",{children:["EST_TIME: ",kk(g.estimatedSeconds)]}),m.jsxs("span",{children:["PATTERNS: ",(T==null?void 0:T.prefixes.length)||0]})]})]})]}),m.jsx("div",{className:`border ${H} p-1`,children:S?m.jsxs("div",{className:"flex gap-1",children:[m.jsxs("button",{onClick:te,className:"flex-1 bg-yellow-500 text-black font-bold py-4 text-sm uppercase tracking-wider flex items-center justify-center gap-2",children:[I?m.jsx(R4,{className:"w-4 h-4"}):m.jsx(PW,{className:"w-4 h-4"}),I?"RESUME":"PAUSE"]}),m.jsxs("button",{onClick:Z,className:"flex-1 bg-magic-red text-black font-bold py-4 text-sm uppercase tracking-wider flex items-center justify-center gap-2",children:[m.jsx(JW,{className:"w-4 h-4"}),"STOP"]})]}):m.jsxs("button",{onClick:Y,disabled:!i||h===0,className:`w-full ${ne} text-black font-bold py-4 text-sm uppercase tracking-wider flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90 transition-opacity`,children:[m.jsx(R4,{className:"w-4 h-4"}),"START_MINING",m.jsxs("span",{className:"opacity-70",children:["( ",R.price," ",e," per unlock )"]})]})})]}),m.jsxs("div",{className:"space-y-6",children:[(S||j)&&m.jsxs("div",{className:`border ${S?H:"border-white/10"} bg-black p-6`,children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(E4,{className:`w-4 h-4 ${S?n+" animate-pulse":"text-gray-500"}`}),m.jsx("span",{className:"text-sm font-bold uppercase tracking-wider",children:S?I?"PAUSED":"MINING_IN_PROGRESS":"MINING_STOPPED"})]}),m.jsxs("span",{className:"text-[10px] text-gray-500",children:[ce," THREADS"]})]}),j&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-full h-2 bg-gray-800 overflow-hidden mb-4",children:m.jsx("div",{className:`h-full ${ne} animate-pulse`,style:{width:S&&!I?"100%":"0%"}})}),m.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[m.jsxs("div",{className:"p-3 bg-gray-900/50 border border-gray-800",children:[m.jsx("div",{className:"text-2xl font-bold text-white",children:Ck(j.checked)}),m.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:"ADDRESSES_CHECKED"})]}),m.jsxs("div",{className:"p-3 bg-gray-900/50 border border-gray-800",children:[m.jsxs("div",{className:`text-2xl font-bold ${n}`,children:[Ck(j.rate),"/s"]}),m.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:"HASH_RATE"})]}),m.jsxs("div",{className:"p-3 bg-gray-900/50 border border-gray-800",children:[m.jsx("div",{className:"text-2xl font-bold text-white",children:kk(j.elapsed)}),m.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:"TIME_ELAPSED"})]})]})]})]}),m.jsxs("div",{className:"border border-white/10 bg-black p-6",children:[m.jsx("div",{className:"flex items-center justify-between mb-4",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(aY,{className:`w-4 h-4 ${Q.length>0?"text-yellow-500":"text-gray-500"}`}),m.jsx("span",{className:"text-sm font-bold uppercase tracking-wider",children:"MATCHES_FOUND"}),m.jsx("span",{className:`text-xs font-bold px-2 py-0.5 ${ne} text-black`,children:Q.length})]})}),Q.length===0?m.jsxs("div",{className:"text-center py-12 text-gray-600",children:[m.jsx(xp,{className:"w-8 h-8 mx-auto mb-3 opacity-50"}),m.jsx("p",{className:"text-sm uppercase",children:"No matches yet"}),m.jsx("p",{className:"text-[10px] mt-1",children:"Start mining to find vanity addresses"})]}):m.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:Q.map((ae,me)=>m.jsx("div",{className:`p-4 border ${ae.unlocked?H:"border-gray-700"} bg-gray-900/50`,children:m.jsxs("div",{className:"flex items-start justify-between gap-4",children:[m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[ae.unlocked?m.jsx(S4,{className:"w-3 h-3 text-magic-green flex-shrink-0"}):m.jsx(OW,{className:"w-3 h-3 text-gray-500 flex-shrink-0"}),m.jsx("code",{className:`text-sm font-bold truncate ${ae.unlocked?"text-white":"text-gray-500"}`,children:ae.unlocked?ae.address:E(ae.address)}),ae.unlocked&&m.jsx("button",{onClick:()=>w(ae.address),className:"text-gray-500 hover:text-white flex-shrink-0",children:U===ae.address?m.jsx(e2,{className:"w-3 h-3 text-magic-green"}):m.jsx(E8,{className:"w-3 h-3"})})]}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsxs("span",{className:`text-[10px] px-2 py-0.5 ${ne} text-black font-bold`,children:["SCORE: ",ae.score]}),ae.matches.map((Le,Ue)=>m.jsxs("span",{className:"text-[10px] px-2 py-0.5 border border-gray-600 text-gray-400",children:[Le.type,": ",Le.pattern]},Ue))]})]}),m.jsx("div",{className:"flex-shrink-0",children:ae.unlocked?m.jsxs("button",{onClick:()=>A(ae),className:`px-3 py-2 ${ne} text-black text-[10px] font-bold uppercase flex items-center gap-1`,children:[m.jsx(gx,{className:"w-3 h-3"}),"DOWNLOAD"]}):m.jsxs("button",{onClick:()=>D(me),className:"px-3 py-2 border border-yellow-500 text-yellow-500 text-[10px] font-bold uppercase flex items-center gap-1 hover:bg-yellow-500/10",children:[m.jsx(S4,{className:"w-3 h-3"}),R.price," ",e]})})]})},me))})]}),m.jsxs("div",{className:"border border-yellow-500/30 bg-yellow-500/5 p-4 flex items-start gap-3",children:[m.jsx(_p,{className:"w-5 h-5 text-yellow-500 flex-shrink-0 mt-0.5"}),m.jsxs("div",{className:"text-[11px] text-yellow-500/80",children:[m.jsx("span",{className:"font-bold uppercase",children:"SECURITY_NOTICE:"})," All keypairs are generated client-side in your browser. Private keys never leave your device. Always backup your keypair files securely."]})]})]})]})})]})},vQ=()=>{};var Ok={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},_Q=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],c=n[t++],u=n[t++],h=((i&7)<<18|(s&63)<<12|(c&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const s=n[t++],c=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|c&63)}}return e.join("")},bM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],c=i+1<n.length,u=c?n[i+1]:0,h=i+2<n.length,d=h?n[i+2]:0,p=s>>2,v=(s&3)<<4|u>>4;let x=(u&15)<<2|d>>6,y=d&63;h||(y=64,c||(x=64)),r.push(t[p],t[v],t[x],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(wM(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):_Q(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const d=i<n.length?t[n.charAt(i)]:64;++i;const v=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||u==null||d==null||v==null)throw new xQ;const x=s<<2|u>>4;if(r.push(x),d!==64){const y=u<<4&240|d>>2;if(r.push(y),v!==64){const S=d<<6&192|v;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class xQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EQ=function(n){const e=wM(n);return bM.encodeByteArray(e,!0)},py=function(n){return EQ(n).replace(/\./g,"")},AQ=function(n){try{return bM.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof js<"u")return js;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RQ=()=>SQ().__FIREBASE_DEFAULTS__,TQ=()=>{if(typeof ru>"u"||typeof Ok>"u")return;const n=Ok.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},NQ=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&AQ(n[1]);return e&&JSON.parse(e)},x2=()=>{try{return vQ()||RQ()||TQ()||NQ()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},IQ=n=>{var e,t;return(t=(e=x2())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},vM=n=>{const e=IQ(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},_M=()=>{var n;return(n=x2())==null?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kQ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xM(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...n};return[py(JSON.stringify(t)),py(JSON.stringify(c)),""].join(".")}const op={};function CQ(){const n={prod:[],emulator:[]};for(const e of Object.keys(op))op[e]?n.emulator.push(e):n.prod.push(e);return n}function OQ(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Mk=!1;function AM(n,e){if(typeof window>"u"||typeof document>"u"||!Qp(window.location.host)||op[n]===e||op[n]||Mk)return;op[n]=e;function t(x){return`__firebase__banner__${x}`}const r="__firebase__banner",s=CQ().prod.length>0;function c(){const x=document.getElementById(r);x&&x.remove()}function u(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function h(x,y){x.setAttribute("width","24"),x.setAttribute("id",y),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function d(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Mk=!0,c()},x}function p(x,y){x.setAttribute("id",y),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=OQ(r),y=t("text"),S=document.getElementById(y)||document.createElement("span"),k=t("learnmore"),I=document.getElementById(k)||document.createElement("a"),M=t("preprendIcon"),j=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const O=x.element;u(O),p(I,k);const Q=d();h(j,M),O.append(j,S,I,Q),document.body.appendChild(O)}s?(S.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MQ(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BQ(){var e;const n=(e=x2())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(js.process)==="[object process]"}catch{return!1}}function LQ(){return!BQ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DQ(){try{return typeof indexedDB=="object"}catch{return!1}}function jQ(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PQ="FirebaseError";class Au extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=PQ,Object.setPrototypeOf(this,Au.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,SM.prototype.create)}}class SM{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],c=s?UQ(s,r):"Error",u=`${this.serviceName}: ${c} (${i}).`;return new Au(i,u,r)}}function UQ(n,e){return n.replace(VQ,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const VQ=/\{\$([^}]+)}/g;function my(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],c=e[i];if(Bk(s)&&Bk(c)){if(!my(s,c))return!1}else if(s!==c)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Bk(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(n){return n&&n._delegate?n._delegate:n}class cf{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zQ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new kQ;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HQ(e))try{this.getOrInitializeService({instanceIdentifier:Ul})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ul){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ul){return this.instances.has(e)}getOptions(e=Ul){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&c.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FQ(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ul){return this.component?this.component.multipleInstances?e:Ul:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FQ(n){return n===Ul?void 0:n}function HQ(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new zQ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(hn||(hn={}));const GQ={debug:hn.DEBUG,verbose:hn.VERBOSE,info:hn.INFO,warn:hn.WARN,error:hn.ERROR,silent:hn.SILENT},$Q=hn.INFO,KQ={[hn.DEBUG]:"log",[hn.VERBOSE]:"log",[hn.INFO]:"info",[hn.WARN]:"warn",[hn.ERROR]:"error"},WQ=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=KQ[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class RM{constructor(e){this.name=e,this._logLevel=$Q,this._logHandler=WQ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in hn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GQ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,hn.DEBUG,...e),this._logHandler(this,hn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,hn.VERBOSE,...e),this._logHandler(this,hn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,hn.INFO,...e),this._logHandler(this,hn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,hn.WARN,...e),this._logHandler(this,hn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,hn.ERROR,...e),this._logHandler(this,hn.ERROR,...e)}}const YQ=(n,e)=>e.some(t=>n instanceof t);let Lk,Dk;function XQ(){return Lk||(Lk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZQ(){return Dk||(Dk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TM=new WeakMap,Lx=new WeakMap,NM=new WeakMap,g_=new WeakMap,E2=new WeakMap;function QQ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",c)},s=()=>{t(Fc(n.result)),i()},c=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&TM.set(t,n)}).catch(()=>{}),E2.set(e,n),e}function JQ(n){if(Lx.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",c),n.removeEventListener("abort",c)},s=()=>{t(),i()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",c),n.addEventListener("abort",c)});Lx.set(n,e)}let Dx={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Lx.get(n);if(e==="objectStoreNames")return n.objectStoreNames||NM.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Fc(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function eJ(n){Dx=n(Dx)}function tJ(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(y_(this),e,...t);return NM.set(r,e.sort?e.sort():[e]),Fc(r)}:ZQ().includes(n)?function(...e){return n.apply(y_(this),e),Fc(TM.get(this))}:function(...e){return Fc(n.apply(y_(this),e))}}function nJ(n){return typeof n=="function"?tJ(n):(n instanceof IDBTransaction&&JQ(n),YQ(n,XQ())?new Proxy(n,Dx):n)}function Fc(n){if(n instanceof IDBRequest)return QQ(n);if(g_.has(n))return g_.get(n);const e=nJ(n);return e!==n&&(g_.set(n,e),E2.set(e,n)),e}const y_=n=>E2.get(n);function rJ(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const c=indexedDB.open(n,e),u=Fc(c);return r&&c.addEventListener("upgradeneeded",h=>{r(Fc(c.result),h.oldVersion,h.newVersion,Fc(c.transaction),h)}),t&&c.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{s&&h.addEventListener("close",()=>s()),i&&h.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const iJ=["get","getKey","getAll","getAllKeys","count"],sJ=["put","add","delete","clear"],w_=new Map;function jk(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(w_.get(e))return w_.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=sJ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iJ.includes(t)))return;const s=async function(c,...u){const h=this.transaction(c,i?"readwrite":"readonly");let d=h.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[t](...u),i&&h.done]))[0]};return w_.set(e,s),s}eJ(n=>({...n,get:(e,t,r)=>jk(e,t)||n.get(e,t,r),has:(e,t)=>!!jk(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oJ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(aJ(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function aJ(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jx="@firebase/app",Pk="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=new RM("@firebase/app"),cJ="@firebase/app-compat",lJ="@firebase/analytics-compat",uJ="@firebase/analytics",hJ="@firebase/app-check-compat",fJ="@firebase/app-check",dJ="@firebase/auth",pJ="@firebase/auth-compat",mJ="@firebase/database",gJ="@firebase/data-connect",yJ="@firebase/database-compat",wJ="@firebase/functions",bJ="@firebase/functions-compat",vJ="@firebase/installations",_J="@firebase/installations-compat",xJ="@firebase/messaging",EJ="@firebase/messaging-compat",AJ="@firebase/performance",SJ="@firebase/performance-compat",RJ="@firebase/remote-config",TJ="@firebase/remote-config-compat",NJ="@firebase/storage",IJ="@firebase/storage-compat",kJ="@firebase/firestore",CJ="@firebase/ai",OJ="@firebase/firestore-compat",MJ="firebase",BJ="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="[DEFAULT]",LJ={[jx]:"fire-core",[cJ]:"fire-core-compat",[uJ]:"fire-analytics",[lJ]:"fire-analytics-compat",[fJ]:"fire-app-check",[hJ]:"fire-app-check-compat",[dJ]:"fire-auth",[pJ]:"fire-auth-compat",[mJ]:"fire-rtdb",[gJ]:"fire-data-connect",[yJ]:"fire-rtdb-compat",[wJ]:"fire-fn",[bJ]:"fire-fn-compat",[vJ]:"fire-iid",[_J]:"fire-iid-compat",[xJ]:"fire-fcm",[EJ]:"fire-fcm-compat",[AJ]:"fire-perf",[SJ]:"fire-perf-compat",[RJ]:"fire-rc",[TJ]:"fire-rc-compat",[NJ]:"fire-gcs",[IJ]:"fire-gcs-compat",[kJ]:"fire-fst",[OJ]:"fire-fst-compat",[CJ]:"fire-vertex","fire-js":"fire-js",[MJ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=new Map,DJ=new Map,Ux=new Map;function Uk(n,e){try{n.container.addComponent(e)}catch(t){Ca.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Rp(n){const e=n.name;if(Ux.has(e))return Ca.debug(`There were multiple attempts to register component ${e}.`),!1;Ux.set(e,n);for(const t of gy.values())Uk(t,n);for(const t of DJ.values())Uk(t,n);return!0}function IM(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function kM(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jJ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hc=new SM("app","Firebase",jJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PJ{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=BJ;function OM(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Px,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Hc.create("bad-app-name",{appName:String(i)});if(t||(t=_M()),!t)throw Hc.create("no-options");const s=gy.get(i);if(s){if(my(t,s.options)&&my(r,s.config))return s;throw Hc.create("duplicate-app",{appName:i})}const c=new qQ(i);for(const h of Ux.values())c.addComponent(h);const u=new PJ(t,r,c);return gy.set(i,u),u}function MM(n=Px){const e=gy.get(n);if(!e&&n===Px&&_M())return OM();if(!e)throw Hc.create("no-app",{appName:n});return e}function qc(n,e,t){let r=LJ[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const c=[`Unable to register library "${r}" with version "${e}":`];i&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ca.warn(c.join(" "));return}Rp(new cf(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UJ="firebase-heartbeat-database",VJ=1,Tp="firebase-heartbeat-store";let b_=null;function BM(){return b_||(b_=rJ(UJ,VJ,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Tp)}catch(t){console.warn(t)}}}}).catch(n=>{throw Hc.create("idb-open",{originalErrorMessage:n.message})})),b_}async function zJ(n){try{const t=(await BM()).transaction(Tp),r=await t.objectStore(Tp).get(LM(n));return await t.done,r}catch(e){if(e instanceof Au)Ca.warn(e.message);else{const t=Hc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ca.warn(t.message)}}}async function Vk(n,e){try{const r=(await BM()).transaction(Tp,"readwrite");await r.objectStore(Tp).put(e,LM(n)),await r.done}catch(t){if(t instanceof Au)Ca.warn(t.message);else{const r=Hc.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ca.warn(r.message)}}}function LM(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FJ=1024,HJ=30;class qJ{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new $J(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zk();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(c=>c.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>HJ){const c=KJ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ca.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=zk(),{heartbeatsToSend:r,unsentEntries:i}=GJ(this._heartbeatsCache.heartbeats),s=py(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Ca.warn(t),""}}}function zk(){return new Date().toISOString().substring(0,10)}function GJ(n,e=FJ){const t=[];let r=n.slice();for(const i of n){const s=t.find(c=>c.agent===i.agent);if(s){if(s.dates.push(i.date),Fk(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Fk(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class $J{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DQ()?jQ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await zJ(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Vk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Vk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Fk(n){return py(JSON.stringify({version:2,heartbeats:n})).length}function KJ(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WJ(n){Rp(new cf("platform-logger",e=>new oJ(e),"PRIVATE")),Rp(new cf("heartbeat",e=>new qJ(e),"PRIVATE")),qc(jx,Pk,n),qc(jx,Pk,"esm2020"),qc("fire-js","")}WJ("");var Hk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof js<"u"?js:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gc,DM;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(W,K){function B(){}B.prototype=K.prototype,W.F=K.prototype,W.prototype=new B,W.prototype.constructor=W,W.D=function(U,q,L){for(var T=Array(arguments.length-2),g=2;g<arguments.length;g++)T[g-2]=arguments[g];return K.prototype[q].apply(U,T)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(W,K,B){B||(B=0);const U=Array(16);if(typeof K=="string")for(var q=0;q<16;++q)U[q]=K.charCodeAt(B++)|K.charCodeAt(B++)<<8|K.charCodeAt(B++)<<16|K.charCodeAt(B++)<<24;else for(q=0;q<16;++q)U[q]=K[B++]|K[B++]<<8|K[B++]<<16|K[B++]<<24;K=W.g[0],B=W.g[1],q=W.g[2];let L=W.g[3],T;T=K+(L^B&(q^L))+U[0]+3614090360&4294967295,K=B+(T<<7&4294967295|T>>>25),T=L+(q^K&(B^q))+U[1]+3905402710&4294967295,L=K+(T<<12&4294967295|T>>>20),T=q+(B^L&(K^B))+U[2]+606105819&4294967295,q=L+(T<<17&4294967295|T>>>15),T=B+(K^q&(L^K))+U[3]+3250441966&4294967295,B=q+(T<<22&4294967295|T>>>10),T=K+(L^B&(q^L))+U[4]+4118548399&4294967295,K=B+(T<<7&4294967295|T>>>25),T=L+(q^K&(B^q))+U[5]+1200080426&4294967295,L=K+(T<<12&4294967295|T>>>20),T=q+(B^L&(K^B))+U[6]+2821735955&4294967295,q=L+(T<<17&4294967295|T>>>15),T=B+(K^q&(L^K))+U[7]+4249261313&4294967295,B=q+(T<<22&4294967295|T>>>10),T=K+(L^B&(q^L))+U[8]+1770035416&4294967295,K=B+(T<<7&4294967295|T>>>25),T=L+(q^K&(B^q))+U[9]+2336552879&4294967295,L=K+(T<<12&4294967295|T>>>20),T=q+(B^L&(K^B))+U[10]+4294925233&4294967295,q=L+(T<<17&4294967295|T>>>15),T=B+(K^q&(L^K))+U[11]+2304563134&4294967295,B=q+(T<<22&4294967295|T>>>10),T=K+(L^B&(q^L))+U[12]+1804603682&4294967295,K=B+(T<<7&4294967295|T>>>25),T=L+(q^K&(B^q))+U[13]+4254626195&4294967295,L=K+(T<<12&4294967295|T>>>20),T=q+(B^L&(K^B))+U[14]+2792965006&4294967295,q=L+(T<<17&4294967295|T>>>15),T=B+(K^q&(L^K))+U[15]+1236535329&4294967295,B=q+(T<<22&4294967295|T>>>10),T=K+(q^L&(B^q))+U[1]+4129170786&4294967295,K=B+(T<<5&4294967295|T>>>27),T=L+(B^q&(K^B))+U[6]+3225465664&4294967295,L=K+(T<<9&4294967295|T>>>23),T=q+(K^B&(L^K))+U[11]+643717713&4294967295,q=L+(T<<14&4294967295|T>>>18),T=B+(L^K&(q^L))+U[0]+3921069994&4294967295,B=q+(T<<20&4294967295|T>>>12),T=K+(q^L&(B^q))+U[5]+3593408605&4294967295,K=B+(T<<5&4294967295|T>>>27),T=L+(B^q&(K^B))+U[10]+38016083&4294967295,L=K+(T<<9&4294967295|T>>>23),T=q+(K^B&(L^K))+U[15]+3634488961&4294967295,q=L+(T<<14&4294967295|T>>>18),T=B+(L^K&(q^L))+U[4]+3889429448&4294967295,B=q+(T<<20&4294967295|T>>>12),T=K+(q^L&(B^q))+U[9]+568446438&4294967295,K=B+(T<<5&4294967295|T>>>27),T=L+(B^q&(K^B))+U[14]+3275163606&4294967295,L=K+(T<<9&4294967295|T>>>23),T=q+(K^B&(L^K))+U[3]+4107603335&4294967295,q=L+(T<<14&4294967295|T>>>18),T=B+(L^K&(q^L))+U[8]+1163531501&4294967295,B=q+(T<<20&4294967295|T>>>12),T=K+(q^L&(B^q))+U[13]+2850285829&4294967295,K=B+(T<<5&4294967295|T>>>27),T=L+(B^q&(K^B))+U[2]+4243563512&4294967295,L=K+(T<<9&4294967295|T>>>23),T=q+(K^B&(L^K))+U[7]+1735328473&4294967295,q=L+(T<<14&4294967295|T>>>18),T=B+(L^K&(q^L))+U[12]+2368359562&4294967295,B=q+(T<<20&4294967295|T>>>12),T=K+(B^q^L)+U[5]+4294588738&4294967295,K=B+(T<<4&4294967295|T>>>28),T=L+(K^B^q)+U[8]+2272392833&4294967295,L=K+(T<<11&4294967295|T>>>21),T=q+(L^K^B)+U[11]+1839030562&4294967295,q=L+(T<<16&4294967295|T>>>16),T=B+(q^L^K)+U[14]+4259657740&4294967295,B=q+(T<<23&4294967295|T>>>9),T=K+(B^q^L)+U[1]+2763975236&4294967295,K=B+(T<<4&4294967295|T>>>28),T=L+(K^B^q)+U[4]+1272893353&4294967295,L=K+(T<<11&4294967295|T>>>21),T=q+(L^K^B)+U[7]+4139469664&4294967295,q=L+(T<<16&4294967295|T>>>16),T=B+(q^L^K)+U[10]+3200236656&4294967295,B=q+(T<<23&4294967295|T>>>9),T=K+(B^q^L)+U[13]+681279174&4294967295,K=B+(T<<4&4294967295|T>>>28),T=L+(K^B^q)+U[0]+3936430074&4294967295,L=K+(T<<11&4294967295|T>>>21),T=q+(L^K^B)+U[3]+3572445317&4294967295,q=L+(T<<16&4294967295|T>>>16),T=B+(q^L^K)+U[6]+76029189&4294967295,B=q+(T<<23&4294967295|T>>>9),T=K+(B^q^L)+U[9]+3654602809&4294967295,K=B+(T<<4&4294967295|T>>>28),T=L+(K^B^q)+U[12]+3873151461&4294967295,L=K+(T<<11&4294967295|T>>>21),T=q+(L^K^B)+U[15]+530742520&4294967295,q=L+(T<<16&4294967295|T>>>16),T=B+(q^L^K)+U[2]+3299628645&4294967295,B=q+(T<<23&4294967295|T>>>9),T=K+(q^(B|~L))+U[0]+4096336452&4294967295,K=B+(T<<6&4294967295|T>>>26),T=L+(B^(K|~q))+U[7]+1126891415&4294967295,L=K+(T<<10&4294967295|T>>>22),T=q+(K^(L|~B))+U[14]+2878612391&4294967295,q=L+(T<<15&4294967295|T>>>17),T=B+(L^(q|~K))+U[5]+4237533241&4294967295,B=q+(T<<21&4294967295|T>>>11),T=K+(q^(B|~L))+U[12]+1700485571&4294967295,K=B+(T<<6&4294967295|T>>>26),T=L+(B^(K|~q))+U[3]+2399980690&4294967295,L=K+(T<<10&4294967295|T>>>22),T=q+(K^(L|~B))+U[10]+4293915773&4294967295,q=L+(T<<15&4294967295|T>>>17),T=B+(L^(q|~K))+U[1]+2240044497&4294967295,B=q+(T<<21&4294967295|T>>>11),T=K+(q^(B|~L))+U[8]+1873313359&4294967295,K=B+(T<<6&4294967295|T>>>26),T=L+(B^(K|~q))+U[15]+4264355552&4294967295,L=K+(T<<10&4294967295|T>>>22),T=q+(K^(L|~B))+U[6]+2734768916&4294967295,q=L+(T<<15&4294967295|T>>>17),T=B+(L^(q|~K))+U[13]+1309151649&4294967295,B=q+(T<<21&4294967295|T>>>11),T=K+(q^(B|~L))+U[4]+4149444226&4294967295,K=B+(T<<6&4294967295|T>>>26),T=L+(B^(K|~q))+U[11]+3174756917&4294967295,L=K+(T<<10&4294967295|T>>>22),T=q+(K^(L|~B))+U[2]+718787259&4294967295,q=L+(T<<15&4294967295|T>>>17),T=B+(L^(q|~K))+U[9]+3951481745&4294967295,W.g[0]=W.g[0]+K&4294967295,W.g[1]=W.g[1]+(q+(T<<21&4294967295|T>>>11))&4294967295,W.g[2]=W.g[2]+q&4294967295,W.g[3]=W.g[3]+L&4294967295}r.prototype.v=function(W,K){K===void 0&&(K=W.length);const B=K-this.blockSize,U=this.C;let q=this.h,L=0;for(;L<K;){if(q==0)for(;L<=B;)i(this,W,L),L+=this.blockSize;if(typeof W=="string"){for(;L<K;)if(U[q++]=W.charCodeAt(L++),q==this.blockSize){i(this,U),q=0;break}}else for(;L<K;)if(U[q++]=W[L++],q==this.blockSize){i(this,U),q=0;break}}this.h=q,this.o+=K},r.prototype.A=function(){var W=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);W[0]=128;for(var K=1;K<W.length-8;++K)W[K]=0;K=this.o*8;for(var B=W.length-8;B<W.length;++B)W[B]=K&255,K/=256;for(this.v(W),W=Array(16),K=0,B=0;B<4;++B)for(let U=0;U<32;U+=8)W[K++]=this.g[B]>>>U&255;return W};function s(W,K){var B=u;return Object.prototype.hasOwnProperty.call(B,W)?B[W]:B[W]=K(W)}function c(W,K){this.h=K;const B=[];let U=!0;for(let q=W.length-1;q>=0;q--){const L=W[q]|0;U&&L==K||(B[q]=L,U=!1)}this.g=B}var u={};function h(W){return-128<=W&&W<128?s(W,function(K){return new c([K|0],K<0?-1:0)}):new c([W|0],W<0?-1:0)}function d(W){if(isNaN(W)||!isFinite(W))return v;if(W<0)return I(d(-W));const K=[];let B=1;for(let U=0;W>=B;U++)K[U]=W/B|0,B*=4294967296;return new c(K,0)}function p(W,K){if(W.length==0)throw Error("number format error: empty string");if(K=K||10,K<2||36<K)throw Error("radix out of range: "+K);if(W.charAt(0)=="-")return I(p(W.substring(1),K));if(W.indexOf("-")>=0)throw Error('number format error: interior "-" character');const B=d(Math.pow(K,8));let U=v;for(let L=0;L<W.length;L+=8){var q=Math.min(8,W.length-L);const T=parseInt(W.substring(L,L+q),K);q<8?(q=d(Math.pow(K,q)),U=U.j(q).add(d(T))):(U=U.j(B),U=U.add(d(T)))}return U}var v=h(0),x=h(1),y=h(16777216);n=c.prototype,n.m=function(){if(k(this))return-I(this).m();let W=0,K=1;for(let B=0;B<this.g.length;B++){const U=this.i(B);W+=(U>=0?U:4294967296+U)*K,K*=4294967296}return W},n.toString=function(W){if(W=W||10,W<2||36<W)throw Error("radix out of range: "+W);if(S(this))return"0";if(k(this))return"-"+I(this).toString(W);const K=d(Math.pow(W,6));var B=this;let U="";for(;;){const q=Q(B,K).g;B=M(B,q.j(K));let L=((B.g.length>0?B.g[0]:B.h)>>>0).toString(W);if(B=q,S(B))return L+U;for(;L.length<6;)L="0"+L;U=L+U}},n.i=function(W){return W<0?0:W<this.g.length?this.g[W]:this.h};function S(W){if(W.h!=0)return!1;for(let K=0;K<W.g.length;K++)if(W.g[K]!=0)return!1;return!0}function k(W){return W.h==-1}n.l=function(W){return W=M(this,W),k(W)?-1:S(W)?0:1};function I(W){const K=W.g.length,B=[];for(let U=0;U<K;U++)B[U]=~W.g[U];return new c(B,~W.h).add(x)}n.abs=function(){return k(this)?I(this):this},n.add=function(W){const K=Math.max(this.g.length,W.g.length),B=[];let U=0;for(let q=0;q<=K;q++){let L=U+(this.i(q)&65535)+(W.i(q)&65535),T=(L>>>16)+(this.i(q)>>>16)+(W.i(q)>>>16);U=T>>>16,L&=65535,T&=65535,B[q]=T<<16|L}return new c(B,B[B.length-1]&-2147483648?-1:0)};function M(W,K){return W.add(I(K))}n.j=function(W){if(S(this)||S(W))return v;if(k(this))return k(W)?I(this).j(I(W)):I(I(this).j(W));if(k(W))return I(this.j(I(W)));if(this.l(y)<0&&W.l(y)<0)return d(this.m()*W.m());const K=this.g.length+W.g.length,B=[];for(var U=0;U<2*K;U++)B[U]=0;for(U=0;U<this.g.length;U++)for(let q=0;q<W.g.length;q++){const L=this.i(U)>>>16,T=this.i(U)&65535,g=W.i(q)>>>16,R=W.i(q)&65535;B[2*U+2*q]+=T*R,j(B,2*U+2*q),B[2*U+2*q+1]+=L*R,j(B,2*U+2*q+1),B[2*U+2*q+1]+=T*g,j(B,2*U+2*q+1),B[2*U+2*q+2]+=L*g,j(B,2*U+2*q+2)}for(W=0;W<K;W++)B[W]=B[2*W+1]<<16|B[2*W];for(W=K;W<2*K;W++)B[W]=0;return new c(B,0)};function j(W,K){for(;(W[K]&65535)!=W[K];)W[K+1]+=W[K]>>>16,W[K]&=65535,K++}function O(W,K){this.g=W,this.h=K}function Q(W,K){if(S(K))throw Error("division by zero");if(S(W))return new O(v,v);if(k(W))return K=Q(I(W),K),new O(I(K.g),I(K.h));if(k(K))return K=Q(W,I(K)),new O(I(K.g),K.h);if(W.g.length>30){if(k(W)||k(K))throw Error("slowDivide_ only works with positive integers.");for(var B=x,U=K;U.l(W)<=0;)B=oe(B),U=oe(U);var q=ce(B,1),L=ce(U,1);for(U=ce(U,2),B=ce(B,2);!S(U);){var T=L.add(U);T.l(W)<=0&&(q=q.add(B),L=T),U=ce(U,1),B=ce(B,1)}return K=M(W,q.j(K)),new O(q,K)}for(q=v;W.l(K)>=0;){for(B=Math.max(1,Math.floor(W.m()/K.m())),U=Math.ceil(Math.log(B)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),L=d(B),T=L.j(K);k(T)||T.l(W)>0;)B-=U,L=d(B),T=L.j(K);S(L)&&(L=x),q=q.add(L),W=M(W,T)}return new O(q,W)}n.B=function(W){return Q(this,W).h},n.and=function(W){const K=Math.max(this.g.length,W.g.length),B=[];for(let U=0;U<K;U++)B[U]=this.i(U)&W.i(U);return new c(B,this.h&W.h)},n.or=function(W){const K=Math.max(this.g.length,W.g.length),B=[];for(let U=0;U<K;U++)B[U]=this.i(U)|W.i(U);return new c(B,this.h|W.h)},n.xor=function(W){const K=Math.max(this.g.length,W.g.length),B=[];for(let U=0;U<K;U++)B[U]=this.i(U)^W.i(U);return new c(B,this.h^W.h)};function oe(W){const K=W.g.length+1,B=[];for(let U=0;U<K;U++)B[U]=W.i(U)<<1|W.i(U-1)>>>31;return new c(B,W.h)}function ce(W,K){const B=K>>5;K%=32;const U=W.g.length-B,q=[];for(let L=0;L<U;L++)q[L]=K>0?W.i(L+B)>>>K|W.i(L+B+1)<<32-K:W.i(L+B);return new c(q,W.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,DM=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=d,c.fromString=p,Gc=c}).apply(typeof Hk<"u"?Hk:typeof self<"u"?self:typeof window<"u"?window:{});var eg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof js<"u"?js:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jM,Kd,PM,Ug,Vx,UM,VM,zM;(function(){var n,e=Object.defineProperty;function t(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof eg=="object"&&eg];for(var V=0;V<b.length;++V){var ee=b[V];if(ee&&ee.Math==Math)return ee}throw Error("Cannot find global object")}var r=t(this);function i(b,V){if(V)e:{var ee=r;b=b.split(".");for(var he=0;he<b.length-1;he++){var Te=b[he];if(!(Te in ee))break e;ee=ee[Te]}b=b[b.length-1],he=ee[b],V=V(he),V!=he&&V!=null&&e(ee,b,{configurable:!0,writable:!0,value:V})}}i("Symbol.dispose",function(b){return b||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(b){return b||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(b){return b||function(V){var ee=[],he;for(he in V)Object.prototype.hasOwnProperty.call(V,he)&&ee.push([he,V[he]]);return ee}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},c=this||self;function u(b){var V=typeof b;return V=="object"&&b!=null||V=="function"}function h(b,V,ee){return b.call.apply(b.bind,arguments)}function d(b,V,ee){return d=h,d.apply(null,arguments)}function p(b,V){var ee=Array.prototype.slice.call(arguments,1);return function(){var he=ee.slice();return he.push.apply(he,arguments),b.apply(this,he)}}function v(b,V){function ee(){}ee.prototype=V.prototype,b.Z=V.prototype,b.prototype=new ee,b.prototype.constructor=b,b.Ob=function(he,Te,De){for(var Ze=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)Ze[Ut-2]=arguments[Ut];return V.prototype[Te].apply(he,Ze)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?b=>b&&AsyncContext.Snapshot.wrap(b):b=>b;function y(b){const V=b.length;if(V>0){const ee=Array(V);for(let he=0;he<V;he++)ee[he]=b[he];return ee}return[]}function S(b,V){for(let he=1;he<arguments.length;he++){const Te=arguments[he];var ee=typeof Te;if(ee=ee!="object"?ee:Te?Array.isArray(Te)?"array":ee:"null",ee=="array"||ee=="object"&&typeof Te.length=="number"){ee=b.length||0;const De=Te.length||0;b.length=ee+De;for(let Ze=0;Ze<De;Ze++)b[ee+Ze]=Te[Ze]}else b.push(Te)}}class k{constructor(V,ee){this.i=V,this.j=ee,this.h=0,this.g=null}get(){let V;return this.h>0?(this.h--,V=this.g,this.g=V.next,V.next=null):V=this.i(),V}}function I(b){c.setTimeout(()=>{throw b},0)}function M(){var b=W;let V=null;return b.g&&(V=b.g,b.g=b.g.next,b.g||(b.h=null),V.next=null),V}class j{constructor(){this.h=this.g=null}add(V,ee){const he=O.get();he.set(V,ee),this.h?this.h.next=he:this.g=he,this.h=he}}var O=new k(()=>new Q,b=>b.reset());class Q{constructor(){this.next=this.g=this.h=null}set(V,ee){this.h=V,this.g=ee,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ce=!1,W=new j,K=()=>{const b=Promise.resolve(void 0);oe=()=>{b.then(B)}};function B(){for(var b;b=M();){try{b.h.call(b.g)}catch(ee){I(ee)}var V=O;V.j(b),V.h<100&&(V.h++,b.next=V.g,V.g=b)}ce=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(b,V){this.type=b,this.g=this.target=V,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var b=!1,V=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const ee=()=>{};c.addEventListener("test",ee,V),c.removeEventListener("test",ee,V)}catch{}return b})();function T(b){return/^[\s\xa0]*$/.test(b)}function g(b,V){q.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b&&this.init(b,V)}v(g,q),g.prototype.init=function(b,V){const ee=this.type=b.type,he=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;this.target=b.target||b.srcElement,this.g=V,V=b.relatedTarget,V||(ee=="mouseover"?V=b.fromElement:ee=="mouseout"&&(V=b.toElement)),this.relatedTarget=V,he?(this.clientX=he.clientX!==void 0?he.clientX:he.pageX,this.clientY=he.clientY!==void 0?he.clientY:he.pageY,this.screenX=he.screenX||0,this.screenY=he.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=b.pointerType,this.state=b.state,this.i=b,b.defaultPrevented&&g.Z.h.call(this)},g.prototype.h=function(){g.Z.h.call(this);const b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var R="closure_listenable_"+(Math.random()*1e6|0),C=0;function Y(b,V,ee,he,Te){this.listener=b,this.proxy=null,this.src=V,this.type=ee,this.capture=!!he,this.ha=Te,this.key=++C,this.da=this.fa=!1}function te(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function Z(b,V,ee){for(const he in b)V.call(ee,b[he],he,b)}function D(b,V){for(const ee in b)V.call(void 0,b[ee],ee,b)}function A(b){const V={};for(const ee in b)V[ee]=b[ee];return V}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(b,V){let ee,he;for(let Te=1;Te<arguments.length;Te++){he=arguments[Te];for(ee in he)b[ee]=he[ee];for(let De=0;De<w.length;De++)ee=w[De],Object.prototype.hasOwnProperty.call(he,ee)&&(b[ee]=he[ee])}}function H(b){this.src=b,this.g={},this.h=0}H.prototype.add=function(b,V,ee,he,Te){const De=b.toString();b=this.g[De],b||(b=this.g[De]=[],this.h++);const Ze=ae(b,V,he,Te);return Ze>-1?(V=b[Ze],ee||(V.fa=!1)):(V=new Y(V,this.src,De,!!he,Te),V.fa=ee,b.push(V)),V};function ne(b,V){const ee=V.type;if(ee in b.g){var he=b.g[ee],Te=Array.prototype.indexOf.call(he,V,void 0),De;(De=Te>=0)&&Array.prototype.splice.call(he,Te,1),De&&(te(V),b.g[ee].length==0&&(delete b.g[ee],b.h--))}}function ae(b,V,ee,he){for(let Te=0;Te<b.length;++Te){const De=b[Te];if(!De.da&&De.listener==V&&De.capture==!!ee&&De.ha==he)return Te}return-1}var me="closure_lm_"+(Math.random()*1e6|0),Le={};function Ue(b,V,ee,he,Te){if(Array.isArray(V)){for(let De=0;De<V.length;De++)Ue(b,V[De],ee,he,Te);return null}return ee=re(ee),b&&b[R]?b.J(V,ee,u(he)?!!he.capture:!1,Te):it(b,V,ee,!1,he,Te)}function it(b,V,ee,he,Te,De){if(!V)throw Error("Invalid event type");const Ze=u(Te)?!!Te.capture:!!Te;let Ut=P(b);if(Ut||(b[me]=Ut=new H(b)),ee=Ut.add(V,ee,he,Ze,De),ee.proxy)return ee;if(he=ut(),ee.proxy=he,he.src=b,he.listener=ee,b.addEventListener)L||(Te=Ze),Te===void 0&&(Te=!1),b.addEventListener(V.toString(),he,Te);else if(b.attachEvent)b.attachEvent(Ot(V.toString()),he);else if(b.addListener&&b.removeListener)b.addListener(he);else throw Error("addEventListener and attachEvent are unavailable.");return ee}function ut(){function b(ee){return V.call(b.src,b.listener,ee)}const V=Jt;return b}function kt(b,V,ee,he,Te){if(Array.isArray(V))for(var De=0;De<V.length;De++)kt(b,V[De],ee,he,Te);else he=u(he)?!!he.capture:!!he,ee=re(ee),b&&b[R]?(b=b.i,De=String(V).toString(),De in b.g&&(V=b.g[De],ee=ae(V,ee,he,Te),ee>-1&&(te(V[ee]),Array.prototype.splice.call(V,ee,1),V.length==0&&(delete b.g[De],b.h--)))):b&&(b=P(b))&&(V=b.g[V.toString()],b=-1,V&&(b=ae(V,ee,he,Te)),(ee=b>-1?V[b]:null)&&lr(ee))}function lr(b){if(typeof b!="number"&&b&&!b.da){var V=b.src;if(V&&V[R])ne(V.i,b);else{var ee=b.type,he=b.proxy;V.removeEventListener?V.removeEventListener(ee,he,b.capture):V.detachEvent?V.detachEvent(Ot(ee),he):V.addListener&&V.removeListener&&V.removeListener(he),(ee=P(V))?(ne(ee,b),ee.h==0&&(ee.src=null,V[me]=null)):te(b)}}}function Ot(b){return b in Le?Le[b]:Le[b]="on"+b}function Jt(b,V){if(b.da)b=!0;else{V=new g(V,this);const ee=b.listener,he=b.ha||b.src;b.fa&&lr(b),b=ee.call(he,V)}return b}function P(b){return b=b[me],b instanceof H?b:null}var J="__closure_events_fn_"+(Math.random()*1e9>>>0);function re(b){return typeof b=="function"?b:(b[J]||(b[J]=function(V){return b.handleEvent(V)}),b[J])}function ye(){U.call(this),this.i=new H(this),this.M=this,this.G=null}v(ye,U),ye.prototype[R]=!0,ye.prototype.removeEventListener=function(b,V,ee,he){kt(this,b,V,ee,he)};function we(b,V){var ee,he=b.G;if(he)for(ee=[];he;he=he.G)ee.push(he);if(b=b.M,he=V.type||V,typeof V=="string")V=new q(V,b);else if(V instanceof q)V.target=V.target||b;else{var Te=V;V=new q(he,b),E(V,Te)}Te=!0;let De,Ze;if(ee)for(Ze=ee.length-1;Ze>=0;Ze--)De=V.g=ee[Ze],Te=Ee(De,he,!0,V)&&Te;if(De=V.g=b,Te=Ee(De,he,!0,V)&&Te,Te=Ee(De,he,!1,V)&&Te,ee)for(Ze=0;Ze<ee.length;Ze++)De=V.g=ee[Ze],Te=Ee(De,he,!1,V)&&Te}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var b=this.i;for(const V in b.g){const ee=b.g[V];for(let he=0;he<ee.length;he++)te(ee[he]);delete b.g[V],b.h--}}this.G=null},ye.prototype.J=function(b,V,ee,he){return this.i.add(String(b),V,!1,ee,he)},ye.prototype.K=function(b,V,ee,he){return this.i.add(String(b),V,!0,ee,he)};function Ee(b,V,ee,he){if(V=b.i.g[String(V)],!V)return!0;V=V.concat();let Te=!0;for(let De=0;De<V.length;++De){const Ze=V[De];if(Ze&&!Ze.da&&Ze.capture==ee){const Ut=Ze.listener,ur=Ze.ha||Ze.src;Ze.fa&&ne(b.i,Ze),Te=Ut.call(ur,he)!==!1&&Te}}return Te&&!he.defaultPrevented}function Ve(b,V){if(typeof b!="function")if(b&&typeof b.handleEvent=="function")b=d(b.handleEvent,b);else throw Error("Invalid listener argument");return Number(V)>2147483647?-1:c.setTimeout(b,V||0)}function Ye(b){b.g=Ve(()=>{b.g=null,b.i&&(b.i=!1,Ye(b))},b.l);const V=b.h;b.h=null,b.m.apply(null,V)}class Je extends U{constructor(V,ee){super(),this.m=V,this.l=ee,this.h=null,this.i=!1,this.g=null}j(V){this.h=arguments,this.g?this.i=!0:Ye(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mt(b){U.call(this),this.h=b,this.g={}}v(Mt,U);var lt=[];function Et(b){Z(b.g,function(V,ee){this.g.hasOwnProperty(ee)&&lr(V)},b),b.g={}}Mt.prototype.N=function(){Mt.Z.N.call(this),Et(this)},Mt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yn=c.JSON.stringify,fn=c.JSON.parse,se=class{stringify(b){return c.JSON.stringify(b,void 0)}parse(b){return c.JSON.parse(b,void 0)}};function z(){}function G(){}var fe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function be(){q.call(this,"d")}v(be,q);function Ae(){q.call(this,"c")}v(Ae,q);var ke={},Ct=null;function bt(){return Ct=Ct||new ye}ke.Ia="serverreachability";function At(b){q.call(this,ke.Ia,b)}v(At,q);function Kt(b){const V=bt();we(V,new At(V))}ke.STAT_EVENT="statevent";function mt(b,V){q.call(this,ke.STAT_EVENT,b),this.stat=V}v(mt,q);function Bt(b){const V=bt();we(V,new mt(V,b))}ke.Ja="timingevent";function Fn(b,V){q.call(this,ke.Ja,b),this.size=V}v(Fn,q);function sn(b,V){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){b()},V)}function an(){this.g=!0}an.prototype.ua=function(){this.g=!1};function gi(b,V,ee,he,Te,De){b.info(function(){if(b.g)if(De){var Ze="",Ut=De.split("&");for(let wn=0;wn<Ut.length;wn++){var ur=Ut[wn].split("=");if(ur.length>1){const Gn=ur[0];ur=ur[1];const cs=Gn.split("_");Ze=cs.length>=2&&cs[1]=="type"?Ze+(Gn+"="+ur+"&"):Ze+(Gn+"=redacted&")}}}else Ze=null;else Ze=De;return"XMLHTTP REQ ("+he+") [attempt "+Te+"]: "+V+`
`+ee+`
`+Ze})}function Cn(b,V,ee,he,Te,De,Ze){b.info(function(){return"XMLHTTP RESP ("+he+") [ attempt "+Te+"]: "+V+`
`+ee+`
`+De+" "+Ze})}function ie(b,V,ee,he){b.info(function(){return"XMLHTTP TEXT ("+V+"): "+$(b,ee)+(he?" "+he:"")})}function F(b,V){b.info(function(){return"TIMEOUT: "+V})}an.prototype.info=function(){};function $(b,V){if(!b.g)return V;if(!V)return null;try{const De=JSON.parse(V);if(De){for(b=0;b<De.length;b++)if(Array.isArray(De[b])){var ee=De[b];if(!(ee.length<2)){var he=ee[1];if(Array.isArray(he)&&!(he.length<1)){var Te=he[0];if(Te!="noop"&&Te!="stop"&&Te!="close")for(let Ze=1;Ze<he.length;Ze++)he[Ze]=""}}}}return Yn(De)}catch{return V}}var de={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_e={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Re;function je(){}v(je,z),je.prototype.g=function(){return new XMLHttpRequest},Re=new je;function Tt(b){return encodeURIComponent(String(b))}function It(b){var V=1;b=b.split(":");const ee=[];for(;V>0&&b.length;)ee.push(b.shift()),V--;return b.length&&ee.push(b.join(":")),ee}function gt(b,V,ee,he){this.j=b,this.i=V,this.l=ee,this.S=he||1,this.V=new Mt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wt}function Wt(){this.i=null,this.g="",this.h=!1}var st={},$t={};function Gi(b,V,ee){b.M=1,b.A=ol(gr(V)),b.u=ee,b.R=!0,On(b,null)}function On(b,V){b.F=Date.now(),Ai(b),b.B=gr(b.A);var ee=b.B,he=b.S;Array.isArray(he)||(he=[String(he)]),ku(ee.i,"t",he),b.C=0,ee=b.j.L,b.h=new Wt,b.g=gm(b.j,ee?V:null,!b.u),b.P>0&&(b.O=new Je(d(b.Y,b,b.g),b.P)),V=b.V,ee=b.g,he=b.ba;var Te="readystatechange";Array.isArray(Te)||(Te&&(lt[0]=Te.toString()),Te=lt);for(let De=0;De<Te.length;De++){const Ze=Ue(ee,Te[De],he||V.handleEvent,!1,V.h||V);if(!Ze)break;V.g[Ze.key]=Ze}V=b.J?A(b.J):{},b.u?(b.v||(b.v="POST"),V["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.B,b.v,b.u,V)):(b.v="GET",b.g.ea(b.B,b.v,null,V)),Kt(),gi(b.i,b.v,b.B,b.l,b.S,b.u)}gt.prototype.ba=function(b){b=b.target;const V=this.O;V&&Ts(b)==3?V.j():this.Y(b)},gt.prototype.Y=function(b){try{if(b==this.g)e:{const Ut=Ts(this.g),ur=this.g.ya(),wn=this.g.ca();if(!(Ut<3)&&(Ut!=3||this.g&&(this.h.h||this.g.la()||Gr(this.g)))){this.K||Ut!=4||ur==7||(ur==8||wn<=0?Kt(3):Kt(2)),Si(this);var V=this.g.ca();this.X=V;var ee=Hn(this);if(this.o=V==200,Cn(this.i,this.v,this.B,this.l,this.S,Ut,V),this.o){if(this.U&&!this.L){t:{if(this.g){var he,Te=this.g;if((he=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(he)){var De=he;break t}}De=null}if(b=De)ie(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ri(this,b);else{this.o=!1,this.m=3,Bt(12),Hr(this),ii(this);break e}}if(this.R){b=!0;let Gn;for(;!this.K&&this.C<ee.length;)if(Gn=Da(this,ee),Gn==$t){Ut==4&&(this.m=4,Bt(14),b=!1),ie(this.i,this.l,null,"[Incomplete Response]");break}else if(Gn==st){this.m=4,Bt(15),ie(this.i,this.l,ee,"[Invalid Chunk]"),b=!1;break}else ie(this.i,this.l,Gn,null),Ri(this,Gn);if(La(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||ee.length!=0||this.h.h||(this.m=1,Bt(16),b=!1),this.o=this.o&&b,!b)ie(this.i,this.l,ee,"[Invalid Chunked Response]"),Hr(this),ii(this);else if(ee.length>0&&!this.W){this.W=!0;var Ze=this.j;Ze.g==this&&Ze.aa&&!Ze.P&&(Ze.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),Df(Ze),Ze.P=!0,Bt(11))}}else ie(this.i,this.l,ee,null),Ri(this,ee);Ut==4&&Hr(this),this.o&&!this.K&&(Ut==4?fm(this.j,this):(this.o=!1,Ai(this)))}else Ho(this.g),V==400&&ee.indexOf("Unknown SID")>0?(this.m=3,Bt(12)):(this.m=0,Bt(13)),Hr(this),ii(this)}}}catch{}finally{}};function Hn(b){if(!La(b))return b.g.la();const V=Gr(b.g);if(V==="")return"";let ee="";const he=V.length,Te=Ts(b.g)==4;if(!b.h.i){if(typeof TextDecoder>"u")return Hr(b),ii(b),"";b.h.i=new c.TextDecoder}for(let De=0;De<he;De++)b.h.h=!0,ee+=b.h.i.decode(V[De],{stream:!(Te&&De==he-1)});return V.length=0,b.h.g+=ee,b.C=0,b.h.g}function La(b){return b.g?b.v=="GET"&&b.M!=2&&b.j.Aa:!1}function Da(b,V){var ee=b.C,he=V.indexOf(`
`,ee);return he==-1?$t:(ee=Number(V.substring(ee,he)),isNaN(ee)?st:(he+=1,he+ee>V.length?$t:(V=V.slice(he,he+ee),b.C=he+ee,V)))}gt.prototype.cancel=function(){this.K=!0,Hr(this)};function Ai(b){b.T=Date.now()+b.H,Fs(b,b.H)}function Fs(b,V){if(b.D!=null)throw Error("WatchDog timer not null");b.D=sn(d(b.aa,b),V)}function Si(b){b.D&&(c.clearTimeout(b.D),b.D=null)}gt.prototype.aa=function(){this.D=null;const b=Date.now();b-this.T>=0?(F(this.i,this.B),this.M!=2&&(Kt(),Bt(17)),Hr(this),this.m=2,ii(this)):Fs(this,this.T-b)};function ii(b){b.j.I==0||b.K||fm(b.j,b)}function Hr(b){Si(b);var V=b.O;V&&typeof V.dispose=="function"&&V.dispose(),b.O=null,Et(b.V),b.g&&(V=b.g,b.g=null,V.abort(),V.dispose())}function Ri(b,V){try{var ee=b.j;if(ee.I!=0&&(ee.g==b||Ni(ee.h,b))){if(!b.L&&Ni(ee.h,b)&&ee.I==3){try{var he=ee.Ba.g.parse(V)}catch{he=null}if(Array.isArray(he)&&he.length==3){var Te=he;if(Te[0]==0){e:if(!ee.v){if(ee.g)if(ee.g.F+3e3<b.F)Lu(ee),Ga(ee);else break e;dl(ee),Bt(18)}}else ee.xa=Te[1],0<ee.xa-ee.K&&Te[2]<37500&&ee.F&&ee.A==0&&!ee.C&&(ee.C=sn(d(ee.Va,ee),6e3));Ti(ee.h)<=1&&ee.ta&&(ee.ta=void 0)}else Ys(ee,11)}else if((b.L||ee.g==b)&&Lu(ee),!T(V))for(Te=ee.Ba.g.parse(V),V=0;V<Te.length;V++){let wn=Te[V];const Gn=wn[0];if(!(Gn<=ee.K))if(ee.K=Gn,wn=wn[1],ee.I==2)if(wn[0]=="c"){ee.M=wn[1],ee.ba=wn[2];const cs=wn[3];cs!=null&&(ee.ka=cs,ee.j.info("VER="+ee.ka));const Xs=wn[4];Xs!=null&&(ee.za=Xs,ee.j.info("SVER="+ee.za));const Ns=wn[5];Ns!=null&&typeof Ns=="number"&&Ns>0&&(he=1.5*Ns,ee.O=he,ee.j.info("backChannelRequestTimeoutMs_="+he)),he=ee;const Is=b.g;if(Is){const pl=Is.g?Is.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pl){var De=he.h;De.g||pl.indexOf("spdy")==-1&&pl.indexOf("quic")==-1&&pl.indexOf("h2")==-1||(De.j=De.l,De.g=new Set,De.h&&(Uo(De,De.h),De.h=null))}if(he.G){const Du=Is.g?Is.g.getResponseHeader("X-HTTP-Session-Id"):null;Du&&(he.wa=Du,xn(he.J,he.G,Du))}}ee.I=3,ee.l&&ee.l.ra(),ee.aa&&(ee.T=Date.now()-b.F,ee.j.info("Handshake RTT: "+ee.T+"ms")),he=ee;var Ze=b;if(he.na=mm(he,he.L?he.ba:null,he.W),Ze.L){Vo(he.h,Ze);var Ut=Ze,ur=he.O;ur&&(Ut.H=ur),Ut.D&&(Si(Ut),Ai(Ut)),he.g=Ze}else um(he);ee.i.length>0&&Ws(ee)}else wn[0]!="stop"&&wn[0]!="close"||Ys(ee,7);else ee.I==3&&(wn[0]=="stop"||wn[0]=="close"?wn[0]=="stop"?Ys(ee,7):Bf(ee):wn[0]!="noop"&&ee.l&&ee.l.qa(wn),ee.A=0)}}Kt(4)}catch{}}var qn=class{constructor(b,V){this.g=b,this.map=V}};function jo(b){this.l=b||10,c.PerformanceNavigationTiming?(b=c.performance.getEntriesByType("navigation"),b=b.length>0&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Po(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function Ti(b){return b.h?1:b.g?b.g.size:0}function Ni(b,V){return b.h?b.h==V:b.g?b.g.has(V):!1}function Uo(b,V){b.g?b.g.add(V):b.h=V}function Vo(b,V){b.h&&b.h==V?b.h=null:b.g&&b.g.has(V)&&b.g.delete(V)}jo.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function zo(b){if(b.h!=null)return b.i.concat(b.h.G);if(b.g!=null&&b.g.size!==0){let V=b.i;for(const ee of b.g.values())V=V.concat(ee.G);return V}return y(b.i)}var ja=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hs(b,V){if(b){b=b.split("&");for(let ee=0;ee<b.length;ee++){const he=b[ee].indexOf("=");let Te,De=null;he>=0?(Te=b[ee].substring(0,he),De=b[ee].substring(he+1)):Te=b[ee],V(Te,De?decodeURIComponent(De.replace(/\+/g," ")):"")}}}function qr(b){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let V;b instanceof qr?(this.l=b.l,Lr(this,b.j),this.o=b.o,this.g=b.g,Pa(this,b.u),this.h=b.h,Tf(this,cm(b.i)),this.m=b.m):b&&(V=String(b).match(ja))?(this.l=!1,Lr(this,V[1]||"",!0),this.o=qs(V[2]||""),this.g=qs(V[3]||"",!0),Pa(this,V[4]),this.h=qs(V[5]||"",!0),Tf(this,V[6]||"",!0),this.m=qs(V[7]||"")):(this.l=!1,this.i=new Va(null,this.l))}qr.prototype.toString=function(){const b=[];var V=this.j;V&&b.push(al(V,Iu,!0),":");var ee=this.g;return(ee||V=="file")&&(b.push("//"),(V=this.o)&&b.push(al(V,Iu,!0),"@"),b.push(Tt(ee).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ee=this.u,ee!=null&&b.push(":",String(ee))),(ee=this.h)&&(this.g&&ee.charAt(0)!="/"&&b.push("/"),b.push(al(ee,ee.charAt(0)=="/"?Nf:sm,!0))),(ee=this.i.toString())&&b.push("?",ee),(ee=this.m)&&b.push("#",al(ee,om)),b.join("")},qr.prototype.resolve=function(b){const V=gr(this);let ee=!!b.j;ee?Lr(V,b.j):ee=!!b.o,ee?V.o=b.o:ee=!!b.g,ee?V.g=b.g:ee=b.u!=null;var he=b.h;if(ee)Pa(V,b.u);else if(ee=!!b.h){if(he.charAt(0)!="/")if(this.g&&!this.h)he="/"+he;else{var Te=V.h.lastIndexOf("/");Te!=-1&&(he=V.h.slice(0,Te+1)+he)}if(Te=he,Te==".."||Te==".")he="";else if(Te.indexOf("./")!=-1||Te.indexOf("/.")!=-1){he=Te.lastIndexOf("/",0)==0,Te=Te.split("/");const De=[];for(let Ze=0;Ze<Te.length;){const Ut=Te[Ze++];Ut=="."?he&&Ze==Te.length&&De.push(""):Ut==".."?((De.length>1||De.length==1&&De[0]!="")&&De.pop(),he&&Ze==Te.length&&De.push("")):(De.push(Ut),he=!0)}he=De.join("/")}else he=Te}return ee?V.h=he:ee=b.i.toString()!=="",ee?Tf(V,cm(b.i)):ee=!!b.m,ee&&(V.m=b.m),V};function gr(b){return new qr(b)}function Lr(b,V,ee){b.j=ee?qs(V,!0):V,b.j&&(b.j=b.j.replace(/:$/,""))}function Pa(b,V){if(V){if(V=Number(V),isNaN(V)||V<0)throw Error("Bad port number "+V);b.u=V}else b.u=null}function Tf(b,V,ee){V instanceof Va?(b.i=V,Cu(b.i,b.l)):(ee||(V=al(V,Ua)),b.i=new Va(V,b.l))}function xn(b,V,ee){b.i.set(V,ee)}function ol(b){return xn(b,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),b}function qs(b,V){return b?V?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function al(b,V,ee){return typeof b=="string"?(b=encodeURI(b).replace(V,Ii),ee&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function Ii(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var Iu=/[#\/\?@]/g,sm=/[#\?:]/g,Nf=/[#\?]/g,Ua=/[#\?@]/g,om=/#/g;function Va(b,V){this.h=this.g=null,this.i=b||null,this.j=!!V}function ki(b){b.g||(b.g=new Map,b.h=0,b.i&&Hs(b.i,function(V,ee){b.add(decodeURIComponent(V.replace(/\+/g," ")),ee)}))}n=Va.prototype,n.add=function(b,V){ki(this),this.i=null,b=za(this,b);let ee=this.g.get(b);return ee||this.g.set(b,ee=[]),ee.push(V),this.h+=1,this};function am(b,V){ki(b),V=za(b,V),b.g.has(V)&&(b.i=null,b.h-=b.g.get(V).length,b.g.delete(V))}function If(b,V){return ki(b),V=za(b,V),b.g.has(V)}n.forEach=function(b,V){ki(this),this.g.forEach(function(ee,he){ee.forEach(function(Te){b.call(V,Te,he,this)},this)},this)};function kf(b,V){ki(b);let ee=[];if(typeof V=="string")If(b,V)&&(ee=ee.concat(b.g.get(za(b,V))));else for(b=Array.from(b.g.values()),V=0;V<b.length;V++)ee=ee.concat(b[V]);return ee}n.set=function(b,V){return ki(this),this.i=null,b=za(this,b),If(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[V]),this.h+=1,this},n.get=function(b,V){return b?(b=kf(this,b),b.length>0?String(b[0]):V):V};function ku(b,V,ee){am(b,V),ee.length>0&&(b.i=null,b.g.set(za(b,V),y(ee)),b.h+=ee.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],V=Array.from(this.g.keys());for(let he=0;he<V.length;he++){var ee=V[he];const Te=Tt(ee);ee=kf(this,ee);for(let De=0;De<ee.length;De++){let Ze=Te;ee[De]!==""&&(Ze+="="+Tt(ee[De])),b.push(Ze)}}return this.i=b.join("&")};function cm(b){const V=new Va;return V.i=b.i,b.g&&(V.g=new Map(b.g),V.h=b.h),V}function za(b,V){return V=String(V),b.j&&(V=V.toLowerCase()),V}function Cu(b,V){V&&!b.j&&(ki(b),b.i=null,b.g.forEach(function(ee,he){const Te=he.toLowerCase();he!=Te&&(am(this,he),ku(this,Te,ee))},b)),b.j=V}function Ss(b,V){const ee=new an;if(c.Image){const he=new Image;he.onload=p(os,ee,"TestLoadImage: loaded",!0,V,he),he.onerror=p(os,ee,"TestLoadImage: error",!1,V,he),he.onabort=p(os,ee,"TestLoadImage: abort",!1,V,he),he.ontimeout=p(os,ee,"TestLoadImage: timeout",!1,V,he),c.setTimeout(function(){he.ontimeout&&he.ontimeout()},1e4),he.src=b}else V(!1)}function Cf(b,V){const ee=new an,he=new AbortController,Te=setTimeout(()=>{he.abort(),os(ee,"TestPingServer: timeout",!1,V)},1e4);fetch(b,{signal:he.signal}).then(De=>{clearTimeout(Te),De.ok?os(ee,"TestPingServer: ok",!0,V):os(ee,"TestPingServer: server error",!1,V)}).catch(()=>{clearTimeout(Te),os(ee,"TestPingServer: error",!1,V)})}function os(b,V,ee,he,Te){try{Te&&(Te.onload=null,Te.onerror=null,Te.onabort=null,Te.ontimeout=null),he(ee)}catch{}}function Fa(){this.g=new se}function Gs(b){this.i=b.Sb||null,this.h=b.ab||!1}v(Gs,z),Gs.prototype.g=function(){return new cl(this.i,this.h)};function cl(b,V){ye.call(this),this.H=b,this.o=V,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(cl,ye),n=cl.prototype,n.open=function(b,V){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=b,this.D=V,this.readyState=1,Rs(this)},n.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const V={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};b&&(V.body=b),(this.H||c).fetch(new Request(this.D,V)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ha(this)),this.readyState=0},n.Pa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,Rs(this)),this.g&&(this.readyState=3,Rs(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ou(this)}else b.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ou(b){b.j.read().then(b.Ma.bind(b)).catch(b.ga.bind(b))}n.Ma=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var V=b.value?b.value:new Uint8Array(0);(V=this.B.decode(V,{stream:!b.done}))&&(this.response=this.responseText+=V)}b.done?Ha(this):Rs(this),this.readyState==3&&Ou(this)}},n.Oa=function(b){this.g&&(this.response=this.responseText=b,Ha(this))},n.Na=function(b){this.g&&(this.response=b,Ha(this))},n.ga=function(){this.g&&Ha(this)};function Ha(b){b.readyState=4,b.l=null,b.j=null,b.B=null,Rs(b)}n.setRequestHeader=function(b,V){this.A.append(b,V)},n.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],V=this.h.entries();for(var ee=V.next();!ee.done;)ee=ee.value,b.push(ee[0]+": "+ee[1]),ee=V.next();return b.join(`\r
`)};function Rs(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(cl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function as(b){let V="";return Z(b,function(ee,he){V+=he,V+=":",V+=ee,V+=`\r
`}),V}function ll(b,V,ee){e:{for(he in ee){var he=!1;break e}he=!0}he||(ee=as(ee),typeof b=="string"?ee!=null&&Tt(ee):xn(b,V,ee))}function Tn(b){ye.call(this),this.headers=new Map,this.L=b||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Tn,ye);var $s=/^https?$/i,Of=["POST","PUT"];n=Tn.prototype,n.Fa=function(b){this.H=b},n.ea=function(b,V,ee,he){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);V=V?V.toUpperCase():"GET",this.D=b,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Re.g(),this.g.onreadystatechange=x(d(this.Ca,this));try{this.B=!0,this.g.open(V,String(b),!0),this.B=!1}catch(De){ul(this,De);return}if(b=ee||"",ee=new Map(this.headers),he)if(Object.getPrototypeOf(he)===Object.prototype)for(var Te in he)ee.set(Te,he[Te]);else if(typeof he.keys=="function"&&typeof he.get=="function")for(const De of he.keys())ee.set(De,he.get(De));else throw Error("Unknown input type for opt_headers: "+String(he));he=Array.from(ee.keys()).find(De=>De.toLowerCase()=="content-type"),Te=c.FormData&&b instanceof c.FormData,!(Array.prototype.indexOf.call(Of,V,void 0)>=0)||he||Te||ee.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[De,Ze]of ee)this.g.setRequestHeader(De,Ze);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(b),this.v=!1}catch(De){ul(this,De)}};function ul(b,V){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=V,b.o=5,Mf(b),Fo(b)}function Mf(b){b.A||(b.A=!0,we(b,"complete"),we(b,"error"))}n.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=b||7,we(this,"complete"),we(this,"abort"),Fo(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fo(this,!0)),Tn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?hl(this):this.Xa())},n.Xa=function(){hl(this)};function hl(b){if(b.h&&typeof s<"u"){if(b.v&&Ts(b)==4)setTimeout(b.Ca.bind(b),0);else if(we(b,"readystatechange"),Ts(b)==4){b.h=!1;try{const De=b.ca();e:switch(De){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var V=!0;break e;default:V=!1}var ee;if(!(ee=V)){var he;if(he=De===0){let Ze=String(b.D).match(ja)[1]||null;!Ze&&c.self&&c.self.location&&(Ze=c.self.location.protocol.slice(0,-1)),he=!$s.test(Ze?Ze.toLowerCase():"")}ee=he}if(ee)we(b,"complete"),we(b,"success");else{b.o=6;try{var Te=Ts(b)>2?b.g.statusText:""}catch{Te=""}b.l=Te+" ["+b.ca()+"]",Mf(b)}}finally{Fo(b)}}}}function Fo(b,V){if(b.g){b.m&&(clearTimeout(b.m),b.m=null);const ee=b.g;b.g=null,V||we(b,"ready");try{ee.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ts(b){return b.g?b.g.readyState:0}n.ca=function(){try{return Ts(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(b){if(this.g){var V=this.g.responseText;return b&&V.indexOf(b)==0&&(V=V.substring(b.length)),fn(V)}};function Gr(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.F){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function Ho(b){const V={};b=(b.g&&Ts(b)>=2&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let he=0;he<b.length;he++){if(T(b[he]))continue;var ee=It(b[he]);const Te=ee[0];if(ee=ee[1],typeof ee!="string")continue;ee=ee.trim();const De=V[Te]||[];V[Te]=De,De.push(ee)}D(V,function(he){return he.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ks(b,V,ee){return ee&&ee.internalChannelParams&&ee.internalChannelParams[b]||V}function qa(b){this.za=0,this.i=[],this.j=new an,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ks("failFast",!1,b),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ks("baseRetryDelayMs",5e3,b),this.Za=Ks("retryDelaySeedMs",1e4,b),this.Ta=Ks("forwardChannelMaxRetries",2,b),this.va=Ks("forwardChannelRequestTimeoutMs",2e4,b),this.ma=b&&b.xmlHttpFactory||void 0,this.Ua=b&&b.Rb||void 0,this.Aa=b&&b.useFetchStreams||!1,this.O=void 0,this.L=b&&b.supportsCrossDomainXhr||!1,this.M="",this.h=new jo(b&&b.concurrentRequestLimit),this.Ba=new Fa,this.S=b&&b.fastHandshake||!1,this.R=b&&b.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=b&&b.Pb||!1,b&&b.ua&&this.j.ua(),b&&b.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&b&&b.detectBufferingProxy||!1,this.ia=void 0,b&&b.longPollingTimeout&&b.longPollingTimeout>0&&(this.ia=b.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=qa.prototype,n.ka=8,n.I=1,n.connect=function(b,V,ee,he){Bt(0),this.W=b,this.H=V||{},ee&&he!==void 0&&(this.H.OSID=ee,this.H.OAID=he),this.F=this.X,this.J=mm(this,null,this.W),Ws(this)};function Bf(b){if(Mu(b),b.I==3){var V=b.V++,ee=gr(b.J);if(xn(ee,"SID",b.M),xn(ee,"RID",V),xn(ee,"TYPE","terminate"),fl(b,ee),V=new gt(b,b.j,V),V.M=2,V.A=ol(gr(ee)),ee=!1,c.navigator&&c.navigator.sendBeacon)try{ee=c.navigator.sendBeacon(V.A.toString(),"")}catch{}!ee&&c.Image&&(new Image().src=V.A,ee=!0),ee||(V.g=gm(V.j,null),V.g.ea(V.A)),V.F=Date.now(),Ai(V)}pm(b)}function Ga(b){b.g&&(Df(b),b.g.cancel(),b.g=null)}function Mu(b){Ga(b),b.v&&(c.clearTimeout(b.v),b.v=null),Lu(b),b.h.cancel(),b.m&&(typeof b.m=="number"&&c.clearTimeout(b.m),b.m=null)}function Ws(b){if(!Po(b.h)&&!b.m){b.m=!0;var V=b.Ea;oe||K(),ce||(oe(),ce=!0),W.add(V,b),b.D=0}}function Bu(b,V){return Ti(b.h)>=b.h.j-(b.m?1:0)?!1:b.m?(b.i=V.G.concat(b.i),!0):b.I==1||b.I==2||b.D>=(b.Sa?0:b.Ta)?!1:(b.m=sn(d(b.Ea,b,V),dm(b,b.D)),b.D++,!0)}n.Ea=function(b){if(this.m)if(this.m=null,this.I==1){if(!b){this.V=Math.floor(Math.random()*1e5),b=this.V++;const Te=new gt(this,this.j,b);let De=this.o;if(this.U&&(De?(De=A(De),E(De,this.U)):De=this.U),this.u!==null||this.R||(Te.J=De,De=null),this.S)e:{for(var V=0,ee=0;ee<this.i.length;ee++){t:{var he=this.i[ee];if("__data__"in he.map&&(he=he.map.__data__,typeof he=="string")){he=he.length;break t}he=void 0}if(he===void 0)break;if(V+=he,V>4096){V=ee;break e}if(V===4096||ee===this.i.length-1){V=ee+1;break e}}V=1e3}else V=1e3;V=lm(this,Te,V),ee=gr(this.J),xn(ee,"RID",b),xn(ee,"CVER",22),this.G&&xn(ee,"X-HTTP-Session-Id",this.G),fl(this,ee),De&&(this.R?V="headers="+Tt(as(De))+"&"+V:this.u&&ll(ee,this.u,De)),Uo(this.h,Te),this.Ra&&xn(ee,"TYPE","init"),this.S?(xn(ee,"$req",V),xn(ee,"SID","null"),Te.U=!0,Gi(Te,ee,null)):Gi(Te,ee,V),this.I=2}}else this.I==3&&(b?Lf(this,b):this.i.length==0||Po(this.h)||Lf(this))};function Lf(b,V){var ee;V?ee=V.l:ee=b.V++;const he=gr(b.J);xn(he,"SID",b.M),xn(he,"RID",ee),xn(he,"AID",b.K),fl(b,he),b.u&&b.o&&ll(he,b.u,b.o),ee=new gt(b,b.j,ee,b.D+1),b.u===null&&(ee.J=b.o),V&&(b.i=V.G.concat(b.i)),V=lm(b,ee,1e3),ee.H=Math.round(b.va*.5)+Math.round(b.va*.5*Math.random()),Uo(b.h,ee),Gi(ee,he,V)}function fl(b,V){b.H&&Z(b.H,function(ee,he){xn(V,he,ee)}),b.l&&Z({},function(ee,he){xn(V,he,ee)})}function lm(b,V,ee){ee=Math.min(b.i.length,ee);const he=b.l?d(b.l.Ka,b.l,b):null;e:{var Te=b.i;let Ut=-1;for(;;){const ur=["count="+ee];Ut==-1?ee>0?(Ut=Te[0].g,ur.push("ofs="+Ut)):Ut=0:ur.push("ofs="+Ut);let wn=!0;for(let Gn=0;Gn<ee;Gn++){var De=Te[Gn].g;const cs=Te[Gn].map;if(De-=Ut,De<0)Ut=Math.max(0,Te[Gn].g-100),wn=!1;else try{De="req"+De+"_"||"";try{var Ze=cs instanceof Map?cs:Object.entries(cs);for(const[Xs,Ns]of Ze){let Is=Ns;u(Ns)&&(Is=Yn(Ns)),ur.push(De+Xs+"="+encodeURIComponent(Is))}}catch(Xs){throw ur.push(De+"type="+encodeURIComponent("_badmap")),Xs}}catch{he&&he(cs)}}if(wn){Ze=ur.join("&");break e}}Ze=void 0}return b=b.i.splice(0,ee),V.G=b,Ze}function um(b){if(!b.g&&!b.v){b.Y=1;var V=b.Da;oe||K(),ce||(oe(),ce=!0),W.add(V,b),b.A=0}}function dl(b){return b.g||b.v||b.A>=3?!1:(b.Y++,b.v=sn(d(b.Da,b),dm(b,b.A)),b.A++,!0)}n.Da=function(){if(this.v=null,hm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var b=4*this.T;this.j.info("BP detection timer enabled: "+b),this.B=sn(d(this.Wa,this),b)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Bt(10),Ga(this),hm(this))};function Df(b){b.B!=null&&(c.clearTimeout(b.B),b.B=null)}function hm(b){b.g=new gt(b,b.j,"rpc",b.Y),b.u===null&&(b.g.J=b.o),b.g.P=0;var V=gr(b.na);xn(V,"RID","rpc"),xn(V,"SID",b.M),xn(V,"AID",b.K),xn(V,"CI",b.F?"0":"1"),!b.F&&b.ia&&xn(V,"TO",b.ia),xn(V,"TYPE","xmlhttp"),fl(b,V),b.u&&b.o&&ll(V,b.u,b.o),b.O&&(b.g.H=b.O);var ee=b.g;b=b.ba,ee.M=1,ee.A=ol(gr(V)),ee.u=null,ee.R=!0,On(ee,b)}n.Va=function(){this.C!=null&&(this.C=null,Ga(this),dl(this),Bt(19))};function Lu(b){b.C!=null&&(c.clearTimeout(b.C),b.C=null)}function fm(b,V){var ee=null;if(b.g==V){Lu(b),Df(b),b.g=null;var he=2}else if(Ni(b.h,V))ee=V.G,Vo(b.h,V),he=1;else return;if(b.I!=0){if(V.o)if(he==1){ee=V.u?V.u.length:0,V=Date.now()-V.F;var Te=b.D;he=bt(),we(he,new Fn(he,ee)),Ws(b)}else um(b);else if(Te=V.m,Te==3||Te==0&&V.X>0||!(he==1&&Bu(b,V)||he==2&&dl(b)))switch(ee&&ee.length>0&&(V=b.h,V.i=V.i.concat(ee)),Te){case 1:Ys(b,5);break;case 4:Ys(b,10);break;case 3:Ys(b,6);break;default:Ys(b,2)}}}function dm(b,V){let ee=b.Qa+Math.floor(Math.random()*b.Za);return b.isActive()||(ee*=2),ee*V}function Ys(b,V){if(b.j.info("Error code "+V),V==2){var ee=d(b.bb,b),he=b.Ua;const Te=!he;he=new qr(he||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Lr(he,"https"),ol(he),Te?Ss(he.toString(),ee):Cf(he.toString(),ee)}else Bt(2);b.I=0,b.l&&b.l.pa(V),pm(b),Mu(b)}n.bb=function(b){b?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function pm(b){if(b.I=0,b.ja=[],b.l){const V=zo(b.h);(V.length!=0||b.i.length!=0)&&(S(b.ja,V),S(b.ja,b.i),b.h.i.length=0,y(b.i),b.i.length=0),b.l.oa()}}function mm(b,V,ee){var he=ee instanceof qr?gr(ee):new qr(ee);if(he.g!="")V&&(he.g=V+"."+he.g),Pa(he,he.u);else{var Te=c.location;he=Te.protocol,V=V?V+"."+Te.hostname:Te.hostname,Te=+Te.port;const De=new qr(null);he&&Lr(De,he),V&&(De.g=V),Te&&Pa(De,Te),ee&&(De.h=ee),he=De}return ee=b.G,V=b.wa,ee&&V&&xn(he,ee,V),xn(he,"VER",b.ka),fl(b,he),he}function gm(b,V,ee){if(V&&!b.L)throw Error("Can't create secondary domain capable XhrIo object.");return V=b.Aa&&!b.ma?new Tn(new Gs({ab:ee})):new Tn(b.ma),V.Fa(b.L),V}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ym(){}n=ym.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function $a(){}$a.prototype.g=function(b,V){return new yi(b,V)};function yi(b,V){ye.call(this),this.g=new qa(V),this.l=b,this.h=V&&V.messageUrlParams||null,b=V&&V.messageHeaders||null,V&&V.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=V&&V.initMessageHeaders||null,V&&V.messageContentType&&(b?b["X-WebChannel-Content-Type"]=V.messageContentType:b={"X-WebChannel-Content-Type":V.messageContentType}),V&&V.sa&&(b?b["X-WebChannel-Client-Profile"]=V.sa:b={"X-WebChannel-Client-Profile":V.sa}),this.g.U=b,(b=V&&V.Qb)&&!T(b)&&(this.g.u=b),this.A=V&&V.supportsCrossDomainXhr||!1,this.v=V&&V.sendRawJson||!1,(V=V&&V.httpSessionIdParam)&&!T(V)&&(this.g.G=V,b=this.h,b!==null&&V in b&&(b=this.h,V in b&&delete b[V])),this.j=new qo(this)}v(yi,ye),yi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yi.prototype.close=function(){Bf(this.g)},yi.prototype.o=function(b){var V=this.g;if(typeof b=="string"){var ee={};ee.__data__=b,b=ee}else this.v&&(ee={},ee.__data__=Yn(b),b=ee);V.i.push(new qn(V.Ya++,b)),V.I==3&&Ws(V)},yi.prototype.N=function(){this.g.l=null,delete this.j,Bf(this.g),delete this.g,yi.Z.N.call(this)};function wm(b){be.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var V=b.__sm__;if(V){e:{for(const ee in V){b=ee;break e}b=void 0}(this.i=b)&&(b=this.i,V=V!==null&&b in V?V[b]:void 0),this.data=V}else this.data=b}v(wm,be);function bm(){Ae.call(this),this.status=1}v(bm,Ae);function qo(b){this.g=b}v(qo,ym),qo.prototype.ra=function(){we(this.g,"a")},qo.prototype.qa=function(b){we(this.g,new wm(b))},qo.prototype.pa=function(b){we(this.g,new bm)},qo.prototype.oa=function(){we(this.g,"b")},$a.prototype.createWebChannel=$a.prototype.g,yi.prototype.send=yi.prototype.o,yi.prototype.open=yi.prototype.m,yi.prototype.close=yi.prototype.close,zM=function(){return new $a},VM=function(){return bt()},UM=ke,Vx={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},de.NO_ERROR=0,de.TIMEOUT=8,de.HTTP_ERROR=6,Ug=de,_e.COMPLETE="complete",PM=_e,G.EventType=fe,fe.OPEN="a",fe.CLOSE="b",fe.ERROR="c",fe.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Kd=G,Tn.prototype.listenOnce=Tn.prototype.K,Tn.prototype.getLastError=Tn.prototype.Ha,Tn.prototype.getLastErrorCode=Tn.prototype.ya,Tn.prototype.getStatus=Tn.prototype.ca,Tn.prototype.getResponseJson=Tn.prototype.La,Tn.prototype.getResponseText=Tn.prototype.la,Tn.prototype.send=Tn.prototype.ea,Tn.prototype.setWithCredentials=Tn.prototype.Fa,jM=Tn}).apply(typeof eg<"u"?eg:typeof self<"u"?self:typeof window<"u"?window:{});const qk="@firebase/firestore",Gk="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pi.UNAUTHENTICATED=new pi(null),pi.GOOGLE_CREDENTIALS=new pi("google-credentials-uid"),pi.FIRST_PARTY=new pi("first-party-uid"),pi.MOCK_USER=new pi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=new RM("@firebase/firestore");function Mh(){return du.logLevel}function ot(n,...e){if(du.logLevel<=hn.DEBUG){const t=e.map(A2);du.debug(`Firestore (${xf}): ${n}`,...t)}}function Oa(n,...e){if(du.logLevel<=hn.ERROR){const t=e.map(A2);du.error(`Firestore (${xf}): ${n}`,...t)}}function lf(n,...e){if(du.logLevel<=hn.WARN){const t=e.map(A2);du.warn(`Firestore (${xf}): ${n}`,...t)}}function A2(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,FM(n,r,t)}function FM(n,e,t){let r=`FIRESTORE (${xf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Oa(r),new Error(r)}function _n(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||FM(e,i,r)}function Pt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Au{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(pi.UNAUTHENTICATED)))}shutdown(){}}class XJ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ZJ{constructor(e){this.t=e,this.currentUser=pi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){_n(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let s=new $c;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new $c,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const h=s;e.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},u=h=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new $c)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_n(typeof r.accessToken=="string",31837,{l:r}),new HM(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _n(e===null||typeof e=="string",2055,{h:e}),new pi(e)}}class QJ{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=pi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JJ{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new QJ(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(pi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $k{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eee{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kM(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){_n(this.o===void 0,3512);const r=s=>{s.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.m;return this.m=s.token,ot("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $k(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(_n(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new $k(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tee(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=tee(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function nn(n,e){return n<e?-1:n>e?1:0}function zx(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),s=e.charAt(r);if(i!==s)return v_(i)===v_(s)?nn(i,s):v_(i)?1:-1}return nn(n.length,e.length)}const nee=55296,ree=57343;function v_(n){const e=n.charCodeAt(0);return e>=nee&&e<=ree}function uf(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk="__name__";class po{constructor(e,t,r){t===void 0?t=0:t>e.length&&Nt(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Nt(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return po.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof po?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=po.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return nn(e.length,t.length)}static compareSegments(e,t){const r=po.isNumericId(e),i=po.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?po.extractNumericId(e).compare(po.extractNumericId(t)):zx(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gc.fromString(e.substring(4,e.length-2))}}class jn extends po{construct(e,t,r){return new jn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new at(qe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new jn(t)}static emptyPath(){return new jn([])}}const iee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ti extends po{construct(e,t,r){return new ti(e,t,r)}static isValidIdentifier(e){return iee.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ti.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kk}static keyField(){return new ti([Kk])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new at(qe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new at(qe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new at(qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else u==="`"?(c=!c,i++):u!=="."||c?(r+=u,i++):(s(),i++)}if(s(),c)throw new at(qe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ti(t)}static emptyPath(){return new ti([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.path=e}static fromPath(e){return new wt(jn.fromString(e))}static fromName(e){return new wt(jn.fromString(e).popFirst(5))}static empty(){return new wt(jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return jn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wt(new jn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(n,e,t){if(!t)throw new at(qe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function see(n,e,t,r){if(e===!0&&r===!0)throw new at(qe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Wk(n){if(!wt.isDocumentKey(n))throw new at(qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Yk(n){if(wt.isDocumentKey(n))throw new at(qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function GM(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function n1(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Nt(12329,{type:typeof n})}function yy(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new at(qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=n1(n);throw new at(qe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(n,e){const t={typeString:n};return e&&(t.value=e),t}function Jp(n,e){if(!GM(n))throw new at(qe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(i&&typeof c!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&c!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new at(qe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=-62135596800,Zk=1e6;class Pn{static now(){return Pn.fromMillis(Date.now())}static fromDate(e){return Pn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Zk);return new Pn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new at(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new at(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Xk)throw new at(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zk}_compareTo(e){return this.seconds===e.seconds?nn(this.nanoseconds,e.nanoseconds):nn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jp(e,Pn._jsonSchema))return new Pn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Xk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pn._jsonSchemaVersion="firestore/timestamp/1.0",Pn._jsonSchema={type:Nr("string",Pn._jsonSchemaVersion),seconds:Nr("number"),nanoseconds:Nr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{static fromTimestamp(e){return new Lt(e)}static min(){return new Lt(new Pn(0,0))}static max(){return new Lt(new Pn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=-1;function oee(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Lt.fromTimestamp(r===1e9?new Pn(t+1,0):new Pn(t,r));return new Qc(i,wt.empty(),e)}function aee(n){return new Qc(n.readTime,n.key,Np)}class Qc{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Qc(Lt.min(),wt.empty(),Np)}static max(){return new Qc(Lt.max(),wt.empty(),Np)}}function cee(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=wt.comparator(n.documentKey,e.documentKey),t!==0?t:nn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lee="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ef(n){if(n.code!==qe.FAILED_PRECONDITION||n.message!==lee)throw n;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Nt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ge(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ge?t:Ge.resolve(t)}catch(t){return Ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ge.reject(t)}static resolve(e){return new Ge(((t,r)=>{t(e)}))}static reject(e){return new Ge(((t,r)=>{r(e)}))}static waitFor(e){return new Ge(((t,r)=>{let i=0,s=0,c=!1;e.forEach((u=>{++i,u.next((()=>{++s,c&&s===i&&t()}),(h=>r(h)))})),c=!0,s===i&&t()}))}static or(e){let t=Ge.resolve(!1);for(const r of e)t=t.next((i=>i?Ge.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,s)=>{r.push(t.call(this,i,s))})),this.waitFor(r)}static mapArray(e,t){return new Ge(((r,i)=>{const s=e.length,c=new Array(s);let u=0;for(let h=0;h<s;h++){const d=h;t(e[d]).next((p=>{c[d]=p,++u,u===s&&r(c)}),(p=>i(p)))}}))}static doWhile(e,t){return new Ge(((r,i)=>{const s=()=>{e()===!0?t().next((()=>{s()}),i):r()};s()}))}}function hee(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Af(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}r1.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=-1;function i1(n){return n==null}function wy(n){return n===0&&1/n==-1/0}function fee(n){return typeof n=="number"&&Number.isInteger(n)&&!wy(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M="";function dee(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Qk(e)),e=pee(n.get(t),e);return Qk(e)}function pee(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case $M:t+="";break;default:t+=s}}return t}function Qk(n){return n+$M+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Su(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function KM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,t){this.comparator=e,this.root=t||Qr.EMPTY}insert(e,t){return new nr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qr.BLACK,null,null))}remove(e){return new nr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tg(this.root,e,this.comparator,!1)}getReverseIterator(){return new tg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tg(this.root,e,this.comparator,!0)}}class tg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Qr.RED,this.left=i??Qr.EMPTY,this.right=s??Qr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Qr(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Qr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Nt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Nt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Nt(27949);return e+(this.isRed()?0:1)}}Qr.EMPTY=null,Qr.RED=!0,Qr.BLACK=!1;Qr.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt(57766)}get value(){throw Nt(16141)}get color(){throw Nt(16727)}get left(){throw Nt(29726)}get right(){throw Nt(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new Qr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.comparator=e,this.data=new nr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new eC(this.data.getIterator())}getIteratorFrom(e){return new eC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Br)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Br(this.comparator);return t.data=e,t}}class eC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.fields=e,e.sort(ti.comparator)}static empty(){return new Ds([])}unionWith(e){let t=new Br(ti.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ds(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return uf(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new WM("Invalid base64 string: "+s):s}})(e);return new ri(t)}static fromUint8Array(e){const t=(function(i){let s="";for(let c=0;c<i.length;++c)s+=String.fromCharCode(i[c]);return s})(e);return new ri(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ri.EMPTY_BYTE_STRING=new ri("");const mee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jc(n){if(_n(!!n,39018),typeof n=="string"){let e=0;const t=mee.exec(n);if(_n(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pr(n.seconds),nanos:pr(n.nanos)}}function pr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function el(n){return typeof n=="string"?ri.fromBase64String(n):ri.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM="server_timestamp",XM="__type__",ZM="__previous_value__",QM="__local_write_time__";function T2(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[XM])==null?void 0:r.stringValue)===YM}function s1(n){const e=n.mapValue.fields[ZM];return T2(e)?s1(e):e}function Ip(n){const e=Jc(n.mapValue.fields[QM].timestampValue);return new Pn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gee{constructor(e,t,r,i,s,c,u,h,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=p}}const by="(default)";class kp{constructor(e,t){this.projectId=e,this.database=t||by}static empty(){return new kp("","")}get isDefaultDatabase(){return this.database===by}isEqual(e){return e instanceof kp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM="__type__",yee="__max__",ng={mapValue:{}},eB="__vector__",vy="value";function tl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?T2(n)?4:bee(n)?9007199254740991:wee(n)?10:11:Nt(28295,{value:n})}function Oo(n,e){if(n===e)return!0;const t=tl(n);if(t!==tl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ip(n).isEqual(Ip(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const c=Jc(i.timestampValue),u=Jc(s.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,s){return el(i.bytesValue).isEqual(el(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,s){return pr(i.geoPointValue.latitude)===pr(s.geoPointValue.latitude)&&pr(i.geoPointValue.longitude)===pr(s.geoPointValue.longitude)})(n,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return pr(i.integerValue)===pr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const c=pr(i.doubleValue),u=pr(s.doubleValue);return c===u?wy(c)===wy(u):isNaN(c)&&isNaN(u)}return!1})(n,e);case 9:return uf(n.arrayValue.values||[],e.arrayValue.values||[],Oo);case 10:case 11:return(function(i,s){const c=i.mapValue.fields||{},u=s.mapValue.fields||{};if(Jk(c)!==Jk(u))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(u[h]===void 0||!Oo(c[h],u[h])))return!1;return!0})(n,e);default:return Nt(52216,{left:n})}}function Cp(n,e){return(n.values||[]).find((t=>Oo(t,e)))!==void 0}function hf(n,e){if(n===e)return 0;const t=tl(n),r=tl(e);if(t!==r)return nn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return nn(n.booleanValue,e.booleanValue);case 2:return(function(s,c){const u=pr(s.integerValue||s.doubleValue),h=pr(c.integerValue||c.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(n,e);case 3:return tC(n.timestampValue,e.timestampValue);case 4:return tC(Ip(n),Ip(e));case 5:return zx(n.stringValue,e.stringValue);case 6:return(function(s,c){const u=el(s),h=el(c);return u.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(s,c){const u=s.split("/"),h=c.split("/");for(let d=0;d<u.length&&d<h.length;d++){const p=nn(u[d],h[d]);if(p!==0)return p}return nn(u.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,c){const u=nn(pr(s.latitude),pr(c.latitude));return u!==0?u:nn(pr(s.longitude),pr(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return nC(n.arrayValue,e.arrayValue);case 10:return(function(s,c){var x,y,S,k;const u=s.fields||{},h=c.fields||{},d=(x=u[vy])==null?void 0:x.arrayValue,p=(y=h[vy])==null?void 0:y.arrayValue,v=nn(((S=d==null?void 0:d.values)==null?void 0:S.length)||0,((k=p==null?void 0:p.values)==null?void 0:k.length)||0);return v!==0?v:nC(d,p)})(n.mapValue,e.mapValue);case 11:return(function(s,c){if(s===ng.mapValue&&c===ng.mapValue)return 0;if(s===ng.mapValue)return 1;if(c===ng.mapValue)return-1;const u=s.fields||{},h=Object.keys(u),d=c.fields||{},p=Object.keys(d);h.sort(),p.sort();for(let v=0;v<h.length&&v<p.length;++v){const x=zx(h[v],p[v]);if(x!==0)return x;const y=hf(u[h[v]],d[p[v]]);if(y!==0)return y}return nn(h.length,p.length)})(n.mapValue,e.mapValue);default:throw Nt(23264,{he:t})}}function tC(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return nn(n,e);const t=Jc(n),r=Jc(e),i=nn(t.seconds,r.seconds);return i!==0?i:nn(t.nanos,r.nanos)}function nC(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=hf(t[i],r[i]);if(s)return s}return nn(t.length,r.length)}function ff(n){return Fx(n)}function Fx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Jc(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return el(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return wt.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=Fx(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const c of r)s?s=!1:i+=",",i+=`${c}:${Fx(t.fields[c])}`;return i+"}"})(n.mapValue):Nt(61005,{value:n})}function Vg(n){switch(tl(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=s1(n);return e?16+Vg(e):16;case 5:return 2*n.stringValue.length;case 6:return el(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Vg(s)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Su(r.fields,((s,c)=>{i+=s.length+Vg(c)})),i})(n.mapValue);default:throw Nt(13486,{value:n})}}function rC(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Hx(n){return!!n&&"integerValue"in n}function N2(n){return!!n&&"arrayValue"in n}function iC(n){return!!n&&"nullValue"in n}function sC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zg(n){return!!n&&"mapValue"in n}function wee(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[JM])==null?void 0:r.stringValue)===eB}function ap(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Su(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=ap(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ap(n.arrayValue.values[t]);return e}return{...n}}function bee(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===yee}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.value=e}static empty(){return new bs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!zg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ap(t)}setAll(e){let t=ti.emptyPath(),r={},i=[];e.forEach(((c,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=u.popLast()}c?r[u.lastSegment()]=ap(c):i.push(u.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());zg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Oo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];zg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Su(t,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new bs(ap(this.value))}}function tB(n){const e=[];return Su(n.fields,((t,r)=>{const i=new ti([t]);if(zg(r)){const s=tB(r.mapValue).fields;if(s.length===0)e.push(i);else for(const c of s)e.push(i.child(c))}else e.push(i)})),new Ds(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,t,r,i,s,c,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=c,this.documentState=u}static newInvalidDocument(e){return new mi(e,0,Lt.min(),Lt.min(),Lt.min(),bs.empty(),0)}static newFoundDocument(e,t,r,i){return new mi(e,1,t,Lt.min(),r,i,0)}static newNoDocument(e,t){return new mi(e,2,t,Lt.min(),Lt.min(),bs.empty(),0)}static newUnknownDocument(e,t){return new mi(e,3,t,Lt.min(),Lt.min(),bs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,t){this.position=e,this.inclusive=t}}function oC(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],c=n.position[i];if(s.field.isKeyField()?r=wt.comparator(wt.fromName(c.referenceValue),t.key):r=hf(c,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function aC(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Oo(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,t="asc"){this.field=e,this.dir=t}}function vee(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{}class Tr extends nB{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new xee(e,t,r):t==="array-contains"?new See(e,r):t==="in"?new Ree(e,r):t==="not-in"?new Tee(e,r):t==="array-contains-any"?new Nee(e,r):new Tr(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Eee(e,r):new Aee(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(hf(t,this.value)):t!==null&&tl(this.value)===tl(t)&&this.matchesComparison(hf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Nt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vs extends nB{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Vs(e,t)}matches(e){return rB(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rB(n){return n.op==="and"}function iB(n){return _ee(n)&&rB(n)}function _ee(n){for(const e of n.filters)if(e instanceof Vs)return!1;return!0}function qx(n){if(n instanceof Tr)return n.field.canonicalString()+n.op.toString()+ff(n.value);if(iB(n))return n.filters.map((e=>qx(e))).join(",");{const e=n.filters.map((t=>qx(t))).join(",");return`${n.op}(${e})`}}function sB(n,e){return n instanceof Tr?(function(r,i){return i instanceof Tr&&r.op===i.op&&r.field.isEqual(i.field)&&Oo(r.value,i.value)})(n,e):n instanceof Vs?(function(r,i){return i instanceof Vs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,c,u)=>s&&sB(c,i.filters[u])),!0):!1})(n,e):void Nt(19439)}function oB(n){return n instanceof Tr?(function(t){return`${t.field.canonicalString()} ${t.op} ${ff(t.value)}`})(n):n instanceof Vs?(function(t){return t.op.toString()+" {"+t.getFilters().map(oB).join(" ,")+"}"})(n):"Filter"}class xee extends Tr{constructor(e,t,r){super(e,t,r),this.key=wt.fromName(r.referenceValue)}matches(e){const t=wt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Eee extends Tr{constructor(e,t){super(e,"in",t),this.keys=aB("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Aee extends Tr{constructor(e,t){super(e,"not-in",t),this.keys=aB("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function aB(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((r=>wt.fromName(r.referenceValue)))}class See extends Tr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return N2(t)&&Cp(t.arrayValue,this.value)}}class Ree extends Tr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Cp(this.value.arrayValue,t)}}class Tee extends Tr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Cp(this.value.arrayValue,t)}}class Nee extends Tr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!N2(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Cp(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iee{constructor(e,t=null,r=[],i=[],s=null,c=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=c,this.endAt=u,this.Te=null}}function cC(n,e=null,t=[],r=[],i=null,s=null,c=null){return new Iee(n,e,t,r,i,s,c)}function I2(n){const e=Pt(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>qx(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),i1(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>ff(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>ff(r))).join(",")),e.Te=t}return e.Te}function k2(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!vee(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!sB(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!aC(n.startAt,e.startAt)&&aC(n.endAt,e.endAt)}function Gx(n){return wt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,t=null,r=[],i=[],s=null,c="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=c,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function kee(n,e,t,r,i,s,c,u){return new em(n,e,t,r,i,s,c,u)}function cB(n){return new em(n)}function lC(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function lB(n){return n.collectionGroup!==null}function cp(n){const e=Pt(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let u=new Br(ti.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new xy(s,r))})),t.has(ti.keyField().canonicalString())||e.Ie.push(new xy(ti.keyField(),r))}return e.Ie}function Ro(n){const e=Pt(n);return e.Ee||(e.Ee=Cee(e,cp(n))),e.Ee}function Cee(n,e){if(n.limitType==="F")return cC(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new xy(i.field,s)}));const t=n.endAt?new _y(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new _y(n.startAt.position,n.startAt.inclusive):null;return cC(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function $x(n,e){const t=n.filters.concat([e]);return new em(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Kx(n,e,t){return new em(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function o1(n,e){return k2(Ro(n),Ro(e))&&n.limitType===e.limitType}function uB(n){return`${I2(Ro(n))}|lt:${n.limitType}`}function Bh(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>oB(i))).join(", ")}]`),i1(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>ff(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>ff(i))).join(",")),`Target(${r})`})(Ro(n))}; limitType=${n.limitType})`}function a1(n,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):wt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,e)&&(function(r,i){for(const s of cp(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(c,u,h){const d=oC(c,u,h);return c.inclusive?d<=0:d<0})(r.startAt,cp(r),i)||r.endAt&&!(function(c,u,h){const d=oC(c,u,h);return c.inclusive?d>=0:d>0})(r.endAt,cp(r),i))})(n,e)}function Oee(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function hB(n){return(e,t)=>{let r=!1;for(const i of cp(n)){const s=Mee(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Mee(n,e,t){const r=n.field.isKeyField()?wt.comparator(e.key,t.key):(function(s,c,u){const h=c.data.field(s),d=u.data.field(s);return h!==null&&d!==null?hf(h,d):Nt(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Nt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Su(this.inner,((t,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return KM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bee=new nr(wt.comparator);function Ma(){return Bee}const fB=new nr(wt.comparator);function Wd(...n){let e=fB;for(const t of n)e=e.insert(t.key,t);return e}function dB(n){let e=fB;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function nu(){return lp()}function pB(){return lp()}function lp(){return new Ru((n=>n.toString()),((n,e)=>n.isEqual(e)))}const Lee=new nr(wt.comparator),Dee=new Br(wt.comparator);function rn(...n){let e=Dee;for(const t of n)e=e.add(t);return e}const jee=new Br(nn);function Pee(){return jee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wy(e)?"-0":e}}function mB(n){return{integerValue:""+n}}function Uee(n,e){return fee(e)?mB(e):C2(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this._=void 0}}function Vee(n,e,t){return n instanceof Ey?(function(i,s){const c={fields:{[XM]:{stringValue:YM},[QM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&T2(s)&&(s=s1(s)),s&&(c.fields[ZM]=s),{mapValue:c}})(t,e):n instanceof Op?yB(n,e):n instanceof Mp?wB(n,e):(function(i,s){const c=gB(i,s),u=uC(c)+uC(i.Ae);return Hx(c)&&Hx(i.Ae)?mB(u):C2(i.serializer,u)})(n,e)}function zee(n,e,t){return n instanceof Op?yB(n,e):n instanceof Mp?wB(n,e):t}function gB(n,e){return n instanceof Ay?(function(r){return Hx(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Ey extends c1{}class Op extends c1{constructor(e){super(),this.elements=e}}function yB(n,e){const t=bB(e);for(const r of n.elements)t.some((i=>Oo(i,r)))||t.push(r);return{arrayValue:{values:t}}}class Mp extends c1{constructor(e){super(),this.elements=e}}function wB(n,e){let t=bB(e);for(const r of n.elements)t=t.filter((i=>!Oo(i,r)));return{arrayValue:{values:t}}}class Ay extends c1{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function uC(n){return pr(n.integerValue||n.doubleValue)}function bB(n){return N2(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Fee(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Op&&i instanceof Op||r instanceof Mp&&i instanceof Mp?uf(r.elements,i.elements,Oo):r instanceof Ay&&i instanceof Ay?Oo(r.Ae,i.Ae):r instanceof Ey&&i instanceof Ey})(n.transform,e.transform)}class Hee{constructor(e,t){this.version=e,this.transformResults=t}}class Sa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Sa}static exists(e){return new Sa(void 0,e)}static updateTime(e){return new Sa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class l1{}function vB(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new xB(n.key,Sa.none()):new tm(n.key,n.data,Sa.none());{const t=n.data,r=bs.empty();let i=new Br(ti.comparator);for(let s of e.fields)if(!i.has(s)){let c=t.field(s);c===null&&s.length>1&&(s=s.popLast(),c=t.field(s)),c===null?r.delete(s):r.set(s,c),i=i.add(s)}return new Tu(n.key,r,new Ds(i.toArray()),Sa.none())}}function qee(n,e,t){n instanceof tm?(function(i,s,c){const u=i.value.clone(),h=fC(i.fieldTransforms,s,c.transformResults);u.setAll(h),s.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(n,e,t):n instanceof Tu?(function(i,s,c){if(!Fg(i.precondition,s))return void s.convertToUnknownDocument(c.version);const u=fC(i.fieldTransforms,s,c.transformResults),h=s.data;h.setAll(_B(i)),h.setAll(u),s.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):(function(i,s,c){s.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function up(n,e,t,r){return n instanceof tm?(function(s,c,u,h){if(!Fg(s.precondition,c))return u;const d=s.value.clone(),p=dC(s.fieldTransforms,h,c);return d.setAll(p),c.convertToFoundDocument(c.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof Tu?(function(s,c,u,h){if(!Fg(s.precondition,c))return u;const d=dC(s.fieldTransforms,h,c),p=c.data;return p.setAll(_B(s)),p.setAll(d),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((v=>v.field)))})(n,e,t,r):(function(s,c,u){return Fg(s.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u})(n,e,t)}function Gee(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=gB(r.transform,i||null);s!=null&&(t===null&&(t=bs.empty()),t.set(r.field,s))}return t||null}function hC(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&uf(r,i,((s,c)=>Fee(s,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class tm extends l1{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Tu extends l1{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function _B(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function fC(n,e,t){const r=new Map;_n(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const s=n[i],c=s.transform,u=e.data.field(s.field);r.set(s.field,zee(c,u,t[i]))}return r}function dC(n,e,t){const r=new Map;for(const i of n){const s=i.transform,c=t.data.field(i.field);r.set(i.field,Vee(s,c,e))}return r}class xB extends l1{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $ee extends l1{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kee{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&qee(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=up(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=up(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=pB();return this.mutations.forEach((i=>{const s=e.get(i.key),c=s.overlayedDocument;let u=this.applyToLocalView(c,s.mutatedFields);u=t.has(i.key)?null:u;const h=vB(c,u);h!==null&&r.set(i.key,h),c.isValidDocument()||c.convertToNoDocument(Lt.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),rn())}isEqual(e){return this.batchId===e.batchId&&uf(this.mutations,e.mutations,((t,r)=>hC(t,r)))&&uf(this.baseMutations,e.baseMutations,((t,r)=>hC(t,r)))}}class O2{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){_n(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Lee})();const s=e.mutations;for(let c=0;c<s.length;c++)i=i.insert(s[c].key,r[c].version);return new O2(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wee{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yee{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xr,cn;function Xee(n){switch(n){case qe.OK:return Nt(64938);case qe.CANCELLED:case qe.UNKNOWN:case qe.DEADLINE_EXCEEDED:case qe.RESOURCE_EXHAUSTED:case qe.INTERNAL:case qe.UNAVAILABLE:case qe.UNAUTHENTICATED:return!1;case qe.INVALID_ARGUMENT:case qe.NOT_FOUND:case qe.ALREADY_EXISTS:case qe.PERMISSION_DENIED:case qe.FAILED_PRECONDITION:case qe.ABORTED:case qe.OUT_OF_RANGE:case qe.UNIMPLEMENTED:case qe.DATA_LOSS:return!0;default:return Nt(15467,{code:n})}}function EB(n){if(n===void 0)return Oa("GRPC error has no .code"),qe.UNKNOWN;switch(n){case xr.OK:return qe.OK;case xr.CANCELLED:return qe.CANCELLED;case xr.UNKNOWN:return qe.UNKNOWN;case xr.DEADLINE_EXCEEDED:return qe.DEADLINE_EXCEEDED;case xr.RESOURCE_EXHAUSTED:return qe.RESOURCE_EXHAUSTED;case xr.INTERNAL:return qe.INTERNAL;case xr.UNAVAILABLE:return qe.UNAVAILABLE;case xr.UNAUTHENTICATED:return qe.UNAUTHENTICATED;case xr.INVALID_ARGUMENT:return qe.INVALID_ARGUMENT;case xr.NOT_FOUND:return qe.NOT_FOUND;case xr.ALREADY_EXISTS:return qe.ALREADY_EXISTS;case xr.PERMISSION_DENIED:return qe.PERMISSION_DENIED;case xr.FAILED_PRECONDITION:return qe.FAILED_PRECONDITION;case xr.ABORTED:return qe.ABORTED;case xr.OUT_OF_RANGE:return qe.OUT_OF_RANGE;case xr.UNIMPLEMENTED:return qe.UNIMPLEMENTED;case xr.DATA_LOSS:return qe.DATA_LOSS;default:return Nt(39323,{code:n})}}(cn=xr||(xr={}))[cn.OK=0]="OK",cn[cn.CANCELLED=1]="CANCELLED",cn[cn.UNKNOWN=2]="UNKNOWN",cn[cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cn[cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cn[cn.NOT_FOUND=5]="NOT_FOUND",cn[cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",cn[cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",cn[cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",cn[cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cn[cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cn[cn.ABORTED=10]="ABORTED",cn[cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",cn[cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",cn[cn.INTERNAL=13]="INTERNAL",cn[cn.UNAVAILABLE=14]="UNAVAILABLE",cn[cn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zee(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qee=new Gc([4294967295,4294967295],0);function pC(n){const e=Zee().encode(n),t=new DM;return t.update(e),new Uint8Array(t.digest())}function mC(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Gc([t,r],0),new Gc([i,s],0)]}class M2{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Yd(`Invalid padding: ${t}`);if(r<0)throw new Yd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Yd(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Gc.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(Gc.fromNumber(r)));return i.compare(Qee)===1&&(i=new Gc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=pC(e),[r,i]=mC(t);for(let s=0;s<this.hashCount;s++){const c=this.ye(r,i,s);if(!this.we(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),c=new M2(s,i,t);return r.forEach((u=>c.insert(u))),c}insert(e){if(this.ge===0)return;const t=pC(e),[r,i]=mC(t);for(let s=0;s<this.hashCount;s++){const c=this.ye(r,i,s);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Yd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,nm.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new u1(Lt.min(),i,new nr(nn),Ma(),rn())}}class nm{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new nm(r,t,rn(),rn(),rn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class AB{constructor(e,t){this.targetId=e,this.Ce=t}}class SB{constructor(e,t,r=ri.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class gC{constructor(){this.ve=0,this.Fe=yC(),this.Me=ri.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=rn(),t=rn(),r=rn();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Nt(38017,{changeType:s})}})),new nm(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=yC()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_n(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Jee{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ma(),this.Je=rg(),this.He=rg(),this.Ye=new nr(nn)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Nt(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const s=i.target;if(Gx(s))if(r===0){const c=new wt(s.path);this.et(t,c,mi.newNoDocument(c,Lt.min()))}else _n(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const u=this.ut(e),h=u?this.ct(u,e,c):1;if(h!==0){this.it(t);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let c,u;try{c=el(r).toUint8Array()}catch(h){if(h instanceof WM)return lf("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new M2(c,i,s)}catch(h){return lf(h instanceof Yd?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach((s=>{const c=this.Ge.ht(),u=`projects/${c.projectId}/databases/${c.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.et(t,s,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((s,c)=>{const u=this.ot(c);if(u){if(s.current&&Gx(u.target)){const h=new wt(u.target.path);this.It(h).has(c)||this.Et(c,h)||this.et(c,h,mi.newNoDocument(h,e))}s.Be&&(t.set(c,s.ke()),s.qe())}}));let r=rn();this.He.forEach(((s,c)=>{let u=!0;c.forEachWhile((h=>{const d=this.ot(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.je.forEach(((s,c)=>c.setReadTime(e)));const i=new u1(e,t,this.Ye,this.je,r);return this.je=Ma(),this.Je=rg(),this.He=rg(),this.Ye=new nr(nn),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new gC,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Br(nn),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Br(nn),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ot("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new gC),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function rg(){return new nr(wt.comparator)}function yC(){return new nr(wt.comparator)}const ete={asc:"ASCENDING",desc:"DESCENDING"},tte={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nte={and:"AND",or:"OR"};class rte{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Wx(n,e){return n.useProto3Json||i1(e)?e:{value:e}}function Sy(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RB(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ite(n,e){return Sy(n,e.toTimestamp())}function To(n){return _n(!!n,49232),Lt.fromTimestamp((function(t){const r=Jc(t);return new Pn(r.seconds,r.nanos)})(n))}function B2(n,e){return Yx(n,e).canonicalString()}function Yx(n,e){const t=(function(i){return new jn(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function TB(n){const e=jn.fromString(n);return _n(OB(e),10190,{key:e.toString()}),e}function Xx(n,e){return B2(n.databaseId,e.path)}function __(n,e){const t=TB(e);if(t.get(1)!==n.databaseId.projectId)throw new at(qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new at(qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new wt(IB(t))}function NB(n,e){return B2(n.databaseId,e)}function ste(n){const e=TB(n);return e.length===4?jn.emptyPath():IB(e)}function Zx(n){return new jn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function IB(n){return _n(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function wC(n,e,t){return{name:Xx(n,e),fields:t.value.mapValue.fields}}function ote(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Nt(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,p){return d.useProto3Json?(_n(p===void 0||typeof p=="string",58123),ri.fromBase64String(p||"")):(_n(p===void 0||p instanceof xt||p instanceof Uint8Array,16193),ri.fromUint8Array(p||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,u=c&&(function(d){const p=d.code===void 0?qe.UNKNOWN:EB(d.code);return new at(p,d.message||"")})(c);t=new SB(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=__(n,r.document.name),s=To(r.document.updateTime),c=r.document.createTime?To(r.document.createTime):Lt.min(),u=new bs({mapValue:{fields:r.document.fields}}),h=mi.newFoundDocument(i,s,c,u),d=r.targetIds||[],p=r.removedTargetIds||[];t=new Hg(d,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=__(n,r.document),s=r.readTime?To(r.readTime):Lt.min(),c=mi.newNoDocument(i,s),u=r.removedTargetIds||[];t=new Hg([],u,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=__(n,r.document),s=r.removedTargetIds||[];t=new Hg([],s,i,null)}else{if(!("filter"in e))return Nt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,c=new Yee(i,s),u=r.targetId;t=new AB(u,c)}}return t}function ate(n,e){let t;if(e instanceof tm)t={update:wC(n,e.key,e.value)};else if(e instanceof xB)t={delete:Xx(n,e.key)};else if(e instanceof Tu)t={update:wC(n,e.key,e.data),updateMask:gte(e.fieldMask)};else{if(!(e instanceof $ee))return Nt(16599,{Vt:e.type});t={verify:Xx(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(s,c){const u=c.transform;if(u instanceof Ey)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Op)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Mp)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ay)return{fieldPath:c.field.canonicalString(),increment:u.Ae};throw Nt(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:ite(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Nt(27497)})(n,e.precondition)),t}function cte(n,e){return n&&n.length>0?(_n(e!==void 0,14353),n.map((t=>(function(i,s){let c=i.updateTime?To(i.updateTime):To(s);return c.isEqual(Lt.min())&&(c=To(s)),new Hee(c,i.transformResults||[])})(t,e)))):[]}function lte(n,e){return{documents:[NB(n,e.path)]}}function ute(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=NB(n,i);const s=(function(d){if(d.length!==0)return CB(Vs.create(d,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const c=(function(d){if(d.length!==0)return d.map((p=>(function(x){return{field:Lh(x.field),direction:dte(x.dir)}})(p)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const u=Wx(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:i}}function hte(n){let e=ste(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){_n(r===1,65062);const p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];t.where&&(s=(function(v){const x=kB(v);return x instanceof Vs&&iB(x)?x.getFilters():[x]})(t.where));let c=[];t.orderBy&&(c=(function(v){return v.map((x=>(function(S){return new xy(Dh(S.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(x)))})(t.orderBy));let u=null;t.limit&&(u=(function(v){let x;return x=typeof v=="object"?v.value:v,i1(x)?null:x})(t.limit));let h=null;t.startAt&&(h=(function(v){const x=!!v.before,y=v.values||[];return new _y(y,x)})(t.startAt));let d=null;return t.endAt&&(d=(function(v){const x=!v.before,y=v.values||[];return new _y(y,x)})(t.endAt)),kee(e,i,c,s,u,"F",h,d)}function fte(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function kB(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Dh(t.unaryFilter.field);return Tr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Dh(t.unaryFilter.field);return Tr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Dh(t.unaryFilter.field);return Tr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Dh(t.unaryFilter.field);return Tr.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Nt(61313);default:return Nt(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Tr.create(Dh(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Nt(58110);default:return Nt(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Vs.create(t.compositeFilter.filters.map((r=>kB(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Nt(1026)}})(t.compositeFilter.op))})(n):Nt(30097,{filter:n})}function dte(n){return ete[n]}function pte(n){return tte[n]}function mte(n){return nte[n]}function Lh(n){return{fieldPath:n.canonicalString()}}function Dh(n){return ti.fromServerFormat(n.fieldPath)}function CB(n){return n instanceof Tr?(function(t){if(t.op==="=="){if(sC(t.value))return{unaryFilter:{field:Lh(t.field),op:"IS_NAN"}};if(iC(t.value))return{unaryFilter:{field:Lh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(sC(t.value))return{unaryFilter:{field:Lh(t.field),op:"IS_NOT_NAN"}};if(iC(t.value))return{unaryFilter:{field:Lh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lh(t.field),op:pte(t.op),value:t.value}}})(n):n instanceof Vs?(function(t){const r=t.getFilters().map((i=>CB(i)));return r.length===1?r[0]:{compositeFilter:{op:mte(t.op),filters:r}}})(n):Nt(54877,{filter:n})}function gte(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function OB(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t,r,i,s=Lt.min(),c=Lt.min(),u=ri.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Uc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yte{constructor(e){this.yt=e}}function wte(n){const e=hte({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Kx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bte{constructor(){this.Cn=new vte}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ge.resolve()}getCollectionParents(e,t){return Ge.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ge.resolve()}deleteFieldIndex(e,t){return Ge.resolve()}deleteAllFieldIndexes(e){return Ge.resolve()}createTargetIndexes(e,t){return Ge.resolve()}getDocumentsMatchingTarget(e,t){return Ge.resolve(null)}getIndexType(e,t){return Ge.resolve(0)}getFieldIndexes(e,t){return Ge.resolve([])}getNextCollectionGroupToUpdate(e){return Ge.resolve(null)}getMinOffset(e,t){return Ge.resolve(Qc.min())}getMinOffsetFromCollectionGroup(e,t){return Ge.resolve(Qc.min())}updateCollectionGroup(e,t,r){return Ge.resolve()}updateIndexEntries(e,t){return Ge.resolve()}}class vte{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Br(jn.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Br(jn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MB=41943040;class ji{static withCacheSize(e){return new ji(e,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ji.DEFAULT_COLLECTION_PERCENTILE=10,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ji.DEFAULT=new ji(MB,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ji.DISABLED=new ji(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new df(0)}static cr(){return new df(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="LruGarbageCollector",_te=1048576;function _C([n,e],[t,r]){const i=nn(n,t);return i===0?nn(e,r):i}class xte{constructor(e){this.Ir=e,this.buffer=new Br(_C),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();_C(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ete{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ot(vC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Af(t)?ot(vC,"Ignoring IndexedDB error during garbage collection: ",t):await Ef(t)}await this.Vr(3e5)}))}}class Ate{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Ge.resolve(r1.ce);const r=new xte(t);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Ge.resolve(bC)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bC):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,s,c,u,h,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,c=Date.now(),this.nthSequenceNumber(e,i)))).next((v=>(r=v,u=Date.now(),this.removeTargets(e,r,t)))).next((v=>(s=v,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(d=Date.now(),Mh()<=hn.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-p}ms
	Determined least recently used ${i} in `+(u-c)+`ms
	Removed ${s} targets in `+(h-u)+`ms
	Removed ${v} documents in `+(d-h)+`ms
Total Duration: ${d-p}ms`),Ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:v}))))}}function Ste(n,e){return new Ate(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rte{constructor(){this.changes=new Ru((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Ge.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tte{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nte{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&up(r.mutation,i,Ds.empty(),Pn.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,rn()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=rn()){const i=nu();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((s=>{let c=Wd();return s.forEach(((u,h)=>{c=c.insert(u,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=nu();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,rn())))}populateOverlays(e,t,r){const i=[];return r.forEach((s=>{t.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((c,u)=>{t.set(c,u)}))}))}computeViews(e,t,r,i){let s=Ma();const c=lp(),u=(function(){return lp()})();return t.forEach(((h,d)=>{const p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof Tu)?s=s.insert(d.key,d):p!==void 0?(c.set(d.key,p.mutation.getFieldMask()),up(p.mutation,d,p.mutation.getFieldMask(),Pn.now())):c.set(d.key,Ds.empty())})),this.recalculateAndSaveOverlays(e,s).next((h=>(h.forEach(((d,p)=>c.set(d,p))),t.forEach(((d,p)=>u.set(d,new Tte(p,c.get(d)??null)))),u)))}recalculateAndSaveOverlays(e,t){const r=lp();let i=new nr(((c,u)=>c-u)),s=rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const u of c)u.keys().forEach((h=>{const d=t.get(h);if(d===null)return;let p=r.get(h)||Ds.empty();p=u.applyToLocalView(d,p),r.set(h,p);const v=(i.get(u.batchId)||rn()).add(h);i=i.insert(u.batchId,v)}))})).next((()=>{const c=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),d=h.key,p=h.value,v=pB();p.forEach((x=>{if(!s.has(x)){const y=vB(t.get(x),r.get(x));y!==null&&v.set(x,y),s=s.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,d,v))}return Ge.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(c){return wt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lB(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((s=>{const c=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):Ge.resolve(nu());let u=Np,h=s;return c.next((d=>Ge.forEach(d,((p,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),s.get(p)?Ge.resolve():this.remoteDocumentCache.getEntry(e,p).next((x=>{h=h.insert(p,x)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,h,d,rn()))).next((p=>({batchId:u,changes:dB(p)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new wt(t)).next((r=>{let i=Wd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let c=Wd();return this.indexManager.getCollectionParents(e,s).next((u=>Ge.forEach(u,(h=>{const d=(function(v,x){return new em(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((p=>{p.forEach(((v,x)=>{c=c.insert(v,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(s=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i)))).next((c=>{s.forEach(((h,d)=>{const p=d.getKey();c.get(p)===null&&(c=c.insert(p,mi.newInvalidDocument(p)))}));let u=Wd();return c.forEach(((h,d)=>{const p=s.get(h);p!==void 0&&up(p.mutation,d,Ds.empty(),Pn.now()),a1(t,d)&&(u=u.insert(h,d))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ite{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ge.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:To(i.createTime)}})(t)),Ge.resolve()}getNamedQuery(e,t){return Ge.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:wte(i.bundledQuery),readTime:To(i.readTime)}})(t)),Ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kte{constructor(){this.overlays=new nr(wt.comparator),this.qr=new Map}getOverlay(e,t){return Ge.resolve(this.overlays.get(t))}getOverlays(e,t){const r=nu();return Ge.forEach(t,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,s)=>{this.St(e,t,s)})),Ge.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),Ge.resolve()}getOverlaysForCollection(e,t,r){const i=nu(),s=t.length+1,c=new wt(t.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const h=u.getNext().value,d=h.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&h.largestBatchId>r&&i.set(h.getKey(),h)}return Ge.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new nr(((d,p)=>d-p));const c=this.overlays.getIterator();for(;c.hasNext();){const d=c.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let p=s.get(d.largestBatchId);p===null&&(p=nu(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const u=nu(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((d,p)=>u.set(d,p))),!(u.size()>=i)););return Ge.resolve(u)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Wee(t,r));let s=this.qr.get(t);s===void 0&&(s=rn(),this.qr.set(t,s)),this.qr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cte{constructor(){this.sessionToken=ri.EMPTY_BYTE_STRING}getSessionToken(e){return Ge.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.Qr=new Br(zr.$r),this.Ur=new Br(zr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new zr(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new zr(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new wt(new jn([])),r=new zr(t,e),i=new zr(t,e+1),s=[];return this.Ur.forEachInRange([r,i],(c=>{this.Gr(c),s.push(c.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new wt(new jn([])),r=new zr(t,e),i=new zr(t,e+1);let s=rn();return this.Ur.forEachInRange([r,i],(c=>{s=s.add(c.key)})),s}containsKey(e){const t=new zr(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class zr{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return wt.comparator(e.key,t.key)||nn(e.Yr,t.Yr)}static Kr(e,t){return nn(e.Yr,t.Yr)||wt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ote{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Br(zr.$r)}checkEmpty(e){return Ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Kee(s,t,r,i);this.mutationQueue.push(c);for(const u of i)this.Zr=this.Zr.add(new zr(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Ge.resolve(c)}lookupMutationBatch(e,t){return Ge.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),s=i<0?0:i;return Ge.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ge.resolve(this.mutationQueue.length===0?R2:this.tr-1)}getAllMutationBatches(e){return Ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new zr(t,0),i=new zr(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(c=>{const u=this.Xr(c.Yr);s.push(u)})),Ge.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Br(nn);return t.forEach((i=>{const s=new zr(i,0),c=new zr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,c],(u=>{r=r.add(u.Yr)}))})),Ge.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;wt.isDocumentKey(s)||(s=s.child(""));const c=new zr(new wt(s),0);let u=new Br(nn);return this.Zr.forEachWhile((h=>{const d=h.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(h.Yr)),!0)}),c),Ge.resolve(this.ti(u))}ti(e){const t=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){_n(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ge.forEach(t.mutations,(i=>{const s=new zr(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new zr(t,0),i=this.Zr.firstAfterOrEqual(r);return Ge.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ge.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mte{constructor(e){this.ri=e,this.docs=(function(){return new nr(wt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ge.resolve(r?r.document.mutableCopy():mi.newInvalidDocument(t))}getEntries(e,t){let r=Ma();return t.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():mi.newInvalidDocument(i))})),Ge.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Ma();const c=t.path,u=new wt(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:d,value:{document:p}}=h.getNext();if(!c.isPrefixOf(d.path))break;d.path.length>c.length+1||cee(aee(p),r)<=0||(i.has(p.key)||a1(t,p))&&(s=s.insert(p.key,p.mutableCopy()))}return Ge.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Nt(9500)}ii(e,t){return Ge.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new Bte(this)}getSize(e){return Ge.resolve(this.size)}}class Bte extends Rte{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Ge.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lte{constructor(e){this.persistence=e,this.si=new Ru((t=>I2(t)),k2),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.oi=0,this._i=new L2,this.targetCount=0,this.ai=df.ur()}forEachTarget(e,t){return this.si.forEach(((r,i)=>t(i))),Ge.resolve()}getLastRemoteSnapshotVersion(e){return Ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ge.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Ge.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new df(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ge.resolve()}updateTargetData(e,t){return this.Pr(t),Ge.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ge.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.si.forEach(((c,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.si.delete(c),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Ge.waitFor(s).next((()=>i))}getTargetCount(e){return Ge.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Ge.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Ge.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach((c=>{s.push(i.markPotentiallyOrphaned(e,c))})),Ge.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ge.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Ge.resolve(r)}containsKey(e,t){return Ge.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e,t){this.ui={},this.overlays={},this.ci=new r1(0),this.li=!1,this.li=!0,this.hi=new Cte,this.referenceDelegate=e(this),this.Pi=new Lte(this),this.indexManager=new bte,this.remoteDocumentCache=(function(i){return new Mte(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new yte(t),this.Ii=new Ite(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kte,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new Ote(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ot("MemoryPersistence","Starting transaction:",e);const i=new Dte(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,t){return Ge.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class Dte extends uee{constructor(e){super(),this.currentSequenceNumber=e}}class D2{constructor(e){this.persistence=e,this.Ri=new L2,this.Vi=null}static mi(e){return new D2(e)}get fi(){if(this.Vi)return this.Vi;throw Nt(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Ge.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Ge.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ge.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ge.forEach(this.fi,(r=>{const i=wt.fromPath(r);return this.gi(e,i).next((s=>{s||t.removeEntry(i,Lt.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Ge.or([()=>Ge.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ry{constructor(e,t){this.persistence=e,this.pi=new Ru((r=>dee(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Ste(this,t)}static mi(e,t){return new Ry(e,t)}Ei(){}di(e){return Ge.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Ge.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?Ge.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(c=>this.br(e,c,t).next((u=>{u||(r++,s.removeEntry(c,Lt.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Ge.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Ge.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Ge.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Ge.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Vg(e.data.value)),t}br(e,t,r){return Ge.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return Ge.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=rn(),i=rn();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new j2(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jte{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pte{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return LQ()?8:hee(MQ())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ys(e,t).next((c=>{s.result=c})).next((()=>{if(!s.result)return this.ws(e,t,i,r).next((c=>{s.result=c}))})).next((()=>{if(s.result)return;const c=new jte;return this.Ss(e,t,c).next((u=>{if(s.result=u,this.Vs)return this.bs(e,t,c,u.size)}))})).next((()=>s.result))}bs(e,t,r,i){return r.documentReadCount<this.fs?(Mh()<=hn.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Bh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ge.resolve()):(Mh()<=hn.DEBUG&&ot("QueryEngine","Query:",Bh(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Mh()<=hn.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Bh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ro(t))):Ge.resolve())}ys(e,t){if(lC(t))return Ge.resolve(null);let r=Ro(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=Kx(t,null,"F"),r=Ro(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const c=rn(...s);return this.ps.getDocuments(e,c).next((u=>this.indexManager.getMinOffset(e,r).next((h=>{const d=this.Ds(t,u);return this.Cs(t,d,c,h.readTime)?this.ys(e,Kx(t,null,"F")):this.vs(e,d,t,h)}))))})))))}ws(e,t,r,i){return lC(t)||i.isEqual(Lt.min())?Ge.resolve(null):this.ps.getDocuments(e,r).next((s=>{const c=this.Ds(t,s);return this.Cs(t,c,r,i)?Ge.resolve(null):(Mh()<=hn.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bh(t)),this.vs(e,c,t,oee(i,Np)).next((u=>u)))}))}Ds(e,t){let r=new Br(hB(e));return t.forEach(((i,s)=>{a1(e,s)&&(r=r.add(s))})),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,t,r){return Mh()<=hn.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Bh(t)),this.ps.getDocumentsMatchingQuery(e,t,Qc.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(t.forEach((c=>{s=s.insert(c.key,c)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="LocalStore",Ute=3e8;class Vte{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new nr(nn),this.xs=new Ru((s=>I2(s)),k2),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nte(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function zte(n,e,t,r){return new Vte(n,e,t,r)}async function LB(n,e){const t=Pt(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((s=>{const c=[],u=[];let h=rn();for(const d of i){c.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}for(const d of s){u.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}return t.localDocuments.getDocuments(r,h).next((d=>({Ls:d,removedBatchIds:c,addedBatchIds:u})))}))}))}function Fte(n,e){const t=Pt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,h,d,p){const v=d.batch,x=v.keys();let y=Ge.resolve();return x.forEach((S=>{y=y.next((()=>p.getEntry(h,S))).next((k=>{const I=d.docVersions.get(S);_n(I!==null,48541),k.version.compareTo(I)<0&&(v.applyToRemoteDocument(k,d),k.isValidDocument()&&(k.setReadTime(d.commitVersion),p.addEntry(k)))}))})),y.next((()=>u.mutationQueue.removeMutationBatch(h,v)))})(t,r,e,s).next((()=>s.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let h=rn();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(h=h.add(u.batch.mutations[d].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function DB(n){const e=Pt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function Hte(n,e){const t=Pt(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const u=[];e.targetChanges.forEach(((p,v)=>{const x=i.get(v);if(!x)return;u.push(t.Pi.removeMatchingKeys(s,p.removedDocuments,v).next((()=>t.Pi.addMatchingKeys(s,p.addedDocuments,v))));let y=x.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(v)!==null?y=y.withResumeToken(ri.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):p.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(p.resumeToken,r)),i=i.insert(v,y),(function(k,I,M){return k.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=Ute?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(x,y,p)&&u.push(t.Pi.updateTargetData(s,y))}));let h=Ma(),d=rn();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,p))})),u.push(qte(s,c,e.documentUpdates).next((p=>{h=p.ks,d=p.qs}))),!r.isEqual(Lt.min())){const p=t.Pi.getLastRemoteSnapshotVersion(s).next((v=>t.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(p)}return Ge.waitFor(u).next((()=>c.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,h,d))).next((()=>h))})).then((s=>(t.Ms=i,s)))}function qte(n,e,t){let r=rn(),i=rn();return t.forEach((s=>r=r.add(s))),e.getEntries(n,r).next((s=>{let c=Ma();return t.forEach(((u,h)=>{const d=s.get(u);h.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(Lt.min())?(e.removeEntry(u,h.readTime),c=c.insert(u,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),c=c.insert(u,h)):ot(P2,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",h.version)})),{ks:c,qs:i}}))}function Gte(n,e){const t=Pt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=R2),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function $te(n,e){const t=Pt(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.Pi.getTargetData(r,e).next((s=>s?(i=s,Ge.resolve(i)):t.Pi.allocateTargetId(r).next((c=>(i=new Uc(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Qx(n,e,t){const r=Pt(n),i=r.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Af(c))throw c;ot(P2,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function xC(n,e,t){const r=Pt(n);let i=Lt.min(),s=rn();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,d,p){const v=Pt(h),x=v.xs.get(p);return x!==void 0?Ge.resolve(v.Ms.get(x)):v.Pi.getTargetData(d,p)})(r,c,Ro(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,u.targetId).next((h=>{s=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?i:Lt.min(),t?s:rn()))).next((u=>(Kte(r,Oee(e),u),{documents:u,Qs:s})))))}function Kte(n,e,t){let r=n.Os.get(e)||Lt.min();t.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),n.Os.set(e,r)}class EC{constructor(){this.activeTargetIds=Pee()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wte{constructor(){this.Mo=new EC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new EC,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yte{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="ConnectivityMonitor";class SC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(AC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ot(AC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ig=null;function Jx(){return ig===null?ig=(function(){return 268435456+Math.round(2147483648*Math.random())})():ig++,"0x"+ig.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="RestConnection",Xte={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zte{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===by?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,s){const c=Jx(),u=this.zo(e,t.toUriEncodedString());ot(x_,`Sending RPC '${e}' ${c}:`,u,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,i,s);const{host:d}=new URL(u),p=Qp(d);return this.Jo(e,u,h,r,p).then((v=>(ot(x_,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw lf(x_,`RPC '${e}' ${c} failed with error: `,v,"url: ",u,"request:",r),v}))}Ho(e,t,r,i,s,c){return this.Go(e,t,r,i,s)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,t){const r=Xte[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qte{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi="WebChannelConnection";class Jte extends Zte{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,s){const c=Jx();return new Promise(((u,h)=>{const d=new jM;d.setWithCredentials(!0),d.listenOnce(PM.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Ug.NO_ERROR:const v=d.getResponseJson();ot(fi,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),u(v);break;case Ug.TIMEOUT:ot(fi,`RPC '${e}' ${c} timed out`),h(new at(qe.DEADLINE_EXCEEDED,"Request time out"));break;case Ug.HTTP_ERROR:const x=d.getStatus();if(ot(fi,`RPC '${e}' ${c} failed with status:`,x,"response text:",d.getResponseText()),x>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const S=y==null?void 0:y.error;if(S&&S.status&&S.message){const k=(function(M){const j=M.toLowerCase().replace(/_/g,"-");return Object.values(qe).indexOf(j)>=0?j:qe.UNKNOWN})(S.status);h(new at(k,S.message))}else h(new at(qe.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new at(qe.UNAVAILABLE,"Connection failed."));break;default:Nt(9055,{l_:e,streamId:c,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ot(fi,`RPC '${e}' ${c} completed.`)}}));const p=JSON.stringify(i);ot(fi,`RPC '${e}' ${c} sending request:`,i),d.send(t,"POST",p,r,15)}))}T_(e,t,r){const i=Jx(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=zM(),u=VM(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const p=s.join("");ot(fi,`Creating RPC '${e}' stream ${i}: ${p}`,h);const v=c.createWebChannel(p,h);this.I_(v);let x=!1,y=!1;const S=new Qte({Yo:I=>{y?ot(fi,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(x||(ot(fi,`Opening RPC '${e}' stream ${i} transport.`),v.open(),x=!0),ot(fi,`RPC '${e}' stream ${i} sending:`,I),v.send(I))},Zo:()=>v.close()}),k=(I,M,j)=>{I.listen(M,(O=>{try{j(O)}catch(Q){setTimeout((()=>{throw Q}),0)}}))};return k(v,Kd.EventType.OPEN,(()=>{y||(ot(fi,`RPC '${e}' stream ${i} transport opened.`),S.o_())})),k(v,Kd.EventType.CLOSE,(()=>{y||(y=!0,ot(fi,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(v))})),k(v,Kd.EventType.ERROR,(I=>{y||(y=!0,lf(fi,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),S.a_(new at(qe.UNAVAILABLE,"The operation could not be completed")))})),k(v,Kd.EventType.MESSAGE,(I=>{var M;if(!y){const j=I.data[0];_n(!!j,16349);const O=j,Q=(O==null?void 0:O.error)||((M=O[0])==null?void 0:M.error);if(Q){ot(fi,`RPC '${e}' stream ${i} received error:`,Q);const oe=Q.status;let ce=(function(B){const U=xr[B];if(U!==void 0)return EB(U)})(oe),W=Q.message;ce===void 0&&(ce=qe.INTERNAL,W="Unknown error status: "+oe+" with message "+Q.message),y=!0,S.a_(new at(ce,W)),v.close()}else ot(fi,`RPC '${e}' stream ${i} received:`,j),S.u_(j)}})),k(u,UM.STAT_EVENT,(I=>{I.stat===Vx.PROXY?ot(fi,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Vx.NOPROXY&&ot(fi,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function E_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(n){return new rte(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&ot("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="PersistentStream";class PB{constructor(e,t,r,i,s,c,u,h){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jB(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===qe.RESOURCE_EXHAUSTED?(Oa(t.toString()),Oa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===qe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===t&&this.G_(r,i)}),(r=>{e((()=>{const i=new at(qe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ot(RC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ot(RC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ene extends PB{constructor(e,t,r,i,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=ote(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Lt.min();const c=s.targetChange;return c.targetIds&&c.targetIds.length?Lt.min():c.readTime?To(c.readTime):Lt.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Zx(this.serializer),t.addTarget=(function(s,c){let u;const h=c.target;if(u=Gx(h)?{documents:lte(s,h)}:{query:ute(s,h).ft},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=RB(s,c.resumeToken);const d=Wx(s,c.expectedCount);d!==null&&(u.expectedCount=d)}else if(c.snapshotVersion.compareTo(Lt.min())>0){u.readTime=Sy(s,c.snapshotVersion.toTimestamp());const d=Wx(s,c.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,e);const r=fte(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Zx(this.serializer),t.removeTarget=e,this.q_(t)}}class tne extends PB{constructor(e,t,r,i,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return _n(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_n(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_n(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=cte(e.writeResults,e.commitTime),r=To(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Zx(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>ate(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{}class rne extends nne{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new at(qe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,c])=>this.connection.Go(e,Yx(t,r),i,s,c))).catch((s=>{throw s.name==="FirebaseError"?(s.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new at(qe.UNKNOWN,s.toString())}))}Ho(e,t,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Ho(e,Yx(t,r),i,c,u,s))).catch((c=>{throw c.name==="FirebaseError"?(c.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(qe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ine{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Oa(t),this.aa=!1):ot("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu="RemoteStore";class sne{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Nu(this)&&(ot(pu,"Restarting streams for network reachability change."),await(async function(h){const d=Pt(h);d.Ea.add(4),await rm(d),d.Ra.set("Unknown"),d.Ea.delete(4),await f1(d)})(this))}))})),this.Ra=new ine(r,i)}}async function f1(n){if(Nu(n))for(const e of n.da)await e(!0)}async function rm(n){for(const e of n.da)await e(!1)}function UB(n,e){const t=Pt(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),F2(t)?z2(t):Sf(t).O_()&&V2(t,e))}function U2(n,e){const t=Pt(n),r=Sf(t);t.Ia.delete(e),r.O_()&&VB(t,e),t.Ia.size===0&&(r.O_()?r.L_():Nu(t)&&t.Ra.set("Unknown"))}function V2(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Lt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Sf(n).Y_(e)}function VB(n,e){n.Va.Ue(e),Sf(n).Z_(e)}function z2(n){n.Va=new Jee({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Sf(n).start(),n.Ra.ua()}function F2(n){return Nu(n)&&!Sf(n).x_()&&n.Ia.size>0}function Nu(n){return Pt(n).Ea.size===0}function zB(n){n.Va=void 0}async function one(n){n.Ra.set("Online")}async function ane(n){n.Ia.forEach(((e,t)=>{V2(n,e)}))}async function cne(n,e){zB(n),F2(n)?(n.Ra.ha(e),z2(n)):n.Ra.set("Unknown")}async function lne(n,e,t){if(n.Ra.set("Online"),e instanceof SB&&e.state===2&&e.cause)try{await(async function(i,s){const c=s.cause;for(const u of s.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,c),i.Ia.delete(u),i.Va.removeTarget(u))})(n,e)}catch(r){ot(pu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ty(n,r)}else if(e instanceof Hg?n.Va.Ze(e):e instanceof AB?n.Va.st(e):n.Va.tt(e),!t.isEqual(Lt.min()))try{const r=await DB(n.localStore);t.compareTo(r)>=0&&await(function(s,c){const u=s.Va.Tt(c);return u.targetChanges.forEach(((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const p=s.Ia.get(d);p&&s.Ia.set(d,p.withResumeToken(h.resumeToken,c))}})),u.targetMismatches.forEach(((h,d)=>{const p=s.Ia.get(h);if(!p)return;s.Ia.set(h,p.withResumeToken(ri.EMPTY_BYTE_STRING,p.snapshotVersion)),VB(s,h);const v=new Uc(p.target,h,d,p.sequenceNumber);V2(s,v)})),s.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){ot(pu,"Failed to raise snapshot:",r),await Ty(n,r)}}async function Ty(n,e,t){if(!Af(e))throw e;n.Ea.add(1),await rm(n),n.Ra.set("Offline"),t||(t=()=>DB(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ot(pu,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await f1(n)}))}function FB(n,e){return e().catch((t=>Ty(n,t,e)))}async function d1(n){const e=Pt(n),t=nl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:R2;for(;une(e);)try{const i=await Gte(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,hne(e,i)}catch(i){await Ty(e,i)}HB(e)&&qB(e)}function une(n){return Nu(n)&&n.Ta.length<10}function hne(n,e){n.Ta.push(e);const t=nl(n);t.O_()&&t.X_&&t.ea(e.mutations)}function HB(n){return Nu(n)&&!nl(n).x_()&&n.Ta.length>0}function qB(n){nl(n).start()}async function fne(n){nl(n).ra()}async function dne(n){const e=nl(n);for(const t of n.Ta)e.ea(t.mutations)}async function pne(n,e,t){const r=n.Ta.shift(),i=O2.from(r,e,t);await FB(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await d1(n)}async function mne(n,e){e&&nl(n).X_&&await(async function(r,i){if((function(c){return Xee(c)&&c!==qe.ABORTED})(i.code)){const s=r.Ta.shift();nl(r).B_(),await FB(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await d1(r)}})(n,e),HB(n)&&qB(n)}async function TC(n,e){const t=Pt(n);t.asyncQueue.verifyOperationInProgress(),ot(pu,"RemoteStore received new credentials");const r=Nu(t);t.Ea.add(3),await rm(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await f1(t)}async function gne(n,e){const t=Pt(n);e?(t.Ea.delete(2),await f1(t)):e||(t.Ea.add(2),await rm(t),t.Ra.set("Unknown"))}function Sf(n){return n.ma||(n.ma=(function(t,r,i){const s=Pt(t);return s.sa(),new ene(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:one.bind(null,n),t_:ane.bind(null,n),r_:cne.bind(null,n),H_:lne.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),F2(n)?z2(n):n.Ra.set("Unknown")):(await n.ma.stop(),zB(n))}))),n.ma}function nl(n){return n.fa||(n.fa=(function(t,r,i){const s=Pt(t);return s.sa(),new tne(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:fne.bind(null,n),r_:mne.bind(null,n),ta:dne.bind(null,n),na:pne.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await d1(n)):(await n.fa.stop(),n.Ta.length>0&&(ot(pu,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new $c,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const c=Date.now()+r,u=new H2(e,t,c,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(qe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function q2(n,e){if(Oa("AsyncQueue",`${e}: ${n}`),Af(n))return new at(qe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{static emptySet(e){return new Zh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||wt.comparator(t.key,r.key):(t,r)=>wt.comparator(t.key,r.key),this.keyedMap=Wd(),this.sortedSet=new nr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Zh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this.ga=new nr(wt.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Nt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class pf{constructor(e,t,r,i,s,c,u,h,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,s){const c=[];return t.forEach((u=>{c.push({type:0,doc:u})})),new pf(e,t,Zh.emptySet(t),c,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&o1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yne{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class wne{constructor(){this.queries=IC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Pt(t),s=i.queries;i.queries=IC(),s.forEach(((c,u)=>{for(const h of u.Sa)h.onError(r)}))})(this,new at(qe.ABORTED,"Firestore shutting down"))}}function IC(){return new Ru((n=>uB(n)),o1)}async function bne(n,e){const t=Pt(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new yne,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await t.onListen(i,!0);break;case 1:s.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(c){const u=q2(c,`Initialization of query '${Bh(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.Sa.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&G2(t)}async function vne(n,e){const t=Pt(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const c=s.Sa.indexOf(e);c>=0&&(s.Sa.splice(c,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function _ne(n,e){const t=Pt(n);let r=!1;for(const i of e){const s=i.query,c=t.queries.get(s);if(c){for(const u of c.Sa)u.Fa(i)&&(r=!0);c.wa=i}}r&&G2(t)}function xne(n,e,t){const r=Pt(n),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(t);r.queries.delete(e)}function G2(n){n.Ca.forEach((e=>{e.next()}))}var eE,kC;(kC=eE||(eE={})).Ma="default",kC.Cache="cache";class Ene{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new pf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=pf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==eE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e){this.key=e}}class $B{constructor(e){this.key=e}}class Ane{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=rn(),this.mutatedKeys=rn(),this.eu=hB(e),this.tu=new Zh(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new NC,i=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,c=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,v)=>{const x=i.get(p),y=a1(this.query,v)?v:null,S=!!x&&this.mutatedKeys.has(x.key),k=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let I=!1;x&&y?x.data.isEqual(y.data)?S!==k&&(r.track({type:3,doc:y}),I=!0):this.su(x,y)||(r.track({type:2,doc:y}),I=!0,(h&&this.eu(y,h)>0||d&&this.eu(y,d)<0)&&(u=!0)):!x&&y?(r.track({type:0,doc:y}),I=!0):x&&!y&&(r.track({type:1,doc:x}),I=!0,(h||d)&&(u=!0)),I&&(y?(c=c.add(y),s=k?s.add(p):s.delete(p)):(c=c.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const p=this.query.limitType==="F"?c.last():c.first();c=c.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:c,iu:r,Cs:u,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((p,v)=>(function(y,S){const k=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt(20277,{Rt:I})}};return k(y)-k(S)})(p.type,v.type)||this.eu(p.doc,v.doc))),this.ou(r),i=i??!1;const u=t&&!i?this._u():[],h=this.Xa.size===0&&this.current&&!i?1:0,d=h!==this.Za;return this.Za=h,c.length!==0||d?{snapshot:new pf(this.query,e.tu,s,c,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new NC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=rn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new $B(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new GB(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=rn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return pf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $2="SyncEngine";class Sne{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Rne{constructor(e){this.key=e,this.hu=!1}}class Tne{constructor(e,t,r,i,s,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ru((u=>uB(u)),o1),this.Iu=new Map,this.Eu=new Set,this.du=new nr(wt.comparator),this.Au=new Map,this.Ru=new L2,this.Vu={},this.mu=new Map,this.fu=df.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Nne(n,e,t=!0){const r=QB(n);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await KB(r,e,t,!0),i}async function Ine(n,e){const t=QB(n);await KB(t,e,!0,!1)}async function KB(n,e,t,r){const i=await $te(n.localStore,Ro(e)),s=i.targetId,c=n.sharedClientState.addLocalQueryTarget(s,t);let u;return r&&(u=await kne(n,e,s,c==="current",i.resumeToken)),n.isPrimaryClient&&t&&UB(n.remoteStore,i),u}async function kne(n,e,t,r,i){n.pu=(v,x,y)=>(async function(k,I,M,j){let O=I.view.ru(M);O.Cs&&(O=await xC(k.localStore,I.query,!1).then((({documents:W})=>I.view.ru(W,O))));const Q=j&&j.targetChanges.get(I.targetId),oe=j&&j.targetMismatches.get(I.targetId)!=null,ce=I.view.applyChanges(O,k.isPrimaryClient,Q,oe);return OC(k,I.targetId,ce.au),ce.snapshot})(n,v,x,y);const s=await xC(n.localStore,e,!0),c=new Ane(e,s.Qs),u=c.ru(s.documents),h=nm.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=c.applyChanges(u,n.isPrimaryClient,h);OC(n,t,d.au);const p=new Sne(e,t,c);return n.Tu.set(e,p),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function Cne(n,e,t){const r=Pt(n),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((c=>!o1(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Qx(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&U2(r.remoteStore,i.targetId),tE(r,i.targetId)})).catch(Ef)):(tE(r,i.targetId),await Qx(r.localStore,i.targetId,!0))}async function One(n,e){const t=Pt(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),U2(t.remoteStore,r.targetId))}async function Mne(n,e,t){const r=Vne(n);try{const i=await(function(c,u){const h=Pt(c),d=Pn.now(),p=u.reduce(((y,S)=>y.add(S.key)),rn());let v,x;return h.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let S=Ma(),k=rn();return h.Ns.getEntries(y,p).next((I=>{S=I,S.forEach(((M,j)=>{j.isValidDocument()||(k=k.add(M))}))})).next((()=>h.localDocuments.getOverlayedDocuments(y,S))).next((I=>{v=I;const M=[];for(const j of u){const O=Gee(j,v.get(j.key).overlayedDocument);O!=null&&M.push(new Tu(j.key,O,tB(O.value.mapValue),Sa.exists(!0)))}return h.mutationQueue.addMutationBatch(y,d,M,u)})).next((I=>{x=I;const M=I.applyToLocalDocumentSet(v,k);return h.documentOverlayCache.saveOverlays(y,I.batchId,M)}))})).then((()=>({batchId:x.batchId,changes:dB(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,u,h){let d=c.Vu[c.currentUser.toKey()];d||(d=new nr(nn)),d=d.insert(u,h),c.Vu[c.currentUser.toKey()]=d})(r,i.batchId,t),await im(r,i.changes),await d1(r.remoteStore)}catch(i){const s=q2(i,"Failed to persist write");t.reject(s)}}async function WB(n,e){const t=Pt(n);try{const r=await Hte(t.localStore,e);e.targetChanges.forEach(((i,s)=>{const c=t.Au.get(s);c&&(_n(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c.hu=!0:i.modifiedDocuments.size>0?_n(c.hu,14607):i.removedDocuments.size>0&&(_n(c.hu,42227),c.hu=!1))})),await im(t,r,e)}catch(r){await Ef(r)}}function CC(n,e,t){const r=Pt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach(((s,c)=>{const u=c.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(c,u){const h=Pt(c);h.onlineState=u;let d=!1;h.queries.forEach(((p,v)=>{for(const x of v.Sa)x.va(u)&&(d=!0)})),d&&G2(h)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Bne(n,e,t){const r=Pt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),s=i&&i.key;if(s){let c=new nr(wt.comparator);c=c.insert(s,mi.newNoDocument(s,Lt.min()));const u=rn().add(s),h=new u1(Lt.min(),new Map,new nr(nn),c,u);await WB(r,h),r.du=r.du.remove(s),r.Au.delete(e),K2(r)}else await Qx(r.localStore,e,!1).then((()=>tE(r,e,t))).catch(Ef)}async function Lne(n,e){const t=Pt(n),r=e.batch.batchId;try{const i=await Fte(t.localStore,e);XB(t,r,null),YB(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await im(t,i)}catch(i){await Ef(i)}}async function Dne(n,e,t){const r=Pt(n);try{const i=await(function(c,u){const h=Pt(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let p;return h.mutationQueue.lookupMutationBatch(d,u).next((v=>(_n(v!==null,37113),p=v.keys(),h.mutationQueue.removeMutationBatch(d,v)))).next((()=>h.mutationQueue.performConsistencyCheck(d))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(d,p,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p))).next((()=>h.localDocuments.getDocuments(d,p)))}))})(r.localStore,e);XB(r,e,t),YB(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await im(r,i)}catch(i){await Ef(i)}}function YB(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function XB(n,e,t){const r=Pt(n);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function tE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||ZB(n,r)}))}function ZB(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(U2(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),K2(n))}function OC(n,e,t){for(const r of t)r instanceof GB?(n.Ru.addReference(r.key,e),jne(n,r)):r instanceof $B?(ot($2,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||ZB(n,r.key)):Nt(19791,{wu:r})}function jne(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(ot($2,"New document in limbo: "+t),n.Eu.add(r),K2(n))}function K2(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new wt(jn.fromString(e)),r=n.fu.next();n.Au.set(r,new Rne(t)),n.du=n.du.insert(t,r),UB(n.remoteStore,new Uc(Ro(cB(t.path)),r,"TargetPurposeLimboResolution",r1.ce))}}async function im(n,e,t){const r=Pt(n),i=[],s=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,h)=>{c.push(r.pu(h,e,t).then((d=>{var p;if((d||t)&&r.isPrimaryClient){const v=d?!d.fromCache:(p=t==null?void 0:t.targetChanges.get(h.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(d){i.push(d);const v=j2.As(h.targetId,d);s.push(v)}})))})),await Promise.all(c),r.Pu.H_(i),await(async function(h,d){const p=Pt(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>Ge.forEach(d,(x=>Ge.forEach(x.Es,(y=>p.persistence.referenceDelegate.addReference(v,x.targetId,y))).next((()=>Ge.forEach(x.ds,(y=>p.persistence.referenceDelegate.removeReference(v,x.targetId,y)))))))))}catch(v){if(!Af(v))throw v;ot(P2,"Failed to update sequence numbers: "+v)}for(const v of d){const x=v.targetId;if(!v.fromCache){const y=p.Ms.get(x),S=y.snapshotVersion,k=y.withLastLimboFreeSnapshotVersion(S);p.Ms=p.Ms.insert(x,k)}}})(r.localStore,s))}async function Pne(n,e){const t=Pt(n);if(!t.currentUser.isEqual(e)){ot($2,"User change. New user:",e.toKey());const r=await LB(t.localStore,e);t.currentUser=e,(function(s,c){s.mu.forEach((u=>{u.forEach((h=>{h.reject(new at(qe.CANCELLED,c))}))})),s.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await im(t,r.Ls)}}function Une(n,e){const t=Pt(n),r=t.Au.get(e);if(r&&r.hu)return rn().add(r.key);{let i=rn();const s=t.Iu.get(e);if(!s)return i;for(const c of s){const u=t.Tu.get(c);i=i.unionWith(u.view.nu)}return i}}function QB(n){const e=Pt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=WB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Une.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bne.bind(null,e),e.Pu.H_=_ne.bind(null,e.eventManager),e.Pu.yu=xne.bind(null,e.eventManager),e}function Vne(n){const e=Pt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Lne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dne.bind(null,e),e}class Ny{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=h1(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return zte(this.persistence,new Pte,e.initialUser,this.serializer)}Cu(e){return new BB(D2.mi,this.serializer)}Du(e){return new Wte}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ny.provider={build:()=>new Ny};class zne extends Ny{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){_n(this.persistence.referenceDelegate instanceof Ry,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Ete(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?ji.withCacheSize(this.cacheSizeBytes):ji.DEFAULT;return new BB((r=>Ry.mi(r,t)),this.serializer)}}class nE{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>CC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Pne.bind(null,this.syncEngine),await gne(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new wne})()}createDatastore(e){const t=h1(e.databaseInfo.databaseId),r=(function(s){return new Jte(s)})(e.databaseInfo);return(function(s,c,u,h){return new rne(s,c,u,h)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,s,c,u){return new sne(r,i,s,c,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>CC(this.syncEngine,t,0)),(function(){return SC.v()?new SC:new Yte})())}createSyncEngine(e,t){return(function(i,s,c,u,h,d,p){const v=new Tne(i,s,c,u,h,d);return p&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(i){const s=Pt(i);ot(pu,"RemoteStore shutting down."),s.Ea.add(5),await rm(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}nE.provider={build:()=>new nE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fne{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Oa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl="FirestoreClient";class Hne{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=pi.UNAUTHENTICATED,this.clientId=S2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async c=>{ot(rl,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ot(rl,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $c;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=q2(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function A_(n,e){n.asyncQueue.verifyOperationInProgress(),ot(rl,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await LB(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function MC(n,e){n.asyncQueue.verifyOperationInProgress();const t=await qne(n);ot(rl,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>TC(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>TC(e.remoteStore,i))),n._onlineComponents=e}async function qne(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ot(rl,"Using user provided OfflineComponentProvider");try{await A_(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===qe.FAILED_PRECONDITION||i.code===qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;lf("Error using user provided cache. Falling back to memory cache: "+t),await A_(n,new Ny)}}else ot(rl,"Using default OfflineComponentProvider"),await A_(n,new zne(void 0));return n._offlineComponents}async function JB(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ot(rl,"Using user provided OnlineComponentProvider"),await MC(n,n._uninitializedComponentsProvider._online)):(ot(rl,"Using default OnlineComponentProvider"),await MC(n,new nE))),n._onlineComponents}function Gne(n){return JB(n).then((e=>e.syncEngine))}async function $ne(n){const e=await JB(n),t=e.eventManager;return t.onListen=Nne.bind(null,e.syncEngine),t.onUnlisten=Cne.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Ine.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=One.bind(null,e.syncEngine),t}function Kne(n,e,t={}){const r=new $c;return n.asyncQueue.enqueueAndForget((async()=>(function(s,c,u,h,d){const p=new Fne({next:x=>{p.Nu(),c.enqueueAndForget((()=>vne(s,v))),x.fromCache&&h.source==="server"?d.reject(new at(qe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(x)},error:x=>d.reject(x)}),v=new Ene(u,p,{includeMetadataChanges:!0,qa:!0});return bne(s,v)})(await $ne(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL="firestore.googleapis.com",LC=!0;class DC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tL,this.ssl=LC}else this.host=e.host,this.ssl=e.ssl??LC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=MB;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_te)throw new at(qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}see("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eL(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new at(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new at(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new at(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class p1{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new YJ;switch(r.type){case"firstParty":return new JJ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new at(qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=BC.get(t);r&&(ot("ComponentProvider","Removing Datastore"),BC.delete(t),r.terminate())})(this),Promise.resolve()}}function Wne(n,e,t,r={}){var d;n=yy(n,p1);const i=Qp(e),s=n._getSettings(),c={...s,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;i&&(xM(`https://${u}`),AM("Firestore",!0)),s.host!==tL&&s.host!==u&&lf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...s,host:u,ssl:i,emulatorOptions:r};if(!my(h,c)&&(n._setSettings(h),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=pi.MOCK_USER;else{p=EM(r.mockUserToken,(d=n._app)==null?void 0:d.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new at(qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new pi(x)}n._authCredentials=new XJ(new HM(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Rf(this.firestore,e,this._query)}}class Fr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fr(this.firestore,e,this._key)}toJSON(){return{type:Fr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Jp(t,Fr._jsonSchema))return new Fr(e,r||null,new wt(jn.fromString(t.referencePath)))}}Fr._jsonSchemaVersion="firestore/documentReference/1.0",Fr._jsonSchema={type:Nr("string",Fr._jsonSchemaVersion),referencePath:Nr("string")};class Kc extends Rf{constructor(e,t,r){super(e,t,cB(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fr(this.firestore,null,new wt(e))}withConverter(e){return new Kc(this.firestore,e,this._path)}}function nL(n,e,...t){if(n=Co(n),qM("collection","path",e),n instanceof p1){const r=jn.fromString(e,...t);return Yk(r),new Kc(n,null,r)}{if(!(n instanceof Fr||n instanceof Kc))throw new at(qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(jn.fromString(e,...t));return Yk(r),new Kc(n.firestore,null,r)}}function Yne(n,e,...t){if(n=Co(n),arguments.length===1&&(e=S2.newId()),qM("doc","path",e),n instanceof p1){const r=jn.fromString(e,...t);return Wk(r),new Fr(n,null,new wt(r))}{if(!(n instanceof Fr||n instanceof Kc))throw new at(qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(jn.fromString(e,...t));return Wk(r),new Fr(n.firestore,n instanceof Kc?n.converter:null,new wt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="AsyncQueue";class PC{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jB(this,"async_queue_retry"),this._c=()=>{const r=E_();r&&ot(jC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=E_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=E_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new $c;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Af(e))throw e;ot(jC,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Oa("INTERNAL UNHANDLED ERROR: ",UC(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=H2.createAndSchedule(this,e,t,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Nt(47125,{Pc:UC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function UC(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class W2 extends p1{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new PC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new PC(e),this._firestoreClient=void 0,await e}}}function Xne(n,e){const t=typeof n=="object"?n:MM(),r=typeof n=="string"?n:by,i=IM(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=vM("firestore");s&&Wne(i,...s)}return i}function rL(n){if(n._terminated)throw new at(qe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Zne(n),n._firestoreClient}function Zne(n){var r,i,s;const e=n._freezeSettings(),t=(function(u,h,d,p){return new gee(u,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,eL(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new Hne(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vs(ri.fromBase64String(e))}catch(t){throw new at(qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vs(ri.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jp(e,vs._jsonSchema))return vs.fromBase64String(e.bytes)}}vs._jsonSchemaVersion="firestore/bytes/1.0",vs._jsonSchema={type:Nr("string",vs._jsonSchemaVersion),bytes:Nr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new at(qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ti(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new at(qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new at(qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return nn(this._lat,e._lat)||nn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:No._jsonSchemaVersion}}static fromJSON(e){if(Jp(e,No._jsonSchema))return new No(e.latitude,e.longitude)}}No._jsonSchemaVersion="firestore/geoPoint/1.0",No._jsonSchema={type:Nr("string",No._jsonSchemaVersion),latitude:Nr("number"),longitude:Nr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Io._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jp(e,Io._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Io(e.vectorValues);throw new at(qe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Io._jsonSchemaVersion="firestore/vectorValue/1.0",Io._jsonSchema={type:Nr("string",Io._jsonSchemaVersion),vectorValues:Nr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qne=/^__.*__$/;class Jne{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Tu(e,this.data,this.fieldMask,t,this.fieldTransforms):new tm(e,this.data,t,this.fieldTransforms)}}function sL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt(40011,{Ac:n})}}class X2{constructor(e,t,r,i,s,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new X2({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Iy(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(sL(this.Ac)&&Qne.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ere{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||h1(e)}Cc(e,t,r,i=!1){return new X2({Ac:e,methodName:t,Dc:r,path:ti.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oL(n){const e=n._freezeSettings(),t=h1(n._databaseId);return new ere(n._databaseId,!!e.ignoreUndefinedProperties,t)}function tre(n,e,t,r,i,s={}){const c=n.Cc(s.merge||s.mergeFields?2:0,e,t,i);lL("Data must be an object, but it was:",c,r);const u=aL(r,c);let h,d;if(s.merge)h=new Ds(c.fieldMask),d=c.fieldTransforms;else if(s.mergeFields){const p=[];for(const v of s.mergeFields){const x=rre(e,v,t);if(!c.contains(x))throw new at(qe.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);sre(p,x)||p.push(x)}h=new Ds(p),d=c.fieldTransforms.filter((v=>h.covers(v.field)))}else h=null,d=c.fieldTransforms;return new Jne(new bs(u),h,d)}function nre(n,e,t,r=!1){return Z2(t,n.Cc(r?4:3,e))}function Z2(n,e){if(cL(n=Co(n)))return lL("Unsupported field value:",e,n),aL(n,e);if(n instanceof iL)return(function(r,i){if(!sL(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let c=0;for(const u of r){let h=Z2(u,i.wc(c));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),c++}return{arrayValue:{values:s}}})(n,e)}return(function(r,i){if((r=Co(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Uee(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Pn.fromDate(r);return{timestampValue:Sy(i.serializer,s)}}if(r instanceof Pn){const s=new Pn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sy(i.serializer,s)}}if(r instanceof No)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vs)return{bytesValue:RB(i.serializer,r._byteString)};if(r instanceof Fr){const s=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(s))throw i.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:B2(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Io)return(function(c,u){return{mapValue:{fields:{[JM]:{stringValue:eB},[vy]:{arrayValue:{values:c.toArray().map((d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return C2(u.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${n1(r)}`)})(n,e)}function aL(n,e){const t={};return KM(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Su(n,((r,i)=>{const s=Z2(i,e.mc(r));s!=null&&(t[r]=s)})),{mapValue:{fields:t}}}function cL(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pn||n instanceof No||n instanceof vs||n instanceof Fr||n instanceof iL||n instanceof Io)}function lL(n,e,t){if(!cL(t)||!GM(t)){const r=n1(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function rre(n,e,t){if((e=Co(e))instanceof Y2)return e._internalPath;if(typeof e=="string")return uL(n,e);throw Iy("Field path arguments must be of type string or ",n,!1,void 0,t)}const ire=new RegExp("[~\\*/\\[\\]]");function uL(n,e,t){if(e.search(ire)>=0)throw Iy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Y2(...e.split("."))._internalPath}catch{throw Iy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Iy(n,e,t,r,i){const s=r&&!r.isEmpty(),c=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(s||c)&&(h+=" (found",s&&(h+=` in field ${r}`),c&&(h+=` in document ${i}`),h+=")"),new at(qe.INVALID_ARGUMENT,u+n+h)}function sre(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ore(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Q2("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ore extends hL{data(){return super.data()}}function Q2(n,e){return typeof e=="string"?uL(n,e):e instanceof Y2?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function are(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new at(qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class J2{}class cre extends J2{}function lre(n,e,...t){let r=[];e instanceof J2&&r.push(e),r=r.concat(t),(function(s){const c=s.filter((h=>h instanceof eA)).length,u=s.filter((h=>h instanceof m1)).length;if(c>1||c>0&&u>0)throw new at(qe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class m1 extends cre{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new m1(e,t,r)}_apply(e){const t=this._parse(e);return fL(e._query,t),new Rf(e.firestore,e.converter,$x(e._query,t))}_parse(e){const t=oL(e.firestore);return(function(s,c,u,h,d,p,v){let x;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new at(qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){zC(v,p);const S=[];for(const k of v)S.push(VC(h,s,k));x={arrayValue:{values:S}}}else x=VC(h,s,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||zC(v,p),x=nre(u,c,v,p==="in"||p==="not-in");return Tr.create(d,p,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ure(n,e,t){const r=e,i=Q2("where",n);return m1._create(i,r,t)}class eA extends J2{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new eA(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Vs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,s){let c=i;const u=s.getFlattenedFilters();for(const h of u)fL(c,h),c=$x(c,h)})(e._query,t),new Rf(e.firestore,e.converter,$x(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function VC(n,e,t){if(typeof(t=Co(t))=="string"){if(t==="")throw new at(qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lB(e)&&t.indexOf("/")!==-1)throw new at(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(jn.fromString(t));if(!wt.isDocumentKey(r))throw new at(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rC(n,new wt(r))}if(t instanceof Fr)return rC(n,t._key);throw new at(qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${n1(t)}.`)}function zC(n,e){if(!Array.isArray(n)||n.length===0)throw new at(qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fL(n,e){const t=(function(i,s){for(const c of i)for(const u of c.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new at(qe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(qe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class hre{convertValue(e,t="none"){switch(tl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(el(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Nt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Su(e,((i,s)=>{r[i]=this.convertValue(s,t)})),r}convertVectorValue(e){var r,i,s;const t=(s=(i=(r=e.fields)==null?void 0:r[vy].arrayValue)==null?void 0:i.values)==null?void 0:s.map((c=>pr(c.doubleValue)));return new Io(t)}convertGeoPoint(e){return new No(pr(e.latitude),pr(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=s1(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ip(e));default:return null}}convertTimestamp(e){const t=Jc(e);return new Pn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=jn.fromString(e);_n(OB(r),9688,{name:e});const i=new kp(r.get(1),r.get(3)),s=new wt(r.popFirst(5));return i.isEqual(t)||Oa(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fre(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class sg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qh extends hL{constructor(e,t,r,i,s,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Q2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(qe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Qh._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Qh._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qh._jsonSchema={type:Nr("string",Qh._jsonSchemaVersion),bundleSource:Nr("string","DocumentSnapshot"),bundleName:Nr("string"),bundle:Nr("string")};class qg extends Qh{data(e={}){return super.data(e)}}class Jh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new sg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new qg(this._firestore,this._userDataWriter,r.key,r,new sg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new at(qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((u=>{const h=new qg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new sg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const h=new qg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new sg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,p=-1;return u.type!==0&&(d=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),u.type!==1&&(c=c.add(u.doc),p=c.indexOf(u.doc.key)),{type:dre(u.type),doc:h,oldIndex:d,newIndex:p}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(qe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=S2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dre(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt(61501,{type:n})}}Jh._jsonSchemaVersion="firestore/querySnapshot/1.0",Jh._jsonSchema={type:Nr("string",Jh._jsonSchemaVersion),bundleSource:Nr("string","QuerySnapshot"),bundleName:Nr("string"),bundle:Nr("string")};class pre extends hre{constructor(e){super(),this.firestore=e}convertBytes(e){return new vs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fr(this.firestore,null,t)}}function mre(n){n=yy(n,Rf);const e=yy(n.firestore,W2),t=rL(e),r=new pre(e);return are(n._query),Kne(t,n._query).then((i=>new Jh(e,r,n,i)))}function gre(n,e){const t=yy(n.firestore,W2),r=Yne(n),i=fre(n.converter,e);return yre(t,[tre(oL(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Sa.exists(!1))]).then((()=>r))}function yre(n,e){return(function(r,i){const s=new $c;return r.asyncQueue.enqueueAndForget((async()=>Mne(await Gne(r),i,s))),s.promise})(rL(n),e)}(function(e,t=!0){(function(i){xf=i})(CM),Rp(new cf("firestore",((r,{instanceIdentifier:i,options:s})=>{const c=r.getProvider("app").getImmediate(),u=new W2(new ZJ(r.getProvider("auth-internal")),new eee(c,r.getProvider("app-check-internal")),(function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new at(qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kp(d.options.projectId,p)})(c,i),c);return s={useFetchStreams:t,...s},u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),qc(qk,Gk,e),qc(qk,Gk,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL="firebasestorage.googleapis.com",pL="storageBucket",wre=120*1e3,bre=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends Au{constructor(e,t,r=0){super(S_(e),`Firebase Storage: ${t} (${S_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,cr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return S_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ar;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ar||(ar={}));function S_(n){return"storage/"+n}function tA(){const n="An unknown error occurred, please check the error payload for server response.";return new cr(ar.UNKNOWN,n)}function vre(n){return new cr(ar.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function _re(n){return new cr(ar.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function xre(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new cr(ar.UNAUTHENTICATED,n)}function Ere(){return new cr(ar.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Are(n){return new cr(ar.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function Sre(){return new cr(ar.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Rre(){return new cr(ar.CANCELED,"User canceled the upload/download.")}function Tre(n){return new cr(ar.INVALID_URL,"Invalid URL '"+n+"'.")}function Nre(n){return new cr(ar.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Ire(){return new cr(ar.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+pL+"' property when initializing the app?")}function kre(){return new cr(ar.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Cre(){return new cr(ar.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Ore(n){return new cr(ar.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function rE(n){return new cr(ar.INVALID_ARGUMENT,n)}function mL(){return new cr(ar.APP_DELETED,"The Firebase app was deleted.")}function Mre(n){return new cr(ar.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hp(n,e){return new cr(ar.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function jd(n){throw new cr(ar.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=rs.makeFromUrl(e,t)}catch{return new rs(e,"")}if(r.path==="")return r;throw Nre(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const c="(/(.*))?$",u=new RegExp("^gs://"+i+c,"i"),h={bucket:1,path:3};function d(Q){Q.path_=decodeURIComponent(Q.path)}const p="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",y=new RegExp(`^https?://${v}/${p}/b/${i}/o${x}`,"i"),S={bucket:1,path:3},k=t===dL?"(?:storage.googleapis.com|storage.cloud.google.com)":t,I="([^?#]*)",M=new RegExp(`^https?://${k}/${i}/${I}`,"i"),O=[{regex:u,indices:h,postModify:s},{regex:y,indices:S,postModify:d},{regex:M,indices:{bucket:1,path:2},postModify:d}];for(let Q=0;Q<O.length;Q++){const oe=O[Q],ce=oe.regex.exec(e);if(ce){const W=ce[oe.indices.bucket];let K=ce[oe.indices.path];K||(K=""),r=new rs(W,K),oe.postModify(r);break}}if(r==null)throw Tre(e);return r}}class Bre{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lre(n,e,t){let r=1,i=null,s=null,c=!1,u=0;function h(){return u===2}let d=!1;function p(...I){d||(d=!0,e.apply(null,I))}function v(I){i=setTimeout(()=>{i=null,n(y,h())},I)}function x(){s&&clearTimeout(s)}function y(I,...M){if(d){x();return}if(I){x(),p.call(null,I,...M);return}if(h()||c){x(),p.call(null,I,...M);return}r<64&&(r*=2);let O;u===1?(u=2,O=0):O=(r+Math.random())*1e3,v(O)}let S=!1;function k(I){S||(S=!0,x(),!d&&(i!==null?(I||(u=2),clearTimeout(i),v(0)):I||(u=1)))}return v(0),s=setTimeout(()=>{c=!0,k(!0)},t),k}function Dre(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jre(n){return n!==void 0}function Pre(n){return typeof n=="object"&&!Array.isArray(n)}function nA(n){return typeof n=="string"||n instanceof String}function FC(n){return rA()&&n instanceof Blob}function rA(){return typeof Blob<"u"}function HC(n,e,t,r){if(r<e)throw rE(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw rE(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function gL(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var au;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(au||(au={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ure(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vre{constructor(e,t,r,i,s,c,u,h,d,p,v,x=!0,y=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=u,this.errorCallback_=h,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=v,this.retry=x,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,k)=>{this.resolve_=S,this.reject_=k,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new og(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const c=u=>{const h=u.loaded,d=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,d)};this.progressCallback_!==null&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const u=s.getErrorCode()===au.NO_ERROR,h=s.getStatus();if(!u||Ure(h,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===au.ABORT;r(!1,new og(!1,null,p));return}const d=this.successCodes_.indexOf(h)!==-1;r(!0,new og(d,s))})},t=(r,i)=>{const s=this.resolve_,c=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());jre(h)?s(h):s()}catch(h){c(h)}else if(u!==null){const h=tA();h.serverResponse=u.getErrorText(),this.errorCallback_?c(this.errorCallback_(u,h)):c(h)}else if(i.canceled){const h=this.appDelete_?mL():Rre();c(h)}else{const h=Sre();c(h)}};this.canceled_?t(!1,new og(!1,null,!0)):this.backoffId_=Lre(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Dre(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class og{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function zre(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function Fre(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Hre(n,e){e&&(n["X-Firebase-GMPID"]=e)}function qre(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Gre(n,e,t,r,i,s,c=!0,u=!1){const h=gL(n.urlParams),d=n.url+h,p=Object.assign({},n.headers);return Hre(p,e),zre(p,t),Fre(p,s),qre(p,r),new Vre(d,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,c,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $re(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Kre(...n){const e=$re();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(rA())return new Blob(n);throw new cr(ar.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Wre(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yre(n){if(typeof atob>"u")throw Ore("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class R_{constructor(e,t){this.data=e,this.contentType=t||null}}function Xre(n,e){switch(n){case Eo.RAW:return new R_(yL(e));case Eo.BASE64:case Eo.BASE64URL:return new R_(wL(n,e));case Eo.DATA_URL:return new R_(Qre(e),Jre(e))}throw tA()}function yL(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const s=r,c=n.charCodeAt(++t);r=65536|(s&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Zre(n){let e;try{e=decodeURIComponent(n)}catch{throw hp(Eo.DATA_URL,"Malformed data URL.")}return yL(e)}function wL(n,e){switch(n){case Eo.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw hp(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Eo.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw hp(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=Yre(e)}catch(i){throw i.message.includes("polyfill")?i:hp(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class bL{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw hp(Eo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=eie(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Qre(n){const e=new bL(n);return e.base64?wL(Eo.BASE64,e.rest):Zre(e.rest)}function Jre(n){return new bL(n).contentType}function eie(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t){let r=0,i="";FC(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(FC(this.data_)){const r=this.data_,i=Wre(r,e,t);return i===null?null:new Dc(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Dc(r,!0)}}static getBlob(...e){if(rA()){const t=e.map(r=>r instanceof Dc?r.data_:r);return new Dc(Kre.apply(null,t))}else{const t=e.map(c=>nA(c)?Xre(Eo.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(c=>{for(let u=0;u<c.length;u++)i[s++]=c[u]}),new Dc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(n){let e;try{e=JSON.parse(n)}catch{return null}return Pre(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tie(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function nie(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function _L(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rie(n,e){return e}class vi{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||rie}}let ag=null;function iie(n){return!nA(n)||n.length<2?n:_L(n)}function xL(){if(ag)return ag;const n=[];n.push(new vi("bucket")),n.push(new vi("generation")),n.push(new vi("metageneration")),n.push(new vi("name","fullPath",!0));function e(s,c){return iie(c)}const t=new vi("name");t.xform=e,n.push(t);function r(s,c){return c!==void 0?Number(c):c}const i=new vi("size");return i.xform=r,n.push(i),n.push(new vi("timeCreated")),n.push(new vi("updated")),n.push(new vi("md5Hash",null,!0)),n.push(new vi("cacheControl",null,!0)),n.push(new vi("contentDisposition",null,!0)),n.push(new vi("contentEncoding",null,!0)),n.push(new vi("contentLanguage",null,!0)),n.push(new vi("contentType",null,!0)),n.push(new vi("metadata","customMetadata",!0)),ag=n,ag}function sie(n,e){function t(){const r=n.bucket,i=n.fullPath,s=new rs(r,i);return e._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:t})}function oie(n,e,t){const r={};r.type="file";const i=t.length;for(let s=0;s<i;s++){const c=t[s];r[c.local]=c.xform(r,e[c.server])}return sie(r,n),r}function EL(n,e,t){const r=vL(e);return r===null?null:oie(n,r,t)}function aie(n,e,t,r){const i=vL(e);if(i===null||!nA(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const c=encodeURIComponent;return s.split(",").map(d=>{const p=n.bucket,v=n.fullPath,x="/b/"+c(p)+"/o/"+c(v),y=iA(x,t,r),S=gL({alt:"media",token:d});return y+S})[0]}function cie(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}class AL{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(n){if(!n)throw tA()}function lie(n,e){function t(r,i){const s=EL(n,i,e);return SL(s!==null),s}return t}function uie(n,e){function t(r,i){const s=EL(n,i,e);return SL(s!==null),aie(s,i,n.host,n._protocol)}return t}function RL(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=Ere():i=xre():t.getStatus()===402?i=_re(n.bucket):t.getStatus()===403?i=Are(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function hie(n){const e=RL(n);function t(r,i){let s=e(r,i);return r.getStatus()===404&&(s=vre(n.path)),s.serverResponse=i.serverResponse,s}return t}function fie(n,e,t){const r=e.fullServerUrl(),i=iA(r,n.host,n._protocol),s="GET",c=n.maxOperationRetryTime,u=new AL(i,s,uie(n,t),c);return u.errorHandler=hie(e),u}function die(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function pie(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=die(null,e)),r}function mie(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function u(){let O="";for(let Q=0;Q<2;Q++)O=O+Math.random().toString().slice(2);return O}const h=u();c["Content-Type"]="multipart/related; boundary="+h;const d=pie(e,r,i),p=cie(d,t),v="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+h+`\r
Content-Type: `+d.contentType+`\r
\r
`,x=`\r
--`+h+"--",y=Dc.getBlob(v,r,x);if(y===null)throw kre();const S={name:d.fullPath},k=iA(s,n.host,n._protocol),I="POST",M=n.maxUploadRetryTime,j=new AL(k,I,lie(n,t),M);return j.urlParams=S,j.headers=c,j.body=y.uploadData(),j.errorHandler=RL(e),j}class gie{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=au.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=au.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=au.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i,s){if(this.sent_)throw jd("cannot .send() more than once");if(Qp(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),s!==void 0)for(const c in s)s.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,s[c].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw jd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw jd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw jd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw jd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class yie extends gie{initXhr(){this.xhr_.responseType="text"}}function TL(){return new yie}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,t){this._service=e,t instanceof rs?this._location=t:this._location=rs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new mu(e,t)}get root(){const e=new rs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _L(this._location.path)}get storage(){return this._service}get parent(){const e=tie(this._location.path);if(e===null)return null;const t=new rs(this._location.bucket,e);return new mu(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Mre(e)}}function wie(n,e,t){n._throwIfRoot("uploadBytes");const r=mie(n.storage,n._location,xL(),new Dc(e,!0),t);return n.storage.makeRequestWithTokens(r,TL).then(i=>({metadata:i,ref:n}))}function bie(n){n._throwIfRoot("getDownloadURL");const e=fie(n.storage,n._location,xL());return n.storage.makeRequestWithTokens(e,TL).then(t=>{if(t===null)throw Cre();return t})}function vie(n,e){const t=nie(n._location.path,e),r=new rs(n._location.bucket,t);return new mu(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ie(n){return/^[A-Za-z]+:\/\//.test(n)}function xie(n,e){return new mu(n,e)}function NL(n,e){if(n instanceof sA){const t=n;if(t._bucket==null)throw Ire();const r=new mu(t,t._bucket);return e!=null?NL(r,e):r}else return e!==void 0?vie(n,e):n}function Eie(n,e){if(e&&_ie(e)){if(n instanceof sA)return xie(n,e);throw rE("To use ref(service, url), the first argument must be a Storage instance.")}else return NL(n,e)}function qC(n,e){const t=e==null?void 0:e[pL];return t==null?null:rs.makeFromBucketSpec(t,n)}function Aie(n,e,t,r={}){n.host=`${e}:${t}`;const i=Qp(e);i&&(xM(`https://${n.host}/b`),AM("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:EM(s,n.app.options.projectId))}class sA{constructor(e,t,r,i,s,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=c,this._bucket=null,this._host=dL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=wre,this._maxUploadRetryTime=bre,this._requests=new Set,i!=null?this._bucket=rs.makeFromBucketSpec(i,this._host):this._bucket=qC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rs.makeFromBucketSpec(this._url,e):this._bucket=qC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){HC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){HC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(kM(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new mu(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new Bre(mL());{const c=Gre(e,this._appId,r,i,t,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const GC="@firebase/storage",$C="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL="storage";function Sie(n,e,t){return n=Co(n),wie(n,e,t)}function Rie(n){return n=Co(n),bie(n)}function Tie(n,e){return n=Co(n),Eie(n,e)}function Nie(n=MM(),e){n=Co(n);const r=IM(n,IL).getImmediate({identifier:e}),i=vM("storage");return i&&Iie(r,...i),r}function Iie(n,e,t,r={}){Aie(n,e,t,r)}function kie(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new sA(t,r,i,e,CM)}function Cie(){Rp(new cf(IL,kie,"PUBLIC").setMultipleInstances(!0)),qc(GC,$C,""),qc(GC,$C,"esm2020")}Cie();var Oie="firebase",Mie="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qc(Oie,Mie,"app");const Bie={apiKey:"",authDomain:"trashmarket-gorbagana.firebaseapp.com",projectId:"trashmarket-gorbagana",storageBucket:"trashmarket-gorbagana.appspot.com",messagingSenderId:"",appId:""},kL=OM(Bie),CL=Xne(kL),Lie=Nie(kL);var OL=(n=>(n.PENDING="pending",n.APPROVED="approved",n.REJECTED="rejected",n))(OL||{});const ML="submissions",KC=3,Die=5*1024*1024,jie=["image/jpeg","image/png","image/gif","image/webp"],Pie=n=>{if(!jie.includes(n.type))throw new Error("Invalid file type. Only JPEG, PNG, GIF, and WebP images are allowed.");if(n.size>Die)throw new Error("File too large. Maximum size is 5MB.")},T_=async(n,e)=>{Pie(n);const t=Tie(Lie,`submissions/${e}`),r=await Sie(t,n);return await Rie(r.ref)},Uie=async(n,e,t,r)=>{try{const i=await BL(n.submittedBy);if(i>=KC)throw new Error(`Maximum ${KC} submissions allowed per wallet.`);let s="",c="";const u=[];if(e&&(s=await T_(e,`${n.submittedBy}/${n.name}/logo`)),t&&(c=await T_(t,`${n.submittedBy}/${n.name}/banner`)),r&&r.length>0)for(let p=0;p<r.length;p++){const v=await T_(r[p],`${n.submittedBy}/${n.name}/sample-${p}`);u.push(v)}const h={...n,logoUrl:s,bannerUrl:c,sampleImages:u,status:OL.PENDING,submittedAt:new Date().toISOString(),submissionCount:i+1};return(await gre(nL(CL,ML),{...h,submittedAt:Pn.now()})).id}catch(i){throw console.error("Error submitting collection:",i),i}},BL=async n=>{try{const e=lre(nL(CL,ML),ure("submittedBy","==",n));return(await mre(e)).size}catch(e){return console.error("Error getting submission count:",e),0}},WC={name:"",symbol:"",description:"",supply:1e3,mintPrice:.1,mintDate:"",logoFile:null,bannerFile:null,sampleFiles:[],contractAddress:"",royaltyPercentage:5,website:"",twitter:"",discord:"",telegram:"",teamInfo:"",roadmap:"",utility:"",contactEmail:""},Vie=()=>{const{connected:n,publicKey:e}=vf(),{setVisible:t}=fE(),{currency:r}=is(),[i,s]=ue.useState(1),[c,u]=ue.useState(WC),[h,d]=ue.useState(!1),[p,v]=ue.useState(null),[x,y]=ue.useState(null),[S,k]=ue.useState(null),[I,M]=ue.useState(!1),j=3,O=(e==null?void 0:e.toBase58())||null,Q=ue.useCallback(async()=>{if(O){M(!0);try{const B=await BL(O);k(B)}catch(B){console.error("Error loading submission count:",B)}finally{M(!1)}}},[O]);ue.useEffect(()=>{n&&O&&Q()},[n,O,Q]);const oe=B=>{u(U=>({...U,...B}))},ce=async()=>{n||t(!0)},W=async()=>{if(!n||!O){v("Please connect your wallet first.");return}d(!0),v(null);try{const B=await Uie({name:c.name,symbol:c.symbol,description:c.description,supply:c.supply,mintPrice:c.mintPrice,mintDate:c.mintDate,contractAddress:c.contractAddress,creatorWallet:O,submittedBy:O,royaltyPercentage:c.royaltyPercentage,website:c.website||void 0,twitter:c.twitter||void 0,discord:c.discord||void 0,telegram:c.telegram||void 0,teamInfo:c.teamInfo,roadmap:c.roadmap,utility:c.utility,contactEmail:c.contactEmail,logoUrl:"",bannerUrl:"",sampleImages:[]},c.logoFile||void 0,c.bannerFile||void 0,c.sampleFiles.length>0?c.sampleFiles:void 0);y(`Collection submitted successfully! ID: ${B}`),u(WC),s(1),await Q()}catch(B){console.error("Submission error:",B);const U=B instanceof Error?B.message:"Failed to submit collection.";v(U)}finally{d(!1)}},K=S!==null&&S>=j;return m.jsx("div",{className:"min-h-screen bg-black pt-12 pb-20",children:m.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[m.jsx(bx,{className:"w-6 h-6 text-magic-green"}),m.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white uppercase tracking-tighter",children:"SUBMIT_COLLECTION"})]}),m.jsx("p",{className:"text-gray-400 text-lg font-mono",children:"Submit your NFT collection for listing on Gorbagana marketplace"})]}),n?K?m.jsxs("div",{className:"bg-[#1c1c24] border border-magic-red p-8 text-center",children:[m.jsx(oW,{className:"w-12 h-12 text-magic-red mx-auto mb-4"}),m.jsx("h2",{className:"text-2xl font-bold text-magic-red mb-2 uppercase",children:"Submission Limit Reached"}),m.jsxs("p",{className:"text-gray-400 mb-2 font-mono",children:["You have reached the maximum of ",j," submissions per wallet."]}),m.jsx("p",{className:"text-gray-500 text-sm font-mono",children:"Contact the team for assistance with additional submissions."})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"mb-12",children:[m.jsx("div",{className:"flex items-center justify-between mb-4",children:[1,2,3,4].map(B=>m.jsxs("div",{className:`flex items-center ${B<4?"flex-1":""} ${B<4?"border-r border-white/20":""}`,children:[m.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm border-2 ${B<=i?"bg-magic-green text-black border-magic-green":"bg-transparent text-gray-600 border-gray-600"}`,children:B<i?m.jsx(cW,{className:"w-5 h-5"}):B}),m.jsx("div",{className:"ml-3 hidden sm:block",children:m.jsxs("div",{className:`text-sm font-bold uppercase ${B<=i?"text-white":"text-gray-600"}`,children:[B===1&&"Collection Info",B===2&&"Assets",B===3&&"Contract",B===4&&"Preview"]})})]},B))}),m.jsx("div",{className:"w-full bg-gray-800 h-1",children:m.jsx("div",{className:"bg-magic-green h-1 transition-all duration-500",style:{width:`${(i-1)/3*100}%`}})})]}),p&&m.jsxs("div",{className:"mb-6 p-4 bg-magic-red/10 border border-magic-red/30 text-magic-red font-mono",children:["[ERROR] ",p]}),x&&m.jsxs("div",{className:"mb-6 p-4 bg-magic-green/10 border border-magic-green/30 text-magic-green font-mono",children:["[SUCCESS] ",x]}),m.jsxs("div",{className:"bg-[#1c1c24] border border-white/20",children:[i===1&&m.jsx(zie,{data:c,updateData:oe,onNext:()=>s(2),onBack:()=>s(1),onSubmit:()=>{},isSubmitting:h}),i===2&&m.jsx(Fie,{data:c,updateData:oe,onNext:()=>s(3),onBack:()=>s(1),onSubmit:()=>{},isSubmitting:h}),i===3&&m.jsx(Hie,{data:c,updateData:oe,onNext:()=>s(4),onBack:()=>s(2),onSubmit:()=>{},isSubmitting:h}),i===4&&m.jsx(qie,{data:c,updateData:oe,onNext:()=>{},onBack:()=>s(3),onSubmit:W,isSubmitting:h})]})]}):m.jsxs("div",{className:"bg-[#1c1c24] border border-white/20 p-8 text-center",children:[m.jsx(R8,{className:"w-12 h-12 text-magic-green mx-auto mb-4"}),m.jsx("h2",{className:"text-2xl font-bold text-white mb-2 uppercase",children:"Wallet Required"}),m.jsx("p",{className:"text-gray-400 mb-6 font-mono",children:"Please connect your wallet to submit a collection."}),m.jsx("button",{onClick:ce,className:"bg-magic-green text-black px-8 py-3 font-bold uppercase tracking-widest hover:bg-black hover:text-magic-green border border-magic-green transition-all",children:"Connect Wallet"})]}),n&&S!==null&&!K&&m.jsx("div",{className:"mt-8 text-center",children:m.jsxs("p",{className:"text-gray-500 font-mono text-sm",children:["Submissions used: ",S,"/",j]})})]})})},zie=({data:n,updateData:e,onNext:t})=>{const r=n.name&&n.symbol&&n.description&&n.supply>0&&n.mintPrice>0;return m.jsxs("div",{className:"p-8",children:[m.jsx("h2",{className:"text-2xl font-bold text-white mb-6 uppercase",children:"Collection_Information"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2 uppercase tracking-wider",children:"Collection Name *"}),m.jsx("input",{type:"text",value:n.name,onChange:i=>e({name:i.target.value}),placeholder:"e.g., Cool NFT Collection",className:"w-full bg-black border border-white/20 p-3 text-white placeholder-gray-700 focus:outline-none focus:border-magic-green font-mono"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2 uppercase tracking-wider",children:"Symbol *"}),m.jsx("input",{type:"text",value:n.symbol,onChange:i=>e({symbol:i.target.value.toUpperCase()}),placeholder:"e.g., COOL",className:"w-full bg-black border border-white/20 p-3 text-white placeholder-gray-700 focus:outline-none focus:border-magic-green font-mono uppercase"})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2 uppercase tracking-wider",children:"Description *"}),m.jsx("textarea",{value:n.description,onChange:i=>e({description:i.target.value}),placeholder:"Describe your collection...",maxLength:500,rows:4,className:"w-full bg-black border border-white/20 p-3 text-white placeholder-gray-700 focus:outline-none focus:border-magic-green font-mono resize-none"}),m.jsxs("div",{className:"text-right text-xs text-gray-500 mt-1",children:[n.description.length,"/500"]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2 uppercase tracking-wider",children:"Total Supply *"}),m.jsx("input",{type:"number",value:n.supply,onChange:i=>e({supply:parseInt(i.target.value)||0}),placeholder:"1000",min:"1",className:"w-full bg-black border border-white/20 p-3 text-white placeholder-gray-700 focus:outline-none focus:border-magic-green font-mono"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2 uppercase tracking-wider",children:"Mint Price (in G) *"}),m.jsx("input",{type:"number",value:n.mintPrice,onChange:i=>e({mintPrice:parseFloat(i.target.value)||0}),placeholder:"0.1",min:"0",step:"0.01",className:"w-full bg-black border border-white/20 p-3 text-white placeholder-gray-700 focus:outline-none focus:border-magic-green font-mono"})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2 uppercase tracking-wider",children:"Mint Date & Time *"}),m.jsx("input",{type:"datetime-local",value:n.mintDate,onChange:i=>e({mintDate:i.target.value}),className:"w-full bg-black border border-white/20 p-3 text-white focus:outline-none focus:border-magic-green font-mono"})]})]}),m.jsx("div",{className:"flex justify-end mt-8",children:m.jsxs("button",{onClick:t,disabled:!r,className:`px-8 py-3 font-bold uppercase tracking-widest flex items-center gap-2 border transition-all ${r?"bg-magic-green text-black border-magic-green hover:bg-black hover:text-magic-green":"bg-gray-800 text-gray-600 border-gray-800 cursor-not-allowed"}`,children:["Next ",m.jsx(Xp,{className:"w-4 h-4"})]})})]})},Fie=({data:n,updateData:e,onNext:t,onBack:r})=>{const[i,s]=ue.useState(null),[c,u]=ue.useState(null),[h,d]=ue.useState([]),p=(y,S)=>{if(S){if(y==="logo"){const k=S[0];e({logoFile:k}),i&&URL.revokeObjectURL(i),s(URL.createObjectURL(k))}else if(y==="banner"){const k=S[0];e({bannerFile:k}),c&&URL.revokeObjectURL(c),u(URL.createObjectURL(k))}else if(y==="sample"){const k=Array.from(S).slice(0,5);e({sampleFiles:k}),h.forEach(I=>URL.revokeObjectURL(I)),d(k.map(I=>URL.createObjectURL(I)))}}},v=(y,S)=>{if(y==="logo")e({logoFile:null}),i&&(URL.revokeObjectURL(i),s(null));else if(y==="banner")e({bannerFile:null}),c&&(URL.revokeObjectURL(c),u(null));else if(y==="sample"&&S!==void 0){const k=n.sampleFiles.filter((I,M)=>M!==S);e({sampleFiles:k}),h[S]&&(URL.revokeObjectURL(h[S]),d(I=>I.filter((M,j)=>j!==S)))}};We.useEffect(()=>()=>{i&&URL.revokeObjectURL(i),c&&URL.revokeObjectURL(c),h.forEach(y=>URL.revokeObjectURL(y))},[i,c,h]);const x=n.logoFile&&n.bannerFile;return m.jsxs("div",{className:"p-8",children:[m.jsx("h2",{className:"text-2xl font-bold text-white mb-6 uppercase",children:"Visual_Assets"}),m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2 uppercase tracking-wider",children:"Collection Logo * (400x400px minimum)"}),m.jsx("div",{className:"border-2 border-dashed border-white/20 p-6",children:n.logoFile&&i?m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("img",{src:i,alt:"Logo",className:"w-16 h-16 object-cover border border-white/20"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-white font-mono",children:n.logoFile.name}),m.jsxs("p",{className:"text-gray-500 text-sm",children:[(n.logoFile.size/1024/1024).toFixed(2)," MB"]})]})]}),m.jsx("button",{onClick:()=>v("logo"),className:"text-magic-red hover:text-white",children:m.jsx(ou,{className:"w-5 h-5"})})]}):m.jsxs("label",{className:"cursor-pointer flex flex-col items-center gap-2",children:[m.jsx(F0,{className:"w-8 h-8 text-gray-600"}),m.jsx("span",{className:"text-gray-600 font-mono text-sm",children:"Click to upload logo"}),m.jsx("input",{type:"file",accept:"image/*",onChange:y=>p("logo",y.target.files),className:"hidden"})]})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2 uppercase tracking-wider",children:"Collection Banner * (1600x400px recommended)"}),m.jsx("div",{className:"border-2 border-dashed border-white/20 p-6",children:n.bannerFile&&c?m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("img",{src:c,alt:"Banner",className:"w-24 h-16 object-cover border border-white/20"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-white font-mono",children:n.bannerFile.name}),m.jsxs("p",{className:"text-gray-500 text-sm",children:[(n.bannerFile.size/1024/1024).toFixed(2)," MB"]})]})]}),m.jsx("button",{onClick:()=>v("banner"),className:"text-magic-red hover:text-white",children:m.jsx(ou,{className:"w-5 h-5"})})]}):m.jsxs("label",{className:"cursor-pointer flex flex-col items-center gap-2",children:[m.jsx(F0,{className:"w-8 h-8 text-gray-600"}),m.jsx("span",{className:"text-gray-600 font-mono text-sm",children:"Click to upload banner"}),m.jsx("input",{type:"file",accept:"image/*",onChange:y=>p("banner",y.target.files),className:"hidden"})]})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2 uppercase tracking-wider",children:"Sample NFTs (up to 5)"}),m.jsx("div",{className:"border-2 border-dashed border-white/20 p-6",children:n.sampleFiles.length>0?m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.sampleFiles.map((y,S)=>m.jsxs("div",{className:"relative",children:[h[S]&&m.jsx("img",{src:h[S],alt:`Sample ${S+1}`,className:"w-full h-24 object-cover border border-white/20"}),m.jsx("button",{onClick:()=>v("sample",S),className:"absolute -top-2 -right-2 bg-magic-red text-white rounded-full p-1",children:m.jsx(ou,{className:"w-3 h-3"})})]},S)),n.sampleFiles.length<5&&m.jsxs("label",{className:"cursor-pointer border border-white/20 border-dashed flex flex-col items-center justify-center h-24 hover:border-magic-green",children:[m.jsx(F0,{className:"w-4 h-4 text-gray-600"}),m.jsx("span",{className:"text-xs text-gray-600 mt-1",children:"Add more"}),m.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:y=>p("sample",y.target.files),className:"hidden"})]})]}):m.jsxs("label",{className:"cursor-pointer flex flex-col items-center gap-2",children:[m.jsx(F0,{className:"w-8 h-8 text-gray-600"}),m.jsx("span",{className:"text-gray-600 font-mono text-sm",children:"Click to upload sample NFTs"}),m.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:y=>p("sample",y.target.files),className:"hidden"})]})})]})]}),m.jsxs("div",{className:"flex justify-between mt-8",children:[m.jsxs("button",{onClick:r,className:"px-8 py-3 font-bold uppercase tracking-widest flex items-center gap-2 border border-white/20 text-gray-400 hover:text-white hover:bg-white/5 transition-all",children:[m.jsx(JE,{className:"w-4 h-4"})," Back"]}),m.jsxs("button",{onClick:t,disabled:!x,className:`px-8 py-3 font-bold uppercase tracking-widest flex items-center gap-2 border transition-all ${x?"bg-magic-green text-black border-magic-green hover:bg-black hover:text-magic-green":"bg-gray-800 text-gray-600 border-gray-800 cursor-not-allowed"}`,children:["Next ",m.jsx(Xp,{className:"w-4 h-4"})]})]})]})},Hie=({data:n,updateData:e,onNext:t,onBack:r})=>{const i=n.contractAddress&&n.royaltyPercentage>=0&&n.contactEmail;return m.jsxs("div",{className:"p-8",children:[m.jsx("h2",{className:"text-2xl font-bold text-white mb-6 uppercase",children:"Contract_&_Links"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2 uppercase tracking-wider",children:"Contract Address * (Gorbagana)"}),m.jsx("input",{type:"text",value:n.contractAddress,onChange:s=>e({contractAddress:s.target.value}),placeholder:"Gorbagana contract address...",className:"w-full bg-black border border-white/20 p-3 text-white placeholder-gray-700 focus:outline-none focus:border-magic-green font-mono"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2 uppercase tracking-wider",children:"Royalty Percentage *"}),m.jsx("input",{type:"number",value:n.royaltyPercentage,onChange:s=>e({royaltyPercentage:parseFloat(s.target.value)||0}),placeholder:"5",min:"0",max:"20",step:"0.5",className:"w-full bg-black border border-white/20 p-3 text-white placeholder-gray-700 focus:outline-none focus:border-magic-green font-mono"}),m.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Max 20%"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2 uppercase tracking-wider",children:"Website"}),m.jsx("input",{type:"url",value:n.website,onChange:s=>e({website:s.target.value}),placeholder:"https://your-website.com",className:"w-full bg-black border border-white/20 p-3 text-white placeholder-gray-700 focus:outline-none focus:border-magic-green font-mono"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2 uppercase tracking-wider",children:"Twitter/X"}),m.jsx("input",{type:"text",value:n.twitter,onChange:s=>e({twitter:s.target.value}),placeholder:"@your_handle",className:"w-full bg-black border border-white/20 p-3 text-white placeholder-gray-700 focus:outline-none focus:border-magic-green font-mono"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2 uppercase tracking-wider",children:"Discord"}),m.jsx("input",{type:"url",value:n.discord,onChange:s=>e({discord:s.target.value}),placeholder:"https://discord.gg/your-server",className:"w-full bg-black border border-white/20 p-3 text-white placeholder-gray-700 focus:outline-none focus:border-magic-green font-mono"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2 uppercase tracking-wider",children:"Telegram"}),m.jsx("input",{type:"url",value:n.telegram,onChange:s=>e({telegram:s.target.value}),placeholder:"https://t.me/your_group",className:"w-full bg-black border border-white/20 p-3 text-white placeholder-gray-700 focus:outline-none focus:border-magic-green font-mono"})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2 uppercase tracking-wider",children:"Contact Email *"}),m.jsx("input",{type:"email",value:n.contactEmail,onChange:s=>e({contactEmail:s.target.value}),placeholder:"contact@yourproject.com",className:"w-full bg-black border border-white/20 p-3 text-white placeholder-gray-700 focus:outline-none focus:border-magic-green font-mono"}),m.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"For submission updates and notifications"})]})]}),m.jsxs("div",{className:"flex justify-between mt-8",children:[m.jsxs("button",{onClick:r,className:"px-8 py-3 font-bold uppercase tracking-widest flex items-center gap-2 border border-white/20 text-gray-400 hover:text-white hover:bg-white/5 transition-all",children:[m.jsx(JE,{className:"w-4 h-4"})," Back"]}),m.jsxs("button",{onClick:t,disabled:!i,className:`px-8 py-3 font-bold uppercase tracking-widest flex items-center gap-2 border transition-all ${i?"bg-magic-green text-black border-magic-green hover:bg-black hover:text-magic-green":"bg-gray-800 text-gray-600 border-gray-800 cursor-not-allowed"}`,children:["Next ",m.jsx(Xp,{className:"w-4 h-4"})]})]})]})},qie=({data:n,updateData:e,onSubmit:t,onBack:r,isSubmitting:i})=>{const s=n.teamInfo&&n.roadmap&&n.utility&&n.contactEmail;return m.jsxs("div",{className:"p-8",children:[m.jsx("h2",{className:"text-2xl font-bold text-white mb-6 uppercase",children:"Project_Information"}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2 uppercase tracking-wider",children:"Team Information *"}),m.jsx("textarea",{value:n.teamInfo,onChange:c=>e({teamInfo:c.target.value}),placeholder:"Tell us about your team...",maxLength:1e3,rows:3,className:"w-full bg-black border border-white/20 p-3 text-white placeholder-gray-700 focus:outline-none focus:border-magic-green font-mono resize-none"}),m.jsxs("div",{className:"text-right text-xs text-gray-500 mt-1",children:[n.teamInfo.length,"/1000"]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2 uppercase tracking-wider",children:"Roadmap *"}),m.jsx("textarea",{value:n.roadmap,onChange:c=>e({roadmap:c.target.value}),placeholder:"What are your future plans?",maxLength:1e3,rows:3,className:"w-full bg-black border border-white/20 p-3 text-white placeholder-gray-700 focus:outline-none focus:border-magic-green font-mono resize-none"}),m.jsxs("div",{className:"text-right text-xs text-gray-500 mt-1",children:[n.roadmap.length,"/1000"]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2 uppercase tracking-wider",children:"Utility & Benefits *"}),m.jsx("textarea",{value:n.utility,onChange:c=>e({utility:c.target.value}),placeholder:"What does your NFT provide to holders?",maxLength:1e3,rows:3,className:"w-full bg-black border border-white/20 p-3 text-white placeholder-gray-700 focus:outline-none focus:border-magic-green font-mono resize-none"}),m.jsxs("div",{className:"text-right text-xs text-gray-500 mt-1",children:[n.utility.length,"/1000"]})]})]}),m.jsxs("div",{className:"mt-8 border-t border-white/20 pt-8",children:[m.jsx("h3",{className:"text-xl font-bold text-magic-green mb-4 uppercase",children:"Submission_Preview"}),m.jsxs("div",{className:"bg-black border border-white/10 p-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-400 uppercase tracking-wider",children:"Collection:"}),m.jsx("div",{className:"text-white font-mono",children:n.name})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-400 uppercase tracking-wider",children:"Symbol:"}),m.jsx("div",{className:"text-white font-mono",children:n.symbol})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-400 uppercase tracking-wider",children:"Supply:"}),m.jsx("div",{className:"text-white font-mono",children:n.supply.toLocaleString()})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-400 uppercase tracking-wider",children:"Mint Price:"}),m.jsxs("div",{className:"text-white font-mono",children:[n.mintPrice," G"]})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-400 uppercase tracking-wider",children:"Royalty:"}),m.jsxs("div",{className:"text-white font-mono",children:[n.royaltyPercentage,"%"]})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-400 uppercase tracking-wider",children:"Contract:"}),m.jsx("div",{className:"text-white font-mono text-xs",children:n.contractAddress?`${n.contractAddress.slice(0,8)}...${n.contractAddress.slice(-6)}`:"Not provided"})]})]}),n.description&&m.jsxs("div",{className:"mt-4",children:[m.jsx("span",{className:"text-gray-400 uppercase tracking-wider text-sm",children:"Description:"}),m.jsx("div",{className:"text-white text-sm mt-1",children:n.description})]})]})]}),m.jsxs("div",{className:"flex justify-between mt-8",children:[m.jsxs("button",{onClick:r,className:"px-8 py-3 font-bold uppercase tracking-widest flex items-center gap-2 border border-white/20 text-gray-400 hover:text-white hover:bg-white/5 transition-all",children:[m.jsx(JE,{className:"w-4 h-4"})," Back"]}),m.jsx("button",{onClick:t,disabled:!s||i,className:`px-8 py-3 font-bold uppercase tracking-widest flex items-center gap-2 border transition-all ${s&&!i?"bg-magic-green text-black border-magic-green hover:bg-black hover:text-magic-green":"bg-gray-800 text-gray-600 border-gray-800 cursor-not-allowed"}`,children:i?m.jsxs(m.Fragment,{children:[m.jsx(IW,{className:"w-4 h-4 animate-spin"})," Submitting..."]}):"Submit Collection"})]})]})},YC=n=>{let e;const t=new Set,r=(d,p)=>{const v=typeof d=="function"?d(e):d;if(!Object.is(v,e)){const x=e;e=p??(typeof v!="object"||v===null)?v:Object.assign({},e,v),t.forEach(y=>y(e,x))}},i=()=>e,u={setState:r,getState:i,getInitialState:()=>h,subscribe:d=>(t.add(d),()=>t.delete(d))},h=e=n(r,i,u);return u},Gie=(n=>n?YC(n):YC),$ie=n=>n;function Kie(n,e=$ie){const t=We.useSyncExternalStore(n.subscribe,We.useCallback(()=>e(n.getState()),[n,e]),We.useCallback(()=>e(n.getInitialState()),[n,e]));return We.useDebugValue(t),t}const Wie=n=>{const e=Gie(n),t=r=>Kie(e,r);return Object.assign(t,e),t},Yie=(n=>Wie),XC={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1},ZC=n=>!!n.dispatchFromDevtools&&typeof n.dispatch=="function",Bp=new Map,cg=n=>{const e=Bp.get(n);return e?Object.fromEntries(Object.entries(e.stores).map(([t,r])=>[t,r.getState()])):{}},Xie=(n,e,t)=>{if(n===void 0)return{type:"untracked",connection:e.connect(t)};const r=Bp.get(t.name);if(r)return{type:"tracked",store:n,...r};const i={connection:e.connect(t),stores:{}};return Bp.set(t.name,i),{type:"tracked",store:n,...i}},Zie=(n,e)=>{if(e===void 0)return;const t=Bp.get(n);t&&(delete t.stores[e],Object.keys(t.stores).length===0&&Bp.delete(n))},Qie=n=>{var e,t;if(!n)return;const r=n.split(`
`),i=r.findIndex(c=>c.includes("api.setState"));if(i<0)return;const s=((e=r[i+1])==null?void 0:e.trim())||"";return(t=/.+ (.+) .+/.exec(s))==null?void 0:t[1]},Jie=(n,e={})=>(t,r,i)=>{const{enabled:s,anonymousActionType:c,store:u,...h}=e;let d;try{d=(s??(XC?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!d)return n(t,r,i);const{connection:p,...v}=Xie(u,d,h);let x=!0;i.setState=((k,I,M)=>{const j=t(k,I);if(!x)return j;const O=M===void 0?{type:c||Qie(new Error().stack)||"anonymous"}:typeof M=="string"?{type:M}:M;return u===void 0?(p==null||p.send(O,r()),j):(p==null||p.send({...O,type:`${u}/${O.type}`},{...cg(h.name),[u]:i.getState()}),j)}),i.devtools={cleanup:()=>{p&&typeof p.unsubscribe=="function"&&p.unsubscribe(),Zie(h.name,u)}};const y=(...k)=>{const I=x;x=!1,t(...k),x=I},S=n(i.setState,r,i);if(v.type==="untracked"?p==null||p.init(S):(v.stores[v.store]=i,p==null||p.init(Object.fromEntries(Object.entries(v.stores).map(([k,I])=>[k,k===v.store?S:I.getState()])))),ZC(i)){let k=!1;const I=i.dispatch;i.dispatch=(...M)=>{(XC?"production":void 0)!=="production"&&M[0].type==="__setState"&&!k&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),k=!0),I(...M)}}return p.subscribe(k=>{var I;switch(k.type){case"ACTION":if(typeof k.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return N_(k.payload,M=>{if(M.type==="__setState"){if(u===void 0){y(M.state);return}Object.keys(M.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const j=M.state[u];if(j==null)return;JSON.stringify(i.getState())!==JSON.stringify(j)&&y(j);return}ZC(i)&&i.dispatch(M)});case"DISPATCH":switch(k.payload.type){case"RESET":return y(S),u===void 0?p==null?void 0:p.init(i.getState()):p==null?void 0:p.init(cg(h.name));case"COMMIT":if(u===void 0){p==null||p.init(i.getState());return}return p==null?void 0:p.init(cg(h.name));case"ROLLBACK":return N_(k.state,M=>{if(u===void 0){y(M),p==null||p.init(i.getState());return}y(M[u]),p==null||p.init(cg(h.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return N_(k.state,M=>{if(u===void 0){y(M);return}JSON.stringify(i.getState())!==JSON.stringify(M[u])&&y(M[u])});case"IMPORT_STATE":{const{nextLiftedState:M}=k.payload,j=(I=M.computedStates.slice(-1)[0])==null?void 0:I.state;if(!j)return;y(u===void 0?j:j[u]),p==null||p.send(null,M);return}case"PAUSE_RECORDING":return x=!x}return}}),S},ese=Jie,N_=(n,e)=>{let t;try{t=JSON.parse(n)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}t!==void 0&&e(t)};function tse(n,e){let t;try{t=n()}catch{return}return{getItem:i=>{var s;const c=h=>h===null?null:JSON.parse(h,void 0),u=(s=t.getItem(i))!=null?s:null;return u instanceof Promise?u.then(c):c(u)},setItem:(i,s)=>t.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>t.removeItem(i)}}const iE=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(r){return iE(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return iE(r)(t)}}}},nse=(n,e)=>(t,r,i)=>{let s={storage:tse(()=>window.localStorage),partialize:I=>I,version:0,merge:(I,M)=>({...M,...I}),...e},c=!1,u=0;const h=new Set,d=new Set;let p=s.storage;if(!p)return n((...I)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),t(...I)},r,i);const v=()=>{const I=s.partialize({...r()});return p.setItem(s.name,{state:I,version:s.version})},x=i.setState;i.setState=(I,M)=>(x(I,M),v());const y=n((...I)=>(t(...I),v()),r,i);i.getInitialState=()=>y;let S;const k=()=>{var I,M;if(!p)return;const j=++u;c=!1,h.forEach(Q=>{var oe;return Q((oe=r())!=null?oe:y)});const O=((M=s.onRehydrateStorage)==null?void 0:M.call(s,(I=r())!=null?I:y))||void 0;return iE(p.getItem.bind(p))(s.name).then(Q=>{if(Q)if(typeof Q.version=="number"&&Q.version!==s.version){if(s.migrate){const oe=s.migrate(Q.state,Q.version);return oe instanceof Promise?oe.then(ce=>[!0,ce]):[!0,oe]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,Q.state];return[!1,void 0]}).then(Q=>{var oe;if(j!==u)return;const[ce,W]=Q;if(S=s.merge(W,(oe=r())!=null?oe:y),t(S,!0),ce)return v()}).then(()=>{j===u&&(O==null||O(S,void 0),S=r(),c=!0,d.forEach(Q=>Q(S)))}).catch(Q=>{j===u&&(O==null||O(void 0,Q))})};return i.persist={setOptions:I=>{s={...s,...I},I.storage&&(p=I.storage)},clearStorage:()=>{p==null||p.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>k(),hasHydrated:()=>c,onHydrate:I=>(h.add(I),()=>{h.delete(I)}),onFinishHydration:I=>(d.add(I),()=>{d.delete(I)})},s.skipHydration||k(),S||y},rse=nse,ise=Yie()(ese(rse((n,e)=>({currentNetwork:"GORBAGANA",setNetwork:t=>n({currentNetwork:t},!1,"setNetwork"),isGorbagana:()=>e().currentNetwork==="GORBAGANA",isSolana:()=>e().currentNetwork==="SOLANA_MAINNET"||e().currentNetwork==="SOLANA_DEVNET",isDevnet:()=>e().currentNetwork==="SOLANA_DEVNET",gorbaganaConnected:!1,gorbaganaAddress:null,gorbaganaBalance:null,tokenBalances:[],setGorbaganaWallet:(t,r,i)=>n({gorbaganaConnected:t,gorbaganaAddress:r,gorbaganaBalance:i},!1,"setGorbaganaWallet"),setTokenBalances:t=>n({tokenBalances:t},!1,"setTokenBalances"),clearWallet:()=>n({gorbaganaConnected:!1,gorbaganaAddress:null,gorbaganaBalance:null,tokenBalances:[]},!1,"clearWallet"),notifications:[],addNotification:t=>{const r=`${Date.now()}-${Math.random().toString(36).slice(2,9)}`,i={...t,id:r,timestamp:Date.now()};n(s=>({notifications:[...s.notifications.slice(-9),i]}),!1,"addNotification"),setTimeout(()=>{n(s=>({notifications:s.notifications.filter(c=>c.id!==r)}),!1,"autoRemoveNotification")},8e3)},removeNotification:t=>n(r=>({notifications:r.notifications.filter(i=>i.id!==t)}),!1,"removeNotification"),clearNotifications:()=>n({notifications:[]},!1,"clearNotifications"),isGlobalLoading:!1,globalLoadingMessage:null,setGlobalLoading:(t,r)=>n({isGlobalLoading:t,globalLoadingMessage:r||null},!1,"setGlobalLoading"),activeListingsCount:0,setActiveListingsCount:t=>n({activeListingsCount:t},!1,"setActiveListingsCount"),lastRefresh:null,setLastRefresh:t=>n({lastRefresh:t},!1,"setLastRefresh")}),{name:"trashmarket-store",partialize:n=>({currentNetwork:n.currentNetwork})}),{name:"TrashmarketStore"})),sse=()=>ise(n=>({notifications:n.notifications,addNotification:n.addNotification,removeNotification:n.removeNotification,clearNotifications:n.clearNotifications})),ose={success:m.jsx(uW,{className:"w-5 h-5 text-magic-green flex-shrink-0"}),error:m.jsx(fW,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),warning:m.jsx(_p,{className:"w-5 h-5 text-yellow-500 flex-shrink-0"}),info:m.jsx(A8,{className:"w-5 h-5 text-blue-400 flex-shrink-0"})},ase={success:"border-magic-green/30",error:"border-red-500/30",warning:"border-yellow-500/30",info:"border-blue-400/30"},cse=()=>{const{notifications:n,removeNotification:e}=sse();return n.length===0?null:m.jsx("div",{className:"fixed bottom-4 right-4 z-[9999] flex flex-col gap-2 max-w-sm w-full pointer-events-none",children:n.map(t=>m.jsx("div",{className:`pointer-events-auto bg-black/95 border ${ase[t.type]} backdrop-blur-sm p-4 shadow-lg animate-in slide-in-from-right duration-300`,children:m.jsxs("div",{className:"flex items-start gap-3",children:[ose[t.type],m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-white text-sm font-bold uppercase tracking-wider",children:t.title}),m.jsx("p",{className:"text-gray-400 text-xs mt-1 break-words",children:t.message}),t.txSignature&&m.jsxs("a",{href:`https://trashscan.io/tx/${t.txSignature}`,target:"_blank",rel:"noopener noreferrer",className:"text-magic-green text-[10px] font-mono mt-1 hover:underline block",children:["View TX: ",t.txSignature.slice(0,12),"..."]})]}),m.jsx("button",{onClick:()=>e(t.id),className:"text-gray-600 hover:text-white transition-colors flex-shrink-0",children:m.jsx(ou,{className:"w-4 h-4"})})]})},t.id))})},lse=()=>{const n=ue.useMemo(()=>[],[]);return m.jsx(Dq,{children:m.jsx(jq,{children:m.jsx(UK,{wallets:n,children:m.jsx(Mq,{children:m.jsx(qP,{children:m.jsxs("div",{className:"flex flex-col min-h-screen bg-magic-dark text-white font-mono antialiased selection:bg-magic-green selection:text-black",children:[m.jsx(mY,{}),m.jsx(vY,{}),m.jsx("main",{className:"flex-grow",children:m.jsxs(_P,{children:[m.jsx(co,{path:"/",element:m.jsx(kY,{})}),m.jsx(co,{path:"/collection/:id",element:m.jsx(MY,{})}),m.jsx(co,{path:"/gorid",element:m.jsx(ZZ,{})}),m.jsx(co,{path:"/docs",element:m.jsx(DY,{})}),m.jsx(co,{path:"/bridge",element:m.jsx(oQ,{})}),m.jsx(co,{path:"/junk-pusher",element:m.jsx(hQ,{})}),m.jsx(co,{path:"/dex",element:m.jsx(gQ,{})}),m.jsx(co,{path:"/vanity",element:m.jsx(bQ,{})}),m.jsx(co,{path:"/submit",element:m.jsx(Vie,{})})]})}),m.jsx(_Y,{}),m.jsx(xY,{}),m.jsx(cse,{})]})})})})})})},LL=document.getElementById("root");if(!LL)throw new Error("Could not find root element to mount to");const use=Tj.createRoot(LL);use.render(m.jsx(We.StrictMode,{children:m.jsx(lse,{})}));export{xt as B,Gy as C,Xc as G,pe as L,xe as P,zn as S,Lc as T,Ose as a,u2 as b,Bse as c,Lse as d,Mse as e,Pq as f,js as g,Rn as h,Ld as i,m as j,vf as k,qE as l,Qt as m,Cr as p,ue as r,ip as u};
