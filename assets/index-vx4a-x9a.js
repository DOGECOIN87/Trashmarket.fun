var S8=Object.defineProperty;var T8=(n,e,t)=>e in n?S8(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Wn=(n,e,t)=>T8(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function ss(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Y1(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var kg={exports:{}},Yu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tA;function R8(){if(tA)return Yu;tA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var c in i)c!=="key"&&(o[c]=i[c])}else o=i;return i=o.ref,{$$typeof:n,type:r,key:l,ref:i!==void 0?i:null,props:o}}return Yu.Fragment=e,Yu.jsx=t,Yu.jsxs=t,Yu}var nA;function N8(){return nA||(nA=1,kg.exports=R8()),kg.exports}var x=N8(),Mg={exports:{}};function C8(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var SN={exports:{}},zn=SN.exports={},Ji,Zi;function Uw(){throw new Error("setTimeout has not been defined")}function Dw(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Ji=setTimeout:Ji=Uw}catch{Ji=Uw}try{typeof clearTimeout=="function"?Zi=clearTimeout:Zi=Dw}catch{Zi=Dw}})();function TN(n){if(Ji===setTimeout)return setTimeout(n,0);if((Ji===Uw||!Ji)&&setTimeout)return Ji=setTimeout,setTimeout(n,0);try{return Ji(n,0)}catch{try{return Ji.call(null,n,0)}catch{return Ji.call(this,n,0)}}}function I8(n){if(Zi===clearTimeout)return clearTimeout(n);if((Zi===Dw||!Zi)&&clearTimeout)return Zi=clearTimeout,clearTimeout(n);try{return Zi(n)}catch{try{return Zi.call(null,n)}catch{return Zi.call(this,n)}}}var Yo=[],Ic=!1,Ga,Gh=-1;function k8(){!Ic||!Ga||(Ic=!1,Ga.length?Yo=Ga.concat(Yo):Gh=-1,Yo.length&&RN())}function RN(){if(!Ic){var n=TN(k8);Ic=!0;for(var e=Yo.length;e;){for(Ga=Yo,Yo=[];++Gh<e;)Ga&&Ga[Gh].run();Gh=-1,e=Yo.length}Ga=null,Ic=!1,I8(n)}}zn.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Yo.push(new NN(n,e)),Yo.length===1&&!Ic&&TN(RN)};function NN(n,e){this.fun=n,this.array=e}NN.prototype.run=function(){this.fun.apply(null,this.array)};zn.title="browser";zn.browser=!0;zn.env={};zn.argv=[];zn.version="";zn.versions={};function as(){}zn.on=as;zn.addListener=as;zn.once=as;zn.off=as;zn.removeListener=as;zn.removeAllListeners=as;zn.emit=as;zn.prependListener=as;zn.prependOnceListener=as;zn.listeners=function(n){return[]};zn.binding=function(n){throw new Error("process.binding is not supported")};zn.cwd=function(){return"/"};zn.chdir=function(n){throw new Error("process.chdir is not supported")};zn.umask=function(){return 0};var M8=SN.exports;const kc=C8(M8);var vt={},rA;function O8(){if(rA)return vt;rA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),E=Symbol.iterator;function v(A){return A===null||typeof A!="object"?null:(A=E&&A[E]||A["@@iterator"],typeof A=="function"?A:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,I={};function L(A,y,R){this.props=A,this.context=y,this.refs=I,this.updater=R||N}L.prototype.isReactComponent={},L.prototype.setState=function(A,y){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,y,"setState")},L.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function F(){}F.prototype=L.prototype;function M(A,y,R){this.props=A,this.context=y,this.refs=I,this.updater=R||N}var Y=M.prototype=new F;Y.constructor=M,k(Y,L.prototype),Y.isPureReactComponent=!0;var ie=Array.isArray;function se(){}var re={H:null,A:null,T:null,S:null},ae=Object.prototype.hasOwnProperty;function J(A,y,R){var G=R.ref;return{$$typeof:n,type:A,key:y,ref:G!==void 0?G:null,props:R}}function Q(A,y){return J(A.type,y,A.props)}function Z(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function W(A){var y={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(R){return y[R]})}var O=/\/+/g;function g(A,y){return typeof A=="object"&&A!==null&&A.key!=null?W(""+A.key):y.toString(36)}function T(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(se,se):(A.status="pending",A.then(function(y){A.status==="pending"&&(A.status="fulfilled",A.value=y)},function(y){A.status==="pending"&&(A.status="rejected",A.reason=y)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function C(A,y,R,G,X){var ue=typeof A;(ue==="undefined"||ue==="boolean")&&(A=null);var be=!1;if(A===null)be=!0;else switch(ue){case"bigint":case"string":case"number":be=!0;break;case"object":switch(A.$$typeof){case n:case e:be=!0;break;case h:return be=A._init,C(be(A._payload),y,R,G,X)}}if(be)return X=X(A),be=G===""?"."+g(A,0):G,ie(X)?(R="",be!=null&&(R=be.replace(O,"$&/")+"/"),C(X,y,R,"",function(ct){return ct})):X!=null&&(Z(X)&&(X=Q(X,R+(X.key==null||A&&A.key===X.key?"":(""+X.key).replace(O,"$&/")+"/")+be)),y.push(X)),1;be=0;var De=G===""?".":G+":";if(ie(A))for(var Ue=0;Ue<A.length;Ue++)G=A[Ue],ue=De+g(G,Ue),be+=C(G,y,R,ue,X);else if(Ue=v(A),typeof Ue=="function")for(A=Ue.call(A),Ue=0;!(G=A.next()).done;)G=G.value,ue=De+g(G,Ue++),be+=C(G,y,R,ue,X);else if(ue==="object"){if(typeof A.then=="function")return C(T(A),y,R,G,X);throw y=String(A),Error("Objects are not valid as a React child (found: "+(y==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":y)+"). If you meant to render a collection of children, use an array instead.")}return be}function q(A,y,R){if(A==null)return A;var G=[],X=0;return C(A,G,"","",function(ue){return y.call(R,ue,X++)}),G}function j(A){if(A._status===-1){var y=A._result;y=y(),y.then(function(R){(A._status===0||A._status===-1)&&(A._status=1,A._result=R)},function(R){(A._status===0||A._status===-1)&&(A._status=2,A._result=R)}),A._status===-1&&(A._status=0,A._result=y)}if(A._status===1)return A._result.default;throw A._result}var K=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(y))return}else if(typeof kc=="object"&&typeof kc.emit=="function"){kc.emit("uncaughtException",A);return}console.error(A)},B={map:q,forEach:function(A,y,R){q(A,function(){y.apply(this,arguments)},R)},count:function(A){var y=0;return q(A,function(){y++}),y},toArray:function(A){return q(A,function(y){return y})||[]},only:function(A){if(!Z(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return vt.Activity=b,vt.Children=B,vt.Component=L,vt.Fragment=t,vt.Profiler=i,vt.PureComponent=M,vt.StrictMode=r,vt.Suspense=f,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,vt.__COMPILER_RUNTIME={__proto__:null,c:function(A){return re.H.useMemoCache(A)}},vt.cache=function(A){return function(){return A.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(A,y,R){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var G=k({},A.props),X=A.key;if(y!=null)for(ue in y.key!==void 0&&(X=""+y.key),y)!ae.call(y,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&y.ref===void 0||(G[ue]=y[ue]);var ue=arguments.length-2;if(ue===1)G.children=R;else if(1<ue){for(var be=Array(ue),De=0;De<ue;De++)be[De]=arguments[De+2];G.children=be}return J(A.type,X,G)},vt.createContext=function(A){return A={$$typeof:l,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:o,_context:A},A},vt.createElement=function(A,y,R){var G,X={},ue=null;if(y!=null)for(G in y.key!==void 0&&(ue=""+y.key),y)ae.call(y,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(X[G]=y[G]);var be=arguments.length-2;if(be===1)X.children=R;else if(1<be){for(var De=Array(be),Ue=0;Ue<be;Ue++)De[Ue]=arguments[Ue+2];X.children=De}if(A&&A.defaultProps)for(G in be=A.defaultProps,be)X[G]===void 0&&(X[G]=be[G]);return J(A,ue,X)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(A){return{$$typeof:c,render:A}},vt.isValidElement=Z,vt.lazy=function(A){return{$$typeof:h,_payload:{_status:-1,_result:A},_init:j}},vt.memo=function(A,y){return{$$typeof:d,type:A,compare:y===void 0?null:y}},vt.startTransition=function(A){var y=re.T,R={};re.T=R;try{var G=A(),X=re.S;X!==null&&X(R,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(se,K)}catch(ue){K(ue)}finally{y!==null&&R.types!==null&&(y.types=R.types),re.T=y}},vt.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},vt.use=function(A){return re.H.use(A)},vt.useActionState=function(A,y,R){return re.H.useActionState(A,y,R)},vt.useCallback=function(A,y){return re.H.useCallback(A,y)},vt.useContext=function(A){return re.H.useContext(A)},vt.useDebugValue=function(){},vt.useDeferredValue=function(A,y){return re.H.useDeferredValue(A,y)},vt.useEffect=function(A,y){return re.H.useEffect(A,y)},vt.useEffectEvent=function(A){return re.H.useEffectEvent(A)},vt.useId=function(){return re.H.useId()},vt.useImperativeHandle=function(A,y,R){return re.H.useImperativeHandle(A,y,R)},vt.useInsertionEffect=function(A,y){return re.H.useInsertionEffect(A,y)},vt.useLayoutEffect=function(A,y){return re.H.useLayoutEffect(A,y)},vt.useMemo=function(A,y){return re.H.useMemo(A,y)},vt.useOptimistic=function(A,y){return re.H.useOptimistic(A,y)},vt.useReducer=function(A,y,R){return re.H.useReducer(A,y,R)},vt.useRef=function(A){return re.H.useRef(A)},vt.useState=function(A){return re.H.useState(A)},vt.useSyncExternalStore=function(A,y,R){return re.H.useSyncExternalStore(A,y,R)},vt.useTransition=function(){return re.H.useTransition()},vt.version="19.2.4",vt}var iA;function J1(){return iA||(iA=1,Mg.exports=O8()),Mg.exports}var fe=J1();const qe=ss(fe);var Og={exports:{}},Ju={},Bg={exports:{}},Lg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oA;function B8(){return oA||(oA=1,(function(n){function e(C,q){var j=C.length;C.push(q);e:for(;0<j;){var K=j-1>>>1,B=C[K];if(0<i(B,q))C[K]=q,C[j]=B,j=K;else break e}}function t(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var q=C[0],j=C.pop();if(j!==q){C[0]=j;e:for(var K=0,B=C.length,A=B>>>1;K<A;){var y=2*(K+1)-1,R=C[y],G=y+1,X=C[G];if(0>i(R,j))G<B&&0>i(X,R)?(C[K]=X,C[G]=j,K=G):(C[K]=R,C[y]=j,K=y);else if(G<B&&0>i(X,j))C[K]=X,C[G]=j,K=G;else break e}}return q}function i(C,q){var j=C.sortIndex-q.sortIndex;return j!==0?j:C.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],d=[],h=1,b=null,E=3,v=!1,N=!1,k=!1,I=!1,L=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function Y(C){for(var q=t(d);q!==null;){if(q.callback===null)r(d);else if(q.startTime<=C)r(d),q.sortIndex=q.expirationTime,e(f,q);else break;q=t(d)}}function ie(C){if(k=!1,Y(C),!N)if(t(f)!==null)N=!0,se||(se=!0,W());else{var q=t(d);q!==null&&T(ie,q.startTime-C)}}var se=!1,re=-1,ae=5,J=-1;function Q(){return I?!0:!(n.unstable_now()-J<ae)}function Z(){if(I=!1,se){var C=n.unstable_now();J=C;var q=!0;try{e:{N=!1,k&&(k=!1,F(re),re=-1),v=!0;var j=E;try{t:{for(Y(C),b=t(f);b!==null&&!(b.expirationTime>C&&Q());){var K=b.callback;if(typeof K=="function"){b.callback=null,E=b.priorityLevel;var B=K(b.expirationTime<=C);if(C=n.unstable_now(),typeof B=="function"){b.callback=B,Y(C),q=!0;break t}b===t(f)&&r(f),Y(C)}else r(f);b=t(f)}if(b!==null)q=!0;else{var A=t(d);A!==null&&T(ie,A.startTime-C),q=!1}}break e}finally{b=null,E=j,v=!1}q=void 0}}finally{q?W():se=!1}}}var W;if(typeof M=="function")W=function(){M(Z)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,g=O.port2;O.port1.onmessage=Z,W=function(){g.postMessage(null)}}else W=function(){L(Z,0)};function T(C,q){re=L(function(){C(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(C){C.callback=null},n.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<C?Math.floor(1e3/C):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(C){switch(E){case 1:case 2:case 3:var q=3;break;default:q=E}var j=E;E=q;try{return C()}finally{E=j}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(C,q){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var j=E;E=C;try{return q()}finally{E=j}},n.unstable_scheduleCallback=function(C,q,j){var K=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?K+j:K):j=K,C){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=j+B,C={id:h++,callback:q,priorityLevel:C,startTime:j,expirationTime:B,sortIndex:-1},j>K?(C.sortIndex=j,e(d,C),t(f)===null&&C===t(d)&&(k?(F(re),re=-1):k=!0,T(ie,j-K))):(C.sortIndex=B,e(f,C),N||v||(N=!0,se||(se=!0,W()))),C},n.unstable_shouldYield=Q,n.unstable_wrapCallback=function(C){var q=E;return function(){var j=E;E=q;try{return C.apply(this,arguments)}finally{E=j}}}})(Lg)),Lg}var sA;function L8(){return sA||(sA=1,Bg.exports=B8()),Bg.exports}var Ug={exports:{}},yr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aA;function U8(){if(aA)return yr;aA=1;var n=J1();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,d,h){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:b==null?null:""+b,children:f,containerInfo:d,implementation:h}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return yr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,yr.createPortal=function(f,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,h)},yr.flushSync=function(f){var d=l.T,h=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=d,r.p=h,r.d.f()}},yr.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},yr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},yr.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var h=d.as,b=c(h,d.crossOrigin),E=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:v}):h==="script"&&r.d.X(f,{crossOrigin:b,integrity:E,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},yr.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},yr.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,b=c(h,d.crossOrigin);r.d.L(f,h,{crossOrigin:b,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},yr.preloadModule=function(f,d){if(typeof f=="string")if(d){var h=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},yr.requestFormReset=function(f){r.d.r(f)},yr.unstable_batchedUpdates=function(f,d){return f(d)},yr.useFormState=function(f,d,h){return l.H.useFormState(f,d,h)},yr.useFormStatus=function(){return l.H.useHostTransitionStatus()},yr.version="19.2.4",yr}var lA;function CN(){if(lA)return Ug.exports;lA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ug.exports=U8(),Ug.exports}var cA;function D8(){if(cA)return Ju;cA=1;var n=L8(),e=J1(),t=CN();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function c(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(r(188))}function d(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(r(188));return a!==s?null:s}for(var u=s,p=a;;){var _=u.return;if(_===null)break;var S=_.alternate;if(S===null){if(p=_.return,p!==null){u=p;continue}break}if(_.child===S.child){for(S=_.child;S;){if(S===u)return f(_),s;if(S===p)return f(_),a;S=S.sibling}throw Error(r(188))}if(u.return!==p.return)u=_,p=S;else{for(var V=!1,oe=_.child;oe;){if(oe===u){V=!0,u=_,p=S;break}if(oe===p){V=!0,p=_,u=S;break}oe=oe.sibling}if(!V){for(oe=S.child;oe;){if(oe===u){V=!0,u=S,p=_;break}if(oe===p){V=!0,p=S,u=_;break}oe=oe.sibling}if(!V)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:a}function h(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=h(s),a!==null)return a;s=s.sibling}return null}var b=Object.assign,E=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),M=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function W(s){return s===null||typeof s!="object"?null:(s=Z&&s[Z]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function g(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case L:return"Profiler";case I:return"StrictMode";case ie:return"Suspense";case se:return"SuspenseList";case J:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case N:return"Portal";case M:return s.displayName||"Context";case F:return(s._context.displayName||"Context")+".Consumer";case Y:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case re:return a=s.displayName||null,a!==null?a:g(s.type)||"Memo";case ae:a=s._payload,s=s._init;try{return g(s(a))}catch{}}return null}var T=Array.isArray,C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},K=[],B=-1;function A(s){return{current:s}}function y(s){0>B||(s.current=K[B],K[B]=null,B--)}function R(s,a){B++,K[B]=s.current,s.current=a}var G=A(null),X=A(null),ue=A(null),be=A(null);function De(s,a){switch(R(ue,a),R(X,s),R(G,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?Ax(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=Ax(a),s=Sx(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}y(G),R(G,s)}function Ue(){y(G),y(X),y(ue)}function ct(s){s.memoizedState!==null&&R(be,s);var a=G.current,u=Sx(a,s.type);a!==u&&(R(X,s),R(G,u))}function ot(s){X.current===s&&(y(G),y(X)),be.current===s&&(y(be),Ku._currentValue=j)}var Rt,lr;function _t(s){if(Rt===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);Rt=a&&a[1]||"",lr=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rt+s+lr}var Ht=!1;function U(s,a){if(!s||Ht)return"";Ht=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(a){var Fe=function(){throw Error()};if(Object.defineProperty(Fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Fe,[])}catch(Me){var Ce=Me}Reflect.construct(s,[],Fe)}else{try{Fe.call()}catch(Me){Ce=Me}s.call(Fe.prototype)}}else{try{throw Error()}catch(Me){Ce=Me}(Fe=s())&&typeof Fe.catch=="function"&&Fe.catch(function(){})}}catch(Me){if(Me&&Ce&&typeof Me.stack=="string")return[Me.stack,Ce.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=p.DetermineComponentFrameRoot(),V=S[0],oe=S[1];if(V&&oe){var he=V.split(`
`),Re=oe.split(`
`);for(_=p=0;p<he.length&&!he[p].includes("DetermineComponentFrameRoot");)p++;for(;_<Re.length&&!Re[_].includes("DetermineComponentFrameRoot");)_++;if(p===he.length||_===Re.length)for(p=he.length-1,_=Re.length-1;1<=p&&0<=_&&he[p]!==Re[_];)_--;for(;1<=p&&0<=_;p--,_--)if(he[p]!==Re[_]){if(p!==1||_!==1)do if(p--,_--,0>_||he[p]!==Re[_]){var Be=`
`+he[p].replace(" at new "," at ");return s.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",s.displayName)),Be}while(1<=p&&0<=_);break}}}finally{Ht=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?_t(u):""}function $(s,a){switch(s.tag){case 26:case 27:case 5:return _t(s.type);case 16:return _t("Lazy");case 13:return s.child!==a&&a!==null?_t("Suspense Fallback"):_t("Suspense");case 19:return _t("SuspenseList");case 0:case 15:return U(s.type,!1);case 11:return U(s.type.render,!1);case 1:return U(s.type,!0);case 31:return _t("Activity");default:return""}}function ee(s){try{var a="",u=null;do a+=$(s,u),u=s,s=s.return;while(s);return a}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var me=Object.prototype.hasOwnProperty,ye=n.unstable_scheduleCallback,Ee=n.unstable_cancelCallback,Le=n.unstable_shouldYield,Ve=n.unstable_requestPaint,$e=n.unstable_now,Nt=n.unstable_getCurrentPriorityLevel,et=n.unstable_ImmediatePriority,ht=n.unstable_UserBlockingPriority,Zn=n.unstable_NormalPriority,Zt=n.unstable_LowPriority,te=n.unstable_IdlePriority,P=n.log,H=n.unstable_setDisableYieldValue,le=null,pe=null;function _e(s){if(typeof P=="function"&&H(s),pe&&typeof pe.setStrictMode=="function")try{pe.setStrictMode(le,s)}catch{}}var ke=Math.clz32?Math.clz32:mt,wt=Math.log,pt=Math.LN2;function mt(s){return s>>>=0,s===0?32:31-(wt(s)/pt|0)|0}var Vt=256,st=262144,Qt=4194304;function Dn(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function tn(s,a,u){var p=s.pendingLanes;if(p===0)return 0;var _=0,S=s.suspendedLanes,V=s.pingedLanes;s=s.warmLanes;var oe=p&134217727;return oe!==0?(p=oe&~S,p!==0?_=Dn(p):(V&=oe,V!==0?_=Dn(V):u||(u=oe&~s,u!==0&&(_=Dn(u))))):(oe=p&~S,oe!==0?_=Dn(oe):V!==0?_=Dn(V):u||(u=p&~s,u!==0&&(_=Dn(u)))),_===0?0:a!==0&&a!==_&&(a&S)===0&&(S=_&-_,u=a&-a,S>=u||S===32&&(u&4194048)!==0)?a:_}function an(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Wr(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gn(){var s=Qt;return Qt<<=1,(Qt&62914560)===0&&(Qt=4194304),s}function ne(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function D(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function z(s,a,u,p,_,S){var V=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var oe=s.entanglements,he=s.expirationTimes,Re=s.hiddenUpdates;for(u=V&~u;0<u;){var Be=31-ke(u),Fe=1<<Be;oe[Be]=0,he[Be]=-1;var Ce=Re[Be];if(Ce!==null)for(Re[Be]=null,Be=0;Be<Ce.length;Be++){var Me=Ce[Be];Me!==null&&(Me.lane&=-536870913)}u&=~Fe}p!==0&&ce(s,p,0),S!==0&&_===0&&s.tag!==0&&(s.suspendedLanes|=S&~(V&~a))}function ce(s,a,u){s.pendingLanes|=a,s.suspendedLanes&=~a;var p=31-ke(a);s.entangledLanes|=a,s.entanglements[p]=s.entanglements[p]|1073741824|u&261930}function ve(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var p=31-ke(u),_=1<<p;_&a|s[p]&a&&(s[p]|=a),u&=~_}}function Ae(s,a){var u=a&-a;return u=(u&42)!==0?1:Oe(u),(u&(s.suspendedLanes|a))!==0?0:u}function Oe(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function bt(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function yt(){var s=q.p;return s!==0?s:(s=window.event,s===void 0?32:jx(s.type))}function gt(s,a){var u=q.p;try{return q.p=s,a()}finally{q.p=u}}var zt=Math.random().toString(36).slice(2),Xe="__reactFiber$"+zt,Pt="__reactProps$"+zt,po="__reactContainer$"+zt,En="__reactEvents$"+zt,In="__reactListeners$"+zt,ou="__reactHandles$"+zt,bl="__reactResources$"+zt,mo="__reactMarker$"+zt;function ga(s){delete s[Xe],delete s[Pt],delete s[En],delete s[In],delete s[ou]}function Li(s){var a=s[Xe];if(a)return a;for(var u=s.parentNode;u;){if(a=u[po]||u[Xe]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=Mx(s);s!==null;){if(u=s[Xe])return u;s=Mx(s)}return a}s=u,u=s.parentNode}return null}function Ui(s){if(s=s[Xe]||s[po]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function go(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function Di(s){var a=s[bl];return a||(a=s[bl]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function kn(s){s[mo]=!0}var vl=new Set,El={};function _i(s,a){Pi(s,a),Pi(s+"Capture",a)}function Pi(s,a){for(El[s]=a,s=0;s<a.length;s++)vl.add(a[s])}var su=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_l={},xl={};function au(s){return me.call(xl,s)?!0:me.call(_l,s)?!1:su.test(s)?xl[s]=!0:(_l[s]=!0,!1)}function us(s,a,u){if(au(a))if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var p=a.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+u)}}function fs(s,a,u){if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+u)}}function yo(s,a,u,p){if(p===null)s.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(a,u,""+p)}}function oi(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function gv(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function w4(s,a,u){var p=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var _=p.get,S=p.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return _.call(this)},set:function(V){u=""+V,S.call(this,V)}}),Object.defineProperty(s,a,{enumerable:p.enumerable}),{getValue:function(){return u},setValue:function(V){u=""+V},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Am(s){if(!s._valueTracker){var a=gv(s)?"checked":"value";s._valueTracker=w4(s,a,""+s[a])}}function yv(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),p="";return s&&(p=gv(s)?s.checked?"true":"false":s.value),s=p,s!==u?(a.setValue(s),!0):!1}function rd(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var b4=/[\n"\\]/g;function si(s){return s.replace(b4,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Sm(s,a,u,p,_,S,V,oe){s.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?s.type=V:s.removeAttribute("type"),a!=null?V==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+oi(a)):s.value!==""+oi(a)&&(s.value=""+oi(a)):V!=="submit"&&V!=="reset"||s.removeAttribute("value"),a!=null?Tm(s,V,oi(a)):u!=null?Tm(s,V,oi(u)):p!=null&&s.removeAttribute("value"),_==null&&S!=null&&(s.defaultChecked=!!S),_!=null&&(s.checked=_&&typeof _!="function"&&typeof _!="symbol"),oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&typeof oe!="boolean"?s.name=""+oi(oe):s.removeAttribute("name")}function wv(s,a,u,p,_,S,V,oe){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.type=S),a!=null||u!=null){if(!(S!=="submit"&&S!=="reset"||a!=null)){Am(s);return}u=u!=null?""+oi(u):"",a=a!=null?""+oi(a):u,oe||a===s.value||(s.value=a),s.defaultValue=a}p=p??_,p=typeof p!="function"&&typeof p!="symbol"&&!!p,s.checked=oe?s.checked:!!p,s.defaultChecked=!!p,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(s.name=V),Am(s)}function Tm(s,a,u){a==="number"&&rd(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Al(s,a,u,p){if(s=s.options,a){a={};for(var _=0;_<u.length;_++)a["$"+u[_]]=!0;for(u=0;u<s.length;u++)_=a.hasOwnProperty("$"+s[u].value),s[u].selected!==_&&(s[u].selected=_),_&&p&&(s[u].defaultSelected=!0)}else{for(u=""+oi(u),a=null,_=0;_<s.length;_++){if(s[_].value===u){s[_].selected=!0,p&&(s[_].defaultSelected=!0);return}a!==null||s[_].disabled||(a=s[_])}a!==null&&(a.selected=!0)}}function bv(s,a,u){if(a!=null&&(a=""+oi(a),a!==s.value&&(s.value=a),u==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=u!=null?""+oi(u):""}function vv(s,a,u,p){if(a==null){if(p!=null){if(u!=null)throw Error(r(92));if(T(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),a=u}u=oi(a),s.defaultValue=u,p=s.textContent,p===u&&p!==""&&p!==null&&(s.value=p),Am(s)}function Sl(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var v4=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ev(s,a,u){var p=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":p?s.setProperty(a,u):typeof u!="number"||u===0||v4.has(a)?a==="float"?s.cssFloat=u:s[a]=(""+u).trim():s[a]=u+"px"}function _v(s,a,u){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||a!=null&&a.hasOwnProperty(p)||(p.indexOf("--")===0?s.setProperty(p,""):p==="float"?s.cssFloat="":s[p]="");for(var _ in a)p=a[_],a.hasOwnProperty(_)&&u[_]!==p&&Ev(s,_,p)}else for(var S in a)a.hasOwnProperty(S)&&Ev(s,S,a[S])}function Rm(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var E4=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_4=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function id(s){return _4.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function wo(){}var Nm=null;function Cm(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Tl=null,Rl=null;function xv(s){var a=Ui(s);if(a&&(s=a.stateNode)){var u=s[Pt]||null;e:switch(s=a.stateNode,a.type){case"input":if(Sm(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+si(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var p=u[a];if(p!==s&&p.form===s.form){var _=p[Pt]||null;if(!_)throw Error(r(90));Sm(p,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(a=0;a<u.length;a++)p=u[a],p.form===s.form&&yv(p)}break e;case"textarea":bv(s,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Al(s,!!u.multiple,a,!1)}}}var Im=!1;function Av(s,a,u){if(Im)return s(a,u);Im=!0;try{var p=s(a);return p}finally{if(Im=!1,(Tl!==null||Rl!==null)&&(Kd(),Tl&&(a=Tl,s=Rl,Rl=Tl=null,xv(a),s)))for(a=0;a<s.length;a++)xv(s[a])}}function lu(s,a){var u=s.stateNode;if(u===null)return null;var p=u[Pt]||null;if(p===null)return null;u=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var bo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),km=!1;if(bo)try{var cu={};Object.defineProperty(cu,"passive",{get:function(){km=!0}}),window.addEventListener("test",cu,cu),window.removeEventListener("test",cu,cu)}catch{km=!1}var ds=null,Mm=null,od=null;function Sv(){if(od)return od;var s,a=Mm,u=a.length,p,_="value"in ds?ds.value:ds.textContent,S=_.length;for(s=0;s<u&&a[s]===_[s];s++);var V=u-s;for(p=1;p<=V&&a[u-p]===_[S-p];p++);return od=_.slice(s,1<p?1-p:void 0)}function sd(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function ad(){return!0}function Tv(){return!1}function kr(s){function a(u,p,_,S,V){this._reactName=u,this._targetInst=_,this.type=p,this.nativeEvent=S,this.target=V,this.currentTarget=null;for(var oe in s)s.hasOwnProperty(oe)&&(u=s[oe],this[oe]=u?u(S):S[oe]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?ad:Tv,this.isPropagationStopped=Tv,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ad)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ad)},persist:function(){},isPersistent:ad}),a}var ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ld=kr(ya),uu=b({},ya,{view:0,detail:0}),x4=kr(uu),Om,Bm,fu,cd=b({},uu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Um,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==fu&&(fu&&s.type==="mousemove"?(Om=s.screenX-fu.screenX,Bm=s.screenY-fu.screenY):Bm=Om=0,fu=s),Om)},movementY:function(s){return"movementY"in s?s.movementY:Bm}}),Rv=kr(cd),A4=b({},cd,{dataTransfer:0}),S4=kr(A4),T4=b({},uu,{relatedTarget:0}),Lm=kr(T4),R4=b({},ya,{animationName:0,elapsedTime:0,pseudoElement:0}),N4=kr(R4),C4=b({},ya,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),I4=kr(C4),k4=b({},ya,{data:0}),Nv=kr(k4),M4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L4(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=B4[s])?!!a[s]:!1}function Um(){return L4}var U4=b({},uu,{key:function(s){if(s.key){var a=M4[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=sd(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?O4[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Um,charCode:function(s){return s.type==="keypress"?sd(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?sd(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),D4=kr(U4),P4=b({},cd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cv=kr(P4),F4=b({},uu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Um}),H4=kr(F4),z4=b({},ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),G4=kr(z4),q4=b({},cd,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),V4=kr(q4),K4=b({},ya,{newState:0,oldState:0}),W4=kr(K4),$4=[9,13,27,32],Dm=bo&&"CompositionEvent"in window,du=null;bo&&"documentMode"in document&&(du=document.documentMode);var j4=bo&&"TextEvent"in window&&!du,Iv=bo&&(!Dm||du&&8<du&&11>=du),kv=" ",Mv=!1;function Ov(s,a){switch(s){case"keyup":return $4.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Nl=!1;function Y4(s,a){switch(s){case"compositionend":return Bv(a);case"keypress":return a.which!==32?null:(Mv=!0,kv);case"textInput":return s=a.data,s===kv&&Mv?null:s;default:return null}}function J4(s,a){if(Nl)return s==="compositionend"||!Dm&&Ov(s,a)?(s=Sv(),od=Mm=ds=null,Nl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Iv&&a.locale!=="ko"?null:a.data;default:return null}}var Z4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lv(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Z4[s.type]:a==="textarea"}function Uv(s,a,u,p){Tl?Rl?Rl.push(p):Rl=[p]:Tl=p,a=Xd(a,"onChange"),0<a.length&&(u=new ld("onChange","change",null,u,p),s.push({event:u,listeners:a}))}var hu=null,pu=null;function X4(s){wx(s,0)}function ud(s){var a=go(s);if(yv(a))return s}function Dv(s,a){if(s==="change")return a}var Pv=!1;if(bo){var Pm;if(bo){var Fm="oninput"in document;if(!Fm){var Fv=document.createElement("div");Fv.setAttribute("oninput","return;"),Fm=typeof Fv.oninput=="function"}Pm=Fm}else Pm=!1;Pv=Pm&&(!document.documentMode||9<document.documentMode)}function Hv(){hu&&(hu.detachEvent("onpropertychange",zv),pu=hu=null)}function zv(s){if(s.propertyName==="value"&&ud(pu)){var a=[];Uv(a,pu,s,Cm(s)),Av(X4,a)}}function Q4(s,a,u){s==="focusin"?(Hv(),hu=a,pu=u,hu.attachEvent("onpropertychange",zv)):s==="focusout"&&Hv()}function e6(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ud(pu)}function t6(s,a){if(s==="click")return ud(a)}function n6(s,a){if(s==="input"||s==="change")return ud(a)}function r6(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var $r=typeof Object.is=="function"?Object.is:r6;function mu(s,a){if($r(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),p=Object.keys(a);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var _=u[p];if(!me.call(a,_)||!$r(s[_],a[_]))return!1}return!0}function Gv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function qv(s,a){var u=Gv(s);s=0;for(var p;u;){if(u.nodeType===3){if(p=s+u.textContent.length,s<=a&&p>=a)return{node:u,offset:a-s};s=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Gv(u)}}function Vv(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Vv(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Kv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=rd(s.document);a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=rd(s.document)}return a}function Hm(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var i6=bo&&"documentMode"in document&&11>=document.documentMode,Cl=null,zm=null,gu=null,Gm=!1;function Wv(s,a,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Gm||Cl==null||Cl!==rd(p)||(p=Cl,"selectionStart"in p&&Hm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),gu&&mu(gu,p)||(gu=p,p=Xd(zm,"onSelect"),0<p.length&&(a=new ld("onSelect","select",null,a,u),s.push({event:a,listeners:p}),a.target=Cl)))}function wa(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Il={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionrun:wa("Transition","TransitionRun"),transitionstart:wa("Transition","TransitionStart"),transitioncancel:wa("Transition","TransitionCancel"),transitionend:wa("Transition","TransitionEnd")},qm={},$v={};bo&&($v=document.createElement("div").style,"AnimationEvent"in window||(delete Il.animationend.animation,delete Il.animationiteration.animation,delete Il.animationstart.animation),"TransitionEvent"in window||delete Il.transitionend.transition);function ba(s){if(qm[s])return qm[s];if(!Il[s])return s;var a=Il[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in $v)return qm[s]=a[u];return s}var jv=ba("animationend"),Yv=ba("animationiteration"),Jv=ba("animationstart"),o6=ba("transitionrun"),s6=ba("transitionstart"),a6=ba("transitioncancel"),Zv=ba("transitionend"),Xv=new Map,Vm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vm.push("scrollEnd");function xi(s,a){Xv.set(s,a),_i(a,[s])}var fd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof kc=="object"&&typeof kc.emit=="function"){kc.emit("uncaughtException",s);return}console.error(s)},ai=[],kl=0,Km=0;function dd(){for(var s=kl,a=Km=kl=0;a<s;){var u=ai[a];ai[a++]=null;var p=ai[a];ai[a++]=null;var _=ai[a];ai[a++]=null;var S=ai[a];if(ai[a++]=null,p!==null&&_!==null){var V=p.pending;V===null?_.next=_:(_.next=V.next,V.next=_),p.pending=_}S!==0&&Qv(u,_,S)}}function hd(s,a,u,p){ai[kl++]=s,ai[kl++]=a,ai[kl++]=u,ai[kl++]=p,Km|=p,s.lanes|=p,s=s.alternate,s!==null&&(s.lanes|=p)}function Wm(s,a,u,p){return hd(s,a,u,p),pd(s)}function va(s,a){return hd(s,null,null,a),pd(s)}function Qv(s,a,u){s.lanes|=u;var p=s.alternate;p!==null&&(p.lanes|=u);for(var _=!1,S=s.return;S!==null;)S.childLanes|=u,p=S.alternate,p!==null&&(p.childLanes|=u),S.tag===22&&(s=S.stateNode,s===null||s._visibility&1||(_=!0)),s=S,S=S.return;return s.tag===3?(S=s.stateNode,_&&a!==null&&(_=31-ke(u),s=S.hiddenUpdates,p=s[_],p===null?s[_]=[a]:p.push(a),a.lane=u|536870912),S):null}function pd(s){if(50<Pu)throw Pu=0,tg=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Ml={};function l6(s,a,u,p){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(s,a,u,p){return new l6(s,a,u,p)}function $m(s){return s=s.prototype,!(!s||!s.isReactComponent)}function vo(s,a){var u=s.alternate;return u===null?(u=jr(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function eE(s,a){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,a=u.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function md(s,a,u,p,_,S){var V=0;if(p=s,typeof s=="function")$m(s)&&(V=1);else if(typeof s=="string")V=h8(s,u,G.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case J:return s=jr(31,u,a,_),s.elementType=J,s.lanes=S,s;case k:return Ea(u.children,_,S,a);case I:V=8,_|=24;break;case L:return s=jr(12,u,a,_|2),s.elementType=L,s.lanes=S,s;case ie:return s=jr(13,u,a,_),s.elementType=ie,s.lanes=S,s;case se:return s=jr(19,u,a,_),s.elementType=se,s.lanes=S,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:V=10;break e;case F:V=9;break e;case Y:V=11;break e;case re:V=14;break e;case ae:V=16,p=null;break e}V=29,u=Error(r(130,s===null?"null":typeof s,"")),p=null}return a=jr(V,u,a,_),a.elementType=s,a.type=p,a.lanes=S,a}function Ea(s,a,u,p){return s=jr(7,s,p,a),s.lanes=u,s}function jm(s,a,u){return s=jr(6,s,null,a),s.lanes=u,s}function tE(s){var a=jr(18,null,null,0);return a.stateNode=s,a}function Ym(s,a,u){return a=jr(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var nE=new WeakMap;function li(s,a){if(typeof s=="object"&&s!==null){var u=nE.get(s);return u!==void 0?u:(a={value:s,source:a,stack:ee(a)},nE.set(s,a),a)}return{value:s,source:a,stack:ee(a)}}var Ol=[],Bl=0,gd=null,yu=0,ci=[],ui=0,hs=null,Fi=1,Hi="";function Eo(s,a){Ol[Bl++]=yu,Ol[Bl++]=gd,gd=s,yu=a}function rE(s,a,u){ci[ui++]=Fi,ci[ui++]=Hi,ci[ui++]=hs,hs=s;var p=Fi;s=Hi;var _=32-ke(p)-1;p&=~(1<<_),u+=1;var S=32-ke(a)+_;if(30<S){var V=_-_%5;S=(p&(1<<V)-1).toString(32),p>>=V,_-=V,Fi=1<<32-ke(a)+_|u<<_|p,Hi=S+s}else Fi=1<<S|u<<_|p,Hi=s}function Jm(s){s.return!==null&&(Eo(s,1),rE(s,1,0))}function Zm(s){for(;s===gd;)gd=Ol[--Bl],Ol[Bl]=null,yu=Ol[--Bl],Ol[Bl]=null;for(;s===hs;)hs=ci[--ui],ci[ui]=null,Hi=ci[--ui],ci[ui]=null,Fi=ci[--ui],ci[ui]=null}function iE(s,a){ci[ui++]=Fi,ci[ui++]=Hi,ci[ui++]=hs,Fi=a.id,Hi=a.overflow,hs=s}var cr=null,yn=null,Ft=!1,ps=null,fi=!1,Xm=Error(r(519));function ms(s){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wu(li(a,s)),Xm}function oE(s){var a=s.stateNode,u=s.type,p=s.memoizedProps;switch(a[Xe]=s,a[Pt]=p,u){case"dialog":Ot("cancel",a),Ot("close",a);break;case"iframe":case"object":case"embed":Ot("load",a);break;case"video":case"audio":for(u=0;u<Hu.length;u++)Ot(Hu[u],a);break;case"source":Ot("error",a);break;case"img":case"image":case"link":Ot("error",a),Ot("load",a);break;case"details":Ot("toggle",a);break;case"input":Ot("invalid",a),wv(a,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Ot("invalid",a);break;case"textarea":Ot("invalid",a),vv(a,p.value,p.defaultValue,p.children)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||p.suppressHydrationWarning===!0||_x(a.textContent,u)?(p.popover!=null&&(Ot("beforetoggle",a),Ot("toggle",a)),p.onScroll!=null&&Ot("scroll",a),p.onScrollEnd!=null&&Ot("scrollend",a),p.onClick!=null&&(a.onclick=wo),a=!0):a=!1,a||ms(s,!0)}function sE(s){for(cr=s.return;cr;)switch(cr.tag){case 5:case 31:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:cr=cr.return}}function Ll(s){if(s!==cr)return!1;if(!Ft)return sE(s),Ft=!0,!1;var a=s.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||gg(s.type,s.memoizedProps)),u=!u),u&&yn&&ms(s),sE(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));yn=kx(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));yn=kx(s)}else a===27?(a=yn,Cs(s.type)?(s=Eg,Eg=null,yn=s):yn=a):yn=cr?hi(s.stateNode.nextSibling):null;return!0}function _a(){yn=cr=null,Ft=!1}function Qm(){var s=ps;return s!==null&&(Lr===null?Lr=s:Lr.push.apply(Lr,s),ps=null),s}function wu(s){ps===null?ps=[s]:ps.push(s)}var e0=A(null),xa=null,_o=null;function gs(s,a,u){R(e0,a._currentValue),a._currentValue=u}function xo(s){s._currentValue=e0.current,y(e0)}function t0(s,a,u){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===u)break;s=s.return}}function n0(s,a,u,p){var _=s.child;for(_!==null&&(_.return=s);_!==null;){var S=_.dependencies;if(S!==null){var V=_.child;S=S.firstContext;e:for(;S!==null;){var oe=S;S=_;for(var he=0;he<a.length;he++)if(oe.context===a[he]){S.lanes|=u,oe=S.alternate,oe!==null&&(oe.lanes|=u),t0(S.return,u,s),p||(V=null);break e}S=oe.next}}else if(_.tag===18){if(V=_.return,V===null)throw Error(r(341));V.lanes|=u,S=V.alternate,S!==null&&(S.lanes|=u),t0(V,u,s),V=null}else V=_.child;if(V!==null)V.return=_;else for(V=_;V!==null;){if(V===s){V=null;break}if(_=V.sibling,_!==null){_.return=V.return,V=_;break}V=V.return}_=V}}function Ul(s,a,u,p){s=null;for(var _=a,S=!1;_!==null;){if(!S){if((_.flags&524288)!==0)S=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var V=_.alternate;if(V===null)throw Error(r(387));if(V=V.memoizedProps,V!==null){var oe=_.type;$r(_.pendingProps.value,V.value)||(s!==null?s.push(oe):s=[oe])}}else if(_===be.current){if(V=_.alternate,V===null)throw Error(r(387));V.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(s!==null?s.push(Ku):s=[Ku])}_=_.return}s!==null&&n0(a,s,u,p),a.flags|=262144}function yd(s){for(s=s.firstContext;s!==null;){if(!$r(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Aa(s){xa=s,_o=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ur(s){return aE(xa,s)}function wd(s,a){return xa===null&&Aa(s),aE(s,a)}function aE(s,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},_o===null){if(s===null)throw Error(r(308));_o=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else _o=_o.next=a;return u}var c6=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(u,p){s.push(p)}};this.abort=function(){a.aborted=!0,s.forEach(function(u){return u()})}},u6=n.unstable_scheduleCallback,f6=n.unstable_NormalPriority,Gn={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function r0(){return{controller:new c6,data:new Map,refCount:0}}function bu(s){s.refCount--,s.refCount===0&&u6(f6,function(){s.controller.abort()})}var vu=null,i0=0,Dl=0,Pl=null;function d6(s,a){if(vu===null){var u=vu=[];i0=0,Dl=ag(),Pl={status:"pending",value:void 0,then:function(p){u.push(p)}}}return i0++,a.then(lE,lE),a}function lE(){if(--i0===0&&vu!==null){Pl!==null&&(Pl.status="fulfilled");var s=vu;vu=null,Dl=0,Pl=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function h6(s,a){var u=[],p={status:"pending",value:null,reason:null,then:function(_){u.push(_)}};return s.then(function(){p.status="fulfilled",p.value=a;for(var _=0;_<u.length;_++)(0,u[_])(a)},function(_){for(p.status="rejected",p.reason=_,_=0;_<u.length;_++)(0,u[_])(void 0)}),p}var cE=C.S;C.S=function(s,a){W_=$e(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&d6(s,a),cE!==null&&cE(s,a)};var Sa=A(null);function o0(){var s=Sa.current;return s!==null?s:dn.pooledCache}function bd(s,a){a===null?R(Sa,Sa.current):R(Sa,a.pool)}function uE(){var s=o0();return s===null?null:{parent:Gn._currentValue,pool:s}}var Fl=Error(r(460)),s0=Error(r(474)),vd=Error(r(542)),Ed={then:function(){}};function fE(s){return s=s.status,s==="fulfilled"||s==="rejected"}function dE(s,a,u){switch(u=s[u],u===void 0?s.push(a):u!==a&&(a.then(wo,wo),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,pE(s),s;default:if(typeof a.status=="string")a.then(wo,wo);else{if(s=dn,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(p){if(a.status==="pending"){var _=a;_.status="fulfilled",_.value=p}},function(p){if(a.status==="pending"){var _=a;_.status="rejected",_.reason=p}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,pE(s),s}throw Ra=a,Fl}}function Ta(s){try{var a=s._init;return a(s._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ra=u,Fl):u}}var Ra=null;function hE(){if(Ra===null)throw Error(r(459));var s=Ra;return Ra=null,s}function pE(s){if(s===Fl||s===vd)throw Error(r(483))}var Hl=null,Eu=0;function _d(s){var a=Eu;return Eu+=1,Hl===null&&(Hl=[]),dE(Hl,s,a)}function _u(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function xd(s,a){throw a.$$typeof===E?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function mE(s){function a(xe,ge){if(s){var Te=xe.deletions;Te===null?(xe.deletions=[ge],xe.flags|=16):Te.push(ge)}}function u(xe,ge){if(!s)return null;for(;ge!==null;)a(xe,ge),ge=ge.sibling;return null}function p(xe){for(var ge=new Map;xe!==null;)xe.key!==null?ge.set(xe.key,xe):ge.set(xe.index,xe),xe=xe.sibling;return ge}function _(xe,ge){return xe=vo(xe,ge),xe.index=0,xe.sibling=null,xe}function S(xe,ge,Te){return xe.index=Te,s?(Te=xe.alternate,Te!==null?(Te=Te.index,Te<ge?(xe.flags|=67108866,ge):Te):(xe.flags|=67108866,ge)):(xe.flags|=1048576,ge)}function V(xe){return s&&xe.alternate===null&&(xe.flags|=67108866),xe}function oe(xe,ge,Te,Pe){return ge===null||ge.tag!==6?(ge=jm(Te,xe.mode,Pe),ge.return=xe,ge):(ge=_(ge,Te),ge.return=xe,ge)}function he(xe,ge,Te,Pe){var at=Te.type;return at===k?Be(xe,ge,Te.props.children,Pe,Te.key):ge!==null&&(ge.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===ae&&Ta(at)===ge.type)?(ge=_(ge,Te.props),_u(ge,Te),ge.return=xe,ge):(ge=md(Te.type,Te.key,Te.props,null,xe.mode,Pe),_u(ge,Te),ge.return=xe,ge)}function Re(xe,ge,Te,Pe){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Te.containerInfo||ge.stateNode.implementation!==Te.implementation?(ge=Ym(Te,xe.mode,Pe),ge.return=xe,ge):(ge=_(ge,Te.children||[]),ge.return=xe,ge)}function Be(xe,ge,Te,Pe,at){return ge===null||ge.tag!==7?(ge=Ea(Te,xe.mode,Pe,at),ge.return=xe,ge):(ge=_(ge,Te),ge.return=xe,ge)}function Fe(xe,ge,Te){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ge=jm(""+ge,xe.mode,Te),ge.return=xe,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case v:return Te=md(ge.type,ge.key,ge.props,null,xe.mode,Te),_u(Te,ge),Te.return=xe,Te;case N:return ge=Ym(ge,xe.mode,Te),ge.return=xe,ge;case ae:return ge=Ta(ge),Fe(xe,ge,Te)}if(T(ge)||W(ge))return ge=Ea(ge,xe.mode,Te,null),ge.return=xe,ge;if(typeof ge.then=="function")return Fe(xe,_d(ge),Te);if(ge.$$typeof===M)return Fe(xe,wd(xe,ge),Te);xd(xe,ge)}return null}function Ce(xe,ge,Te,Pe){var at=ge!==null?ge.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return at!==null?null:oe(xe,ge,""+Te,Pe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case v:return Te.key===at?he(xe,ge,Te,Pe):null;case N:return Te.key===at?Re(xe,ge,Te,Pe):null;case ae:return Te=Ta(Te),Ce(xe,ge,Te,Pe)}if(T(Te)||W(Te))return at!==null?null:Be(xe,ge,Te,Pe,null);if(typeof Te.then=="function")return Ce(xe,ge,_d(Te),Pe);if(Te.$$typeof===M)return Ce(xe,ge,wd(xe,Te),Pe);xd(xe,Te)}return null}function Me(xe,ge,Te,Pe,at){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return xe=xe.get(Te)||null,oe(ge,xe,""+Pe,at);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case v:return xe=xe.get(Pe.key===null?Te:Pe.key)||null,he(ge,xe,Pe,at);case N:return xe=xe.get(Pe.key===null?Te:Pe.key)||null,Re(ge,xe,Pe,at);case ae:return Pe=Ta(Pe),Me(xe,ge,Te,Pe,at)}if(T(Pe)||W(Pe))return xe=xe.get(Te)||null,Be(ge,xe,Pe,at,null);if(typeof Pe.then=="function")return Me(xe,ge,Te,_d(Pe),at);if(Pe.$$typeof===M)return Me(xe,ge,Te,wd(ge,Pe),at);xd(ge,Pe)}return null}function Qe(xe,ge,Te,Pe){for(var at=null,Kt=null,tt=ge,St=ge=0,Dt=null;tt!==null&&St<Te.length;St++){tt.index>St?(Dt=tt,tt=null):Dt=tt.sibling;var Wt=Ce(xe,tt,Te[St],Pe);if(Wt===null){tt===null&&(tt=Dt);break}s&&tt&&Wt.alternate===null&&a(xe,tt),ge=S(Wt,ge,St),Kt===null?at=Wt:Kt.sibling=Wt,Kt=Wt,tt=Dt}if(St===Te.length)return u(xe,tt),Ft&&Eo(xe,St),at;if(tt===null){for(;St<Te.length;St++)tt=Fe(xe,Te[St],Pe),tt!==null&&(ge=S(tt,ge,St),Kt===null?at=tt:Kt.sibling=tt,Kt=tt);return Ft&&Eo(xe,St),at}for(tt=p(tt);St<Te.length;St++)Dt=Me(tt,xe,St,Te[St],Pe),Dt!==null&&(s&&Dt.alternate!==null&&tt.delete(Dt.key===null?St:Dt.key),ge=S(Dt,ge,St),Kt===null?at=Dt:Kt.sibling=Dt,Kt=Dt);return s&&tt.forEach(function(Bs){return a(xe,Bs)}),Ft&&Eo(xe,St),at}function dt(xe,ge,Te,Pe){if(Te==null)throw Error(r(151));for(var at=null,Kt=null,tt=ge,St=ge=0,Dt=null,Wt=Te.next();tt!==null&&!Wt.done;St++,Wt=Te.next()){tt.index>St?(Dt=tt,tt=null):Dt=tt.sibling;var Bs=Ce(xe,tt,Wt.value,Pe);if(Bs===null){tt===null&&(tt=Dt);break}s&&tt&&Bs.alternate===null&&a(xe,tt),ge=S(Bs,ge,St),Kt===null?at=Bs:Kt.sibling=Bs,Kt=Bs,tt=Dt}if(Wt.done)return u(xe,tt),Ft&&Eo(xe,St),at;if(tt===null){for(;!Wt.done;St++,Wt=Te.next())Wt=Fe(xe,Wt.value,Pe),Wt!==null&&(ge=S(Wt,ge,St),Kt===null?at=Wt:Kt.sibling=Wt,Kt=Wt);return Ft&&Eo(xe,St),at}for(tt=p(tt);!Wt.done;St++,Wt=Te.next())Wt=Me(tt,xe,St,Wt.value,Pe),Wt!==null&&(s&&Wt.alternate!==null&&tt.delete(Wt.key===null?St:Wt.key),ge=S(Wt,ge,St),Kt===null?at=Wt:Kt.sibling=Wt,Kt=Wt);return s&&tt.forEach(function(A8){return a(xe,A8)}),Ft&&Eo(xe,St),at}function un(xe,ge,Te,Pe){if(typeof Te=="object"&&Te!==null&&Te.type===k&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case v:e:{for(var at=Te.key;ge!==null;){if(ge.key===at){if(at=Te.type,at===k){if(ge.tag===7){u(xe,ge.sibling),Pe=_(ge,Te.props.children),Pe.return=xe,xe=Pe;break e}}else if(ge.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===ae&&Ta(at)===ge.type){u(xe,ge.sibling),Pe=_(ge,Te.props),_u(Pe,Te),Pe.return=xe,xe=Pe;break e}u(xe,ge);break}else a(xe,ge);ge=ge.sibling}Te.type===k?(Pe=Ea(Te.props.children,xe.mode,Pe,Te.key),Pe.return=xe,xe=Pe):(Pe=md(Te.type,Te.key,Te.props,null,xe.mode,Pe),_u(Pe,Te),Pe.return=xe,xe=Pe)}return V(xe);case N:e:{for(at=Te.key;ge!==null;){if(ge.key===at)if(ge.tag===4&&ge.stateNode.containerInfo===Te.containerInfo&&ge.stateNode.implementation===Te.implementation){u(xe,ge.sibling),Pe=_(ge,Te.children||[]),Pe.return=xe,xe=Pe;break e}else{u(xe,ge);break}else a(xe,ge);ge=ge.sibling}Pe=Ym(Te,xe.mode,Pe),Pe.return=xe,xe=Pe}return V(xe);case ae:return Te=Ta(Te),un(xe,ge,Te,Pe)}if(T(Te))return Qe(xe,ge,Te,Pe);if(W(Te)){if(at=W(Te),typeof at!="function")throw Error(r(150));return Te=at.call(Te),dt(xe,ge,Te,Pe)}if(typeof Te.then=="function")return un(xe,ge,_d(Te),Pe);if(Te.$$typeof===M)return un(xe,ge,wd(xe,Te),Pe);xd(xe,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,ge!==null&&ge.tag===6?(u(xe,ge.sibling),Pe=_(ge,Te),Pe.return=xe,xe=Pe):(u(xe,ge),Pe=jm(Te,xe.mode,Pe),Pe.return=xe,xe=Pe),V(xe)):u(xe,ge)}return function(xe,ge,Te,Pe){try{Eu=0;var at=un(xe,ge,Te,Pe);return Hl=null,at}catch(tt){if(tt===Fl||tt===vd)throw tt;var Kt=jr(29,tt,null,xe.mode);return Kt.lanes=Pe,Kt.return=xe,Kt}finally{}}}var Na=mE(!0),gE=mE(!1),ys=!1;function a0(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function l0(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ws(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function bs(s,a,u){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(Xt&2)!==0){var _=p.pending;return _===null?a.next=a:(a.next=_.next,_.next=a),p.pending=a,a=pd(s),Qv(s,null,u),a}return hd(s,p,a,u),pd(s)}function xu(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var p=a.lanes;p&=s.pendingLanes,u|=p,a.lanes=u,ve(s,u)}}function c0(s,a){var u=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var _=null,S=null;if(u=u.firstBaseUpdate,u!==null){do{var V={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};S===null?_=S=V:S=S.next=V,u=u.next}while(u!==null);S===null?_=S=a:S=S.next=a}else _=S=a;u={baseState:p.baseState,firstBaseUpdate:_,lastBaseUpdate:S,shared:p.shared,callbacks:p.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}var u0=!1;function Au(){if(u0){var s=Pl;if(s!==null)throw s}}function Su(s,a,u,p){u0=!1;var _=s.updateQueue;ys=!1;var S=_.firstBaseUpdate,V=_.lastBaseUpdate,oe=_.shared.pending;if(oe!==null){_.shared.pending=null;var he=oe,Re=he.next;he.next=null,V===null?S=Re:V.next=Re,V=he;var Be=s.alternate;Be!==null&&(Be=Be.updateQueue,oe=Be.lastBaseUpdate,oe!==V&&(oe===null?Be.firstBaseUpdate=Re:oe.next=Re,Be.lastBaseUpdate=he))}if(S!==null){var Fe=_.baseState;V=0,Be=Re=he=null,oe=S;do{var Ce=oe.lane&-536870913,Me=Ce!==oe.lane;if(Me?(Ut&Ce)===Ce:(p&Ce)===Ce){Ce!==0&&Ce===Dl&&(u0=!0),Be!==null&&(Be=Be.next={lane:0,tag:oe.tag,payload:oe.payload,callback:null,next:null});e:{var Qe=s,dt=oe;Ce=a;var un=u;switch(dt.tag){case 1:if(Qe=dt.payload,typeof Qe=="function"){Fe=Qe.call(un,Fe,Ce);break e}Fe=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=dt.payload,Ce=typeof Qe=="function"?Qe.call(un,Fe,Ce):Qe,Ce==null)break e;Fe=b({},Fe,Ce);break e;case 2:ys=!0}}Ce=oe.callback,Ce!==null&&(s.flags|=64,Me&&(s.flags|=8192),Me=_.callbacks,Me===null?_.callbacks=[Ce]:Me.push(Ce))}else Me={lane:Ce,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},Be===null?(Re=Be=Me,he=Fe):Be=Be.next=Me,V|=Ce;if(oe=oe.next,oe===null){if(oe=_.shared.pending,oe===null)break;Me=oe,oe=Me.next,Me.next=null,_.lastBaseUpdate=Me,_.shared.pending=null}}while(!0);Be===null&&(he=Fe),_.baseState=he,_.firstBaseUpdate=Re,_.lastBaseUpdate=Be,S===null&&(_.shared.lanes=0),As|=V,s.lanes=V,s.memoizedState=Fe}}function yE(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function wE(s,a){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)yE(u[s],a)}var zl=A(null),Ad=A(0);function bE(s,a){s=Mo,R(Ad,s),R(zl,a),Mo=s|a.baseLanes}function f0(){R(Ad,Mo),R(zl,zl.current)}function d0(){Mo=Ad.current,y(zl),y(Ad)}var Yr=A(null),di=null;function vs(s){var a=s.alternate;R(Pn,Pn.current&1),R(Yr,s),di===null&&(a===null||zl.current!==null||a.memoizedState!==null)&&(di=s)}function h0(s){R(Pn,Pn.current),R(Yr,s),di===null&&(di=s)}function vE(s){s.tag===22?(R(Pn,Pn.current),R(Yr,s),di===null&&(di=s)):Es()}function Es(){R(Pn,Pn.current),R(Yr,Yr.current)}function Jr(s){y(Yr),di===s&&(di=null),y(Pn)}var Pn=A(0);function Sd(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||bg(u)||vg(u)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ao=0,xt=null,ln=null,qn=null,Td=!1,Gl=!1,Ca=!1,Rd=0,Tu=0,ql=null,p6=0;function Mn(){throw Error(r(321))}function p0(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!$r(s[u],a[u]))return!1;return!0}function m0(s,a,u,p,_,S){return Ao=S,xt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,C.H=s===null||s.memoizedState===null?r_:I0,Ca=!1,S=u(p,_),Ca=!1,Gl&&(S=_E(a,u,p,_)),EE(s),S}function EE(s){C.H=Cu;var a=ln!==null&&ln.next!==null;if(Ao=0,qn=ln=xt=null,Td=!1,Tu=0,ql=null,a)throw Error(r(300));s===null||Vn||(s=s.dependencies,s!==null&&yd(s)&&(Vn=!0))}function _E(s,a,u,p){xt=s;var _=0;do{if(Gl&&(ql=null),Tu=0,Gl=!1,25<=_)throw Error(r(301));if(_+=1,qn=ln=null,s.updateQueue!=null){var S=s.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}C.H=i_,S=a(u,p)}while(Gl);return S}function m6(){var s=C.H,a=s.useState()[0];return a=typeof a.then=="function"?Ru(a):a,s=s.useState()[0],(ln!==null?ln.memoizedState:null)!==s&&(xt.flags|=1024),a}function g0(){var s=Rd!==0;return Rd=0,s}function y0(s,a,u){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~u}function w0(s){if(Td){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Td=!1}Ao=0,qn=ln=xt=null,Gl=!1,Tu=Rd=0,ql=null}function Tr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?xt.memoizedState=qn=s:qn=qn.next=s,qn}function Fn(){if(ln===null){var s=xt.alternate;s=s!==null?s.memoizedState:null}else s=ln.next;var a=qn===null?xt.memoizedState:qn.next;if(a!==null)qn=a,ln=s;else{if(s===null)throw xt.alternate===null?Error(r(467)):Error(r(310));ln=s,s={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},qn===null?xt.memoizedState=qn=s:qn=qn.next=s}return qn}function Nd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ru(s){var a=Tu;return Tu+=1,ql===null&&(ql=[]),s=dE(ql,s,a),a=xt,(qn===null?a.memoizedState:qn.next)===null&&(a=a.alternate,C.H=a===null||a.memoizedState===null?r_:I0),s}function Cd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ru(s);if(s.$$typeof===M)return ur(s)}throw Error(r(438,String(s)))}function b0(s){var a=null,u=xt.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var p=xt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(a={data:p.data.map(function(_){return _.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Nd(),xt.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(s),p=0;p<s;p++)u[p]=Q;return a.index++,u}function So(s,a){return typeof a=="function"?a(s):a}function Id(s){var a=Fn();return v0(a,ln,s)}function v0(s,a,u){var p=s.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=u;var _=s.baseQueue,S=p.pending;if(S!==null){if(_!==null){var V=_.next;_.next=S.next,S.next=V}a.baseQueue=_=S,p.pending=null}if(S=s.baseState,_===null)s.memoizedState=S;else{a=_.next;var oe=V=null,he=null,Re=a,Be=!1;do{var Fe=Re.lane&-536870913;if(Fe!==Re.lane?(Ut&Fe)===Fe:(Ao&Fe)===Fe){var Ce=Re.revertLane;if(Ce===0)he!==null&&(he=he.next={lane:0,revertLane:0,gesture:null,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),Fe===Dl&&(Be=!0);else if((Ao&Ce)===Ce){Re=Re.next,Ce===Dl&&(Be=!0);continue}else Fe={lane:0,revertLane:Re.revertLane,gesture:null,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},he===null?(oe=he=Fe,V=S):he=he.next=Fe,xt.lanes|=Ce,As|=Ce;Fe=Re.action,Ca&&u(S,Fe),S=Re.hasEagerState?Re.eagerState:u(S,Fe)}else Ce={lane:Fe,revertLane:Re.revertLane,gesture:Re.gesture,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},he===null?(oe=he=Ce,V=S):he=he.next=Ce,xt.lanes|=Fe,As|=Fe;Re=Re.next}while(Re!==null&&Re!==a);if(he===null?V=S:he.next=oe,!$r(S,s.memoizedState)&&(Vn=!0,Be&&(u=Pl,u!==null)))throw u;s.memoizedState=S,s.baseState=V,s.baseQueue=he,p.lastRenderedState=S}return _===null&&(p.lanes=0),[s.memoizedState,p.dispatch]}function E0(s){var a=Fn(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var p=u.dispatch,_=u.pending,S=a.memoizedState;if(_!==null){u.pending=null;var V=_=_.next;do S=s(S,V.action),V=V.next;while(V!==_);$r(S,a.memoizedState)||(Vn=!0),a.memoizedState=S,a.baseQueue===null&&(a.baseState=S),u.lastRenderedState=S}return[S,p]}function xE(s,a,u){var p=xt,_=Fn(),S=Ft;if(S){if(u===void 0)throw Error(r(407));u=u()}else u=a();var V=!$r((ln||_).memoizedState,u);if(V&&(_.memoizedState=u,Vn=!0),_=_.queue,A0(TE.bind(null,p,_,s),[s]),_.getSnapshot!==a||V||qn!==null&&qn.memoizedState.tag&1){if(p.flags|=2048,Vl(9,{destroy:void 0},SE.bind(null,p,_,u,a),null),dn===null)throw Error(r(349));S||(Ao&127)!==0||AE(p,a,u)}return u}function AE(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=xt.updateQueue,a===null?(a=Nd(),xt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function SE(s,a,u,p){a.value=u,a.getSnapshot=p,RE(a)&&NE(s)}function TE(s,a,u){return u(function(){RE(a)&&NE(s)})}function RE(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!$r(s,u)}catch{return!0}}function NE(s){var a=va(s,2);a!==null&&Ur(a,s,2)}function _0(s){var a=Tr();if(typeof s=="function"){var u=s;if(s=u(),Ca){_e(!0);try{u()}finally{_e(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:s},a}function CE(s,a,u,p){return s.baseState=u,v0(s,ln,typeof p=="function"?p:So)}function g6(s,a,u,p,_){if(Od(s))throw Error(r(485));if(s=a.action,s!==null){var S={payload:_,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){S.listeners.push(V)}};C.T!==null?u(!0):S.isTransition=!1,p(S),u=a.pending,u===null?(S.next=a.pending=S,IE(a,S)):(S.next=u.next,a.pending=u.next=S)}}function IE(s,a){var u=a.action,p=a.payload,_=s.state;if(a.isTransition){var S=C.T,V={};C.T=V;try{var oe=u(_,p),he=C.S;he!==null&&he(V,oe),kE(s,a,oe)}catch(Re){x0(s,a,Re)}finally{S!==null&&V.types!==null&&(S.types=V.types),C.T=S}}else try{S=u(_,p),kE(s,a,S)}catch(Re){x0(s,a,Re)}}function kE(s,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){ME(s,a,p)},function(p){return x0(s,a,p)}):ME(s,a,u)}function ME(s,a,u){a.status="fulfilled",a.value=u,OE(a),s.state=u,a=s.pending,a!==null&&(u=a.next,u===a?s.pending=null:(u=u.next,a.next=u,IE(s,u)))}function x0(s,a,u){var p=s.pending;if(s.pending=null,p!==null){p=p.next;do a.status="rejected",a.reason=u,OE(a),a=a.next;while(a!==p)}s.action=null}function OE(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function BE(s,a){return a}function LE(s,a){if(Ft){var u=dn.formState;if(u!==null){e:{var p=xt;if(Ft){if(yn){t:{for(var _=yn,S=fi;_.nodeType!==8;){if(!S){_=null;break t}if(_=hi(_.nextSibling),_===null){_=null;break t}}S=_.data,_=S==="F!"||S==="F"?_:null}if(_){yn=hi(_.nextSibling),p=_.data==="F!";break e}}ms(p)}p=!1}p&&(a=u[0])}}return u=Tr(),u.memoizedState=u.baseState=a,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:BE,lastRenderedState:a},u.queue=p,u=e_.bind(null,xt,p),p.dispatch=u,p=_0(!1),S=C0.bind(null,xt,!1,p.queue),p=Tr(),_={state:a,dispatch:null,action:s,pending:null},p.queue=_,u=g6.bind(null,xt,_,S,u),_.dispatch=u,p.memoizedState=s,[a,u,!1]}function UE(s){var a=Fn();return DE(a,ln,s)}function DE(s,a,u){if(a=v0(s,a,BE)[0],s=Id(So)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var p=Ru(a)}catch(V){throw V===Fl?vd:V}else p=a;a=Fn();var _=a.queue,S=_.dispatch;return u!==a.memoizedState&&(xt.flags|=2048,Vl(9,{destroy:void 0},y6.bind(null,_,u),null)),[p,S,s]}function y6(s,a){s.action=a}function PE(s){var a=Fn(),u=ln;if(u!==null)return DE(a,u,s);Fn(),a=a.memoizedState,u=Fn();var p=u.queue.dispatch;return u.memoizedState=s,[a,p,!1]}function Vl(s,a,u,p){return s={tag:s,create:u,deps:p,inst:a,next:null},a=xt.updateQueue,a===null&&(a=Nd(),xt.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=s.next=s:(p=u.next,u.next=s,s.next=p,a.lastEffect=s),s}function FE(){return Fn().memoizedState}function kd(s,a,u,p){var _=Tr();xt.flags|=s,_.memoizedState=Vl(1|a,{destroy:void 0},u,p===void 0?null:p)}function Md(s,a,u,p){var _=Fn();p=p===void 0?null:p;var S=_.memoizedState.inst;ln!==null&&p!==null&&p0(p,ln.memoizedState.deps)?_.memoizedState=Vl(a,S,u,p):(xt.flags|=s,_.memoizedState=Vl(1|a,S,u,p))}function HE(s,a){kd(8390656,8,s,a)}function A0(s,a){Md(2048,8,s,a)}function w6(s){xt.flags|=4;var a=xt.updateQueue;if(a===null)a=Nd(),xt.updateQueue=a,a.events=[s];else{var u=a.events;u===null?a.events=[s]:u.push(s)}}function zE(s){var a=Fn().memoizedState;return w6({ref:a,nextImpl:s}),function(){if((Xt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function GE(s,a){return Md(4,2,s,a)}function qE(s,a){return Md(4,4,s,a)}function VE(s,a){if(typeof a=="function"){s=s();var u=a(s);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function KE(s,a,u){u=u!=null?u.concat([s]):null,Md(4,4,VE.bind(null,a,s),u)}function S0(){}function WE(s,a){var u=Fn();a=a===void 0?null:a;var p=u.memoizedState;return a!==null&&p0(a,p[1])?p[0]:(u.memoizedState=[s,a],s)}function $E(s,a){var u=Fn();a=a===void 0?null:a;var p=u.memoizedState;if(a!==null&&p0(a,p[1]))return p[0];if(p=s(),Ca){_e(!0);try{s()}finally{_e(!1)}}return u.memoizedState=[p,a],p}function T0(s,a,u){return u===void 0||(Ao&1073741824)!==0&&(Ut&261930)===0?s.memoizedState=a:(s.memoizedState=u,s=j_(),xt.lanes|=s,As|=s,u)}function jE(s,a,u,p){return $r(u,a)?u:zl.current!==null?(s=T0(s,u,p),$r(s,a)||(Vn=!0),s):(Ao&42)===0||(Ao&1073741824)!==0&&(Ut&261930)===0?(Vn=!0,s.memoizedState=u):(s=j_(),xt.lanes|=s,As|=s,a)}function YE(s,a,u,p,_){var S=q.p;q.p=S!==0&&8>S?S:8;var V=C.T,oe={};C.T=oe,C0(s,!1,a,u);try{var he=_(),Re=C.S;if(Re!==null&&Re(oe,he),he!==null&&typeof he=="object"&&typeof he.then=="function"){var Be=h6(he,p);Nu(s,a,Be,Qr(s))}else Nu(s,a,p,Qr(s))}catch(Fe){Nu(s,a,{then:function(){},status:"rejected",reason:Fe},Qr())}finally{q.p=S,V!==null&&oe.types!==null&&(V.types=oe.types),C.T=V}}function b6(){}function R0(s,a,u,p){if(s.tag!==5)throw Error(r(476));var _=JE(s).queue;YE(s,_,a,j,u===null?b6:function(){return ZE(s),u(p)})}function JE(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:j},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:u},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function ZE(s){var a=JE(s);a.next===null&&(a=s.alternate.memoizedState),Nu(s,a.next.queue,{},Qr())}function N0(){return ur(Ku)}function XE(){return Fn().memoizedState}function QE(){return Fn().memoizedState}function v6(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var u=Qr();s=ws(u);var p=bs(a,s,u);p!==null&&(Ur(p,a,u),xu(p,a,u)),a={cache:r0()},s.payload=a;return}a=a.return}}function E6(s,a,u){var p=Qr();u={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Od(s)?t_(a,u):(u=Wm(s,a,u,p),u!==null&&(Ur(u,s,p),n_(u,a,p)))}function e_(s,a,u){var p=Qr();Nu(s,a,u,p)}function Nu(s,a,u,p){var _={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Od(s))t_(a,_);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=a.lastRenderedReducer,S!==null))try{var V=a.lastRenderedState,oe=S(V,u);if(_.hasEagerState=!0,_.eagerState=oe,$r(oe,V))return hd(s,a,_,0),dn===null&&dd(),!1}catch{}finally{}if(u=Wm(s,a,_,p),u!==null)return Ur(u,s,p),n_(u,a,p),!0}return!1}function C0(s,a,u,p){if(p={lane:2,revertLane:ag(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Od(s)){if(a)throw Error(r(479))}else a=Wm(s,u,p,2),a!==null&&Ur(a,s,2)}function Od(s){var a=s.alternate;return s===xt||a!==null&&a===xt}function t_(s,a){Gl=Td=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function n_(s,a,u){if((u&4194048)!==0){var p=a.lanes;p&=s.pendingLanes,u|=p,a.lanes=u,ve(s,u)}}var Cu={readContext:ur,use:Cd,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useLayoutEffect:Mn,useInsertionEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useSyncExternalStore:Mn,useId:Mn,useHostTransitionStatus:Mn,useFormState:Mn,useActionState:Mn,useOptimistic:Mn,useMemoCache:Mn,useCacheRefresh:Mn};Cu.useEffectEvent=Mn;var r_={readContext:ur,use:Cd,useCallback:function(s,a){return Tr().memoizedState=[s,a===void 0?null:a],s},useContext:ur,useEffect:HE,useImperativeHandle:function(s,a,u){u=u!=null?u.concat([s]):null,kd(4194308,4,VE.bind(null,a,s),u)},useLayoutEffect:function(s,a){return kd(4194308,4,s,a)},useInsertionEffect:function(s,a){kd(4,2,s,a)},useMemo:function(s,a){var u=Tr();a=a===void 0?null:a;var p=s();if(Ca){_e(!0);try{s()}finally{_e(!1)}}return u.memoizedState=[p,a],p},useReducer:function(s,a,u){var p=Tr();if(u!==void 0){var _=u(a);if(Ca){_e(!0);try{u(a)}finally{_e(!1)}}}else _=a;return p.memoizedState=p.baseState=_,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:_},p.queue=s,s=s.dispatch=E6.bind(null,xt,s),[p.memoizedState,s]},useRef:function(s){var a=Tr();return s={current:s},a.memoizedState=s},useState:function(s){s=_0(s);var a=s.queue,u=e_.bind(null,xt,a);return a.dispatch=u,[s.memoizedState,u]},useDebugValue:S0,useDeferredValue:function(s,a){var u=Tr();return T0(u,s,a)},useTransition:function(){var s=_0(!1);return s=YE.bind(null,xt,s.queue,!0,!1),Tr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,u){var p=xt,_=Tr();if(Ft){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),dn===null)throw Error(r(349));(Ut&127)!==0||AE(p,a,u)}_.memoizedState=u;var S={value:u,getSnapshot:a};return _.queue=S,HE(TE.bind(null,p,S,s),[s]),p.flags|=2048,Vl(9,{destroy:void 0},SE.bind(null,p,S,u,a),null),u},useId:function(){var s=Tr(),a=dn.identifierPrefix;if(Ft){var u=Hi,p=Fi;u=(p&~(1<<32-ke(p)-1)).toString(32)+u,a="_"+a+"R_"+u,u=Rd++,0<u&&(a+="H"+u.toString(32)),a+="_"}else u=p6++,a="_"+a+"r_"+u.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:N0,useFormState:LE,useActionState:LE,useOptimistic:function(s){var a=Tr();a.memoizedState=a.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=C0.bind(null,xt,!0,u),u.dispatch=a,[s,a]},useMemoCache:b0,useCacheRefresh:function(){return Tr().memoizedState=v6.bind(null,xt)},useEffectEvent:function(s){var a=Tr(),u={impl:s};return a.memoizedState=u,function(){if((Xt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},I0={readContext:ur,use:Cd,useCallback:WE,useContext:ur,useEffect:A0,useImperativeHandle:KE,useInsertionEffect:GE,useLayoutEffect:qE,useMemo:$E,useReducer:Id,useRef:FE,useState:function(){return Id(So)},useDebugValue:S0,useDeferredValue:function(s,a){var u=Fn();return jE(u,ln.memoizedState,s,a)},useTransition:function(){var s=Id(So)[0],a=Fn().memoizedState;return[typeof s=="boolean"?s:Ru(s),a]},useSyncExternalStore:xE,useId:XE,useHostTransitionStatus:N0,useFormState:UE,useActionState:UE,useOptimistic:function(s,a){var u=Fn();return CE(u,ln,s,a)},useMemoCache:b0,useCacheRefresh:QE};I0.useEffectEvent=zE;var i_={readContext:ur,use:Cd,useCallback:WE,useContext:ur,useEffect:A0,useImperativeHandle:KE,useInsertionEffect:GE,useLayoutEffect:qE,useMemo:$E,useReducer:E0,useRef:FE,useState:function(){return E0(So)},useDebugValue:S0,useDeferredValue:function(s,a){var u=Fn();return ln===null?T0(u,s,a):jE(u,ln.memoizedState,s,a)},useTransition:function(){var s=E0(So)[0],a=Fn().memoizedState;return[typeof s=="boolean"?s:Ru(s),a]},useSyncExternalStore:xE,useId:XE,useHostTransitionStatus:N0,useFormState:PE,useActionState:PE,useOptimistic:function(s,a){var u=Fn();return ln!==null?CE(u,ln,s,a):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:b0,useCacheRefresh:QE};i_.useEffectEvent=zE;function k0(s,a,u,p){a=s.memoizedState,u=u(p,a),u=u==null?a:b({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var M0={enqueueSetState:function(s,a,u){s=s._reactInternals;var p=Qr(),_=ws(p);_.payload=a,u!=null&&(_.callback=u),a=bs(s,_,p),a!==null&&(Ur(a,s,p),xu(a,s,p))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var p=Qr(),_=ws(p);_.tag=1,_.payload=a,u!=null&&(_.callback=u),a=bs(s,_,p),a!==null&&(Ur(a,s,p),xu(a,s,p))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=Qr(),p=ws(u);p.tag=2,a!=null&&(p.callback=a),a=bs(s,p,u),a!==null&&(Ur(a,s,u),xu(a,s,u))}};function o_(s,a,u,p,_,S,V){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,S,V):a.prototype&&a.prototype.isPureReactComponent?!mu(u,p)||!mu(_,S):!0}function s_(s,a,u,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,p),a.state!==s&&M0.enqueueReplaceState(a,a.state,null)}function Ia(s,a){var u=a;if("ref"in a){u={};for(var p in a)p!=="ref"&&(u[p]=a[p])}if(s=s.defaultProps){u===a&&(u=b({},u));for(var _ in s)u[_]===void 0&&(u[_]=s[_])}return u}function a_(s){fd(s)}function l_(s){console.error(s)}function c_(s){fd(s)}function Bd(s,a){try{var u=s.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(p){setTimeout(function(){throw p})}}function u_(s,a,u){try{var p=s.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function O0(s,a,u){return u=ws(u),u.tag=3,u.payload={element:null},u.callback=function(){Bd(s,a)},u}function f_(s){return s=ws(s),s.tag=3,s}function d_(s,a,u,p){var _=u.type.getDerivedStateFromError;if(typeof _=="function"){var S=p.value;s.payload=function(){return _(S)},s.callback=function(){u_(a,u,p)}}var V=u.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(s.callback=function(){u_(a,u,p),typeof _!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var oe=p.stack;this.componentDidCatch(p.value,{componentStack:oe!==null?oe:""})})}function _6(s,a,u,p,_){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(a=u.alternate,a!==null&&Ul(a,u,_,!0),u=Yr.current,u!==null){switch(u.tag){case 31:case 13:return di===null?Wd():u.alternate===null&&On===0&&(On=3),u.flags&=-257,u.flags|=65536,u.lanes=_,p===Ed?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([p]):a.add(p),ig(s,p,_)),!1;case 22:return u.flags|=65536,p===Ed?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([p]):u.add(p)),ig(s,p,_)),!1}throw Error(r(435,u.tag))}return ig(s,p,_),Wd(),!1}if(Ft)return a=Yr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=_,p!==Xm&&(s=Error(r(422),{cause:p}),wu(li(s,u)))):(p!==Xm&&(a=Error(r(423),{cause:p}),wu(li(a,u))),s=s.current.alternate,s.flags|=65536,_&=-_,s.lanes|=_,p=li(p,u),_=O0(s.stateNode,p,_),c0(s,_),On!==4&&(On=2)),!1;var S=Error(r(520),{cause:p});if(S=li(S,u),Du===null?Du=[S]:Du.push(S),On!==4&&(On=2),a===null)return!0;p=li(p,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,s=_&-_,u.lanes|=s,s=O0(u.stateNode,p,s),c0(u,s),!1;case 1:if(a=u.type,S=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ss===null||!Ss.has(S))))return u.flags|=65536,_&=-_,u.lanes|=_,_=f_(_),d_(_,s,u,p),c0(u,_),!1}u=u.return}while(u!==null);return!1}var B0=Error(r(461)),Vn=!1;function fr(s,a,u,p){a.child=s===null?gE(a,null,u,p):Na(a,s.child,u,p)}function h_(s,a,u,p,_){u=u.render;var S=a.ref;if("ref"in p){var V={};for(var oe in p)oe!=="ref"&&(V[oe]=p[oe])}else V=p;return Aa(a),p=m0(s,a,u,V,S,_),oe=g0(),s!==null&&!Vn?(y0(s,a,_),To(s,a,_)):(Ft&&oe&&Jm(a),a.flags|=1,fr(s,a,p,_),a.child)}function p_(s,a,u,p,_){if(s===null){var S=u.type;return typeof S=="function"&&!$m(S)&&S.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=S,m_(s,a,S,p,_)):(s=md(u.type,null,p,a,a.mode,_),s.ref=a.ref,s.return=a,a.child=s)}if(S=s.child,!G0(s,_)){var V=S.memoizedProps;if(u=u.compare,u=u!==null?u:mu,u(V,p)&&s.ref===a.ref)return To(s,a,_)}return a.flags|=1,s=vo(S,p),s.ref=a.ref,s.return=a,a.child=s}function m_(s,a,u,p,_){if(s!==null){var S=s.memoizedProps;if(mu(S,p)&&s.ref===a.ref)if(Vn=!1,a.pendingProps=p=S,G0(s,_))(s.flags&131072)!==0&&(Vn=!0);else return a.lanes=s.lanes,To(s,a,_)}return L0(s,a,u,p,_)}function g_(s,a,u,p){var _=p.children,S=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((a.flags&128)!==0){if(S=S!==null?S.baseLanes|u:u,s!==null){for(p=a.child=s.child,_=0;p!==null;)_=_|p.lanes|p.childLanes,p=p.sibling;p=_&~S}else p=0,a.child=null;return y_(s,a,S,u,p)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&bd(a,S!==null?S.cachePool:null),S!==null?bE(a,S):f0(),vE(a);else return p=a.lanes=536870912,y_(s,a,S!==null?S.baseLanes|u:u,u,p)}else S!==null?(bd(a,S.cachePool),bE(a,S),Es(),a.memoizedState=null):(s!==null&&bd(a,null),f0(),Es());return fr(s,a,_,u),a.child}function Iu(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function y_(s,a,u,p,_){var S=o0();return S=S===null?null:{parent:Gn._currentValue,pool:S},a.memoizedState={baseLanes:u,cachePool:S},s!==null&&bd(a,null),f0(),vE(a),s!==null&&Ul(s,a,p,!0),a.childLanes=_,null}function Ld(s,a){return a=Dd({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function w_(s,a,u){return Na(a,s.child,null,u),s=Ld(a,a.pendingProps),s.flags|=2,Jr(a),a.memoizedState=null,s}function x6(s,a,u){var p=a.pendingProps,_=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Ft){if(p.mode==="hidden")return s=Ld(a,p),a.lanes=536870912,Iu(null,s);if(h0(a),(s=yn)?(s=Ix(s,fi),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:hs!==null?{id:Fi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},u=tE(s),u.return=a,a.child=u,cr=a,yn=null)):s=null,s===null)throw ms(a);return a.lanes=536870912,null}return Ld(a,p)}var S=s.memoizedState;if(S!==null){var V=S.dehydrated;if(h0(a),_)if(a.flags&256)a.flags&=-257,a=w_(s,a,u);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(r(558));else if(Vn||Ul(s,a,u,!1),_=(u&s.childLanes)!==0,Vn||_){if(p=dn,p!==null&&(V=Ae(p,u),V!==0&&V!==S.retryLane))throw S.retryLane=V,va(s,V),Ur(p,s,V),B0;Wd(),a=w_(s,a,u)}else s=S.treeContext,yn=hi(V.nextSibling),cr=a,Ft=!0,ps=null,fi=!1,s!==null&&iE(a,s),a=Ld(a,p),a.flags|=4096;return a}return s=vo(s.child,{mode:p.mode,children:p.children}),s.ref=a.ref,a.child=s,s.return=a,s}function Ud(s,a){var u=a.ref;if(u===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(s===null||s.ref!==u)&&(a.flags|=4194816)}}function L0(s,a,u,p,_){return Aa(a),u=m0(s,a,u,p,void 0,_),p=g0(),s!==null&&!Vn?(y0(s,a,_),To(s,a,_)):(Ft&&p&&Jm(a),a.flags|=1,fr(s,a,u,_),a.child)}function b_(s,a,u,p,_,S){return Aa(a),a.updateQueue=null,u=_E(a,p,u,_),EE(s),p=g0(),s!==null&&!Vn?(y0(s,a,S),To(s,a,S)):(Ft&&p&&Jm(a),a.flags|=1,fr(s,a,u,S),a.child)}function v_(s,a,u,p,_){if(Aa(a),a.stateNode===null){var S=Ml,V=u.contextType;typeof V=="object"&&V!==null&&(S=ur(V)),S=new u(p,S),a.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=M0,a.stateNode=S,S._reactInternals=a,S=a.stateNode,S.props=p,S.state=a.memoizedState,S.refs={},a0(a),V=u.contextType,S.context=typeof V=="object"&&V!==null?ur(V):Ml,S.state=a.memoizedState,V=u.getDerivedStateFromProps,typeof V=="function"&&(k0(a,u,V,p),S.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(V=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),V!==S.state&&M0.enqueueReplaceState(S,S.state,null),Su(a,p,S,_),Au(),S.state=a.memoizedState),typeof S.componentDidMount=="function"&&(a.flags|=4194308),p=!0}else if(s===null){S=a.stateNode;var oe=a.memoizedProps,he=Ia(u,oe);S.props=he;var Re=S.context,Be=u.contextType;V=Ml,typeof Be=="object"&&Be!==null&&(V=ur(Be));var Fe=u.getDerivedStateFromProps;Be=typeof Fe=="function"||typeof S.getSnapshotBeforeUpdate=="function",oe=a.pendingProps!==oe,Be||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(oe||Re!==V)&&s_(a,S,p,V),ys=!1;var Ce=a.memoizedState;S.state=Ce,Su(a,p,S,_),Au(),Re=a.memoizedState,oe||Ce!==Re||ys?(typeof Fe=="function"&&(k0(a,u,Fe,p),Re=a.memoizedState),(he=ys||o_(a,u,he,p,Ce,Re,V))?(Be||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=Re),S.props=p,S.state=Re,S.context=V,p=he):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{S=a.stateNode,l0(s,a),V=a.memoizedProps,Be=Ia(u,V),S.props=Be,Fe=a.pendingProps,Ce=S.context,Re=u.contextType,he=Ml,typeof Re=="object"&&Re!==null&&(he=ur(Re)),oe=u.getDerivedStateFromProps,(Re=typeof oe=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V!==Fe||Ce!==he)&&s_(a,S,p,he),ys=!1,Ce=a.memoizedState,S.state=Ce,Su(a,p,S,_),Au();var Me=a.memoizedState;V!==Fe||Ce!==Me||ys||s!==null&&s.dependencies!==null&&yd(s.dependencies)?(typeof oe=="function"&&(k0(a,u,oe,p),Me=a.memoizedState),(Be=ys||o_(a,u,Be,p,Ce,Me,he)||s!==null&&s.dependencies!==null&&yd(s.dependencies))?(Re||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,Me,he),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,Me,he)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||V===s.memoizedProps&&Ce===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&Ce===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Me),S.props=p,S.state=Me,S.context=he,p=Be):(typeof S.componentDidUpdate!="function"||V===s.memoizedProps&&Ce===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&Ce===s.memoizedState||(a.flags|=1024),p=!1)}return S=p,Ud(s,a),p=(a.flags&128)!==0,S||p?(S=a.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:S.render(),a.flags|=1,s!==null&&p?(a.child=Na(a,s.child,null,_),a.child=Na(a,null,u,_)):fr(s,a,u,_),a.memoizedState=S.state,s=a.child):s=To(s,a,_),s}function E_(s,a,u,p){return _a(),a.flags|=256,fr(s,a,u,p),a.child}var U0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function D0(s){return{baseLanes:s,cachePool:uE()}}function P0(s,a,u){return s=s!==null?s.childLanes&~u:0,a&&(s|=Xr),s}function __(s,a,u){var p=a.pendingProps,_=!1,S=(a.flags&128)!==0,V;if((V=S)||(V=s!==null&&s.memoizedState===null?!1:(Pn.current&2)!==0),V&&(_=!0,a.flags&=-129),V=(a.flags&32)!==0,a.flags&=-33,s===null){if(Ft){if(_?vs(a):Es(),(s=yn)?(s=Ix(s,fi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:hs!==null?{id:Fi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},u=tE(s),u.return=a,a.child=u,cr=a,yn=null)):s=null,s===null)throw ms(a);return vg(s)?a.lanes=32:a.lanes=536870912,null}var oe=p.children;return p=p.fallback,_?(Es(),_=a.mode,oe=Dd({mode:"hidden",children:oe},_),p=Ea(p,_,u,null),oe.return=a,p.return=a,oe.sibling=p,a.child=oe,p=a.child,p.memoizedState=D0(u),p.childLanes=P0(s,V,u),a.memoizedState=U0,Iu(null,p)):(vs(a),F0(a,oe))}var he=s.memoizedState;if(he!==null&&(oe=he.dehydrated,oe!==null)){if(S)a.flags&256?(vs(a),a.flags&=-257,a=H0(s,a,u)):a.memoizedState!==null?(Es(),a.child=s.child,a.flags|=128,a=null):(Es(),oe=p.fallback,_=a.mode,p=Dd({mode:"visible",children:p.children},_),oe=Ea(oe,_,u,null),oe.flags|=2,p.return=a,oe.return=a,p.sibling=oe,a.child=p,Na(a,s.child,null,u),p=a.child,p.memoizedState=D0(u),p.childLanes=P0(s,V,u),a.memoizedState=U0,a=Iu(null,p));else if(vs(a),vg(oe)){if(V=oe.nextSibling&&oe.nextSibling.dataset,V)var Re=V.dgst;V=Re,p=Error(r(419)),p.stack="",p.digest=V,wu({value:p,source:null,stack:null}),a=H0(s,a,u)}else if(Vn||Ul(s,a,u,!1),V=(u&s.childLanes)!==0,Vn||V){if(V=dn,V!==null&&(p=Ae(V,u),p!==0&&p!==he.retryLane))throw he.retryLane=p,va(s,p),Ur(V,s,p),B0;bg(oe)||Wd(),a=H0(s,a,u)}else bg(oe)?(a.flags|=192,a.child=s.child,a=null):(s=he.treeContext,yn=hi(oe.nextSibling),cr=a,Ft=!0,ps=null,fi=!1,s!==null&&iE(a,s),a=F0(a,p.children),a.flags|=4096);return a}return _?(Es(),oe=p.fallback,_=a.mode,he=s.child,Re=he.sibling,p=vo(he,{mode:"hidden",children:p.children}),p.subtreeFlags=he.subtreeFlags&65011712,Re!==null?oe=vo(Re,oe):(oe=Ea(oe,_,u,null),oe.flags|=2),oe.return=a,p.return=a,p.sibling=oe,a.child=p,Iu(null,p),p=a.child,oe=s.child.memoizedState,oe===null?oe=D0(u):(_=oe.cachePool,_!==null?(he=Gn._currentValue,_=_.parent!==he?{parent:he,pool:he}:_):_=uE(),oe={baseLanes:oe.baseLanes|u,cachePool:_}),p.memoizedState=oe,p.childLanes=P0(s,V,u),a.memoizedState=U0,Iu(s.child,p)):(vs(a),u=s.child,s=u.sibling,u=vo(u,{mode:"visible",children:p.children}),u.return=a,u.sibling=null,s!==null&&(V=a.deletions,V===null?(a.deletions=[s],a.flags|=16):V.push(s)),a.child=u,a.memoizedState=null,u)}function F0(s,a){return a=Dd({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Dd(s,a){return s=jr(22,s,null,a),s.lanes=0,s}function H0(s,a,u){return Na(a,s.child,null,u),s=F0(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function x_(s,a,u){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),t0(s.return,a,u)}function z0(s,a,u,p,_,S){var V=s.memoizedState;V===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:_,treeForkCount:S}:(V.isBackwards=a,V.rendering=null,V.renderingStartTime=0,V.last=p,V.tail=u,V.tailMode=_,V.treeForkCount=S)}function A_(s,a,u){var p=a.pendingProps,_=p.revealOrder,S=p.tail;p=p.children;var V=Pn.current,oe=(V&2)!==0;if(oe?(V=V&1|2,a.flags|=128):V&=1,R(Pn,V),fr(s,a,p,u),p=Ft?yu:0,!oe&&s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&x_(s,u,a);else if(s.tag===19)x_(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(_){case"forwards":for(u=a.child,_=null;u!==null;)s=u.alternate,s!==null&&Sd(s)===null&&(_=u),u=u.sibling;u=_,u===null?(_=a.child,a.child=null):(_=u.sibling,u.sibling=null),z0(a,!1,_,u,S,p);break;case"backwards":case"unstable_legacy-backwards":for(u=null,_=a.child,a.child=null;_!==null;){if(s=_.alternate,s!==null&&Sd(s)===null){a.child=_;break}s=_.sibling,_.sibling=u,u=_,_=s}z0(a,!0,u,null,S,p);break;case"together":z0(a,!1,null,null,void 0,p);break;default:a.memoizedState=null}return a.child}function To(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),As|=a.lanes,(u&a.childLanes)===0)if(s!==null){if(Ul(s,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,u=vo(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=vo(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function G0(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&yd(s)))}function A6(s,a,u){switch(a.tag){case 3:De(a,a.stateNode.containerInfo),gs(a,Gn,s.memoizedState.cache),_a();break;case 27:case 5:ct(a);break;case 4:De(a,a.stateNode.containerInfo);break;case 10:gs(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,h0(a),null;break;case 13:var p=a.memoizedState;if(p!==null)return p.dehydrated!==null?(vs(a),a.flags|=128,null):(u&a.child.childLanes)!==0?__(s,a,u):(vs(a),s=To(s,a,u),s!==null?s.sibling:null);vs(a);break;case 19:var _=(s.flags&128)!==0;if(p=(u&a.childLanes)!==0,p||(Ul(s,a,u,!1),p=(u&a.childLanes)!==0),_){if(p)return A_(s,a,u);a.flags|=128}if(_=a.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),R(Pn,Pn.current),p)break;return null;case 22:return a.lanes=0,g_(s,a,u,a.pendingProps);case 24:gs(a,Gn,s.memoizedState.cache)}return To(s,a,u)}function S_(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps)Vn=!0;else{if(!G0(s,u)&&(a.flags&128)===0)return Vn=!1,A6(s,a,u);Vn=(s.flags&131072)!==0}else Vn=!1,Ft&&(a.flags&1048576)!==0&&rE(a,yu,a.index);switch(a.lanes=0,a.tag){case 16:e:{var p=a.pendingProps;if(s=Ta(a.elementType),a.type=s,typeof s=="function")$m(s)?(p=Ia(s,p),a.tag=1,a=v_(null,a,s,p,u)):(a.tag=0,a=L0(null,a,s,p,u));else{if(s!=null){var _=s.$$typeof;if(_===Y){a.tag=11,a=h_(null,a,s,p,u);break e}else if(_===re){a.tag=14,a=p_(null,a,s,p,u);break e}}throw a=g(s)||s,Error(r(306,a,""))}}return a;case 0:return L0(s,a,a.type,a.pendingProps,u);case 1:return p=a.type,_=Ia(p,a.pendingProps),v_(s,a,p,_,u);case 3:e:{if(De(a,a.stateNode.containerInfo),s===null)throw Error(r(387));p=a.pendingProps;var S=a.memoizedState;_=S.element,l0(s,a),Su(a,p,null,u);var V=a.memoizedState;if(p=V.cache,gs(a,Gn,p),p!==S.cache&&n0(a,[Gn],u,!0),Au(),p=V.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:V.cache},a.updateQueue.baseState=S,a.memoizedState=S,a.flags&256){a=E_(s,a,p,u);break e}else if(p!==_){_=li(Error(r(424)),a),wu(_),a=E_(s,a,p,u);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(yn=hi(s.firstChild),cr=a,Ft=!0,ps=null,fi=!0,u=gE(a,null,p,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(_a(),p===_){a=To(s,a,u);break e}fr(s,a,p,u)}a=a.child}return a;case 26:return Ud(s,a),s===null?(u=Ux(a.type,null,a.pendingProps,null))?a.memoizedState=u:Ft||(u=a.type,s=a.pendingProps,p=Qd(ue.current).createElement(u),p[Xe]=a,p[Pt]=s,dr(p,u,s),kn(p),a.stateNode=p):a.memoizedState=Ux(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return ct(a),s===null&&Ft&&(p=a.stateNode=Ox(a.type,a.pendingProps,ue.current),cr=a,fi=!0,_=yn,Cs(a.type)?(Eg=_,yn=hi(p.firstChild)):yn=_),fr(s,a,a.pendingProps.children,u),Ud(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Ft&&((_=p=yn)&&(p=e8(p,a.type,a.pendingProps,fi),p!==null?(a.stateNode=p,cr=a,yn=hi(p.firstChild),fi=!1,_=!0):_=!1),_||ms(a)),ct(a),_=a.type,S=a.pendingProps,V=s!==null?s.memoizedProps:null,p=S.children,gg(_,S)?p=null:V!==null&&gg(_,V)&&(a.flags|=32),a.memoizedState!==null&&(_=m0(s,a,m6,null,null,u),Ku._currentValue=_),Ud(s,a),fr(s,a,p,u),a.child;case 6:return s===null&&Ft&&((s=u=yn)&&(u=t8(u,a.pendingProps,fi),u!==null?(a.stateNode=u,cr=a,yn=null,s=!0):s=!1),s||ms(a)),null;case 13:return __(s,a,u);case 4:return De(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=Na(a,null,p,u):fr(s,a,p,u),a.child;case 11:return h_(s,a,a.type,a.pendingProps,u);case 7:return fr(s,a,a.pendingProps,u),a.child;case 8:return fr(s,a,a.pendingProps.children,u),a.child;case 12:return fr(s,a,a.pendingProps.children,u),a.child;case 10:return p=a.pendingProps,gs(a,a.type,p.value),fr(s,a,p.children,u),a.child;case 9:return _=a.type._context,p=a.pendingProps.children,Aa(a),_=ur(_),p=p(_),a.flags|=1,fr(s,a,p,u),a.child;case 14:return p_(s,a,a.type,a.pendingProps,u);case 15:return m_(s,a,a.type,a.pendingProps,u);case 19:return A_(s,a,u);case 31:return x6(s,a,u);case 22:return g_(s,a,u,a.pendingProps);case 24:return Aa(a),p=ur(Gn),s===null?(_=o0(),_===null&&(_=dn,S=r0(),_.pooledCache=S,S.refCount++,S!==null&&(_.pooledCacheLanes|=u),_=S),a.memoizedState={parent:p,cache:_},a0(a),gs(a,Gn,_)):((s.lanes&u)!==0&&(l0(s,a),Su(a,null,null,u),Au()),_=s.memoizedState,S=a.memoizedState,_.parent!==p?(_={parent:p,cache:p},a.memoizedState=_,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=_),gs(a,Gn,p)):(p=S.cache,gs(a,Gn,p),p!==_.cache&&n0(a,[Gn],u,!0))),fr(s,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Ro(s){s.flags|=4}function q0(s,a,u,p,_){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(_&335544128)===_)if(s.stateNode.complete)s.flags|=8192;else if(X_())s.flags|=8192;else throw Ra=Ed,s0}else s.flags&=-16777217}function T_(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!zx(a))if(X_())s.flags|=8192;else throw Ra=Ed,s0}function Pd(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?gn():536870912,s.lanes|=a,jl|=a)}function ku(s,a){if(!Ft)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function wn(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,p=0;if(a)for(var _=s.child;_!==null;)u|=_.lanes|_.childLanes,p|=_.subtreeFlags&65011712,p|=_.flags&65011712,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)u|=_.lanes|_.childLanes,p|=_.subtreeFlags,p|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=p,s.childLanes=u,a}function S6(s,a,u){var p=a.pendingProps;switch(Zm(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(a),null;case 1:return wn(a),null;case 3:return u=a.stateNode,p=null,s!==null&&(p=s.memoizedState.cache),a.memoizedState.cache!==p&&(a.flags|=2048),xo(Gn),Ue(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(Ll(a)?Ro(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Qm())),wn(a),null;case 26:var _=a.type,S=a.memoizedState;return s===null?(Ro(a),S!==null?(wn(a),T_(a,S)):(wn(a),q0(a,_,null,p,u))):S?S!==s.memoizedState?(Ro(a),wn(a),T_(a,S)):(wn(a),a.flags&=-16777217):(s=s.memoizedProps,s!==p&&Ro(a),wn(a),q0(a,_,s,p,u)),null;case 27:if(ot(a),u=ue.current,_=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==p&&Ro(a);else{if(!p){if(a.stateNode===null)throw Error(r(166));return wn(a),null}s=G.current,Ll(a)?oE(a):(s=Ox(_,p,u),a.stateNode=s,Ro(a))}return wn(a),null;case 5:if(ot(a),_=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==p&&Ro(a);else{if(!p){if(a.stateNode===null)throw Error(r(166));return wn(a),null}if(S=G.current,Ll(a))oE(a);else{var V=Qd(ue.current);switch(S){case 1:S=V.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:S=V.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":S=V.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":S=V.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":S=V.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof p.is=="string"?V.createElement("select",{is:p.is}):V.createElement("select"),p.multiple?S.multiple=!0:p.size&&(S.size=p.size);break;default:S=typeof p.is=="string"?V.createElement(_,{is:p.is}):V.createElement(_)}}S[Xe]=a,S[Pt]=p;e:for(V=a.child;V!==null;){if(V.tag===5||V.tag===6)S.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===a)break e;for(;V.sibling===null;){if(V.return===null||V.return===a)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}a.stateNode=S;e:switch(dr(S,_,p),_){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Ro(a)}}return wn(a),q0(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,u),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==p&&Ro(a);else{if(typeof p!="string"&&a.stateNode===null)throw Error(r(166));if(s=ue.current,Ll(a)){if(s=a.stateNode,u=a.memoizedProps,p=null,_=cr,_!==null)switch(_.tag){case 27:case 5:p=_.memoizedProps}s[Xe]=a,s=!!(s.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||_x(s.nodeValue,u)),s||ms(a,!0)}else s=Qd(s).createTextNode(p),s[Xe]=a,a.stateNode=s}return wn(a),null;case 31:if(u=a.memoizedState,s===null||s.memoizedState!==null){if(p=Ll(a),u!==null){if(s===null){if(!p)throw Error(r(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Xe]=a}else _a(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;wn(a),s=!1}else u=Qm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=u),s=!0;if(!s)return a.flags&256?(Jr(a),a):(Jr(a),null);if((a.flags&128)!==0)throw Error(r(558))}return wn(a),null;case 13:if(p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_=Ll(a),p!==null&&p.dehydrated!==null){if(s===null){if(!_)throw Error(r(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Xe]=a}else _a(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;wn(a),_=!1}else _=Qm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=_),_=!0;if(!_)return a.flags&256?(Jr(a),a):(Jr(a),null)}return Jr(a),(a.flags&128)!==0?(a.lanes=u,a):(u=p!==null,s=s!==null&&s.memoizedState!==null,u&&(p=a.child,_=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(_=p.alternate.memoizedState.cachePool.pool),S=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==_&&(p.flags|=2048)),u!==s&&u&&(a.child.flags|=8192),Pd(a,a.updateQueue),wn(a),null);case 4:return Ue(),s===null&&fg(a.stateNode.containerInfo),wn(a),null;case 10:return xo(a.type),wn(a),null;case 19:if(y(Pn),p=a.memoizedState,p===null)return wn(a),null;if(_=(a.flags&128)!==0,S=p.rendering,S===null)if(_)ku(p,!1);else{if(On!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(S=Sd(s),S!==null){for(a.flags|=128,ku(p,!1),s=S.updateQueue,a.updateQueue=s,Pd(a,s),a.subtreeFlags=0,s=u,u=a.child;u!==null;)eE(u,s),u=u.sibling;return R(Pn,Pn.current&1|2),Ft&&Eo(a,p.treeForkCount),a.child}s=s.sibling}p.tail!==null&&$e()>qd&&(a.flags|=128,_=!0,ku(p,!1),a.lanes=4194304)}else{if(!_)if(s=Sd(S),s!==null){if(a.flags|=128,_=!0,s=s.updateQueue,a.updateQueue=s,Pd(a,s),ku(p,!0),p.tail===null&&p.tailMode==="hidden"&&!S.alternate&&!Ft)return wn(a),null}else 2*$e()-p.renderingStartTime>qd&&u!==536870912&&(a.flags|=128,_=!0,ku(p,!1),a.lanes=4194304);p.isBackwards?(S.sibling=a.child,a.child=S):(s=p.last,s!==null?s.sibling=S:a.child=S,p.last=S)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=$e(),s.sibling=null,u=Pn.current,R(Pn,_?u&1|2:u&1),Ft&&Eo(a,p.treeForkCount),s):(wn(a),null);case 22:case 23:return Jr(a),d0(),p=a.memoizedState!==null,s!==null?s.memoizedState!==null!==p&&(a.flags|=8192):p&&(a.flags|=8192),p?(u&536870912)!==0&&(a.flags&128)===0&&(wn(a),a.subtreeFlags&6&&(a.flags|=8192)):wn(a),u=a.updateQueue,u!==null&&Pd(a,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),p=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),p!==u&&(a.flags|=2048),s!==null&&y(Sa),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),xo(Gn),wn(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function T6(s,a){switch(Zm(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return xo(Gn),Ue(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return ot(a),null;case 31:if(a.memoizedState!==null){if(Jr(a),a.alternate===null)throw Error(r(340));_a()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(Jr(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));_a()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return y(Pn),null;case 4:return Ue(),null;case 10:return xo(a.type),null;case 22:case 23:return Jr(a),d0(),s!==null&&y(Sa),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return xo(Gn),null;case 25:return null;default:return null}}function R_(s,a){switch(Zm(a),a.tag){case 3:xo(Gn),Ue();break;case 26:case 27:case 5:ot(a);break;case 4:Ue();break;case 31:a.memoizedState!==null&&Jr(a);break;case 13:Jr(a);break;case 19:y(Pn);break;case 10:xo(a.type);break;case 22:case 23:Jr(a),d0(),s!==null&&y(Sa);break;case 24:xo(Gn)}}function Mu(s,a){try{var u=a.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var _=p.next;u=_;do{if((u.tag&s)===s){p=void 0;var S=u.create,V=u.inst;p=S(),V.destroy=p}u=u.next}while(u!==_)}}catch(oe){rn(a,a.return,oe)}}function _s(s,a,u){try{var p=a.updateQueue,_=p!==null?p.lastEffect:null;if(_!==null){var S=_.next;p=S;do{if((p.tag&s)===s){var V=p.inst,oe=V.destroy;if(oe!==void 0){V.destroy=void 0,_=a;var he=u,Re=oe;try{Re()}catch(Be){rn(_,he,Be)}}}p=p.next}while(p!==S)}}catch(Be){rn(a,a.return,Be)}}function N_(s){var a=s.updateQueue;if(a!==null){var u=s.stateNode;try{wE(a,u)}catch(p){rn(s,s.return,p)}}}function C_(s,a,u){u.props=Ia(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(p){rn(s,a,p)}}function Ou(s,a){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var p=s.stateNode;break;case 30:p=s.stateNode;break;default:p=s.stateNode}typeof u=="function"?s.refCleanup=u(p):u.current=p}}catch(_){rn(s,a,_)}}function zi(s,a){var u=s.ref,p=s.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(_){rn(s,a,_)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(_){rn(s,a,_)}else u.current=null}function I_(s){var a=s.type,u=s.memoizedProps,p=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(_){rn(s,s.return,_)}}function V0(s,a,u){try{var p=s.stateNode;j6(p,s.type,u,a),p[Pt]=a}catch(_){rn(s,s.return,_)}}function k_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Cs(s.type)||s.tag===4}function K0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||k_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Cs(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function W0(s,a,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(s),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=wo));else if(p!==4&&(p===27&&Cs(s.type)&&(u=s.stateNode,a=null),s=s.child,s!==null))for(W0(s,a,u),s=s.sibling;s!==null;)W0(s,a,u),s=s.sibling}function Fd(s,a,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(p!==4&&(p===27&&Cs(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(Fd(s,a,u),s=s.sibling;s!==null;)Fd(s,a,u),s=s.sibling}function M_(s){var a=s.stateNode,u=s.memoizedProps;try{for(var p=s.type,_=a.attributes;_.length;)a.removeAttributeNode(_[0]);dr(a,p,u),a[Xe]=s,a[Pt]=u}catch(S){rn(s,s.return,S)}}var No=!1,Kn=!1,$0=!1,O_=typeof WeakSet=="function"?WeakSet:Set,rr=null;function R6(s,a){if(s=s.containerInfo,pg=sh,s=Kv(s),Hm(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var _=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{u.nodeType,S.nodeType}catch{u=null;break e}var V=0,oe=-1,he=-1,Re=0,Be=0,Fe=s,Ce=null;t:for(;;){for(var Me;Fe!==u||_!==0&&Fe.nodeType!==3||(oe=V+_),Fe!==S||p!==0&&Fe.nodeType!==3||(he=V+p),Fe.nodeType===3&&(V+=Fe.nodeValue.length),(Me=Fe.firstChild)!==null;)Ce=Fe,Fe=Me;for(;;){if(Fe===s)break t;if(Ce===u&&++Re===_&&(oe=V),Ce===S&&++Be===p&&(he=V),(Me=Fe.nextSibling)!==null)break;Fe=Ce,Ce=Fe.parentNode}Fe=Me}u=oe===-1||he===-1?null:{start:oe,end:he}}else u=null}u=u||{start:0,end:0}}else u=null;for(mg={focusedElem:s,selectionRange:u},sh=!1,rr=a;rr!==null;)if(a=rr,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,rr=s;else for(;rr!==null;){switch(a=rr,S=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(u=0;u<s.length;u++)_=s[u],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&S!==null){s=void 0,u=a,_=S.memoizedProps,S=S.memoizedState,p=u.stateNode;try{var Qe=Ia(u.type,_);s=p.getSnapshotBeforeUpdate(Qe,S),p.__reactInternalSnapshotBeforeUpdate=s}catch(dt){rn(u,u.return,dt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,u=s.nodeType,u===9)wg(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":wg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,rr=s;break}rr=a.return}}function B_(s,a,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:Io(s,u),p&4&&Mu(5,u);break;case 1:if(Io(s,u),p&4)if(s=u.stateNode,a===null)try{s.componentDidMount()}catch(V){rn(u,u.return,V)}else{var _=Ia(u.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(_,a,s.__reactInternalSnapshotBeforeUpdate)}catch(V){rn(u,u.return,V)}}p&64&&N_(u),p&512&&Ou(u,u.return);break;case 3:if(Io(s,u),p&64&&(s=u.updateQueue,s!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{wE(s,a)}catch(V){rn(u,u.return,V)}}break;case 27:a===null&&p&4&&M_(u);case 26:case 5:Io(s,u),a===null&&p&4&&I_(u),p&512&&Ou(u,u.return);break;case 12:Io(s,u);break;case 31:Io(s,u),p&4&&D_(s,u);break;case 13:Io(s,u),p&4&&P_(s,u),p&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=U6.bind(null,u),n8(s,u))));break;case 22:if(p=u.memoizedState!==null||No,!p){a=a!==null&&a.memoizedState!==null||Kn,_=No;var S=Kn;No=p,(Kn=a)&&!S?ko(s,u,(u.subtreeFlags&8772)!==0):Io(s,u),No=_,Kn=S}break;case 30:break;default:Io(s,u)}}function L_(s){var a=s.alternate;a!==null&&(s.alternate=null,L_(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&ga(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var _n=null,Mr=!1;function Co(s,a,u){for(u=u.child;u!==null;)U_(s,a,u),u=u.sibling}function U_(s,a,u){if(pe&&typeof pe.onCommitFiberUnmount=="function")try{pe.onCommitFiberUnmount(le,u)}catch{}switch(u.tag){case 26:Kn||zi(u,a),Co(s,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Kn||zi(u,a);var p=_n,_=Mr;Cs(u.type)&&(_n=u.stateNode,Mr=!1),Co(s,a,u),Gu(u.stateNode),_n=p,Mr=_;break;case 5:Kn||zi(u,a);case 6:if(p=_n,_=Mr,_n=null,Co(s,a,u),_n=p,Mr=_,_n!==null)if(Mr)try{(_n.nodeType===9?_n.body:_n.nodeName==="HTML"?_n.ownerDocument.body:_n).removeChild(u.stateNode)}catch(S){rn(u,a,S)}else try{_n.removeChild(u.stateNode)}catch(S){rn(u,a,S)}break;case 18:_n!==null&&(Mr?(s=_n,Nx(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),nc(s)):Nx(_n,u.stateNode));break;case 4:p=_n,_=Mr,_n=u.stateNode.containerInfo,Mr=!0,Co(s,a,u),_n=p,Mr=_;break;case 0:case 11:case 14:case 15:_s(2,u,a),Kn||_s(4,u,a),Co(s,a,u);break;case 1:Kn||(zi(u,a),p=u.stateNode,typeof p.componentWillUnmount=="function"&&C_(u,a,p)),Co(s,a,u);break;case 21:Co(s,a,u);break;case 22:Kn=(p=Kn)||u.memoizedState!==null,Co(s,a,u),Kn=p;break;default:Co(s,a,u)}}function D_(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{nc(s)}catch(u){rn(a,a.return,u)}}}function P_(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{nc(s)}catch(u){rn(a,a.return,u)}}function N6(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new O_),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new O_),a;default:throw Error(r(435,s.tag))}}function Hd(s,a){var u=N6(s);a.forEach(function(p){if(!u.has(p)){u.add(p);var _=D6.bind(null,s,p);p.then(_,_)}})}function Or(s,a){var u=a.deletions;if(u!==null)for(var p=0;p<u.length;p++){var _=u[p],S=s,V=a,oe=V;e:for(;oe!==null;){switch(oe.tag){case 27:if(Cs(oe.type)){_n=oe.stateNode,Mr=!1;break e}break;case 5:_n=oe.stateNode,Mr=!1;break e;case 3:case 4:_n=oe.stateNode.containerInfo,Mr=!0;break e}oe=oe.return}if(_n===null)throw Error(r(160));U_(S,V,_),_n=null,Mr=!1,S=_.alternate,S!==null&&(S.return=null),_.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)F_(a,s),a=a.sibling}var Ai=null;function F_(s,a){var u=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Or(a,s),Br(s),p&4&&(_s(3,s,s.return),Mu(3,s),_s(5,s,s.return));break;case 1:Or(a,s),Br(s),p&512&&(Kn||u===null||zi(u,u.return)),p&64&&No&&(s=s.updateQueue,s!==null&&(p=s.callbacks,p!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var _=Ai;if(Or(a,s),Br(s),p&512&&(Kn||u===null||zi(u,u.return)),p&4){var S=u!==null?u.memoizedState:null;if(p=s.memoizedState,u===null)if(p===null)if(s.stateNode===null){e:{p=s.type,u=s.memoizedProps,_=_.ownerDocument||_;t:switch(p){case"title":S=_.getElementsByTagName("title")[0],(!S||S[mo]||S[Xe]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=_.createElement(p),_.head.insertBefore(S,_.querySelector("head > title"))),dr(S,p,u),S[Xe]=s,kn(S),p=S;break e;case"link":var V=Fx("link","href",_).get(p+(u.href||""));if(V){for(var oe=0;oe<V.length;oe++)if(S=V[oe],S.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&S.getAttribute("rel")===(u.rel==null?null:u.rel)&&S.getAttribute("title")===(u.title==null?null:u.title)&&S.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){V.splice(oe,1);break t}}S=_.createElement(p),dr(S,p,u),_.head.appendChild(S);break;case"meta":if(V=Fx("meta","content",_).get(p+(u.content||""))){for(oe=0;oe<V.length;oe++)if(S=V[oe],S.getAttribute("content")===(u.content==null?null:""+u.content)&&S.getAttribute("name")===(u.name==null?null:u.name)&&S.getAttribute("property")===(u.property==null?null:u.property)&&S.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&S.getAttribute("charset")===(u.charSet==null?null:u.charSet)){V.splice(oe,1);break t}}S=_.createElement(p),dr(S,p,u),_.head.appendChild(S);break;default:throw Error(r(468,p))}S[Xe]=s,kn(S),p=S}s.stateNode=p}else Hx(_,s.type,s.stateNode);else s.stateNode=Px(_,p,s.memoizedProps);else S!==p?(S===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):S.count--,p===null?Hx(_,s.type,s.stateNode):Px(_,p,s.memoizedProps)):p===null&&s.stateNode!==null&&V0(s,s.memoizedProps,u.memoizedProps)}break;case 27:Or(a,s),Br(s),p&512&&(Kn||u===null||zi(u,u.return)),u!==null&&p&4&&V0(s,s.memoizedProps,u.memoizedProps);break;case 5:if(Or(a,s),Br(s),p&512&&(Kn||u===null||zi(u,u.return)),s.flags&32){_=s.stateNode;try{Sl(_,"")}catch(Qe){rn(s,s.return,Qe)}}p&4&&s.stateNode!=null&&(_=s.memoizedProps,V0(s,_,u!==null?u.memoizedProps:_)),p&1024&&($0=!0);break;case 6:if(Or(a,s),Br(s),p&4){if(s.stateNode===null)throw Error(r(162));p=s.memoizedProps,u=s.stateNode;try{u.nodeValue=p}catch(Qe){rn(s,s.return,Qe)}}break;case 3:if(nh=null,_=Ai,Ai=eh(a.containerInfo),Or(a,s),Ai=_,Br(s),p&4&&u!==null&&u.memoizedState.isDehydrated)try{nc(a.containerInfo)}catch(Qe){rn(s,s.return,Qe)}$0&&($0=!1,H_(s));break;case 4:p=Ai,Ai=eh(s.stateNode.containerInfo),Or(a,s),Br(s),Ai=p;break;case 12:Or(a,s),Br(s);break;case 31:Or(a,s),Br(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Hd(s,p)));break;case 13:Or(a,s),Br(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Gd=$e()),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Hd(s,p)));break;case 22:_=s.memoizedState!==null;var he=u!==null&&u.memoizedState!==null,Re=No,Be=Kn;if(No=Re||_,Kn=Be||he,Or(a,s),Kn=Be,No=Re,Br(s),p&8192)e:for(a=s.stateNode,a._visibility=_?a._visibility&-2:a._visibility|1,_&&(u===null||he||No||Kn||ka(s)),u=null,a=s;;){if(a.tag===5||a.tag===26){if(u===null){he=u=a;try{if(S=he.stateNode,_)V=S.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{oe=he.stateNode;var Fe=he.memoizedProps.style,Ce=Fe!=null&&Fe.hasOwnProperty("display")?Fe.display:null;oe.style.display=Ce==null||typeof Ce=="boolean"?"":(""+Ce).trim()}}catch(Qe){rn(he,he.return,Qe)}}}else if(a.tag===6){if(u===null){he=a;try{he.stateNode.nodeValue=_?"":he.memoizedProps}catch(Qe){rn(he,he.return,Qe)}}}else if(a.tag===18){if(u===null){he=a;try{var Me=he.stateNode;_?Cx(Me,!0):Cx(he.stateNode,!1)}catch(Qe){rn(he,he.return,Qe)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}p&4&&(p=s.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,Hd(s,u))));break;case 19:Or(a,s),Br(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Hd(s,p)));break;case 30:break;case 21:break;default:Or(a,s),Br(s)}}function Br(s){var a=s.flags;if(a&2){try{for(var u,p=s.return;p!==null;){if(k_(p)){u=p;break}p=p.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var _=u.stateNode,S=K0(s);Fd(s,S,_);break;case 5:var V=u.stateNode;u.flags&32&&(Sl(V,""),u.flags&=-33);var oe=K0(s);Fd(s,oe,V);break;case 3:case 4:var he=u.stateNode.containerInfo,Re=K0(s);W0(s,Re,he);break;default:throw Error(r(161))}}catch(Be){rn(s,s.return,Be)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function H_(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;H_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Io(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)B_(s,a.alternate,a),a=a.sibling}function ka(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:_s(4,a,a.return),ka(a);break;case 1:zi(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&C_(a,a.return,u),ka(a);break;case 27:Gu(a.stateNode);case 26:case 5:zi(a,a.return),ka(a);break;case 22:a.memoizedState===null&&ka(a);break;case 30:ka(a);break;default:ka(a)}s=s.sibling}}function ko(s,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var p=a.alternate,_=s,S=a,V=S.flags;switch(S.tag){case 0:case 11:case 15:ko(_,S,u),Mu(4,S);break;case 1:if(ko(_,S,u),p=S,_=p.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(Re){rn(p,p.return,Re)}if(p=S,_=p.updateQueue,_!==null){var oe=p.stateNode;try{var he=_.shared.hiddenCallbacks;if(he!==null)for(_.shared.hiddenCallbacks=null,_=0;_<he.length;_++)yE(he[_],oe)}catch(Re){rn(p,p.return,Re)}}u&&V&64&&N_(S),Ou(S,S.return);break;case 27:M_(S);case 26:case 5:ko(_,S,u),u&&p===null&&V&4&&I_(S),Ou(S,S.return);break;case 12:ko(_,S,u);break;case 31:ko(_,S,u),u&&V&4&&D_(_,S);break;case 13:ko(_,S,u),u&&V&4&&P_(_,S);break;case 22:S.memoizedState===null&&ko(_,S,u),Ou(S,S.return);break;case 30:break;default:ko(_,S,u)}a=a.sibling}}function j0(s,a){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&bu(u))}function Y0(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&bu(s))}function Si(s,a,u,p){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)z_(s,a,u,p),a=a.sibling}function z_(s,a,u,p){var _=a.flags;switch(a.tag){case 0:case 11:case 15:Si(s,a,u,p),_&2048&&Mu(9,a);break;case 1:Si(s,a,u,p);break;case 3:Si(s,a,u,p),_&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&bu(s)));break;case 12:if(_&2048){Si(s,a,u,p),s=a.stateNode;try{var S=a.memoizedProps,V=S.id,oe=S.onPostCommit;typeof oe=="function"&&oe(V,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(he){rn(a,a.return,he)}}else Si(s,a,u,p);break;case 31:Si(s,a,u,p);break;case 13:Si(s,a,u,p);break;case 23:break;case 22:S=a.stateNode,V=a.alternate,a.memoizedState!==null?S._visibility&2?Si(s,a,u,p):Bu(s,a):S._visibility&2?Si(s,a,u,p):(S._visibility|=2,Kl(s,a,u,p,(a.subtreeFlags&10256)!==0||!1)),_&2048&&j0(V,a);break;case 24:Si(s,a,u,p),_&2048&&Y0(a.alternate,a);break;default:Si(s,a,u,p)}}function Kl(s,a,u,p,_){for(_=_&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var S=s,V=a,oe=u,he=p,Re=V.flags;switch(V.tag){case 0:case 11:case 15:Kl(S,V,oe,he,_),Mu(8,V);break;case 23:break;case 22:var Be=V.stateNode;V.memoizedState!==null?Be._visibility&2?Kl(S,V,oe,he,_):Bu(S,V):(Be._visibility|=2,Kl(S,V,oe,he,_)),_&&Re&2048&&j0(V.alternate,V);break;case 24:Kl(S,V,oe,he,_),_&&Re&2048&&Y0(V.alternate,V);break;default:Kl(S,V,oe,he,_)}a=a.sibling}}function Bu(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=s,p=a,_=p.flags;switch(p.tag){case 22:Bu(u,p),_&2048&&j0(p.alternate,p);break;case 24:Bu(u,p),_&2048&&Y0(p.alternate,p);break;default:Bu(u,p)}a=a.sibling}}var Lu=8192;function Wl(s,a,u){if(s.subtreeFlags&Lu)for(s=s.child;s!==null;)G_(s,a,u),s=s.sibling}function G_(s,a,u){switch(s.tag){case 26:Wl(s,a,u),s.flags&Lu&&s.memoizedState!==null&&p8(u,Ai,s.memoizedState,s.memoizedProps);break;case 5:Wl(s,a,u);break;case 3:case 4:var p=Ai;Ai=eh(s.stateNode.containerInfo),Wl(s,a,u),Ai=p;break;case 22:s.memoizedState===null&&(p=s.alternate,p!==null&&p.memoizedState!==null?(p=Lu,Lu=16777216,Wl(s,a,u),Lu=p):Wl(s,a,u));break;default:Wl(s,a,u)}}function q_(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Uu(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var p=a[u];rr=p,K_(p,s)}q_(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)V_(s),s=s.sibling}function V_(s){switch(s.tag){case 0:case 11:case 15:Uu(s),s.flags&2048&&_s(9,s,s.return);break;case 3:Uu(s);break;case 12:Uu(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,zd(s)):Uu(s);break;default:Uu(s)}}function zd(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var p=a[u];rr=p,K_(p,s)}q_(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:_s(8,a,a.return),zd(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,zd(a));break;default:zd(a)}s=s.sibling}}function K_(s,a){for(;rr!==null;){var u=rr;switch(u.tag){case 0:case 11:case 15:_s(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:bu(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,rr=p;else e:for(u=s;rr!==null;){p=rr;var _=p.sibling,S=p.return;if(L_(p),p===u){rr=null;break e}if(_!==null){_.return=S,rr=_;break e}rr=S}}}var C6={getCacheForType:function(s){var a=ur(Gn),u=a.data.get(s);return u===void 0&&(u=s(),a.data.set(s,u)),u},cacheSignal:function(){return ur(Gn).controller.signal}},I6=typeof WeakMap=="function"?WeakMap:Map,Xt=0,dn=null,Mt=null,Ut=0,nn=0,Zr=null,xs=!1,$l=!1,J0=!1,Mo=0,On=0,As=0,Ma=0,Z0=0,Xr=0,jl=0,Du=null,Lr=null,X0=!1,Gd=0,W_=0,qd=1/0,Vd=null,Ss=null,Xn=0,Ts=null,Yl=null,Oo=0,Q0=0,eg=null,$_=null,Pu=0,tg=null;function Qr(){return(Xt&2)!==0&&Ut!==0?Ut&-Ut:C.T!==null?ag():yt()}function j_(){if(Xr===0)if((Ut&536870912)===0||Ft){var s=st;st<<=1,(st&3932160)===0&&(st=262144),Xr=s}else Xr=536870912;return s=Yr.current,s!==null&&(s.flags|=32),Xr}function Ur(s,a,u){(s===dn&&(nn===2||nn===9)||s.cancelPendingCommit!==null)&&(Jl(s,0),Rs(s,Ut,Xr,!1)),D(s,u),((Xt&2)===0||s!==dn)&&(s===dn&&((Xt&2)===0&&(Ma|=u),On===4&&Rs(s,Ut,Xr,!1)),Gi(s))}function Y_(s,a,u){if((Xt&6)!==0)throw Error(r(327));var p=!u&&(a&127)===0&&(a&s.expiredLanes)===0||an(s,a),_=p?O6(s,a):rg(s,a,!0),S=p;do{if(_===0){$l&&!p&&Rs(s,a,0,!1);break}else{if(u=s.current.alternate,S&&!k6(u)){_=rg(s,a,!1),S=!1;continue}if(_===2){if(S=a,s.errorRecoveryDisabledLanes&S)var V=0;else V=s.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){a=V;e:{var oe=s;_=Du;var he=oe.current.memoizedState.isDehydrated;if(he&&(Jl(oe,V).flags|=256),V=rg(oe,V,!1),V!==2){if(J0&&!he){oe.errorRecoveryDisabledLanes|=S,Ma|=S,_=4;break e}S=Lr,Lr=_,S!==null&&(Lr===null?Lr=S:Lr.push.apply(Lr,S))}_=V}if(S=!1,_!==2)continue}}if(_===1){Jl(s,0),Rs(s,a,0,!0);break}e:{switch(p=s,S=_,S){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Rs(p,a,Xr,!xs);break e;case 2:Lr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(_=Gd+300-$e(),10<_)){if(Rs(p,a,Xr,!xs),tn(p,0,!0)!==0)break e;Oo=a,p.timeoutHandle=Tx(J_.bind(null,p,u,Lr,Vd,X0,a,Xr,Ma,jl,xs,S,"Throttled",-0,0),_);break e}J_(p,u,Lr,Vd,X0,a,Xr,Ma,jl,xs,S,null,-0,0)}}break}while(!0);Gi(s)}function J_(s,a,u,p,_,S,V,oe,he,Re,Be,Fe,Ce,Me){if(s.timeoutHandle=-1,Fe=a.subtreeFlags,Fe&8192||(Fe&16785408)===16785408){Fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wo},G_(a,S,Fe);var Qe=(S&62914560)===S?Gd-$e():(S&4194048)===S?W_-$e():0;if(Qe=m8(Fe,Qe),Qe!==null){Oo=S,s.cancelPendingCommit=Qe(ix.bind(null,s,a,S,u,p,_,V,oe,he,Be,Fe,null,Ce,Me)),Rs(s,S,V,!Re);return}}ix(s,a,S,u,p,_,V,oe,he)}function k6(s){for(var a=s;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var _=u[p],S=_.getSnapshot;_=_.value;try{if(!$r(S(),_))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Rs(s,a,u,p){a&=~Z0,a&=~Ma,s.suspendedLanes|=a,s.pingedLanes&=~a,p&&(s.warmLanes|=a),p=s.expirationTimes;for(var _=a;0<_;){var S=31-ke(_),V=1<<S;p[S]=-1,_&=~V}u!==0&&ce(s,u,a)}function Kd(){return(Xt&6)===0?(Fu(0),!1):!0}function ng(){if(Mt!==null){if(nn===0)var s=Mt.return;else s=Mt,_o=xa=null,w0(s),Hl=null,Eu=0,s=Mt;for(;s!==null;)R_(s.alternate,s),s=s.return;Mt=null}}function Jl(s,a){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,Z6(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),Oo=0,ng(),dn=s,Mt=u=vo(s.current,null),Ut=a,nn=0,Zr=null,xs=!1,$l=an(s,a),J0=!1,jl=Xr=Z0=Ma=As=On=0,Lr=Du=null,X0=!1,(a&8)!==0&&(a|=a&32);var p=s.entangledLanes;if(p!==0)for(s=s.entanglements,p&=a;0<p;){var _=31-ke(p),S=1<<_;a|=s[_],p&=~S}return Mo=a,dd(),u}function Z_(s,a){xt=null,C.H=Cu,a===Fl||a===vd?(a=hE(),nn=3):a===s0?(a=hE(),nn=4):nn=a===B0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Zr=a,Mt===null&&(On=1,Bd(s,li(a,s.current)))}function X_(){var s=Yr.current;return s===null?!0:(Ut&4194048)===Ut?di===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?s===di:!1}function Q_(){var s=C.H;return C.H=Cu,s===null?Cu:s}function ex(){var s=C.A;return C.A=C6,s}function Wd(){On=4,xs||(Ut&4194048)!==Ut&&Yr.current!==null||($l=!0),(As&134217727)===0&&(Ma&134217727)===0||dn===null||Rs(dn,Ut,Xr,!1)}function rg(s,a,u){var p=Xt;Xt|=2;var _=Q_(),S=ex();(dn!==s||Ut!==a)&&(Vd=null,Jl(s,a)),a=!1;var V=On;e:do try{if(nn!==0&&Mt!==null){var oe=Mt,he=Zr;switch(nn){case 8:ng(),V=6;break e;case 3:case 2:case 9:case 6:Yr.current===null&&(a=!0);var Re=nn;if(nn=0,Zr=null,Zl(s,oe,he,Re),u&&$l){V=0;break e}break;default:Re=nn,nn=0,Zr=null,Zl(s,oe,he,Re)}}M6(),V=On;break}catch(Be){Z_(s,Be)}while(!0);return a&&s.shellSuspendCounter++,_o=xa=null,Xt=p,C.H=_,C.A=S,Mt===null&&(dn=null,Ut=0,dd()),V}function M6(){for(;Mt!==null;)tx(Mt)}function O6(s,a){var u=Xt;Xt|=2;var p=Q_(),_=ex();dn!==s||Ut!==a?(Vd=null,qd=$e()+500,Jl(s,a)):$l=an(s,a);e:do try{if(nn!==0&&Mt!==null){a=Mt;var S=Zr;t:switch(nn){case 1:nn=0,Zr=null,Zl(s,a,S,1);break;case 2:case 9:if(fE(S)){nn=0,Zr=null,nx(a);break}a=function(){nn!==2&&nn!==9||dn!==s||(nn=7),Gi(s)},S.then(a,a);break e;case 3:nn=7;break e;case 4:nn=5;break e;case 7:fE(S)?(nn=0,Zr=null,nx(a)):(nn=0,Zr=null,Zl(s,a,S,7));break;case 5:var V=null;switch(Mt.tag){case 26:V=Mt.memoizedState;case 5:case 27:var oe=Mt;if(V?zx(V):oe.stateNode.complete){nn=0,Zr=null;var he=oe.sibling;if(he!==null)Mt=he;else{var Re=oe.return;Re!==null?(Mt=Re,$d(Re)):Mt=null}break t}}nn=0,Zr=null,Zl(s,a,S,5);break;case 6:nn=0,Zr=null,Zl(s,a,S,6);break;case 8:ng(),On=6;break e;default:throw Error(r(462))}}B6();break}catch(Be){Z_(s,Be)}while(!0);return _o=xa=null,C.H=p,C.A=_,Xt=u,Mt!==null?0:(dn=null,Ut=0,dd(),On)}function B6(){for(;Mt!==null&&!Le();)tx(Mt)}function tx(s){var a=S_(s.alternate,s,Mo);s.memoizedProps=s.pendingProps,a===null?$d(s):Mt=a}function nx(s){var a=s,u=a.alternate;switch(a.tag){case 15:case 0:a=b_(u,a,a.pendingProps,a.type,void 0,Ut);break;case 11:a=b_(u,a,a.pendingProps,a.type.render,a.ref,Ut);break;case 5:w0(a);default:R_(u,a),a=Mt=eE(a,Mo),a=S_(u,a,Mo)}s.memoizedProps=s.pendingProps,a===null?$d(s):Mt=a}function Zl(s,a,u,p){_o=xa=null,w0(a),Hl=null,Eu=0;var _=a.return;try{if(_6(s,_,a,u,Ut)){On=1,Bd(s,li(u,s.current)),Mt=null;return}}catch(S){if(_!==null)throw Mt=_,S;On=1,Bd(s,li(u,s.current)),Mt=null;return}a.flags&32768?(Ft||p===1?s=!0:$l||(Ut&536870912)!==0?s=!1:(xs=s=!0,(p===2||p===9||p===3||p===6)&&(p=Yr.current,p!==null&&p.tag===13&&(p.flags|=16384))),rx(a,s)):$d(a)}function $d(s){var a=s;do{if((a.flags&32768)!==0){rx(a,xs);return}s=a.return;var u=S6(a.alternate,a,Mo);if(u!==null){Mt=u;return}if(a=a.sibling,a!==null){Mt=a;return}Mt=a=s}while(a!==null);On===0&&(On=5)}function rx(s,a){do{var u=T6(s.alternate,s);if(u!==null){u.flags&=32767,Mt=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(s=s.sibling,s!==null)){Mt=s;return}Mt=s=u}while(s!==null);On=6,Mt=null}function ix(s,a,u,p,_,S,V,oe,he){s.cancelPendingCommit=null;do jd();while(Xn!==0);if((Xt&6)!==0)throw Error(r(327));if(a!==null){if(a===s.current)throw Error(r(177));if(S=a.lanes|a.childLanes,S|=Km,z(s,u,S,V,oe,he),s===dn&&(Mt=dn=null,Ut=0),Yl=a,Ts=s,Oo=u,Q0=S,eg=_,$_=p,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,P6(Zn,function(){return cx(),null})):(s.callbackNode=null,s.callbackPriority=0),p=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||p){p=C.T,C.T=null,_=q.p,q.p=2,V=Xt,Xt|=4;try{R6(s,a,u)}finally{Xt=V,q.p=_,C.T=p}}Xn=1,ox(),sx(),ax()}}function ox(){if(Xn===1){Xn=0;var s=Ts,a=Yl,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=C.T,C.T=null;var p=q.p;q.p=2;var _=Xt;Xt|=4;try{F_(a,s);var S=mg,V=Kv(s.containerInfo),oe=S.focusedElem,he=S.selectionRange;if(V!==oe&&oe&&oe.ownerDocument&&Vv(oe.ownerDocument.documentElement,oe)){if(he!==null&&Hm(oe)){var Re=he.start,Be=he.end;if(Be===void 0&&(Be=Re),"selectionStart"in oe)oe.selectionStart=Re,oe.selectionEnd=Math.min(Be,oe.value.length);else{var Fe=oe.ownerDocument||document,Ce=Fe&&Fe.defaultView||window;if(Ce.getSelection){var Me=Ce.getSelection(),Qe=oe.textContent.length,dt=Math.min(he.start,Qe),un=he.end===void 0?dt:Math.min(he.end,Qe);!Me.extend&&dt>un&&(V=un,un=dt,dt=V);var xe=qv(oe,dt),ge=qv(oe,un);if(xe&&ge&&(Me.rangeCount!==1||Me.anchorNode!==xe.node||Me.anchorOffset!==xe.offset||Me.focusNode!==ge.node||Me.focusOffset!==ge.offset)){var Te=Fe.createRange();Te.setStart(xe.node,xe.offset),Me.removeAllRanges(),dt>un?(Me.addRange(Te),Me.extend(ge.node,ge.offset)):(Te.setEnd(ge.node,ge.offset),Me.addRange(Te))}}}}for(Fe=[],Me=oe;Me=Me.parentNode;)Me.nodeType===1&&Fe.push({element:Me,left:Me.scrollLeft,top:Me.scrollTop});for(typeof oe.focus=="function"&&oe.focus(),oe=0;oe<Fe.length;oe++){var Pe=Fe[oe];Pe.element.scrollLeft=Pe.left,Pe.element.scrollTop=Pe.top}}sh=!!pg,mg=pg=null}finally{Xt=_,q.p=p,C.T=u}}s.current=a,Xn=2}}function sx(){if(Xn===2){Xn=0;var s=Ts,a=Yl,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=C.T,C.T=null;var p=q.p;q.p=2;var _=Xt;Xt|=4;try{B_(s,a.alternate,a)}finally{Xt=_,q.p=p,C.T=u}}Xn=3}}function ax(){if(Xn===4||Xn===3){Xn=0,Ve();var s=Ts,a=Yl,u=Oo,p=$_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Xn=5:(Xn=0,Yl=Ts=null,lx(s,s.pendingLanes));var _=s.pendingLanes;if(_===0&&(Ss=null),bt(u),a=a.stateNode,pe&&typeof pe.onCommitFiberRoot=="function")try{pe.onCommitFiberRoot(le,a,void 0,(a.current.flags&128)===128)}catch{}if(p!==null){a=C.T,_=q.p,q.p=2,C.T=null;try{for(var S=s.onRecoverableError,V=0;V<p.length;V++){var oe=p[V];S(oe.value,{componentStack:oe.stack})}}finally{C.T=a,q.p=_}}(Oo&3)!==0&&jd(),Gi(s),_=s.pendingLanes,(u&261930)!==0&&(_&42)!==0?s===tg?Pu++:(Pu=0,tg=s):Pu=0,Fu(0)}}function lx(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,bu(a)))}function jd(){return ox(),sx(),ax(),cx()}function cx(){if(Xn!==5)return!1;var s=Ts,a=Q0;Q0=0;var u=bt(Oo),p=C.T,_=q.p;try{q.p=32>u?32:u,C.T=null,u=eg,eg=null;var S=Ts,V=Oo;if(Xn=0,Yl=Ts=null,Oo=0,(Xt&6)!==0)throw Error(r(331));var oe=Xt;if(Xt|=4,V_(S.current),z_(S,S.current,V,u),Xt=oe,Fu(0,!1),pe&&typeof pe.onPostCommitFiberRoot=="function")try{pe.onPostCommitFiberRoot(le,S)}catch{}return!0}finally{q.p=_,C.T=p,lx(s,a)}}function ux(s,a,u){a=li(u,a),a=O0(s.stateNode,a,2),s=bs(s,a,2),s!==null&&(D(s,2),Gi(s))}function rn(s,a,u){if(s.tag===3)ux(s,s,u);else for(;a!==null;){if(a.tag===3){ux(a,s,u);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ss===null||!Ss.has(p))){s=li(u,s),u=f_(2),p=bs(a,u,2),p!==null&&(d_(u,p,a,s),D(p,2),Gi(p));break}}a=a.return}}function ig(s,a,u){var p=s.pingCache;if(p===null){p=s.pingCache=new I6;var _=new Set;p.set(a,_)}else _=p.get(a),_===void 0&&(_=new Set,p.set(a,_));_.has(u)||(J0=!0,_.add(u),s=L6.bind(null,s,a,u),a.then(s,s))}function L6(s,a,u){var p=s.pingCache;p!==null&&p.delete(a),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,dn===s&&(Ut&u)===u&&(On===4||On===3&&(Ut&62914560)===Ut&&300>$e()-Gd?(Xt&2)===0&&Jl(s,0):Z0|=u,jl===Ut&&(jl=0)),Gi(s)}function fx(s,a){a===0&&(a=gn()),s=va(s,a),s!==null&&(D(s,a),Gi(s))}function U6(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),fx(s,u)}function D6(s,a){var u=0;switch(s.tag){case 31:case 13:var p=s.stateNode,_=s.memoizedState;_!==null&&(u=_.retryLane);break;case 19:p=s.stateNode;break;case 22:p=s.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(a),fx(s,u)}function P6(s,a){return ye(s,a)}var Yd=null,Xl=null,og=!1,Jd=!1,sg=!1,Ns=0;function Gi(s){s!==Xl&&s.next===null&&(Xl===null?Yd=Xl=s:Xl=Xl.next=s),Jd=!0,og||(og=!0,H6())}function Fu(s,a){if(!sg&&Jd){sg=!0;do for(var u=!1,p=Yd;p!==null;){if(s!==0){var _=p.pendingLanes;if(_===0)var S=0;else{var V=p.suspendedLanes,oe=p.pingedLanes;S=(1<<31-ke(42|s)+1)-1,S&=_&~(V&~oe),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(u=!0,mx(p,S))}else S=Ut,S=tn(p,p===dn?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(S&3)===0||an(p,S)||(u=!0,mx(p,S));p=p.next}while(u);sg=!1}}function F6(){dx()}function dx(){Jd=og=!1;var s=0;Ns!==0&&J6()&&(s=Ns);for(var a=$e(),u=null,p=Yd;p!==null;){var _=p.next,S=hx(p,a);S===0?(p.next=null,u===null?Yd=_:u.next=_,_===null&&(Xl=u)):(u=p,(s!==0||(S&3)!==0)&&(Jd=!0)),p=_}Xn!==0&&Xn!==5||Fu(s),Ns!==0&&(Ns=0)}function hx(s,a){for(var u=s.suspendedLanes,p=s.pingedLanes,_=s.expirationTimes,S=s.pendingLanes&-62914561;0<S;){var V=31-ke(S),oe=1<<V,he=_[V];he===-1?((oe&u)===0||(oe&p)!==0)&&(_[V]=Wr(oe,a)):he<=a&&(s.expiredLanes|=oe),S&=~oe}if(a=dn,u=Ut,u=tn(s,s===a?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p=s.callbackNode,u===0||s===a&&(nn===2||nn===9)||s.cancelPendingCommit!==null)return p!==null&&p!==null&&Ee(p),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||an(s,u)){if(a=u&-u,a===s.callbackPriority)return a;switch(p!==null&&Ee(p),bt(u)){case 2:case 8:u=ht;break;case 32:u=Zn;break;case 268435456:u=te;break;default:u=Zn}return p=px.bind(null,s),u=ye(u,p),s.callbackPriority=a,s.callbackNode=u,a}return p!==null&&p!==null&&Ee(p),s.callbackPriority=2,s.callbackNode=null,2}function px(s,a){if(Xn!==0&&Xn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(jd()&&s.callbackNode!==u)return null;var p=Ut;return p=tn(s,s===dn?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p===0?null:(Y_(s,p,a),hx(s,$e()),s.callbackNode!=null&&s.callbackNode===u?px.bind(null,s):null)}function mx(s,a){if(jd())return null;Y_(s,a,!0)}function H6(){X6(function(){(Xt&6)!==0?ye(et,F6):dx()})}function ag(){if(Ns===0){var s=Dl;s===0&&(s=Vt,Vt<<=1,(Vt&261888)===0&&(Vt=256)),Ns=s}return Ns}function gx(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:id(""+s)}function yx(s,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,s.id&&u.setAttribute("form",s.id),a.parentNode.insertBefore(u,a),s=new FormData(s),u.parentNode.removeChild(u),s}function z6(s,a,u,p,_){if(a==="submit"&&u&&u.stateNode===_){var S=gx((_[Pt]||null).action),V=p.submitter;V&&(a=(a=V[Pt]||null)?gx(a.formAction):V.getAttribute("formAction"),a!==null&&(S=a,V=null));var oe=new ld("action","action",null,p,_);s.push({event:oe,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Ns!==0){var he=V?yx(_,V):new FormData(_);R0(u,{pending:!0,data:he,method:_.method,action:S},null,he)}}else typeof S=="function"&&(oe.preventDefault(),he=V?yx(_,V):new FormData(_),R0(u,{pending:!0,data:he,method:_.method,action:S},S,he))},currentTarget:_}]})}}for(var lg=0;lg<Vm.length;lg++){var cg=Vm[lg],G6=cg.toLowerCase(),q6=cg[0].toUpperCase()+cg.slice(1);xi(G6,"on"+q6)}xi(jv,"onAnimationEnd"),xi(Yv,"onAnimationIteration"),xi(Jv,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(o6,"onTransitionRun"),xi(s6,"onTransitionStart"),xi(a6,"onTransitionCancel"),xi(Zv,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hu));function wx(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var p=s[u],_=p.event;p=p.listeners;e:{var S=void 0;if(a)for(var V=p.length-1;0<=V;V--){var oe=p[V],he=oe.instance,Re=oe.currentTarget;if(oe=oe.listener,he!==S&&_.isPropagationStopped())break e;S=oe,_.currentTarget=Re;try{S(_)}catch(Be){fd(Be)}_.currentTarget=null,S=he}else for(V=0;V<p.length;V++){if(oe=p[V],he=oe.instance,Re=oe.currentTarget,oe=oe.listener,he!==S&&_.isPropagationStopped())break e;S=oe,_.currentTarget=Re;try{S(_)}catch(Be){fd(Be)}_.currentTarget=null,S=he}}}}function Ot(s,a){var u=a[En];u===void 0&&(u=a[En]=new Set);var p=s+"__bubble";u.has(p)||(bx(a,s,2,!1),u.add(p))}function ug(s,a,u){var p=0;a&&(p|=4),bx(u,s,p,a)}var Zd="_reactListening"+Math.random().toString(36).slice(2);function fg(s){if(!s[Zd]){s[Zd]=!0,vl.forEach(function(u){u!=="selectionchange"&&(V6.has(u)||ug(u,!1,s),ug(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Zd]||(a[Zd]=!0,ug("selectionchange",!1,a))}}function bx(s,a,u,p){switch(jx(a)){case 2:var _=w8;break;case 8:_=b8;break;default:_=Tg}u=_.bind(null,a,u,s),_=void 0,!km||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(_=!0),p?_!==void 0?s.addEventListener(a,u,{capture:!0,passive:_}):s.addEventListener(a,u,!0):_!==void 0?s.addEventListener(a,u,{passive:_}):s.addEventListener(a,u,!1)}function dg(s,a,u,p,_){var S=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var V=p.tag;if(V===3||V===4){var oe=p.stateNode.containerInfo;if(oe===_)break;if(V===4)for(V=p.return;V!==null;){var he=V.tag;if((he===3||he===4)&&V.stateNode.containerInfo===_)return;V=V.return}for(;oe!==null;){if(V=Li(oe),V===null)return;if(he=V.tag,he===5||he===6||he===26||he===27){p=S=V;continue e}oe=oe.parentNode}}p=p.return}Av(function(){var Re=S,Be=Cm(u),Fe=[];e:{var Ce=Xv.get(s);if(Ce!==void 0){var Me=ld,Qe=s;switch(s){case"keypress":if(sd(u)===0)break e;case"keydown":case"keyup":Me=D4;break;case"focusin":Qe="focus",Me=Lm;break;case"focusout":Qe="blur",Me=Lm;break;case"beforeblur":case"afterblur":Me=Lm;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=Rv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=S4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=H4;break;case jv:case Yv:case Jv:Me=N4;break;case Zv:Me=G4;break;case"scroll":case"scrollend":Me=x4;break;case"wheel":Me=V4;break;case"copy":case"cut":case"paste":Me=I4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=Cv;break;case"toggle":case"beforetoggle":Me=W4}var dt=(a&4)!==0,un=!dt&&(s==="scroll"||s==="scrollend"),xe=dt?Ce!==null?Ce+"Capture":null:Ce;dt=[];for(var ge=Re,Te;ge!==null;){var Pe=ge;if(Te=Pe.stateNode,Pe=Pe.tag,Pe!==5&&Pe!==26&&Pe!==27||Te===null||xe===null||(Pe=lu(ge,xe),Pe!=null&&dt.push(zu(ge,Pe,Te))),un)break;ge=ge.return}0<dt.length&&(Ce=new Me(Ce,Qe,null,u,Be),Fe.push({event:Ce,listeners:dt}))}}if((a&7)===0){e:{if(Ce=s==="mouseover"||s==="pointerover",Me=s==="mouseout"||s==="pointerout",Ce&&u!==Nm&&(Qe=u.relatedTarget||u.fromElement)&&(Li(Qe)||Qe[po]))break e;if((Me||Ce)&&(Ce=Be.window===Be?Be:(Ce=Be.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,Me?(Qe=u.relatedTarget||u.toElement,Me=Re,Qe=Qe?Li(Qe):null,Qe!==null&&(un=o(Qe),dt=Qe.tag,Qe!==un||dt!==5&&dt!==27&&dt!==6)&&(Qe=null)):(Me=null,Qe=Re),Me!==Qe)){if(dt=Rv,Pe="onMouseLeave",xe="onMouseEnter",ge="mouse",(s==="pointerout"||s==="pointerover")&&(dt=Cv,Pe="onPointerLeave",xe="onPointerEnter",ge="pointer"),un=Me==null?Ce:go(Me),Te=Qe==null?Ce:go(Qe),Ce=new dt(Pe,ge+"leave",Me,u,Be),Ce.target=un,Ce.relatedTarget=Te,Pe=null,Li(Be)===Re&&(dt=new dt(xe,ge+"enter",Qe,u,Be),dt.target=Te,dt.relatedTarget=un,Pe=dt),un=Pe,Me&&Qe)t:{for(dt=K6,xe=Me,ge=Qe,Te=0,Pe=xe;Pe;Pe=dt(Pe))Te++;Pe=0;for(var at=ge;at;at=dt(at))Pe++;for(;0<Te-Pe;)xe=dt(xe),Te--;for(;0<Pe-Te;)ge=dt(ge),Pe--;for(;Te--;){if(xe===ge||ge!==null&&xe===ge.alternate){dt=xe;break t}xe=dt(xe),ge=dt(ge)}dt=null}else dt=null;Me!==null&&vx(Fe,Ce,Me,dt,!1),Qe!==null&&un!==null&&vx(Fe,un,Qe,dt,!0)}}e:{if(Ce=Re?go(Re):window,Me=Ce.nodeName&&Ce.nodeName.toLowerCase(),Me==="select"||Me==="input"&&Ce.type==="file")var Kt=Dv;else if(Lv(Ce))if(Pv)Kt=n6;else{Kt=e6;var tt=Q4}else Me=Ce.nodeName,!Me||Me.toLowerCase()!=="input"||Ce.type!=="checkbox"&&Ce.type!=="radio"?Re&&Rm(Re.elementType)&&(Kt=Dv):Kt=t6;if(Kt&&(Kt=Kt(s,Re))){Uv(Fe,Kt,u,Be);break e}tt&&tt(s,Ce,Re),s==="focusout"&&Re&&Ce.type==="number"&&Re.memoizedProps.value!=null&&Tm(Ce,"number",Ce.value)}switch(tt=Re?go(Re):window,s){case"focusin":(Lv(tt)||tt.contentEditable==="true")&&(Cl=tt,zm=Re,gu=null);break;case"focusout":gu=zm=Cl=null;break;case"mousedown":Gm=!0;break;case"contextmenu":case"mouseup":case"dragend":Gm=!1,Wv(Fe,u,Be);break;case"selectionchange":if(i6)break;case"keydown":case"keyup":Wv(Fe,u,Be)}var St;if(Dm)e:{switch(s){case"compositionstart":var Dt="onCompositionStart";break e;case"compositionend":Dt="onCompositionEnd";break e;case"compositionupdate":Dt="onCompositionUpdate";break e}Dt=void 0}else Nl?Ov(s,u)&&(Dt="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Dt="onCompositionStart");Dt&&(Iv&&u.locale!=="ko"&&(Nl||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Nl&&(St=Sv()):(ds=Be,Mm="value"in ds?ds.value:ds.textContent,Nl=!0)),tt=Xd(Re,Dt),0<tt.length&&(Dt=new Nv(Dt,s,null,u,Be),Fe.push({event:Dt,listeners:tt}),St?Dt.data=St:(St=Bv(u),St!==null&&(Dt.data=St)))),(St=j4?Y4(s,u):J4(s,u))&&(Dt=Xd(Re,"onBeforeInput"),0<Dt.length&&(tt=new Nv("onBeforeInput","beforeinput",null,u,Be),Fe.push({event:tt,listeners:Dt}),tt.data=St)),z6(Fe,s,Re,u,Be)}wx(Fe,a)})}function zu(s,a,u){return{instance:s,listener:a,currentTarget:u}}function Xd(s,a){for(var u=a+"Capture",p=[];s!==null;){var _=s,S=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||S===null||(_=lu(s,u),_!=null&&p.unshift(zu(s,_,S)),_=lu(s,a),_!=null&&p.push(zu(s,_,S))),s.tag===3)return p;s=s.return}return[]}function K6(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function vx(s,a,u,p,_){for(var S=a._reactName,V=[];u!==null&&u!==p;){var oe=u,he=oe.alternate,Re=oe.stateNode;if(oe=oe.tag,he!==null&&he===p)break;oe!==5&&oe!==26&&oe!==27||Re===null||(he=Re,_?(Re=lu(u,S),Re!=null&&V.unshift(zu(u,Re,he))):_||(Re=lu(u,S),Re!=null&&V.push(zu(u,Re,he)))),u=u.return}V.length!==0&&s.push({event:a,listeners:V})}var W6=/\r\n?/g,$6=/\u0000|\uFFFD/g;function Ex(s){return(typeof s=="string"?s:""+s).replace(W6,`
`).replace($6,"")}function _x(s,a){return a=Ex(a),Ex(s)===a}function cn(s,a,u,p,_,S){switch(u){case"children":typeof p=="string"?a==="body"||a==="textarea"&&p===""||Sl(s,p):(typeof p=="number"||typeof p=="bigint")&&a!=="body"&&Sl(s,""+p);break;case"className":fs(s,"class",p);break;case"tabIndex":fs(s,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":fs(s,u,p);break;case"style":_v(s,p,S);break;case"data":if(a!=="object"){fs(s,"data",p);break}case"src":case"href":if(p===""&&(a!=="a"||u!=="href")){s.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(u);break}p=id(""+p),s.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(u==="formAction"?(a!=="input"&&cn(s,a,"name",_.name,_,null),cn(s,a,"formEncType",_.formEncType,_,null),cn(s,a,"formMethod",_.formMethod,_,null),cn(s,a,"formTarget",_.formTarget,_,null)):(cn(s,a,"encType",_.encType,_,null),cn(s,a,"method",_.method,_,null),cn(s,a,"target",_.target,_,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(u);break}p=id(""+p),s.setAttribute(u,p);break;case"onClick":p!=null&&(s.onclick=wo);break;case"onScroll":p!=null&&Ot("scroll",s);break;case"onScrollEnd":p!=null&&Ot("scrollend",s);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(_.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"multiple":s.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":s.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){s.removeAttribute("xlink:href");break}u=id(""+p),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(u,""+p):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":p===!0?s.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(u,p):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?s.setAttribute(u,p):s.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?s.removeAttribute(u):s.setAttribute(u,p);break;case"popover":Ot("beforetoggle",s),Ot("toggle",s),us(s,"popover",p);break;case"xlinkActuate":yo(s,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":yo(s,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":yo(s,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":yo(s,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":yo(s,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":yo(s,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":yo(s,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":yo(s,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":yo(s,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":us(s,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=E4.get(u)||u,us(s,u,p))}}function hg(s,a,u,p,_,S){switch(u){case"style":_v(s,p,S);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(_.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"children":typeof p=="string"?Sl(s,p):(typeof p=="number"||typeof p=="bigint")&&Sl(s,""+p);break;case"onScroll":p!=null&&Ot("scroll",s);break;case"onScrollEnd":p!=null&&Ot("scrollend",s);break;case"onClick":p!=null&&(s.onclick=wo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!El.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(_=u.endsWith("Capture"),a=u.slice(2,_?u.length-7:void 0),S=s[Pt]||null,S=S!=null?S[u]:null,typeof S=="function"&&s.removeEventListener(a,S,_),typeof p=="function")){typeof S!="function"&&S!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(a,p,_);break e}u in s?s[u]=p:p===!0?s.setAttribute(u,""):us(s,u,p)}}}function dr(s,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",s),Ot("load",s);var p=!1,_=!1,S;for(S in u)if(u.hasOwnProperty(S)){var V=u[S];if(V!=null)switch(S){case"src":p=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:cn(s,a,S,V,u,null)}}_&&cn(s,a,"srcSet",u.srcSet,u,null),p&&cn(s,a,"src",u.src,u,null);return;case"input":Ot("invalid",s);var oe=S=V=_=null,he=null,Re=null;for(p in u)if(u.hasOwnProperty(p)){var Be=u[p];if(Be!=null)switch(p){case"name":_=Be;break;case"type":V=Be;break;case"checked":he=Be;break;case"defaultChecked":Re=Be;break;case"value":S=Be;break;case"defaultValue":oe=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(r(137,a));break;default:cn(s,a,p,Be,u,null)}}wv(s,S,oe,he,Re,V,_,!1);return;case"select":Ot("invalid",s),p=V=S=null;for(_ in u)if(u.hasOwnProperty(_)&&(oe=u[_],oe!=null))switch(_){case"value":S=oe;break;case"defaultValue":V=oe;break;case"multiple":p=oe;default:cn(s,a,_,oe,u,null)}a=S,u=V,s.multiple=!!p,a!=null?Al(s,!!p,a,!1):u!=null&&Al(s,!!p,u,!0);return;case"textarea":Ot("invalid",s),S=_=p=null;for(V in u)if(u.hasOwnProperty(V)&&(oe=u[V],oe!=null))switch(V){case"value":p=oe;break;case"defaultValue":_=oe;break;case"children":S=oe;break;case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(91));break;default:cn(s,a,V,oe,u,null)}vv(s,p,_,S);return;case"option":for(he in u)if(u.hasOwnProperty(he)&&(p=u[he],p!=null))switch(he){case"selected":s.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:cn(s,a,he,p,u,null)}return;case"dialog":Ot("beforetoggle",s),Ot("toggle",s),Ot("cancel",s),Ot("close",s);break;case"iframe":case"object":Ot("load",s);break;case"video":case"audio":for(p=0;p<Hu.length;p++)Ot(Hu[p],s);break;case"image":Ot("error",s),Ot("load",s);break;case"details":Ot("toggle",s);break;case"embed":case"source":case"link":Ot("error",s),Ot("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Re in u)if(u.hasOwnProperty(Re)&&(p=u[Re],p!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:cn(s,a,Re,p,u,null)}return;default:if(Rm(a)){for(Be in u)u.hasOwnProperty(Be)&&(p=u[Be],p!==void 0&&hg(s,a,Be,p,u,void 0));return}}for(oe in u)u.hasOwnProperty(oe)&&(p=u[oe],p!=null&&cn(s,a,oe,p,u,null))}function j6(s,a,u,p){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,S=null,V=null,oe=null,he=null,Re=null,Be=null;for(Me in u){var Fe=u[Me];if(u.hasOwnProperty(Me)&&Fe!=null)switch(Me){case"checked":break;case"value":break;case"defaultValue":he=Fe;default:p.hasOwnProperty(Me)||cn(s,a,Me,null,p,Fe)}}for(var Ce in p){var Me=p[Ce];if(Fe=u[Ce],p.hasOwnProperty(Ce)&&(Me!=null||Fe!=null))switch(Ce){case"type":S=Me;break;case"name":_=Me;break;case"checked":Re=Me;break;case"defaultChecked":Be=Me;break;case"value":V=Me;break;case"defaultValue":oe=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,a));break;default:Me!==Fe&&cn(s,a,Ce,Me,p,Fe)}}Sm(s,V,oe,he,Re,Be,S,_);return;case"select":Me=V=oe=Ce=null;for(S in u)if(he=u[S],u.hasOwnProperty(S)&&he!=null)switch(S){case"value":break;case"multiple":Me=he;default:p.hasOwnProperty(S)||cn(s,a,S,null,p,he)}for(_ in p)if(S=p[_],he=u[_],p.hasOwnProperty(_)&&(S!=null||he!=null))switch(_){case"value":Ce=S;break;case"defaultValue":oe=S;break;case"multiple":V=S;default:S!==he&&cn(s,a,_,S,p,he)}a=oe,u=V,p=Me,Ce!=null?Al(s,!!u,Ce,!1):!!p!=!!u&&(a!=null?Al(s,!!u,a,!0):Al(s,!!u,u?[]:"",!1));return;case"textarea":Me=Ce=null;for(oe in u)if(_=u[oe],u.hasOwnProperty(oe)&&_!=null&&!p.hasOwnProperty(oe))switch(oe){case"value":break;case"children":break;default:cn(s,a,oe,null,p,_)}for(V in p)if(_=p[V],S=u[V],p.hasOwnProperty(V)&&(_!=null||S!=null))switch(V){case"value":Ce=_;break;case"defaultValue":Me=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==S&&cn(s,a,V,_,p,S)}bv(s,Ce,Me);return;case"option":for(var Qe in u)if(Ce=u[Qe],u.hasOwnProperty(Qe)&&Ce!=null&&!p.hasOwnProperty(Qe))switch(Qe){case"selected":s.selected=!1;break;default:cn(s,a,Qe,null,p,Ce)}for(he in p)if(Ce=p[he],Me=u[he],p.hasOwnProperty(he)&&Ce!==Me&&(Ce!=null||Me!=null))switch(he){case"selected":s.selected=Ce&&typeof Ce!="function"&&typeof Ce!="symbol";break;default:cn(s,a,he,Ce,p,Me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in u)Ce=u[dt],u.hasOwnProperty(dt)&&Ce!=null&&!p.hasOwnProperty(dt)&&cn(s,a,dt,null,p,Ce);for(Re in p)if(Ce=p[Re],Me=u[Re],p.hasOwnProperty(Re)&&Ce!==Me&&(Ce!=null||Me!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(r(137,a));break;default:cn(s,a,Re,Ce,p,Me)}return;default:if(Rm(a)){for(var un in u)Ce=u[un],u.hasOwnProperty(un)&&Ce!==void 0&&!p.hasOwnProperty(un)&&hg(s,a,un,void 0,p,Ce);for(Be in p)Ce=p[Be],Me=u[Be],!p.hasOwnProperty(Be)||Ce===Me||Ce===void 0&&Me===void 0||hg(s,a,Be,Ce,p,Me);return}}for(var xe in u)Ce=u[xe],u.hasOwnProperty(xe)&&Ce!=null&&!p.hasOwnProperty(xe)&&cn(s,a,xe,null,p,Ce);for(Fe in p)Ce=p[Fe],Me=u[Fe],!p.hasOwnProperty(Fe)||Ce===Me||Ce==null&&Me==null||cn(s,a,Fe,Ce,p,Me)}function xx(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Y6(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,u=performance.getEntriesByType("resource"),p=0;p<u.length;p++){var _=u[p],S=_.transferSize,V=_.initiatorType,oe=_.duration;if(S&&oe&&xx(V)){for(V=0,oe=_.responseEnd,p+=1;p<u.length;p++){var he=u[p],Re=he.startTime;if(Re>oe)break;var Be=he.transferSize,Fe=he.initiatorType;Be&&xx(Fe)&&(he=he.responseEnd,V+=Be*(he<oe?1:(oe-Re)/(he-Re)))}if(--p,a+=8*(S+V)/(_.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var pg=null,mg=null;function Qd(s){return s.nodeType===9?s:s.ownerDocument}function Ax(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sx(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function gg(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var yg=null;function J6(){var s=window.event;return s&&s.type==="popstate"?s===yg?!1:(yg=s,!0):(yg=null,!1)}var Tx=typeof setTimeout=="function"?setTimeout:void 0,Z6=typeof clearTimeout=="function"?clearTimeout:void 0,Rx=typeof Promise=="function"?Promise:void 0,X6=typeof queueMicrotask=="function"?queueMicrotask:typeof Rx<"u"?function(s){return Rx.resolve(null).then(s).catch(Q6)}:Tx;function Q6(s){setTimeout(function(){throw s})}function Cs(s){return s==="head"}function Nx(s,a){var u=a,p=0;do{var _=u.nextSibling;if(s.removeChild(u),_&&_.nodeType===8)if(u=_.data,u==="/$"||u==="/&"){if(p===0){s.removeChild(_),nc(a);return}p--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")p++;else if(u==="html")Gu(s.ownerDocument.documentElement);else if(u==="head"){u=s.ownerDocument.head,Gu(u);for(var S=u.firstChild;S;){var V=S.nextSibling,oe=S.nodeName;S[mo]||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&S.rel.toLowerCase()==="stylesheet"||u.removeChild(S),S=V}}else u==="body"&&Gu(s.ownerDocument.body);u=_}while(u);nc(a)}function Cx(s,a){var u=s;s=0;do{var p=u.nextSibling;if(u.nodeType===1?a?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(a?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(s===0)break;s--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||s++;u=p}while(u)}function wg(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":wg(u),ga(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function e8(s,a,u,p){for(;s.nodeType===1;){var _=u;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!p&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(p){if(!s[mo])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(S=s.getAttribute("rel"),S==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(S!==_.rel||s.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||s.getAttribute("title")!==(_.title==null?null:_.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(S=s.getAttribute("src"),(S!==(_.src==null?null:_.src)||s.getAttribute("type")!==(_.type==null?null:_.type)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&S&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var S=_.name==null?null:""+_.name;if(_.type==="hidden"&&s.getAttribute("name")===S)return s}else return s;if(s=hi(s.nextSibling),s===null)break}return null}function t8(s,a,u){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=hi(s.nextSibling),s===null))return null;return s}function Ix(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=hi(s.nextSibling),s===null))return null;return s}function bg(s){return s.data==="$?"||s.data==="$~"}function vg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function n8(s,a){var u=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||u.readyState!=="loading")a();else{var p=function(){a(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),s._reactRetry=p}}function hi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var Eg=null;function kx(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"||u==="/&"){if(a===0)return hi(s.nextSibling);a--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||a++}s=s.nextSibling}return null}function Mx(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(a===0)return s;a--}else u!=="/$"&&u!=="/&"||a++}s=s.previousSibling}return null}function Ox(s,a,u){switch(a=Qd(u),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Gu(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);ga(s)}var pi=new Map,Bx=new Set;function eh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Bo=q.d;q.d={f:r8,r:i8,D:o8,C:s8,L:a8,m:l8,X:u8,S:c8,M:f8};function r8(){var s=Bo.f(),a=Kd();return s||a}function i8(s){var a=Ui(s);a!==null&&a.tag===5&&a.type==="form"?ZE(a):Bo.r(s)}var Ql=typeof document>"u"?null:document;function Lx(s,a,u){var p=Ql;if(p&&typeof a=="string"&&a){var _=si(a);_='link[rel="'+s+'"][href="'+_+'"]',typeof u=="string"&&(_+='[crossorigin="'+u+'"]'),Bx.has(_)||(Bx.add(_),s={rel:s,crossOrigin:u,href:a},p.querySelector(_)===null&&(a=p.createElement("link"),dr(a,"link",s),kn(a),p.head.appendChild(a)))}}function o8(s){Bo.D(s),Lx("dns-prefetch",s,null)}function s8(s,a){Bo.C(s,a),Lx("preconnect",s,a)}function a8(s,a,u){Bo.L(s,a,u);var p=Ql;if(p&&s&&a){var _='link[rel="preload"][as="'+si(a)+'"]';a==="image"&&u&&u.imageSrcSet?(_+='[imagesrcset="'+si(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(_+='[imagesizes="'+si(u.imageSizes)+'"]')):_+='[href="'+si(s)+'"]';var S=_;switch(a){case"style":S=ec(s);break;case"script":S=tc(s)}pi.has(S)||(s=b({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:s,as:a},u),pi.set(S,s),p.querySelector(_)!==null||a==="style"&&p.querySelector(qu(S))||a==="script"&&p.querySelector(Vu(S))||(a=p.createElement("link"),dr(a,"link",s),kn(a),p.head.appendChild(a)))}}function l8(s,a){Bo.m(s,a);var u=Ql;if(u&&s){var p=a&&typeof a.as=="string"?a.as:"script",_='link[rel="modulepreload"][as="'+si(p)+'"][href="'+si(s)+'"]',S=_;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=tc(s)}if(!pi.has(S)&&(s=b({rel:"modulepreload",href:s},a),pi.set(S,s),u.querySelector(_)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Vu(S)))return}p=u.createElement("link"),dr(p,"link",s),kn(p),u.head.appendChild(p)}}}function c8(s,a,u){Bo.S(s,a,u);var p=Ql;if(p&&s){var _=Di(p).hoistableStyles,S=ec(s);a=a||"default";var V=_.get(S);if(!V){var oe={loading:0,preload:null};if(V=p.querySelector(qu(S)))oe.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":a},u),(u=pi.get(S))&&_g(s,u);var he=V=p.createElement("link");kn(he),dr(he,"link",s),he._p=new Promise(function(Re,Be){he.onload=Re,he.onerror=Be}),he.addEventListener("load",function(){oe.loading|=1}),he.addEventListener("error",function(){oe.loading|=2}),oe.loading|=4,th(V,a,p)}V={type:"stylesheet",instance:V,count:1,state:oe},_.set(S,V)}}}function u8(s,a){Bo.X(s,a);var u=Ql;if(u&&s){var p=Di(u).hoistableScripts,_=tc(s),S=p.get(_);S||(S=u.querySelector(Vu(_)),S||(s=b({src:s,async:!0},a),(a=pi.get(_))&&xg(s,a),S=u.createElement("script"),kn(S),dr(S,"link",s),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(_,S))}}function f8(s,a){Bo.M(s,a);var u=Ql;if(u&&s){var p=Di(u).hoistableScripts,_=tc(s),S=p.get(_);S||(S=u.querySelector(Vu(_)),S||(s=b({src:s,async:!0,type:"module"},a),(a=pi.get(_))&&xg(s,a),S=u.createElement("script"),kn(S),dr(S,"link",s),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(_,S))}}function Ux(s,a,u,p){var _=(_=ue.current)?eh(_):null;if(!_)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=ec(u.href),u=Di(_).hoistableStyles,p=u.get(a),p||(p={type:"style",instance:null,count:0,state:null},u.set(a,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=ec(u.href);var S=Di(_).hoistableStyles,V=S.get(s);if(V||(_=_.ownerDocument||_,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(s,V),(S=_.querySelector(qu(s)))&&!S._p&&(V.instance=S,V.state.loading=5),pi.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},pi.set(s,u),S||d8(_,s,u,V.state))),a&&p===null)throw Error(r(528,""));return V}if(a&&p!==null)throw Error(r(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=tc(u),u=Di(_).hoistableScripts,p=u.get(a),p||(p={type:"script",instance:null,count:0,state:null},u.set(a,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function ec(s){return'href="'+si(s)+'"'}function qu(s){return'link[rel="stylesheet"]['+s+"]"}function Dx(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function d8(s,a,u,p){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?p.loading=1:(a=s.createElement("link"),p.preload=a,a.addEventListener("load",function(){return p.loading|=1}),a.addEventListener("error",function(){return p.loading|=2}),dr(a,"link",u),kn(a),s.head.appendChild(a))}function tc(s){return'[src="'+si(s)+'"]'}function Vu(s){return"script[async]"+s}function Px(s,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var p=s.querySelector('style[data-href~="'+si(u.href)+'"]');if(p)return a.instance=p,kn(p),p;var _=b({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(s.ownerDocument||s).createElement("style"),kn(p),dr(p,"style",_),th(p,u.precedence,s),a.instance=p;case"stylesheet":_=ec(u.href);var S=s.querySelector(qu(_));if(S)return a.state.loading|=4,a.instance=S,kn(S),S;p=Dx(u),(_=pi.get(_))&&_g(p,_),S=(s.ownerDocument||s).createElement("link"),kn(S);var V=S;return V._p=new Promise(function(oe,he){V.onload=oe,V.onerror=he}),dr(S,"link",p),a.state.loading|=4,th(S,u.precedence,s),a.instance=S;case"script":return S=tc(u.src),(_=s.querySelector(Vu(S)))?(a.instance=_,kn(_),_):(p=u,(_=pi.get(S))&&(p=b({},u),xg(p,_)),s=s.ownerDocument||s,_=s.createElement("script"),kn(_),dr(_,"link",p),s.head.appendChild(_),a.instance=_);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(p=a.instance,a.state.loading|=4,th(p,u.precedence,s));return a.instance}function th(s,a,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=p.length?p[p.length-1]:null,S=_,V=0;V<p.length;V++){var oe=p[V];if(oe.dataset.precedence===a)S=oe;else if(S!==_)break}S?S.parentNode.insertBefore(s,S.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(s,a.firstChild))}function _g(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function xg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var nh=null;function Fx(s,a,u){if(nh===null){var p=new Map,_=nh=new Map;_.set(u,p)}else _=nh,p=_.get(u),p||(p=new Map,_.set(u,p));if(p.has(s))return p;for(p.set(s,null),u=u.getElementsByTagName(s),_=0;_<u.length;_++){var S=u[_];if(!(S[mo]||S[Xe]||s==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var V=S.getAttribute(a)||"";V=s+V;var oe=p.get(V);oe?oe.push(S):p.set(V,[S])}}return p}function Hx(s,a,u){s=s.ownerDocument||s,s.head.insertBefore(u,a==="title"?s.querySelector("head > title"):null)}function h8(s,a,u){if(u===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function zx(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function p8(s,a,u,p){if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var _=ec(p.href),S=a.querySelector(qu(_));if(S){a=S._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=rh.bind(s),a.then(s,s)),u.state.loading|=4,u.instance=S,kn(S);return}S=a.ownerDocument||a,p=Dx(p),(_=pi.get(_))&&_g(p,_),S=S.createElement("link"),kn(S);var V=S;V._p=new Promise(function(oe,he){V.onload=oe,V.onerror=he}),dr(S,"link",p),u.instance=S}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(s.count++,u=rh.bind(s),a.addEventListener("load",u),a.addEventListener("error",u))}}var Ag=0;function m8(s,a){return s.stylesheets&&s.count===0&&oh(s,s.stylesheets),0<s.count||0<s.imgCount?function(u){var p=setTimeout(function(){if(s.stylesheets&&oh(s,s.stylesheets),s.unsuspend){var S=s.unsuspend;s.unsuspend=null,S()}},6e4+a);0<s.imgBytes&&Ag===0&&(Ag=62500*Y6());var _=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&oh(s,s.stylesheets),s.unsuspend)){var S=s.unsuspend;s.unsuspend=null,S()}},(s.imgBytes>Ag?50:800)+a);return s.unsuspend=u,function(){s.unsuspend=null,clearTimeout(p),clearTimeout(_)}}:null}function rh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var ih=null;function oh(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,ih=new Map,a.forEach(g8,s),ih=null,rh.call(s))}function g8(s,a){if(!(a.state.loading&4)){var u=ih.get(s);if(u)var p=u.get(null);else{u=new Map,ih.set(s,u);for(var _=s.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<_.length;S++){var V=_[S];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(u.set(V.dataset.precedence,V),p=V)}p&&u.set(null,p)}_=a.instance,V=_.getAttribute("data-precedence"),S=u.get(V)||p,S===p&&u.set(null,_),u.set(V,_),this.count++,p=rh.bind(this),_.addEventListener("load",p),_.addEventListener("error",p),S?S.parentNode.insertBefore(_,S.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(_,s.firstChild)),a.state.loading|=4}}var Ku={$$typeof:M,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function y8(s,a,u,p,_,S,V,oe,he){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ne(0),this.hiddenUpdates=ne(null),this.identifierPrefix=p,this.onUncaughtError=_,this.onCaughtError=S,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=he,this.incompleteTransitions=new Map}function Gx(s,a,u,p,_,S,V,oe,he,Re,Be,Fe){return s=new y8(s,a,u,V,he,Re,Be,Fe,oe),a=1,S===!0&&(a|=24),S=jr(3,null,null,a),s.current=S,S.stateNode=s,a=r0(),a.refCount++,s.pooledCache=a,a.refCount++,S.memoizedState={element:p,isDehydrated:u,cache:a},a0(S),s}function qx(s){return s?(s=Ml,s):Ml}function Vx(s,a,u,p,_,S){_=qx(_),p.context===null?p.context=_:p.pendingContext=_,p=ws(a),p.payload={element:u},S=S===void 0?null:S,S!==null&&(p.callback=S),u=bs(s,p,a),u!==null&&(Ur(u,s,a),xu(u,s,a))}function Kx(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function Sg(s,a){Kx(s,a),(s=s.alternate)&&Kx(s,a)}function Wx(s){if(s.tag===13||s.tag===31){var a=va(s,67108864);a!==null&&Ur(a,s,67108864),Sg(s,67108864)}}function $x(s){if(s.tag===13||s.tag===31){var a=Qr();a=Oe(a);var u=va(s,a);u!==null&&Ur(u,s,a),Sg(s,a)}}var sh=!0;function w8(s,a,u,p){var _=C.T;C.T=null;var S=q.p;try{q.p=2,Tg(s,a,u,p)}finally{q.p=S,C.T=_}}function b8(s,a,u,p){var _=C.T;C.T=null;var S=q.p;try{q.p=8,Tg(s,a,u,p)}finally{q.p=S,C.T=_}}function Tg(s,a,u,p){if(sh){var _=Rg(p);if(_===null)dg(s,a,p,ah,u),Yx(s,p);else if(E8(_,s,a,u,p))p.stopPropagation();else if(Yx(s,p),a&4&&-1<v8.indexOf(s)){for(;_!==null;){var S=Ui(_);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var V=Dn(S.pendingLanes);if(V!==0){var oe=S;for(oe.pendingLanes|=2,oe.entangledLanes|=2;V;){var he=1<<31-ke(V);oe.entanglements[1]|=he,V&=~he}Gi(S),(Xt&6)===0&&(qd=$e()+500,Fu(0))}}break;case 31:case 13:oe=va(S,2),oe!==null&&Ur(oe,S,2),Kd(),Sg(S,2)}if(S=Rg(p),S===null&&dg(s,a,p,ah,u),S===_)break;_=S}_!==null&&p.stopPropagation()}else dg(s,a,p,null,u)}}function Rg(s){return s=Cm(s),Ng(s)}var ah=null;function Ng(s){if(ah=null,s=Li(s),s!==null){var a=o(s);if(a===null)s=null;else{var u=a.tag;if(u===13){if(s=l(a),s!==null)return s;s=null}else if(u===31){if(s=c(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return ah=s,null}function jx(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nt()){case et:return 2;case ht:return 8;case Zn:case Zt:return 32;case te:return 268435456;default:return 32}default:return 32}}var Cg=!1,Is=null,ks=null,Ms=null,Wu=new Map,$u=new Map,Os=[],v8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yx(s,a){switch(s){case"focusin":case"focusout":Is=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":Wu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":$u.delete(a.pointerId)}}function ju(s,a,u,p,_,S){return s===null||s.nativeEvent!==S?(s={blockedOn:a,domEventName:u,eventSystemFlags:p,nativeEvent:S,targetContainers:[_]},a!==null&&(a=Ui(a),a!==null&&Wx(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,_!==null&&a.indexOf(_)===-1&&a.push(_),s)}function E8(s,a,u,p,_){switch(a){case"focusin":return Is=ju(Is,s,a,u,p,_),!0;case"dragenter":return ks=ju(ks,s,a,u,p,_),!0;case"mouseover":return Ms=ju(Ms,s,a,u,p,_),!0;case"pointerover":var S=_.pointerId;return Wu.set(S,ju(Wu.get(S)||null,s,a,u,p,_)),!0;case"gotpointercapture":return S=_.pointerId,$u.set(S,ju($u.get(S)||null,s,a,u,p,_)),!0}return!1}function Jx(s){var a=Li(s.target);if(a!==null){var u=o(a);if(u!==null){if(a=u.tag,a===13){if(a=l(u),a!==null){s.blockedOn=a,gt(s.priority,function(){$x(u)});return}}else if(a===31){if(a=c(u),a!==null){s.blockedOn=a,gt(s.priority,function(){$x(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function lh(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=Rg(s.nativeEvent);if(u===null){u=s.nativeEvent;var p=new u.constructor(u.type,u);Nm=p,u.target.dispatchEvent(p),Nm=null}else return a=Ui(u),a!==null&&Wx(a),s.blockedOn=u,!1;a.shift()}return!0}function Zx(s,a,u){lh(s)&&u.delete(a)}function _8(){Cg=!1,Is!==null&&lh(Is)&&(Is=null),ks!==null&&lh(ks)&&(ks=null),Ms!==null&&lh(Ms)&&(Ms=null),Wu.forEach(Zx),$u.forEach(Zx)}function ch(s,a){s.blockedOn===a&&(s.blockedOn=null,Cg||(Cg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,_8)))}var uh=null;function Xx(s){uh!==s&&(uh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){uh===s&&(uh=null);for(var a=0;a<s.length;a+=3){var u=s[a],p=s[a+1],_=s[a+2];if(typeof p!="function"){if(Ng(p||u)===null)continue;break}var S=Ui(u);S!==null&&(s.splice(a,3),a-=3,R0(S,{pending:!0,data:_,method:u.method,action:p},p,_))}}))}function nc(s){function a(he){return ch(he,s)}Is!==null&&ch(Is,s),ks!==null&&ch(ks,s),Ms!==null&&ch(Ms,s),Wu.forEach(a),$u.forEach(a);for(var u=0;u<Os.length;u++){var p=Os[u];p.blockedOn===s&&(p.blockedOn=null)}for(;0<Os.length&&(u=Os[0],u.blockedOn===null);)Jx(u),u.blockedOn===null&&Os.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var _=u[p],S=u[p+1],V=_[Pt]||null;if(typeof S=="function")V||Xx(u);else if(V){var oe=null;if(S&&S.hasAttribute("formAction")){if(_=S,V=S[Pt]||null)oe=V.formAction;else if(Ng(_)!==null)continue}else oe=V.action;typeof oe=="function"?u[p+1]=oe:(u.splice(p,3),p-=3),Xx(u)}}}function Qx(){function s(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(V){return _=V})},focusReset:"manual",scroll:"manual"})}function a(){_!==null&&(_(),_=null),p||setTimeout(u,20)}function u(){if(!p&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,_=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(u,100),function(){p=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),_!==null&&(_(),_=null)}}}function Ig(s){this._internalRoot=s}fh.prototype.render=Ig.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var u=a.current,p=Qr();Vx(u,p,s,a,null,null)},fh.prototype.unmount=Ig.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Vx(s.current,2,null,s,null,null),Kd(),a[po]=null}};function fh(s){this._internalRoot=s}fh.prototype.unstable_scheduleHydration=function(s){if(s){var a=yt();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Os.length&&a!==0&&a<Os[u].priority;u++);Os.splice(u,0,s),u===0&&Jx(s)}};var eA=e.version;if(eA!=="19.2.4")throw Error(r(527,eA,"19.2.4"));q.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(a),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var x8={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dh.isDisabled&&dh.supportsFiber)try{le=dh.inject(x8),pe=dh}catch{}}return Ju.createRoot=function(s,a){if(!i(s))throw Error(r(299));var u=!1,p="",_=a_,S=l_,V=c_;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(_=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(V=a.onRecoverableError)),a=Gx(s,1,!1,null,null,u,p,null,_,S,V,Qx),s[po]=a.current,fg(s),new Ig(a)},Ju.hydrateRoot=function(s,a,u){if(!i(s))throw Error(r(299));var p=!1,_="",S=a_,V=l_,oe=c_,he=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(V=u.onCaughtError),u.onRecoverableError!==void 0&&(oe=u.onRecoverableError),u.formState!==void 0&&(he=u.formState)),a=Gx(s,1,!0,a,u??null,p,_,he,S,V,oe,Qx),a.context=qx(null),u=a.current,p=Qr(),p=Oe(p),_=ws(p),_.callback=null,bs(u,_,p),u=p,a.current.lanes=u,D(a,u),Gi(a),s[po]=a.current,fg(s),new fh(a)},Ju.version="19.2.4",Ju}var uA;function P8(){if(uA)return Og.exports;uA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Og.exports=D8(),Og.exports}var F8=P8();const H8=ss(F8),bp=globalThis||void 0||self;/**
 * react-router v7.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fA="popstate";function z8(n={}){function e(i,o){let{pathname:l="/",search:c="",hash:f=""}=ul(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Pw("",{pathname:l,search:c,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let f=i.location.href,d=f.indexOf("#");c=d===-1?f:f.slice(0,d)}return c+"#"+(typeof o=="string"?o:kf(o))}function r(i,o){wi(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return q8(e,t,r,n)}function Nn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function wi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function G8(){return Math.random().toString(36).substring(2,10)}function dA(n,e){return{usr:n.state,key:n.key,idx:e}}function Pw(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ul(e):e,state:t,key:e&&e.key||r||G8()}}function kf({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ul(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function q8(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c="POP",f=null,d=h();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function h(){return(l.state||{idx:null}).idx}function b(){c="POP";let I=h(),L=I==null?null:I-d;d=I,f&&f({action:c,location:k.location,delta:L})}function E(I,L){c="PUSH";let F=Pw(k.location,I,L);t&&t(F,I),d=h()+1;let M=dA(F,d),Y=k.createHref(F);try{l.pushState(M,"",Y)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;i.location.assign(Y)}o&&f&&f({action:c,location:k.location,delta:1})}function v(I,L){c="REPLACE";let F=Pw(k.location,I,L);t&&t(F,I),d=h();let M=dA(F,d),Y=k.createHref(F);l.replaceState(M,"",Y),o&&f&&f({action:c,location:k.location,delta:0})}function N(I){return V8(I)}let k={get action(){return c},get location(){return n(i,l)},listen(I){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(fA,b),f=I,()=>{i.removeEventListener(fA,b),f=null}},createHref(I){return e(i,I)},createURL:N,encodeLocation(I){let L=N(I);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:E,replace:v,go(I){return l.go(I)}};return k}function V8(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Nn(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:kf(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function IN(n,e,t="/"){return K8(n,e,t,!1)}function K8(n,e,t,r){let i=typeof e=="string"?ul(e):e,o=es(i.pathname||"/",t);if(o==null)return null;let l=kN(n);W8(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let d=r5(o);c=t5(l[f],d,r)}return c}function kN(n,e=[],t=[],r="",i=!1){let o=(l,c,f=i,d)=>{let h={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&f)return;Nn(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let b=Xo([r,h.relativePath]),E=t.concat(h);l.children&&l.children.length>0&&(Nn(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),kN(l.children,e,E,b,f)),!(l.path==null&&!l.index)&&e.push({path:b,score:Q8(b,l.index),routesMeta:E})};return n.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,c);else for(let d of MN(l.path))o(l,c,!0,d)}),e}function MN(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=MN(r.join("/")),c=[];return c.push(...l.map(f=>f===""?o:[o,f].join("/"))),i&&c.push(...l),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function W8(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:e5(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var $8=/^:[\w-]+$/,j8=3,Y8=2,J8=1,Z8=10,X8=-2,hA=n=>n==="*";function Q8(n,e){let t=n.split("/"),r=t.length;return t.some(hA)&&(r+=X8),e&&(r+=Y8),t.filter(i=>!hA(i)).reduce((i,o)=>i+($8.test(o)?j8:o===""?J8:Z8),r)}function e5(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function t5(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],d=c===r.length-1,h=o==="/"?e:e.slice(o.length)||"/",b=vp({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},h),E=f.route;if(!b&&d&&t&&!r[r.length-1].route.index&&(b=vp({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!b)return null;Object.assign(i,b.params),l.push({params:i,pathname:Xo([o,b.pathname]),pathnameBase:l5(Xo([o,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(o=Xo([o,b.pathnameBase]))}return l}function vp(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=n5(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:b},E)=>{if(h==="*"){let N=c[E]||"";l=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const v=c[E];return b&&!v?d[h]=void 0:d[h]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:n}}function n5(n,e=!1,t=!0){wi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function r5(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function es(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var i5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,o5=n=>i5.test(n);function s5(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?ul(n):n,o;if(t)if(o5(t))o=t;else{if(t.includes("//")){let l=t;t=t.replace(/\/\/+/g,"/"),wi(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${t}`)}t.startsWith("/")?o=pA(t.substring(1),"/"):o=pA(t,e)}else o=e;return{pathname:o,search:c5(r),hash:u5(i)}}function pA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Dg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function a5(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ON(n){let e=a5(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function BN(n,e,t,r=!1){let i;typeof n=="string"?i=ul(n):(i={...n},Nn(!i.pathname||!i.pathname.includes("?"),Dg("?","pathname","search",i)),Nn(!i.pathname||!i.pathname.includes("#"),Dg("#","pathname","hash",i)),Nn(!i.search||!i.search.includes("#"),Dg("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=t;else{let b=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),b-=1;i.pathname=E.join("/")}c=b>=0?e[b]:"/"}let f=s5(i,c),d=l&&l!=="/"&&l.endsWith("/"),h=(o||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||h)&&(f.pathname+="/"),f}var Xo=n=>n.join("/").replace(/\/\/+/g,"/"),l5=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),c5=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,u5=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function f5(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function d5(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var LN=["POST","PUT","PATCH","DELETE"];new Set(LN);var h5=["GET",...LN];new Set(h5);var Yc=fe.createContext(null);Yc.displayName="DataRouter";var jp=fe.createContext(null);jp.displayName="DataRouterState";fe.createContext(!1);var UN=fe.createContext({isTransitioning:!1});UN.displayName="ViewTransition";var p5=fe.createContext(new Map);p5.displayName="Fetchers";var m5=fe.createContext(null);m5.displayName="Await";var Oi=fe.createContext(null);Oi.displayName="Navigation";var Gf=fe.createContext(null);Gf.displayName="Location";var co=fe.createContext({outlet:null,matches:[],isDataRoute:!1});co.displayName="Route";var Z1=fe.createContext(null);Z1.displayName="RouteError";function g5(n,{relative:e}={}){Nn(qf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=fe.useContext(Oi),{hash:i,pathname:o,search:l}=Vf(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:Xo([t,o])),r.createHref({pathname:c,search:l,hash:i})}function qf(){return fe.useContext(Gf)!=null}function ha(){return Nn(qf(),"useLocation() may be used only in the context of a <Router> component."),fe.useContext(Gf).location}var DN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PN(n){fe.useContext(Oi).static||fe.useLayoutEffect(n)}function y5(){let{isDataRoute:n}=fe.useContext(co);return n?k5():w5()}function w5(){Nn(qf(),"useNavigate() may be used only in the context of a <Router> component.");let n=fe.useContext(Yc),{basename:e,navigator:t}=fe.useContext(Oi),{matches:r}=fe.useContext(co),{pathname:i}=ha(),o=JSON.stringify(ON(r)),l=fe.useRef(!1);return PN(()=>{l.current=!0}),fe.useCallback((f,d={})=>{if(wi(l.current,DN),!l.current)return;if(typeof f=="number"){t.go(f);return}let h=BN(f,JSON.parse(o),i,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Xo([e,h.pathname])),(d.replace?t.replace:t.push)(h,d.state,d)},[e,t,o,i,n])}fe.createContext(null);function b5(){let{matches:n}=fe.useContext(co),e=n[n.length-1];return e?e.params:{}}function Vf(n,{relative:e}={}){let{matches:t}=fe.useContext(co),{pathname:r}=ha(),i=JSON.stringify(ON(t));return fe.useMemo(()=>BN(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function v5(n,e){return FN(n,e)}function FN(n,e,t,r,i){var F;Nn(qf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=fe.useContext(Oi),{matches:l}=fe.useContext(co),c=l[l.length-1],f=c?c.params:{},d=c?c.pathname:"/",h=c?c.pathnameBase:"/",b=c&&c.route;{let M=b&&b.path||"";HN(d,!b||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let E=ha(),v;if(e){let M=typeof e=="string"?ul(e):e;Nn(h==="/"||((F=M.pathname)==null?void 0:F.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${M.pathname}" was given in the \`location\` prop.`),v=M}else v=E;let N=v.pathname||"/",k=N;if(h!=="/"){let M=h.replace(/^\//,"").split("/");k="/"+N.replace(/^\//,"").split("/").slice(M.length).join("/")}let I=IN(n,{pathname:k});wi(b||I!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),wi(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=S5(I&&I.map(M=>Object.assign({},M,{params:Object.assign({},f,M.params),pathname:Xo([h,o.encodeLocation?o.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?h:Xo([h,o.encodeLocation?o.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),l,t,r,i);return e&&L?fe.createElement(Gf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},L):L}function E5(){let n=I5(),e=f5(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=fe.createElement(fe.Fragment,null,fe.createElement("p",null," Hey developer "),fe.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",fe.createElement("code",{style:o},"ErrorBoundary")," or"," ",fe.createElement("code",{style:o},"errorElement")," prop on your route.")),fe.createElement(fe.Fragment,null,fe.createElement("h2",null,"Unexpected Application Error!"),fe.createElement("h3",{style:{fontStyle:"italic"}},e),t?fe.createElement("pre",{style:i},t):null,l)}var _5=fe.createElement(E5,null),x5=class extends fe.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?fe.createElement(co.Provider,{value:this.props.routeContext},fe.createElement(Z1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function A5({routeContext:n,match:e,children:t}){let r=fe.useContext(Yc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),fe.createElement(co.Provider,{value:n},t)}function S5(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let h=o.findIndex(b=>b.route.id&&(l==null?void 0:l[b.route.id])!==void 0);Nn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,f=-1;if(t)for(let h=0;h<o.length;h++){let b=o[h];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(f=h),b.route.id){let{loaderData:E,errors:v}=t,N=b.route.loader&&!E.hasOwnProperty(b.route.id)&&(!v||v[b.route.id]===void 0);if(b.route.lazy||N){c=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let d=t&&r?(h,b)=>{var E,v;r(h,{location:t.location,params:((v=(E=t.matches)==null?void 0:E[0])==null?void 0:v.params)??{},unstable_pattern:d5(t.matches),errorInfo:b})}:void 0;return o.reduceRight((h,b,E)=>{let v,N=!1,k=null,I=null;t&&(v=l&&b.route.id?l[b.route.id]:void 0,k=b.route.errorElement||_5,c&&(f<0&&E===0?(HN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,I=null):f===E&&(N=!0,I=b.route.hydrateFallbackElement||null)));let L=e.concat(o.slice(0,E+1)),F=()=>{let M;return v?M=k:N?M=I:b.route.Component?M=fe.createElement(b.route.Component,null):b.route.element?M=b.route.element:M=h,fe.createElement(A5,{match:b,routeContext:{outlet:h,matches:L,isDataRoute:t!=null},children:M})};return t&&(b.route.ErrorBoundary||b.route.errorElement||E===0)?fe.createElement(x5,{location:t.location,revalidation:t.revalidation,component:k,error:v,children:F(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:d}):F()},null)}function X1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T5(n){let e=fe.useContext(Yc);return Nn(e,X1(n)),e}function R5(n){let e=fe.useContext(jp);return Nn(e,X1(n)),e}function N5(n){let e=fe.useContext(co);return Nn(e,X1(n)),e}function Q1(n){let e=N5(n),t=e.matches[e.matches.length-1];return Nn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function C5(){return Q1("useRouteId")}function I5(){var r;let n=fe.useContext(Z1),e=R5("useRouteError"),t=Q1("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function k5(){let{router:n}=T5("useNavigate"),e=Q1("useNavigate"),t=fe.useRef(!1);return PN(()=>{t.current=!0}),fe.useCallback(async(i,o={})=>{wi(t.current,DN),t.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var mA={};function HN(n,e,t){!e&&!mA[n]&&(mA[n]=!0,wi(!1,t))}fe.memo(M5);function M5({routes:n,future:e,state:t,unstable_onError:r}){return FN(n,void 0,t,r,e)}function js(n){Nn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function O5({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:l}){Nn(!qf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=fe.useMemo(()=>({basename:c,navigator:i,static:o,unstable_useTransitions:l,future:{}}),[c,i,o,l]);typeof t=="string"&&(t=ul(t));let{pathname:d="/",search:h="",hash:b="",state:E=null,key:v="default"}=t,N=fe.useMemo(()=>{let k=es(d,c);return k==null?null:{location:{pathname:k,search:h,hash:b,state:E,key:v},navigationType:r}},[c,d,h,b,E,v,r]);return wi(N!=null,`<Router basename="${c}"> is not able to match the URL "${d}${h}${b}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:fe.createElement(Oi.Provider,{value:f},fe.createElement(Gf.Provider,{children:e,value:N}))}function B5({children:n,location:e}){return v5(Fw(n),e)}function Fw(n,e=[]){let t=[];return fe.Children.forEach(n,(r,i)=>{if(!fe.isValidElement(r))return;let o=[...e,i];if(r.type===fe.Fragment){t.push.apply(t,Fw(r.props.children,o));return}Nn(r.type===js,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Fw(r.props.children,o)),t.push(l)}),t}var qh="get",Vh="application/x-www-form-urlencoded";function Yp(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function L5(n){return Yp(n)&&n.tagName.toLowerCase()==="button"}function U5(n){return Yp(n)&&n.tagName.toLowerCase()==="form"}function D5(n){return Yp(n)&&n.tagName.toLowerCase()==="input"}function P5(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function F5(n,e){return n.button===0&&(!e||e==="_self")&&!P5(n)}var hh=null;function H5(){if(hh===null)try{new FormData(document.createElement("form"),0),hh=!1}catch{hh=!0}return hh}var z5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pg(n){return n!=null&&!z5.has(n)?(wi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vh}"`),null):n}function G5(n,e){let t,r,i,o,l;if(U5(n)){let c=n.getAttribute("action");r=c?es(c,e):null,t=n.getAttribute("method")||qh,i=Pg(n.getAttribute("enctype"))||Vh,o=new FormData(n)}else if(L5(n)||D5(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(r=f?es(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||qh,i=Pg(n.getAttribute("formenctype"))||Pg(c.getAttribute("enctype"))||Vh,o=new FormData(c,n),!H5()){let{name:d,type:h,value:b}=n;if(h==="image"){let E=d?`${d}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else d&&o.append(d,b)}}else{if(Yp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=qh,r=null,i=Vh,l=n}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function eb(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function q5(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&es(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function V5(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function K5(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function W5(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await V5(o,t);return l.links?l.links():[]}return[]}));return J5(r.flat(1).filter(K5).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function gA(n,e,t,r,i,o){let l=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,c=(f,d)=>{var h;return t[d].pathname!==f.pathname||((h=t[d].route.path)==null?void 0:h.endsWith("*"))&&t[d].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,d)=>l(f,d)||c(f,d)):o==="data"?e.filter((f,d)=>{var b;let h=r.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(l(f,d)||c(f,d))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function $5(n,e,{includeHydrateFallback:t}={}){return j5(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function j5(n){return[...new Set(n)]}function Y5(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function J5(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(Y5(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function zN(){let n=fe.useContext(Yc);return eb(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Z5(){let n=fe.useContext(jp);return eb(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var tb=fe.createContext(void 0);tb.displayName="FrameworkContext";function GN(){let n=fe.useContext(tb);return eb(n,"You must render this element inside a <HydratedRouter> element"),n}function X5(n,e){let t=fe.useContext(tb),[r,i]=fe.useState(!1),[o,l]=fe.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:d,onMouseLeave:h,onTouchStart:b}=e,E=fe.useRef(null);fe.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let k=L=>{L.forEach(F=>{l(F.isIntersecting)})},I=new IntersectionObserver(k,{threshold:.5});return E.current&&I.observe(E.current),()=>{I.disconnect()}}},[n]),fe.useEffect(()=>{if(r){let k=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(k)}}},[r]);let v=()=>{i(!0)},N=()=>{i(!1),l(!1)};return t?n!=="intent"?[o,E,{}]:[o,E,{onFocus:Zu(c,v),onBlur:Zu(f,N),onMouseEnter:Zu(d,v),onMouseLeave:Zu(h,N),onTouchStart:Zu(b,v)}]:[!1,E,{}]}function Zu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Q5({page:n,...e}){let{router:t}=zN(),r=fe.useMemo(()=>IN(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?fe.createElement(tO,{page:n,matches:r,...e}):null}function eO(n){let{manifest:e,routeModules:t}=GN(),[r,i]=fe.useState([]);return fe.useEffect(()=>{let o=!1;return W5(n,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[n,e,t]),r}function tO({page:n,matches:e,...t}){let r=ha(),{manifest:i,routeModules:o}=GN(),{basename:l}=zN(),{loaderData:c,matches:f}=Z5(),d=fe.useMemo(()=>gA(n,e,f,i,r,"data"),[n,e,f,i,r]),h=fe.useMemo(()=>gA(n,e,f,i,r,"assets"),[n,e,f,i,r]),b=fe.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let N=new Set,k=!1;if(e.forEach(L=>{var M;let F=i.routes[L.route.id];!F||!F.hasLoader||(!d.some(Y=>Y.route.id===L.route.id)&&L.route.id in c&&((M=o[L.route.id])!=null&&M.shouldRevalidate)||F.hasClientLoader?k=!0:N.add(L.route.id))}),N.size===0)return[];let I=q5(n,l,"data");return k&&N.size>0&&I.searchParams.set("_routes",e.filter(L=>N.has(L.route.id)).map(L=>L.route.id).join(",")),[I.pathname+I.search]},[l,c,r,i,d,e,n,o]),E=fe.useMemo(()=>$5(h,i),[h,i]),v=eO(h);return fe.createElement(fe.Fragment,null,b.map(N=>fe.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),E.map(N=>fe.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),v.map(({key:N,link:k})=>fe.createElement("link",{key:N,nonce:t.nonce,...k})))}function nO(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var qN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qN&&(window.__reactRouterVersion="7.10.0")}catch{}function rO({basename:n,children:e,unstable_useTransitions:t,window:r}){let i=fe.useRef();i.current==null&&(i.current=z8({window:r,v5Compat:!0}));let o=i.current,[l,c]=fe.useState({action:o.action,location:o.location}),f=fe.useCallback(d=>{t===!1?c(d):fe.startTransition(()=>c(d))},[t]);return fe.useLayoutEffect(()=>o.listen(f),[o,f]),fe.createElement(O5,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:t===!0})}var VN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ii=fe.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:c,target:f,to:d,preventScrollReset:h,viewTransition:b,...E},v){let{basename:N,unstable_useTransitions:k}=fe.useContext(Oi),I=typeof d=="string"&&VN.test(d),L,F=!1;if(typeof d=="string"&&I&&(L=d,qN))try{let Q=new URL(window.location.href),Z=d.startsWith("//")?new URL(Q.protocol+d):new URL(d),W=es(Z.pathname,N);Z.origin===Q.origin&&W!=null?d=W+Z.search+Z.hash:F=!0}catch{wi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=g5(d,{relative:i}),[Y,ie,se]=X5(r,E),re=aO(d,{replace:l,state:c,target:f,preventScrollReset:h,relative:i,viewTransition:b,unstable_useTransitions:k});function ae(Q){e&&e(Q),Q.defaultPrevented||re(Q)}let J=fe.createElement("a",{...E,...se,href:L||M,onClick:F||o?e:ae,ref:nO(v,ie),target:f,"data-discover":!I&&t==="render"?"true":void 0});return Y&&!I?fe.createElement(fe.Fragment,null,J,fe.createElement(Q5,{page:M})):J});Ii.displayName="Link";var iO=fe.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:c,children:f,...d},h){let b=Vf(l,{relative:d.relative}),E=ha(),v=fe.useContext(jp),{navigator:N,basename:k}=fe.useContext(Oi),I=v!=null&&dO(b)&&c===!0,L=N.encodeLocation?N.encodeLocation(b).pathname:b.pathname,F=E.pathname,M=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(F=F.toLowerCase(),M=M?M.toLowerCase():null,L=L.toLowerCase()),M&&k&&(M=es(M,k)||M);const Y=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let ie=F===L||!i&&F.startsWith(L)&&F.charAt(Y)==="/",se=M!=null&&(M===L||!i&&M.startsWith(L)&&M.charAt(L.length)==="/"),re={isActive:ie,isPending:se,isTransitioning:I},ae=ie?e:void 0,J;typeof r=="function"?J=r(re):J=[r,ie?"active":null,se?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let Q=typeof o=="function"?o(re):o;return fe.createElement(Ii,{...d,"aria-current":ae,className:J,ref:h,style:Q,to:l,viewTransition:c},typeof f=="function"?f(re):f)});iO.displayName="NavLink";var oO=fe.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:l=qh,action:c,onSubmit:f,relative:d,preventScrollReset:h,viewTransition:b,...E},v)=>{let{unstable_useTransitions:N}=fe.useContext(Oi),k=uO(),I=fO(c,{relative:d}),L=l.toLowerCase()==="get"?"get":"post",F=typeof c=="string"&&VN.test(c),M=Y=>{if(f&&f(Y),Y.defaultPrevented)return;Y.preventDefault();let ie=Y.nativeEvent.submitter,se=(ie==null?void 0:ie.getAttribute("formmethod"))||l,re=()=>k(ie||Y.currentTarget,{fetcherKey:e,method:se,navigate:t,replace:i,state:o,relative:d,preventScrollReset:h,viewTransition:b});N&&t!==!1?fe.startTransition(()=>re()):re()};return fe.createElement("form",{ref:v,method:L,action:I,onSubmit:r?f:M,...E,"data-discover":!F&&n==="render"?"true":void 0})});oO.displayName="Form";function sO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KN(n){let e=fe.useContext(Yc);return Nn(e,sO(n)),e}function aO(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:l,unstable_useTransitions:c}={}){let f=y5(),d=ha(),h=Vf(n,{relative:o});return fe.useCallback(b=>{if(F5(b,e)){b.preventDefault();let E=t!==void 0?t:kf(d)===kf(h),v=()=>f(n,{replace:E,state:r,preventScrollReset:i,relative:o,viewTransition:l});c?fe.startTransition(()=>v()):v()}},[d,f,h,t,r,e,n,i,o,l,c])}var lO=0,cO=()=>`__${String(++lO)}__`;function uO(){let{router:n}=KN("useSubmit"),{basename:e}=fe.useContext(Oi),t=C5(),r=n.fetch,i=n.navigate;return fe.useCallback(async(o,l={})=>{let{action:c,method:f,encType:d,formData:h,body:b}=G5(o,e);if(l.navigate===!1){let E=l.fetcherKey||cO();await r(E,t,l.action||c,{preventScrollReset:l.preventScrollReset,formData:h,body:b,formMethod:l.method||f,formEncType:l.encType||d,flushSync:l.flushSync})}else await i(l.action||c,{preventScrollReset:l.preventScrollReset,formData:h,body:b,formMethod:l.method||f,formEncType:l.encType||d,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,t])}function fO(n,{relative:e}={}){let{basename:t}=fe.useContext(Oi),r=fe.useContext(co);Nn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Vf(n||".",{relative:e})},l=ha();if(n==null){o.search=l.search;let c=new URLSearchParams(o.search),f=c.getAll("index");if(f.some(h=>h==="")){c.delete("index"),f.filter(b=>b).forEach(b=>c.append("index",b));let h=c.toString();o.search=h?`?${h}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Xo([t,o.pathname])),kf(o)}function dO(n,{relative:e}={}){let t=fe.useContext(UN);Nn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=KN("useViewTransitionState"),i=Vf(n,{relative:e});if(!t.isTransitioning)return!1;let o=es(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=es(t.nextLocation.pathname,r)||t.nextLocation.pathname;return vp(i.pathname,l)!=null||vp(i.pathname,o)!=null}var hO=CN();const WN={setVisible(n){console.error($N("call","setVisible"))},visible:!1};Object.defineProperty(WN,"visible",{get(){return console.error($N("read","visible")),!1}});function $N(n,e){return`You have tried to  ${n} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const jN=fe.createContext(WN);function YN(){return fe.useContext(jN)}var nb={},Jp={};Jp.byteLength=gO;Jp.toByteArray=wO;Jp.fromByteArray=EO;var to=[],mi=[],pO=typeof Uint8Array<"u"?Uint8Array:Array,Fg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var rc=0,mO=Fg.length;rc<mO;++rc)to[rc]=Fg[rc],mi[Fg.charCodeAt(rc)]=rc;mi[45]=62;mi[95]=63;function JN(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function gO(n){var e=JN(n),t=e[0],r=e[1];return(t+r)*3/4-r}function yO(n,e,t){return(e+t)*3/4-t}function wO(n){var e,t=JN(n),r=t[0],i=t[1],o=new pO(yO(n,r,i)),l=0,c=i>0?r-4:r,f;for(f=0;f<c;f+=4)e=mi[n.charCodeAt(f)]<<18|mi[n.charCodeAt(f+1)]<<12|mi[n.charCodeAt(f+2)]<<6|mi[n.charCodeAt(f+3)],o[l++]=e>>16&255,o[l++]=e>>8&255,o[l++]=e&255;return i===2&&(e=mi[n.charCodeAt(f)]<<2|mi[n.charCodeAt(f+1)]>>4,o[l++]=e&255),i===1&&(e=mi[n.charCodeAt(f)]<<10|mi[n.charCodeAt(f+1)]<<4|mi[n.charCodeAt(f+2)]>>2,o[l++]=e>>8&255,o[l++]=e&255),o}function bO(n){return to[n>>18&63]+to[n>>12&63]+to[n>>6&63]+to[n&63]}function vO(n,e,t){for(var r,i=[],o=e;o<t;o+=3)r=(n[o]<<16&16711680)+(n[o+1]<<8&65280)+(n[o+2]&255),i.push(bO(r));return i.join("")}function EO(n){for(var e,t=n.length,r=t%3,i=[],o=16383,l=0,c=t-r;l<c;l+=o)i.push(vO(n,l,l+o>c?c:l+o));return r===1?(e=n[t-1],i.push(to[e>>2]+to[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],i.push(to[e>>10]+to[e>>4&63]+to[e<<2&63]+"=")),i.join("")}var rb={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */rb.read=function(n,e,t,r,i){var o,l,c=i*8-r-1,f=(1<<c)-1,d=f>>1,h=-7,b=t?i-1:0,E=t?-1:1,v=n[e+b];for(b+=E,o=v&(1<<-h)-1,v>>=-h,h+=c;h>0;o=o*256+n[e+b],b+=E,h-=8);for(l=o&(1<<-h)-1,o>>=-h,h+=r;h>0;l=l*256+n[e+b],b+=E,h-=8);if(o===0)o=1-d;else{if(o===f)return l?NaN:(v?-1:1)*(1/0);l=l+Math.pow(2,r),o=o-d}return(v?-1:1)*l*Math.pow(2,o-r)};rb.write=function(n,e,t,r,i,o){var l,c,f,d=o*8-i-1,h=(1<<d)-1,b=h>>1,E=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=r?0:o-1,N=r?1:-1,k=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,l=h):(l=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-l))<1&&(l--,f*=2),l+b>=1?e+=E/f:e+=E*Math.pow(2,1-b),e*f>=2&&(l++,f/=2),l+b>=h?(c=0,l=h):l+b>=1?(c=(e*f-1)*Math.pow(2,i),l=l+b):(c=e*Math.pow(2,b-1)*Math.pow(2,i),l=0));i>=8;n[t+v]=c&255,v+=N,c/=256,i-=8);for(l=l<<i|c,d+=i;d>0;n[t+v]=l&255,v+=N,l/=256,d-=8);n[t+v-N]|=k*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const e=Jp,t=rb,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=h,n.SlowBuffer=ie,n.INSPECT_MAX_BYTES=50;const i=2147483647;n.kMaxLength=i;const{Uint8Array:o,ArrayBuffer:l,SharedArrayBuffer:c}=globalThis;h.TYPED_ARRAY_SUPPORT=f(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function f(){try{const te=new o(1),P={foo:function(){return 42}};return Object.setPrototypeOf(P,o.prototype),Object.setPrototypeOf(te,P),te.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function d(te){if(te>i)throw new RangeError('The value "'+te+'" is invalid for option "size"');const P=new o(te);return Object.setPrototypeOf(P,h.prototype),P}function h(te,P,H){if(typeof te=="number"){if(typeof P=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return N(te)}return b(te,P,H)}h.poolSize=8192;function b(te,P,H){if(typeof te=="string")return k(te,P);if(l.isView(te))return L(te);if(te==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof te);if(Nt(te,l)||te&&Nt(te.buffer,l)||typeof c<"u"&&(Nt(te,c)||te&&Nt(te.buffer,c)))return F(te,P,H);if(typeof te=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const le=te.valueOf&&te.valueOf();if(le!=null&&le!==te)return h.from(le,P,H);const pe=M(te);if(pe)return pe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof te[Symbol.toPrimitive]=="function")return h.from(te[Symbol.toPrimitive]("string"),P,H);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof te)}h.from=function(te,P,H){return b(te,P,H)},Object.setPrototypeOf(h.prototype,o.prototype),Object.setPrototypeOf(h,o);function E(te){if(typeof te!="number")throw new TypeError('"size" argument must be of type number');if(te<0)throw new RangeError('The value "'+te+'" is invalid for option "size"')}function v(te,P,H){return E(te),te<=0?d(te):P!==void 0?typeof H=="string"?d(te).fill(P,H):d(te).fill(P):d(te)}h.alloc=function(te,P,H){return v(te,P,H)};function N(te){return E(te),d(te<0?0:Y(te)|0)}h.allocUnsafe=function(te){return N(te)},h.allocUnsafeSlow=function(te){return N(te)};function k(te,P){if((typeof P!="string"||P==="")&&(P="utf8"),!h.isEncoding(P))throw new TypeError("Unknown encoding: "+P);const H=se(te,P)|0;let le=d(H);const pe=le.write(te,P);return pe!==H&&(le=le.slice(0,pe)),le}function I(te){const P=te.length<0?0:Y(te.length)|0,H=d(P);for(let le=0;le<P;le+=1)H[le]=te[le]&255;return H}function L(te){if(Nt(te,o)){const P=new o(te);return F(P.buffer,P.byteOffset,P.byteLength)}return I(te)}function F(te,P,H){if(P<0||te.byteLength<P)throw new RangeError('"offset" is outside of buffer bounds');if(te.byteLength<P+(H||0))throw new RangeError('"length" is outside of buffer bounds');let le;return P===void 0&&H===void 0?le=new o(te):H===void 0?le=new o(te,P):le=new o(te,P,H),Object.setPrototypeOf(le,h.prototype),le}function M(te){if(h.isBuffer(te)){const P=Y(te.length)|0,H=d(P);return H.length===0||te.copy(H,0,0,P),H}if(te.length!==void 0)return typeof te.length!="number"||et(te.length)?d(0):I(te);if(te.type==="Buffer"&&Array.isArray(te.data))return I(te.data)}function Y(te){if(te>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return te|0}function ie(te){return+te!=te&&(te=0),h.alloc(+te)}h.isBuffer=function(P){return P!=null&&P._isBuffer===!0&&P!==h.prototype},h.compare=function(P,H){if(Nt(P,o)&&(P=h.from(P,P.offset,P.byteLength)),Nt(H,o)&&(H=h.from(H,H.offset,H.byteLength)),!h.isBuffer(P)||!h.isBuffer(H))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(P===H)return 0;let le=P.length,pe=H.length;for(let _e=0,ke=Math.min(le,pe);_e<ke;++_e)if(P[_e]!==H[_e]){le=P[_e],pe=H[_e];break}return le<pe?-1:pe<le?1:0},h.isEncoding=function(P){switch(String(P).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(P,H){if(!Array.isArray(P))throw new TypeError('"list" argument must be an Array of Buffers');if(P.length===0)return h.alloc(0);let le;if(H===void 0)for(H=0,le=0;le<P.length;++le)H+=P[le].length;const pe=h.allocUnsafe(H);let _e=0;for(le=0;le<P.length;++le){let ke=P[le];if(Nt(ke,o))_e+ke.length>pe.length?(h.isBuffer(ke)||(ke=h.from(ke)),ke.copy(pe,_e)):o.prototype.set.call(pe,ke,_e);else if(h.isBuffer(ke))ke.copy(pe,_e);else throw new TypeError('"list" argument must be an Array of Buffers');_e+=ke.length}return pe};function se(te,P){if(h.isBuffer(te))return te.length;if(l.isView(te)||Nt(te,l))return te.byteLength;if(typeof te!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof te);const H=te.length,le=arguments.length>2&&arguments[2]===!0;if(!le&&H===0)return 0;let pe=!1;for(;;)switch(P){case"ascii":case"latin1":case"binary":return H;case"utf8":case"utf-8":return ye(te).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H*2;case"hex":return H>>>1;case"base64":return Ve(te).length;default:if(pe)return le?-1:ye(te).length;P=(""+P).toLowerCase(),pe=!0}}h.byteLength=se;function re(te,P,H){let le=!1;if((P===void 0||P<0)&&(P=0),P>this.length||((H===void 0||H>this.length)&&(H=this.length),H<=0)||(H>>>=0,P>>>=0,H<=P))return"";for(te||(te="utf8");;)switch(te){case"hex":return y(this,P,H);case"utf8":case"utf-8":return q(this,P,H);case"ascii":return B(this,P,H);case"latin1":case"binary":return A(this,P,H);case"base64":return C(this,P,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,P,H);default:if(le)throw new TypeError("Unknown encoding: "+te);te=(te+"").toLowerCase(),le=!0}}h.prototype._isBuffer=!0;function ae(te,P,H){const le=te[P];te[P]=te[H],te[H]=le}h.prototype.swap16=function(){const P=this.length;if(P%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let H=0;H<P;H+=2)ae(this,H,H+1);return this},h.prototype.swap32=function(){const P=this.length;if(P%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let H=0;H<P;H+=4)ae(this,H,H+3),ae(this,H+1,H+2);return this},h.prototype.swap64=function(){const P=this.length;if(P%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let H=0;H<P;H+=8)ae(this,H,H+7),ae(this,H+1,H+6),ae(this,H+2,H+5),ae(this,H+3,H+4);return this},h.prototype.toString=function(){const P=this.length;return P===0?"":arguments.length===0?q(this,0,P):re.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(P){if(!h.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P?!0:h.compare(this,P)===0},h.prototype.inspect=function(){let P="";const H=n.INSPECT_MAX_BYTES;return P=this.toString("hex",0,H).replace(/(.{2})/g,"$1 ").trim(),this.length>H&&(P+=" ... "),"<Buffer "+P+">"},r&&(h.prototype[r]=h.prototype.inspect),h.prototype.compare=function(P,H,le,pe,_e){if(Nt(P,o)&&(P=h.from(P,P.offset,P.byteLength)),!h.isBuffer(P))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof P);if(H===void 0&&(H=0),le===void 0&&(le=P?P.length:0),pe===void 0&&(pe=0),_e===void 0&&(_e=this.length),H<0||le>P.length||pe<0||_e>this.length)throw new RangeError("out of range index");if(pe>=_e&&H>=le)return 0;if(pe>=_e)return-1;if(H>=le)return 1;if(H>>>=0,le>>>=0,pe>>>=0,_e>>>=0,this===P)return 0;let ke=_e-pe,wt=le-H;const pt=Math.min(ke,wt),mt=this.slice(pe,_e),Vt=P.slice(H,le);for(let st=0;st<pt;++st)if(mt[st]!==Vt[st]){ke=mt[st],wt=Vt[st];break}return ke<wt?-1:wt<ke?1:0};function J(te,P,H,le,pe){if(te.length===0)return-1;if(typeof H=="string"?(le=H,H=0):H>2147483647?H=2147483647:H<-2147483648&&(H=-2147483648),H=+H,et(H)&&(H=pe?0:te.length-1),H<0&&(H=te.length+H),H>=te.length){if(pe)return-1;H=te.length-1}else if(H<0)if(pe)H=0;else return-1;if(typeof P=="string"&&(P=h.from(P,le)),h.isBuffer(P))return P.length===0?-1:Q(te,P,H,le,pe);if(typeof P=="number")return P=P&255,typeof o.prototype.indexOf=="function"?pe?o.prototype.indexOf.call(te,P,H):o.prototype.lastIndexOf.call(te,P,H):Q(te,[P],H,le,pe);throw new TypeError("val must be string, number or Buffer")}function Q(te,P,H,le,pe){let _e=1,ke=te.length,wt=P.length;if(le!==void 0&&(le=String(le).toLowerCase(),le==="ucs2"||le==="ucs-2"||le==="utf16le"||le==="utf-16le")){if(te.length<2||P.length<2)return-1;_e=2,ke/=2,wt/=2,H/=2}function pt(Vt,st){return _e===1?Vt[st]:Vt.readUInt16BE(st*_e)}let mt;if(pe){let Vt=-1;for(mt=H;mt<ke;mt++)if(pt(te,mt)===pt(P,Vt===-1?0:mt-Vt)){if(Vt===-1&&(Vt=mt),mt-Vt+1===wt)return Vt*_e}else Vt!==-1&&(mt-=mt-Vt),Vt=-1}else for(H+wt>ke&&(H=ke-wt),mt=H;mt>=0;mt--){let Vt=!0;for(let st=0;st<wt;st++)if(pt(te,mt+st)!==pt(P,st)){Vt=!1;break}if(Vt)return mt}return-1}h.prototype.includes=function(P,H,le){return this.indexOf(P,H,le)!==-1},h.prototype.indexOf=function(P,H,le){return J(this,P,H,le,!0)},h.prototype.lastIndexOf=function(P,H,le){return J(this,P,H,le,!1)};function Z(te,P,H,le){H=Number(H)||0;const pe=te.length-H;le?(le=Number(le),le>pe&&(le=pe)):le=pe;const _e=P.length;le>_e/2&&(le=_e/2);let ke;for(ke=0;ke<le;++ke){const wt=parseInt(P.substr(ke*2,2),16);if(et(wt))return ke;te[H+ke]=wt}return ke}function W(te,P,H,le){return $e(ye(P,te.length-H),te,H,le)}function O(te,P,H,le){return $e(Ee(P),te,H,le)}function g(te,P,H,le){return $e(Ve(P),te,H,le)}function T(te,P,H,le){return $e(Le(P,te.length-H),te,H,le)}h.prototype.write=function(P,H,le,pe){if(H===void 0)pe="utf8",le=this.length,H=0;else if(le===void 0&&typeof H=="string")pe=H,le=this.length,H=0;else if(isFinite(H))H=H>>>0,isFinite(le)?(le=le>>>0,pe===void 0&&(pe="utf8")):(pe=le,le=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const _e=this.length-H;if((le===void 0||le>_e)&&(le=_e),P.length>0&&(le<0||H<0)||H>this.length)throw new RangeError("Attempt to write outside buffer bounds");pe||(pe="utf8");let ke=!1;for(;;)switch(pe){case"hex":return Z(this,P,H,le);case"utf8":case"utf-8":return W(this,P,H,le);case"ascii":case"latin1":case"binary":return O(this,P,H,le);case"base64":return g(this,P,H,le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,P,H,le);default:if(ke)throw new TypeError("Unknown encoding: "+pe);pe=(""+pe).toLowerCase(),ke=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(te,P,H){return P===0&&H===te.length?e.fromByteArray(te):e.fromByteArray(te.slice(P,H))}function q(te,P,H){H=Math.min(te.length,H);const le=[];let pe=P;for(;pe<H;){const _e=te[pe];let ke=null,wt=_e>239?4:_e>223?3:_e>191?2:1;if(pe+wt<=H){let pt,mt,Vt,st;switch(wt){case 1:_e<128&&(ke=_e);break;case 2:pt=te[pe+1],(pt&192)===128&&(st=(_e&31)<<6|pt&63,st>127&&(ke=st));break;case 3:pt=te[pe+1],mt=te[pe+2],(pt&192)===128&&(mt&192)===128&&(st=(_e&15)<<12|(pt&63)<<6|mt&63,st>2047&&(st<55296||st>57343)&&(ke=st));break;case 4:pt=te[pe+1],mt=te[pe+2],Vt=te[pe+3],(pt&192)===128&&(mt&192)===128&&(Vt&192)===128&&(st=(_e&15)<<18|(pt&63)<<12|(mt&63)<<6|Vt&63,st>65535&&st<1114112&&(ke=st))}}ke===null?(ke=65533,wt=1):ke>65535&&(ke-=65536,le.push(ke>>>10&1023|55296),ke=56320|ke&1023),le.push(ke),pe+=wt}return K(le)}const j=4096;function K(te){const P=te.length;if(P<=j)return String.fromCharCode.apply(String,te);let H="",le=0;for(;le<P;)H+=String.fromCharCode.apply(String,te.slice(le,le+=j));return H}function B(te,P,H){let le="";H=Math.min(te.length,H);for(let pe=P;pe<H;++pe)le+=String.fromCharCode(te[pe]&127);return le}function A(te,P,H){let le="";H=Math.min(te.length,H);for(let pe=P;pe<H;++pe)le+=String.fromCharCode(te[pe]);return le}function y(te,P,H){const le=te.length;(!P||P<0)&&(P=0),(!H||H<0||H>le)&&(H=le);let pe="";for(let _e=P;_e<H;++_e)pe+=ht[te[_e]];return pe}function R(te,P,H){const le=te.slice(P,H);let pe="";for(let _e=0;_e<le.length-1;_e+=2)pe+=String.fromCharCode(le[_e]+le[_e+1]*256);return pe}h.prototype.slice=function(P,H){const le=this.length;P=~~P,H=H===void 0?le:~~H,P<0?(P+=le,P<0&&(P=0)):P>le&&(P=le),H<0?(H+=le,H<0&&(H=0)):H>le&&(H=le),H<P&&(H=P);const pe=this.subarray(P,H);return Object.setPrototypeOf(pe,h.prototype),pe};function G(te,P,H){if(te%1!==0||te<0)throw new RangeError("offset is not uint");if(te+P>H)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(P,H,le){P=P>>>0,H=H>>>0,le||G(P,H,this.length);let pe=this[P],_e=1,ke=0;for(;++ke<H&&(_e*=256);)pe+=this[P+ke]*_e;return pe},h.prototype.readUintBE=h.prototype.readUIntBE=function(P,H,le){P=P>>>0,H=H>>>0,le||G(P,H,this.length);let pe=this[P+--H],_e=1;for(;H>0&&(_e*=256);)pe+=this[P+--H]*_e;return pe},h.prototype.readUint8=h.prototype.readUInt8=function(P,H){return P=P>>>0,H||G(P,1,this.length),this[P]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(P,H){return P=P>>>0,H||G(P,2,this.length),this[P]|this[P+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(P,H){return P=P>>>0,H||G(P,2,this.length),this[P]<<8|this[P+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(P,H){return P=P>>>0,H||G(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+this[P+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(P,H){return P=P>>>0,H||G(P,4,this.length),this[P]*16777216+(this[P+1]<<16|this[P+2]<<8|this[P+3])},h.prototype.readBigUInt64LE=Zn(function(P){P=P>>>0,U(P,"offset");const H=this[P],le=this[P+7];(H===void 0||le===void 0)&&$(P,this.length-8);const pe=H+this[++P]*2**8+this[++P]*2**16+this[++P]*2**24,_e=this[++P]+this[++P]*2**8+this[++P]*2**16+le*2**24;return BigInt(pe)+(BigInt(_e)<<BigInt(32))}),h.prototype.readBigUInt64BE=Zn(function(P){P=P>>>0,U(P,"offset");const H=this[P],le=this[P+7];(H===void 0||le===void 0)&&$(P,this.length-8);const pe=H*2**24+this[++P]*2**16+this[++P]*2**8+this[++P],_e=this[++P]*2**24+this[++P]*2**16+this[++P]*2**8+le;return(BigInt(pe)<<BigInt(32))+BigInt(_e)}),h.prototype.readIntLE=function(P,H,le){P=P>>>0,H=H>>>0,le||G(P,H,this.length);let pe=this[P],_e=1,ke=0;for(;++ke<H&&(_e*=256);)pe+=this[P+ke]*_e;return _e*=128,pe>=_e&&(pe-=Math.pow(2,8*H)),pe},h.prototype.readIntBE=function(P,H,le){P=P>>>0,H=H>>>0,le||G(P,H,this.length);let pe=H,_e=1,ke=this[P+--pe];for(;pe>0&&(_e*=256);)ke+=this[P+--pe]*_e;return _e*=128,ke>=_e&&(ke-=Math.pow(2,8*H)),ke},h.prototype.readInt8=function(P,H){return P=P>>>0,H||G(P,1,this.length),this[P]&128?(255-this[P]+1)*-1:this[P]},h.prototype.readInt16LE=function(P,H){P=P>>>0,H||G(P,2,this.length);const le=this[P]|this[P+1]<<8;return le&32768?le|4294901760:le},h.prototype.readInt16BE=function(P,H){P=P>>>0,H||G(P,2,this.length);const le=this[P+1]|this[P]<<8;return le&32768?le|4294901760:le},h.prototype.readInt32LE=function(P,H){return P=P>>>0,H||G(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},h.prototype.readInt32BE=function(P,H){return P=P>>>0,H||G(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},h.prototype.readBigInt64LE=Zn(function(P){P=P>>>0,U(P,"offset");const H=this[P],le=this[P+7];(H===void 0||le===void 0)&&$(P,this.length-8);const pe=this[P+4]+this[P+5]*2**8+this[P+6]*2**16+(le<<24);return(BigInt(pe)<<BigInt(32))+BigInt(H+this[++P]*2**8+this[++P]*2**16+this[++P]*2**24)}),h.prototype.readBigInt64BE=Zn(function(P){P=P>>>0,U(P,"offset");const H=this[P],le=this[P+7];(H===void 0||le===void 0)&&$(P,this.length-8);const pe=(H<<24)+this[++P]*2**16+this[++P]*2**8+this[++P];return(BigInt(pe)<<BigInt(32))+BigInt(this[++P]*2**24+this[++P]*2**16+this[++P]*2**8+le)}),h.prototype.readFloatLE=function(P,H){return P=P>>>0,H||G(P,4,this.length),t.read(this,P,!0,23,4)},h.prototype.readFloatBE=function(P,H){return P=P>>>0,H||G(P,4,this.length),t.read(this,P,!1,23,4)},h.prototype.readDoubleLE=function(P,H){return P=P>>>0,H||G(P,8,this.length),t.read(this,P,!0,52,8)},h.prototype.readDoubleBE=function(P,H){return P=P>>>0,H||G(P,8,this.length),t.read(this,P,!1,52,8)};function X(te,P,H,le,pe,_e){if(!h.isBuffer(te))throw new TypeError('"buffer" argument must be a Buffer instance');if(P>pe||P<_e)throw new RangeError('"value" argument is out of bounds');if(H+le>te.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(P,H,le,pe){if(P=+P,H=H>>>0,le=le>>>0,!pe){const wt=Math.pow(2,8*le)-1;X(this,P,H,le,wt,0)}let _e=1,ke=0;for(this[H]=P&255;++ke<le&&(_e*=256);)this[H+ke]=P/_e&255;return H+le},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(P,H,le,pe){if(P=+P,H=H>>>0,le=le>>>0,!pe){const wt=Math.pow(2,8*le)-1;X(this,P,H,le,wt,0)}let _e=le-1,ke=1;for(this[H+_e]=P&255;--_e>=0&&(ke*=256);)this[H+_e]=P/ke&255;return H+le},h.prototype.writeUint8=h.prototype.writeUInt8=function(P,H,le){return P=+P,H=H>>>0,le||X(this,P,H,1,255,0),this[H]=P&255,H+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(P,H,le){return P=+P,H=H>>>0,le||X(this,P,H,2,65535,0),this[H]=P&255,this[H+1]=P>>>8,H+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(P,H,le){return P=+P,H=H>>>0,le||X(this,P,H,2,65535,0),this[H]=P>>>8,this[H+1]=P&255,H+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(P,H,le){return P=+P,H=H>>>0,le||X(this,P,H,4,4294967295,0),this[H+3]=P>>>24,this[H+2]=P>>>16,this[H+1]=P>>>8,this[H]=P&255,H+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(P,H,le){return P=+P,H=H>>>0,le||X(this,P,H,4,4294967295,0),this[H]=P>>>24,this[H+1]=P>>>16,this[H+2]=P>>>8,this[H+3]=P&255,H+4};function ue(te,P,H,le,pe){Ht(P,le,pe,te,H,7);let _e=Number(P&BigInt(4294967295));te[H++]=_e,_e=_e>>8,te[H++]=_e,_e=_e>>8,te[H++]=_e,_e=_e>>8,te[H++]=_e;let ke=Number(P>>BigInt(32)&BigInt(4294967295));return te[H++]=ke,ke=ke>>8,te[H++]=ke,ke=ke>>8,te[H++]=ke,ke=ke>>8,te[H++]=ke,H}function be(te,P,H,le,pe){Ht(P,le,pe,te,H,7);let _e=Number(P&BigInt(4294967295));te[H+7]=_e,_e=_e>>8,te[H+6]=_e,_e=_e>>8,te[H+5]=_e,_e=_e>>8,te[H+4]=_e;let ke=Number(P>>BigInt(32)&BigInt(4294967295));return te[H+3]=ke,ke=ke>>8,te[H+2]=ke,ke=ke>>8,te[H+1]=ke,ke=ke>>8,te[H]=ke,H+8}h.prototype.writeBigUInt64LE=Zn(function(P,H=0){return ue(this,P,H,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=Zn(function(P,H=0){return be(this,P,H,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(P,H,le,pe){if(P=+P,H=H>>>0,!pe){const pt=Math.pow(2,8*le-1);X(this,P,H,le,pt-1,-pt)}let _e=0,ke=1,wt=0;for(this[H]=P&255;++_e<le&&(ke*=256);)P<0&&wt===0&&this[H+_e-1]!==0&&(wt=1),this[H+_e]=(P/ke>>0)-wt&255;return H+le},h.prototype.writeIntBE=function(P,H,le,pe){if(P=+P,H=H>>>0,!pe){const pt=Math.pow(2,8*le-1);X(this,P,H,le,pt-1,-pt)}let _e=le-1,ke=1,wt=0;for(this[H+_e]=P&255;--_e>=0&&(ke*=256);)P<0&&wt===0&&this[H+_e+1]!==0&&(wt=1),this[H+_e]=(P/ke>>0)-wt&255;return H+le},h.prototype.writeInt8=function(P,H,le){return P=+P,H=H>>>0,le||X(this,P,H,1,127,-128),P<0&&(P=255+P+1),this[H]=P&255,H+1},h.prototype.writeInt16LE=function(P,H,le){return P=+P,H=H>>>0,le||X(this,P,H,2,32767,-32768),this[H]=P&255,this[H+1]=P>>>8,H+2},h.prototype.writeInt16BE=function(P,H,le){return P=+P,H=H>>>0,le||X(this,P,H,2,32767,-32768),this[H]=P>>>8,this[H+1]=P&255,H+2},h.prototype.writeInt32LE=function(P,H,le){return P=+P,H=H>>>0,le||X(this,P,H,4,2147483647,-2147483648),this[H]=P&255,this[H+1]=P>>>8,this[H+2]=P>>>16,this[H+3]=P>>>24,H+4},h.prototype.writeInt32BE=function(P,H,le){return P=+P,H=H>>>0,le||X(this,P,H,4,2147483647,-2147483648),P<0&&(P=4294967295+P+1),this[H]=P>>>24,this[H+1]=P>>>16,this[H+2]=P>>>8,this[H+3]=P&255,H+4},h.prototype.writeBigInt64LE=Zn(function(P,H=0){return ue(this,P,H,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=Zn(function(P,H=0){return be(this,P,H,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function De(te,P,H,le,pe,_e){if(H+le>te.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("Index out of range")}function Ue(te,P,H,le,pe){return P=+P,H=H>>>0,pe||De(te,P,H,4),t.write(te,P,H,le,23,4),H+4}h.prototype.writeFloatLE=function(P,H,le){return Ue(this,P,H,!0,le)},h.prototype.writeFloatBE=function(P,H,le){return Ue(this,P,H,!1,le)};function ct(te,P,H,le,pe){return P=+P,H=H>>>0,pe||De(te,P,H,8),t.write(te,P,H,le,52,8),H+8}h.prototype.writeDoubleLE=function(P,H,le){return ct(this,P,H,!0,le)},h.prototype.writeDoubleBE=function(P,H,le){return ct(this,P,H,!1,le)},h.prototype.copy=function(P,H,le,pe){if(!h.isBuffer(P))throw new TypeError("argument should be a Buffer");if(le||(le=0),!pe&&pe!==0&&(pe=this.length),H>=P.length&&(H=P.length),H||(H=0),pe>0&&pe<le&&(pe=le),pe===le||P.length===0||this.length===0)return 0;if(H<0)throw new RangeError("targetStart out of bounds");if(le<0||le>=this.length)throw new RangeError("Index out of range");if(pe<0)throw new RangeError("sourceEnd out of bounds");pe>this.length&&(pe=this.length),P.length-H<pe-le&&(pe=P.length-H+le);const _e=pe-le;return this===P&&typeof o.prototype.copyWithin=="function"?this.copyWithin(H,le,pe):o.prototype.set.call(P,this.subarray(le,pe),H),_e},h.prototype.fill=function(P,H,le,pe){if(typeof P=="string"){if(typeof H=="string"?(pe=H,H=0,le=this.length):typeof le=="string"&&(pe=le,le=this.length),pe!==void 0&&typeof pe!="string")throw new TypeError("encoding must be a string");if(typeof pe=="string"&&!h.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe);if(P.length===1){const ke=P.charCodeAt(0);(pe==="utf8"&&ke<128||pe==="latin1")&&(P=ke)}}else typeof P=="number"?P=P&255:typeof P=="boolean"&&(P=Number(P));if(H<0||this.length<H||this.length<le)throw new RangeError("Out of range index");if(le<=H)return this;H=H>>>0,le=le===void 0?this.length:le>>>0,P||(P=0);let _e;if(typeof P=="number")for(_e=H;_e<le;++_e)this[_e]=P;else{const ke=h.isBuffer(P)?P:h.from(P,pe),wt=ke.length;if(wt===0)throw new TypeError('The value "'+P+'" is invalid for argument "value"');for(_e=0;_e<le-H;++_e)this[_e+H]=ke[_e%wt]}return this};const ot={};function Rt(te,P,H){ot[te]=class extends H{constructor(){super(),Object.defineProperty(this,"message",{value:P.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${te}]`,this.stack,delete this.name}get code(){return te}set code(pe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:pe,writable:!0})}toString(){return`${this.name} [${te}]: ${this.message}`}}}Rt("ERR_BUFFER_OUT_OF_BOUNDS",function(te){return te?`${te} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Rt("ERR_INVALID_ARG_TYPE",function(te,P){return`The "${te}" argument must be of type number. Received type ${typeof P}`},TypeError),Rt("ERR_OUT_OF_RANGE",function(te,P,H){let le=`The value of "${te}" is out of range.`,pe=H;return Number.isInteger(H)&&Math.abs(H)>2**32?pe=lr(String(H)):typeof H=="bigint"&&(pe=String(H),(H>BigInt(2)**BigInt(32)||H<-(BigInt(2)**BigInt(32)))&&(pe=lr(pe)),pe+="n"),le+=` It must be ${P}. Received ${pe}`,le},RangeError);function lr(te){let P="",H=te.length;const le=te[0]==="-"?1:0;for(;H>=le+4;H-=3)P=`_${te.slice(H-3,H)}${P}`;return`${te.slice(0,H)}${P}`}function _t(te,P,H){U(P,"offset"),(te[P]===void 0||te[P+H]===void 0)&&$(P,te.length-(H+1))}function Ht(te,P,H,le,pe,_e){if(te>H||te<P){const ke=typeof P=="bigint"?"n":"";let wt;throw P===0||P===BigInt(0)?wt=`>= 0${ke} and < 2${ke} ** ${(_e+1)*8}${ke}`:wt=`>= -(2${ke} ** ${(_e+1)*8-1}${ke}) and < 2 ** ${(_e+1)*8-1}${ke}`,new ot.ERR_OUT_OF_RANGE("value",wt,te)}_t(le,pe,_e)}function U(te,P){if(typeof te!="number")throw new ot.ERR_INVALID_ARG_TYPE(P,"number",te)}function $(te,P,H){throw Math.floor(te)!==te?(U(te,H),new ot.ERR_OUT_OF_RANGE("offset","an integer",te)):P<0?new ot.ERR_BUFFER_OUT_OF_BOUNDS:new ot.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${P}`,te)}const ee=/[^+/0-9A-Za-z-_]/g;function me(te){if(te=te.split("=")[0],te=te.trim().replace(ee,""),te.length<2)return"";for(;te.length%4!==0;)te=te+"=";return te}function ye(te,P){P=P||1/0;let H;const le=te.length;let pe=null;const _e=[];for(let ke=0;ke<le;++ke){if(H=te.charCodeAt(ke),H>55295&&H<57344){if(!pe){if(H>56319){(P-=3)>-1&&_e.push(239,191,189);continue}else if(ke+1===le){(P-=3)>-1&&_e.push(239,191,189);continue}pe=H;continue}if(H<56320){(P-=3)>-1&&_e.push(239,191,189),pe=H;continue}H=(pe-55296<<10|H-56320)+65536}else pe&&(P-=3)>-1&&_e.push(239,191,189);if(pe=null,H<128){if((P-=1)<0)break;_e.push(H)}else if(H<2048){if((P-=2)<0)break;_e.push(H>>6|192,H&63|128)}else if(H<65536){if((P-=3)<0)break;_e.push(H>>12|224,H>>6&63|128,H&63|128)}else if(H<1114112){if((P-=4)<0)break;_e.push(H>>18|240,H>>12&63|128,H>>6&63|128,H&63|128)}else throw new Error("Invalid code point")}return _e}function Ee(te){const P=[];for(let H=0;H<te.length;++H)P.push(te.charCodeAt(H)&255);return P}function Le(te,P){let H,le,pe;const _e=[];for(let ke=0;ke<te.length&&!((P-=2)<0);++ke)H=te.charCodeAt(ke),le=H>>8,pe=H%256,_e.push(pe),_e.push(le);return _e}function Ve(te){return e.toByteArray(me(te))}function $e(te,P,H,le){let pe;for(pe=0;pe<le&&!(pe+H>=P.length||pe>=te.length);++pe)P[pe+H]=te[pe];return pe}function Nt(te,P){return te instanceof P||te!=null&&te.constructor!=null&&te.constructor.name!=null&&te.constructor.name===P.name}function et(te){return te!==te}const ht=(function(){const te="0123456789abcdef",P=new Array(256);for(let H=0;H<16;++H){const le=H*16;for(let pe=0;pe<16;++pe)P[le+pe]=te[H]+te[pe]}return P})();function Zn(te){return typeof BigInt>"u"?Zt:te}function Zt(){throw new Error("BigInt not supported")}})(nb);const ft=nb.Buffer,nt=nb.Buffer,ic=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Kf(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function Mf(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function ts(n,...e){if(!Kf(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function ZN(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Mf(n.outputLen),Mf(n.blockLen)}function zc(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function XN(n,e){ts(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function _O(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function ua(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}function Hg(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function qi(n,e){return n<<32-e|n>>>e}const xO=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function AO(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}function SO(n){for(let e=0;e<n.length;e++)n[e]=AO(n[e]);return n}const yA=xO?n=>n:SO,QN=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",TO=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function nl(n){if(ts(n),QN)return n.toHex();let e="";for(let t=0;t<n.length;t++)e+=TO[n[t]];return e}const Lo={_0:48,_9:57,A:65,F:70,a:97,f:102};function wA(n){if(n>=Lo._0&&n<=Lo._9)return n-Lo._0;if(n>=Lo.A&&n<=Lo.F)return n-(Lo.A-10);if(n>=Lo.a&&n<=Lo.f)return n-(Lo.a-10)}function Ep(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);if(QN)return Uint8Array.fromHex(n);const e=n.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let i=0,o=0;i<t;i++,o+=2){const l=wA(n.charCodeAt(o)),c=wA(n.charCodeAt(o+1));if(l===void 0||c===void 0){const f=n[o]+n[o+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+o)}r[i]=l*16+c}return r}function RO(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function Zp(n){return typeof n=="string"&&(n=RO(n)),ts(n),n}function no(...n){let e=0;for(let r=0;r<n.length;r++){const i=n[r];ts(i),e+=i.length}const t=new Uint8Array(e);for(let r=0,i=0;r<n.length;r++){const o=n[r];t.set(o,i),i+=o.length}return t}let ib=class{};function ob(n){const e=r=>n().update(Zp(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function sb(n=32){if(ic&&typeof ic.getRandomValues=="function")return ic.getRandomValues(new Uint8Array(n));if(ic&&typeof ic.randomBytes=="function")return Uint8Array.from(ic.randomBytes(n));throw new Error("crypto.getRandomValues must be defined")}function NO(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const i=BigInt(32),o=BigInt(4294967295),l=Number(t>>i&o),c=Number(t&o),f=r?4:0,d=r?0:4;n.setUint32(e+f,l,r),n.setUint32(e+d,c,r)}function CO(n,e,t){return n&e^~n&t}function IO(n,e,t){return n&e^n&t^e&t}class eC extends ib{constructor(e,t,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Hg(this.buffer)}update(e){zc(this),e=Zp(e),ts(e);const{view:t,buffer:r,blockLen:i}=this,o=e.length;for(let l=0;l<o;){const c=Math.min(i-this.pos,o-l);if(c===i){const f=Hg(e);for(;i<=o-l;l+=i)this.process(f,l);continue}r.set(e.subarray(l,l+c),this.pos),this.pos+=c,l+=c,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){zc(this),XN(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:o}=this;let{pos:l}=this;t[l++]=128,ua(this.buffer.subarray(l)),this.padOffset>i-l&&(this.process(r,0),l=0);for(let b=l;b<i;b++)t[b]=0;NO(r,i-8,BigInt(this.length*8),o),this.process(r,0);const c=Hg(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=f/4,h=this.get();if(d>h.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<d;b++)c.setUint32(4*b,h[b],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:o,destroyed:l,pos:c}=this;return e.destroyed=l,e.finished=o,e.length=i,e.pos=c,i%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Ls=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),ph=BigInt(2**32-1),bA=BigInt(32);function kO(n,e=!1){return e?{h:Number(n&ph),l:Number(n>>bA&ph)}:{h:Number(n>>bA&ph)|0,l:Number(n&ph)|0}}function tC(n,e=!1){const t=n.length;let r=new Uint32Array(t),i=new Uint32Array(t);for(let o=0;o<t;o++){const{h:l,l:c}=kO(n[o],e);[r[o],i[o]]=[l,c]}return[r,i]}const vA=(n,e,t)=>n>>>t,EA=(n,e,t)=>n<<32-t|e>>>t,oc=(n,e,t)=>n>>>t|e<<32-t,sc=(n,e,t)=>n<<32-t|e>>>t,mh=(n,e,t)=>n<<64-t|e>>>t-32,gh=(n,e,t)=>n>>>t-32|e<<64-t,MO=(n,e,t)=>n<<t|e>>>32-t,OO=(n,e,t)=>e<<t|n>>>32-t,BO=(n,e,t)=>e<<t-32|n>>>64-t,LO=(n,e,t)=>n<<t-32|e>>>64-t;function Uo(n,e,t,r){const i=(e>>>0)+(r>>>0);return{h:n+t+(i/2**32|0)|0,l:i|0}}const UO=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),DO=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,PO=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),FO=(n,e,t,r,i)=>e+t+r+i+(n/2**32|0)|0,HO=(n,e,t,r,i)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),zO=(n,e,t,r,i,o)=>e+t+r+i+o+(n/2**32|0)|0,GO=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Us=new Uint32Array(64);class qO extends eC{constructor(e=32){super(64,e,8,!1),this.A=Ls[0]|0,this.B=Ls[1]|0,this.C=Ls[2]|0,this.D=Ls[3]|0,this.E=Ls[4]|0,this.F=Ls[5]|0,this.G=Ls[6]|0,this.H=Ls[7]|0}get(){const{A:e,B:t,C:r,D:i,E:o,F:l,G:c,H:f}=this;return[e,t,r,i,o,l,c,f]}set(e,t,r,i,o,l,c,f){this.A=e|0,this.B=t|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=l|0,this.G=c|0,this.H=f|0}process(e,t){for(let b=0;b<16;b++,t+=4)Us[b]=e.getUint32(t,!1);for(let b=16;b<64;b++){const E=Us[b-15],v=Us[b-2],N=qi(E,7)^qi(E,18)^E>>>3,k=qi(v,17)^qi(v,19)^v>>>10;Us[b]=k+Us[b-7]+N+Us[b-16]|0}let{A:r,B:i,C:o,D:l,E:c,F:f,G:d,H:h}=this;for(let b=0;b<64;b++){const E=qi(c,6)^qi(c,11)^qi(c,25),v=h+E+CO(c,f,d)+GO[b]+Us[b]|0,k=(qi(r,2)^qi(r,13)^qi(r,22))+IO(r,i,o)|0;h=d,d=f,f=c,c=l+v|0,l=o,o=i,i=r,r=v+k|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,l=l+this.D|0,c=c+this.E|0,f=f+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(r,i,o,l,c,f,d,h)}roundClean(){ua(Us)}destroy(){this.set(0,0,0,0,0,0,0,0),ua(this.buffer)}}const nC=tC(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),VO=nC[0],KO=nC[1],Ds=new Uint32Array(80),Ps=new Uint32Array(80);class WO extends eC{constructor(e=64){super(128,e,16,!1),this.Ah=wr[0]|0,this.Al=wr[1]|0,this.Bh=wr[2]|0,this.Bl=wr[3]|0,this.Ch=wr[4]|0,this.Cl=wr[5]|0,this.Dh=wr[6]|0,this.Dl=wr[7]|0,this.Eh=wr[8]|0,this.El=wr[9]|0,this.Fh=wr[10]|0,this.Fl=wr[11]|0,this.Gh=wr[12]|0,this.Gl=wr[13]|0,this.Hh=wr[14]|0,this.Hl=wr[15]|0}get(){const{Ah:e,Al:t,Bh:r,Bl:i,Ch:o,Cl:l,Dh:c,Dl:f,Eh:d,El:h,Fh:b,Fl:E,Gh:v,Gl:N,Hh:k,Hl:I}=this;return[e,t,r,i,o,l,c,f,d,h,b,E,v,N,k,I]}set(e,t,r,i,o,l,c,f,d,h,b,E,v,N,k,I){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=l|0,this.Dh=c|0,this.Dl=f|0,this.Eh=d|0,this.El=h|0,this.Fh=b|0,this.Fl=E|0,this.Gh=v|0,this.Gl=N|0,this.Hh=k|0,this.Hl=I|0}process(e,t){for(let M=0;M<16;M++,t+=4)Ds[M]=e.getUint32(t),Ps[M]=e.getUint32(t+=4);for(let M=16;M<80;M++){const Y=Ds[M-15]|0,ie=Ps[M-15]|0,se=oc(Y,ie,1)^oc(Y,ie,8)^vA(Y,ie,7),re=sc(Y,ie,1)^sc(Y,ie,8)^EA(Y,ie,7),ae=Ds[M-2]|0,J=Ps[M-2]|0,Q=oc(ae,J,19)^mh(ae,J,61)^vA(ae,J,6),Z=sc(ae,J,19)^gh(ae,J,61)^EA(ae,J,6),W=PO(re,Z,Ps[M-7],Ps[M-16]),O=FO(W,se,Q,Ds[M-7],Ds[M-16]);Ds[M]=O|0,Ps[M]=W|0}let{Ah:r,Al:i,Bh:o,Bl:l,Ch:c,Cl:f,Dh:d,Dl:h,Eh:b,El:E,Fh:v,Fl:N,Gh:k,Gl:I,Hh:L,Hl:F}=this;for(let M=0;M<80;M++){const Y=oc(b,E,14)^oc(b,E,18)^mh(b,E,41),ie=sc(b,E,14)^sc(b,E,18)^gh(b,E,41),se=b&v^~b&k,re=E&N^~E&I,ae=HO(F,ie,re,KO[M],Ps[M]),J=zO(ae,L,Y,se,VO[M],Ds[M]),Q=ae|0,Z=oc(r,i,28)^mh(r,i,34)^mh(r,i,39),W=sc(r,i,28)^gh(r,i,34)^gh(r,i,39),O=r&o^r&c^o&c,g=i&l^i&f^l&f;L=k|0,F=I|0,k=v|0,I=N|0,v=b|0,N=E|0,{h:b,l:E}=Uo(d|0,h|0,J|0,Q|0),d=c|0,h=f|0,c=o|0,f=l|0,o=r|0,l=i|0;const T=UO(Q,W,g);r=DO(T,J,Z,O),i=T|0}({h:r,l:i}=Uo(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l}=Uo(this.Bh|0,this.Bl|0,o|0,l|0),{h:c,l:f}=Uo(this.Ch|0,this.Cl|0,c|0,f|0),{h:d,l:h}=Uo(this.Dh|0,this.Dl|0,d|0,h|0),{h:b,l:E}=Uo(this.Eh|0,this.El|0,b|0,E|0),{h:v,l:N}=Uo(this.Fh|0,this.Fl|0,v|0,N|0),{h:k,l:I}=Uo(this.Gh|0,this.Gl|0,k|0,I|0),{h:L,l:F}=Uo(this.Hh|0,this.Hl|0,L|0,F|0),this.set(r,i,o,l,c,f,d,h,b,E,v,N,k,I,L,F)}roundClean(){ua(Ds,Ps)}destroy(){ua(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const rC=ob(()=>new qO),$O=ob(()=>new WO);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ab=BigInt(0),Hw=BigInt(1);function il(n,e=""){if(typeof n!="boolean"){const t=e&&`"${e}"`;throw new Error(t+"expected boolean, got type="+typeof n)}return n}function Ni(n,e,t=""){const r=Kf(n),i=n==null?void 0:n.length,o=e!==void 0;if(!r||o&&i!==e){const l=t&&`"${t}" `,c=o?` of length ${e}`:"",f=r?`length=${i}`:`type=${typeof n}`;throw new Error(l+"expected Uint8Array"+c+", got "+f)}return n}function yh(n){const e=n.toString(16);return e.length&1?"0"+e:e}function iC(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?ab:BigInt("0x"+n)}function Xp(n){return iC(nl(n))}function Of(n){return ts(n),iC(nl(Uint8Array.from(n).reverse()))}function lb(n,e){return Ep(n.toString(16).padStart(e*2,"0"))}function oC(n,e){return lb(n,e).reverse()}function Ln(n,e,t){let r;if(typeof e=="string")try{r=Ep(e)}catch(o){throw new Error(n+" must be hex string or Uint8Array, cause: "+o)}else if(Kf(e))r=Uint8Array.from(e);else throw new Error(n+" must be hex string or Uint8Array");const i=r.length;if(typeof t=="number"&&i!==t)throw new Error(n+" of length "+t+" expected, got "+i);return r}function _A(n){return Uint8Array.from(n)}const zg=n=>typeof n=="bigint"&&ab<=n;function jO(n,e,t){return zg(n)&&zg(e)&&zg(t)&&e<=n&&n<t}function zw(n,e,t,r){if(!jO(e,t,r))throw new Error("expected valid "+n+": "+t+" <= n < "+r+", got "+e)}function sC(n){let e;for(e=0;n>ab;n>>=Hw,e+=1);return e}const Wf=n=>(Hw<<BigInt(n))-Hw;function YO(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");const r=v=>new Uint8Array(v),i=v=>Uint8Array.of(v);let o=r(n),l=r(n),c=0;const f=()=>{o.fill(1),l.fill(0),c=0},d=(...v)=>t(l,o,...v),h=(v=r(0))=>{l=d(i(0),v),o=d(),v.length!==0&&(l=d(i(1),v),o=d())},b=()=>{if(c++>=1e3)throw new Error("drbg: tried 1000 values");let v=0;const N=[];for(;v<e;){o=d();const k=o.slice();N.push(k),v+=o.length}return no(...N)};return(v,N)=>{f(),h(v);let k;for(;!(k=N(b()));)h();return f(),k}}function $f(n,e,t={}){if(!n||typeof n!="object")throw new Error("expected valid options object");function r(i,o,l){const c=n[i];if(l&&c===void 0)return;const f=typeof c;if(f!==o||c===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${f}`)}Object.entries(e).forEach(([i,o])=>r(i,o,!1)),Object.entries(t).forEach(([i,o])=>r(i,o,!0))}function _p(n){const e=new WeakMap;return(t,...r)=>{const i=e.get(t);if(i!==void 0)return i;const o=n(t,...r);return e.set(t,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gr=BigInt(0),gr=BigInt(1),qa=BigInt(2),aC=BigInt(3),lC=BigInt(4),cC=BigInt(5),JO=BigInt(7),uC=BigInt(8),ZO=BigInt(9),fC=BigInt(16);function Yn(n,e){const t=n%e;return t>=Gr?t:e+t}function Bn(n,e,t){let r=n;for(;e-- >Gr;)r*=r,r%=t;return r}function xA(n,e){if(n===Gr)throw new Error("invert: expected non-zero number");if(e<=Gr)throw new Error("invert: expected positive modulus, got "+e);let t=Yn(n,e),r=e,i=Gr,o=gr;for(;t!==Gr;){const c=r/t,f=r%t,d=i-o*c;r=t,t=f,i=o,o=d}if(r!==gr)throw new Error("invert: does not exist");return Yn(i,e)}function cb(n,e,t){if(!n.eql(n.sqr(e),t))throw new Error("Cannot find square root")}function dC(n,e){const t=(n.ORDER+gr)/lC,r=n.pow(e,t);return cb(n,r,e),r}function XO(n,e){const t=(n.ORDER-cC)/uC,r=n.mul(e,qa),i=n.pow(r,t),o=n.mul(e,i),l=n.mul(n.mul(o,qa),i),c=n.mul(o,n.sub(l,n.ONE));return cb(n,c,e),c}function QO(n){const e=fl(n),t=hC(n),r=t(e,e.neg(e.ONE)),i=t(e,r),o=t(e,e.neg(r)),l=(n+JO)/fC;return(c,f)=>{let d=c.pow(f,l),h=c.mul(d,r);const b=c.mul(d,i),E=c.mul(d,o),v=c.eql(c.sqr(h),f),N=c.eql(c.sqr(b),f);d=c.cmov(d,h,v),h=c.cmov(E,b,N);const k=c.eql(c.sqr(h),f),I=c.cmov(d,h,k);return cb(c,I,f),I}}function hC(n){if(n<aC)throw new Error("sqrt is not defined for small field");let e=n-gr,t=0;for(;e%qa===Gr;)e/=qa,t++;let r=qa;const i=fl(n);for(;AA(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(t===1)return dC;let o=i.pow(r,e);const l=(e+gr)/qa;return function(f,d){if(f.is0(d))return d;if(AA(f,d)!==1)throw new Error("Cannot find square root");let h=t,b=f.mul(f.ONE,o),E=f.pow(d,e),v=f.pow(d,l);for(;!f.eql(E,f.ONE);){if(f.is0(E))return f.ZERO;let N=1,k=f.sqr(E);for(;!f.eql(k,f.ONE);)if(N++,k=f.sqr(k),N===h)throw new Error("Cannot find square root");const I=gr<<BigInt(h-N-1),L=f.pow(b,I);h=N,b=f.sqr(L),E=f.mul(E,b),v=f.mul(v,L)}return v}}function eB(n){return n%lC===aC?dC:n%uC===cC?XO:n%fC===ZO?QO(n):hC(n)}const tB=(n,e)=>(Yn(n,e)&gr)===gr,nB=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function rB(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},t=nB.reduce((r,i)=>(r[i]="function",r),e);return $f(n,t),n}function iB(n,e,t){if(t<Gr)throw new Error("invalid exponent, negatives unsupported");if(t===Gr)return n.ONE;if(t===gr)return e;let r=n.ONE,i=e;for(;t>Gr;)t&gr&&(r=n.mul(r,i)),i=n.sqr(i),t>>=gr;return r}function pC(n,e,t=!1){const r=new Array(e.length).fill(t?n.ZERO:void 0),i=e.reduce((l,c,f)=>n.is0(c)?l:(r[f]=l,n.mul(l,c)),n.ONE),o=n.inv(i);return e.reduceRight((l,c,f)=>n.is0(c)?l:(r[f]=n.mul(l,r[f]),n.mul(l,c)),o),r}function AA(n,e){const t=(n.ORDER-gr)/qa,r=n.pow(e,t),i=n.eql(r,n.ONE),o=n.eql(r,n.ZERO),l=n.eql(r,n.neg(n.ONE));if(!i&&!o&&!l)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function mC(n,e){e!==void 0&&Mf(e);const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function fl(n,e,t=!1,r={}){if(n<=Gr)throw new Error("invalid field: expected ORDER > 0, got "+n);let i,o,l=!1,c;if(typeof e=="object"&&e!=null){if(r.sqrt||t)throw new Error("cannot specify opts in two arguments");const E=e;E.BITS&&(i=E.BITS),E.sqrt&&(o=E.sqrt),typeof E.isLE=="boolean"&&(t=E.isLE),typeof E.modFromBytes=="boolean"&&(l=E.modFromBytes),c=E.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(o=r.sqrt);const{nBitLength:f,nByteLength:d}=mC(n,i);if(d>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let h;const b=Object.freeze({ORDER:n,isLE:t,BITS:f,BYTES:d,MASK:Wf(f),ZERO:Gr,ONE:gr,allowedLengths:c,create:E=>Yn(E,n),isValid:E=>{if(typeof E!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof E);return Gr<=E&&E<n},is0:E=>E===Gr,isValidNot0:E=>!b.is0(E)&&b.isValid(E),isOdd:E=>(E&gr)===gr,neg:E=>Yn(-E,n),eql:(E,v)=>E===v,sqr:E=>Yn(E*E,n),add:(E,v)=>Yn(E+v,n),sub:(E,v)=>Yn(E-v,n),mul:(E,v)=>Yn(E*v,n),pow:(E,v)=>iB(b,E,v),div:(E,v)=>Yn(E*xA(v,n),n),sqrN:E=>E*E,addN:(E,v)=>E+v,subN:(E,v)=>E-v,mulN:(E,v)=>E*v,inv:E=>xA(E,n),sqrt:o||(E=>(h||(h=eB(n)),h(b,E))),toBytes:E=>t?oC(E,d):lb(E,d),fromBytes:(E,v=!0)=>{if(c){if(!c.includes(E.length)||E.length>d)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+E.length);const k=new Uint8Array(d);k.set(E,t?0:k.length-E.length),E=k}if(E.length!==d)throw new Error("Field.fromBytes: expected "+d+" bytes, got "+E.length);let N=t?Of(E):Xp(E);if(l&&(N=Yn(N,n)),!v&&!b.isValid(N))throw new Error("invalid field element: outside of range 0..ORDER");return N},invertBatch:E=>pC(b,E),cmov:(E,v,N)=>N?v:E});return Object.freeze(b)}function gC(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function yC(n){const e=gC(n);return e+Math.ceil(e/2)}function oB(n,e,t=!1){const r=n.length,i=gC(e),o=yC(e);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const l=t?Of(n):Xp(n),c=Yn(l,e-gr)+gr;return t?oC(c,i):lb(c,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gc=BigInt(0),Va=BigInt(1);function xp(n,e){const t=e.negate();return n?t:e}function Ka(n,e){const t=pC(n.Fp,e.map(r=>r.Z));return e.map((r,i)=>n.fromAffine(r.toAffine(t[i])))}function wC(n,e){if(!Number.isSafeInteger(n)||n<=0||n>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+n)}function Gg(n,e){wC(n,e);const t=Math.ceil(e/n)+1,r=2**(n-1),i=2**n,o=Wf(n),l=BigInt(n);return{windows:t,windowSize:r,mask:o,maxNumber:i,shiftBy:l}}function SA(n,e,t){const{windowSize:r,mask:i,maxNumber:o,shiftBy:l}=t;let c=Number(n&i),f=n>>l;c>r&&(c-=o,f+=Va);const d=e*r,h=d+Math.abs(c)-1,b=c===0,E=c<0,v=e%2!==0;return{nextN:f,offset:h,isZero:b,isNeg:E,isNegF:v,offsetF:d}}function sB(n,e){if(!Array.isArray(n))throw new Error("array expected");n.forEach((t,r)=>{if(!(t instanceof e))throw new Error("invalid point at index "+r)})}function aB(n,e){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((t,r)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+r)})}const qg=new WeakMap,bC=new WeakMap;function Vg(n){return bC.get(n)||1}function TA(n){if(n!==Gc)throw new Error("invalid wNAF")}class vC{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,r=this.ZERO){let i=e;for(;t>Gc;)t&Va&&(r=r.add(i)),i=i.double(),t>>=Va;return r}precomputeWindow(e,t){const{windows:r,windowSize:i}=Gg(t,this.bits),o=[];let l=e,c=l;for(let f=0;f<r;f++){c=l,o.push(c);for(let d=1;d<i;d++)c=c.add(l),o.push(c);l=c.double()}return o}wNAF(e,t,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,o=this.BASE;const l=Gg(e,this.bits);for(let c=0;c<l.windows;c++){const{nextN:f,offset:d,isZero:h,isNeg:b,isNegF:E,offsetF:v}=SA(r,c,l);r=f,h?o=o.add(xp(E,t[v])):i=i.add(xp(b,t[d]))}return TA(r),{p:i,f:o}}wNAFUnsafe(e,t,r,i=this.ZERO){const o=Gg(e,this.bits);for(let l=0;l<o.windows&&r!==Gc;l++){const{nextN:c,offset:f,isZero:d,isNeg:h}=SA(r,l,o);if(r=c,!d){const b=t[f];i=i.add(h?b.negate():b)}}return TA(r),i}getPrecomputes(e,t,r){let i=qg.get(t);return i||(i=this.precomputeWindow(t,e),e!==1&&(typeof r=="function"&&(i=r(i)),qg.set(t,i))),i}cached(e,t,r){const i=Vg(e);return this.wNAF(i,this.getPrecomputes(i,e,r),t)}unsafe(e,t,r,i){const o=Vg(e);return o===1?this._unsafeLadder(e,t,i):this.wNAFUnsafe(o,this.getPrecomputes(o,e,r),t,i)}createCache(e,t){wC(t,this.bits),bC.set(e,t),qg.delete(e)}hasCache(e){return Vg(e)!==1}}function lB(n,e,t,r){let i=e,o=n.ZERO,l=n.ZERO;for(;t>Gc||r>Gc;)t&Va&&(o=o.add(i)),r&Va&&(l=l.add(i)),i=i.double(),t>>=Va,r>>=Va;return{p1:o,p2:l}}function EC(n,e,t,r){sB(t,n),aB(r,e);const i=t.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const l=n.ZERO,c=sC(BigInt(i));let f=1;c>12?f=c-3:c>4?f=c-2:c>0&&(f=2);const d=Wf(f),h=new Array(Number(d)+1).fill(l),b=Math.floor((e.BITS-1)/f)*f;let E=l;for(let v=b;v>=0;v-=f){h.fill(l);for(let k=0;k<o;k++){const I=r[k],L=Number(I>>BigInt(v)&d);h[L]=h[L].add(t[k])}let N=l;for(let k=h.length-1,I=l;k>0;k--)I=I.add(h[k]),N=N.add(I);if(E=E.add(N),v!==0)for(let k=0;k<f;k++)E=E.double()}return E}function RA(n,e,t){if(e){if(e.ORDER!==n)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return rB(e),e}else return fl(n,{isLE:t})}function _C(n,e,t={},r){if(r===void 0&&(r=n==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${n} CURVE object`);for(const f of["p","n","h"]){const d=e[f];if(!(typeof d=="bigint"&&d>Gc))throw new Error(`CURVE.${f} must be positive bigint`)}const i=RA(e.p,t.Fp,r),o=RA(e.n,t.Fn,r),c=["Gx","Gy","a",n==="weierstrass"?"b":"d"];for(const f of c)if(!i.isValid(e[f]))throw new Error(`CURVE.${f} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fs=BigInt(0),sr=BigInt(1),Kg=BigInt(2),cB=BigInt(8);function uB(n,e,t,r){const i=n.sqr(t),o=n.sqr(r),l=n.add(n.mul(e.a,i),o),c=n.add(n.ONE,n.mul(e.d,n.mul(i,o)));return n.eql(l,c)}function fB(n,e={}){const t=_C("edwards",n,e,e.FpFnLE),{Fp:r,Fn:i}=t;let o=t.CURVE;const{h:l}=o;$f(e,{},{uvRatio:"function"});const c=Kg<<BigInt(i.BYTES*8)-sr,f=I=>r.create(I),d=e.uvRatio||((I,L)=>{try{return{isValid:!0,value:r.sqrt(r.div(I,L))}}catch{return{isValid:!1,value:Fs}}});if(!uB(r,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function h(I,L,F=!1){const M=F?sr:Fs;return zw("coordinate "+I,L,M,c),L}function b(I){if(!(I instanceof N))throw new Error("ExtendedPoint expected")}const E=_p((I,L)=>{const{X:F,Y:M,Z:Y}=I,ie=I.is0();L==null&&(L=ie?cB:r.inv(Y));const se=f(F*L),re=f(M*L),ae=r.mul(Y,L);if(ie)return{x:Fs,y:sr};if(ae!==sr)throw new Error("invZ was invalid");return{x:se,y:re}}),v=_p(I=>{const{a:L,d:F}=o;if(I.is0())throw new Error("bad point: ZERO");const{X:M,Y,Z:ie,T:se}=I,re=f(M*M),ae=f(Y*Y),J=f(ie*ie),Q=f(J*J),Z=f(re*L),W=f(J*f(Z+ae)),O=f(Q+f(F*f(re*ae)));if(W!==O)throw new Error("bad point: equation left != right (1)");const g=f(M*Y),T=f(ie*se);if(g!==T)throw new Error("bad point: equation left != right (2)");return!0});class N{constructor(L,F,M,Y){this.X=h("x",L),this.Y=h("y",F),this.Z=h("z",M,!0),this.T=h("t",Y),Object.freeze(this)}static CURVE(){return o}static fromAffine(L){if(L instanceof N)throw new Error("extended point not allowed");const{x:F,y:M}=L||{};return h("x",F),h("y",M),new N(F,M,sr,f(F*M))}static fromBytes(L,F=!1){const M=r.BYTES,{a:Y,d:ie}=o;L=_A(Ni(L,M,"point")),il(F,"zip215");const se=_A(L),re=L[M-1];se[M-1]=re&-129;const ae=Of(se),J=F?c:r.ORDER;zw("point.y",ae,Fs,J);const Q=f(ae*ae),Z=f(Q-sr),W=f(ie*Q-Y);let{isValid:O,value:g}=d(Z,W);if(!O)throw new Error("bad point: invalid y coordinate");const T=(g&sr)===sr,C=(re&128)!==0;if(!F&&g===Fs&&C)throw new Error("bad point: x=0 and x_0=1");return C!==T&&(g=f(-g)),N.fromAffine({x:g,y:ae})}static fromHex(L,F=!1){return N.fromBytes(Ln("point",L),F)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(L=8,F=!0){return k.createCache(this,L),F||this.multiply(Kg),this}assertValidity(){v(this)}equals(L){b(L);const{X:F,Y:M,Z:Y}=this,{X:ie,Y:se,Z:re}=L,ae=f(F*re),J=f(ie*Y),Q=f(M*re),Z=f(se*Y);return ae===J&&Q===Z}is0(){return this.equals(N.ZERO)}negate(){return new N(f(-this.X),this.Y,this.Z,f(-this.T))}double(){const{a:L}=o,{X:F,Y:M,Z:Y}=this,ie=f(F*F),se=f(M*M),re=f(Kg*f(Y*Y)),ae=f(L*ie),J=F+M,Q=f(f(J*J)-ie-se),Z=ae+se,W=Z-re,O=ae-se,g=f(Q*W),T=f(Z*O),C=f(Q*O),q=f(W*Z);return new N(g,T,q,C)}add(L){b(L);const{a:F,d:M}=o,{X:Y,Y:ie,Z:se,T:re}=this,{X:ae,Y:J,Z:Q,T:Z}=L,W=f(Y*ae),O=f(ie*J),g=f(re*M*Z),T=f(se*Q),C=f((Y+ie)*(ae+J)-W-O),q=T-g,j=T+g,K=f(O-F*W),B=f(C*q),A=f(j*K),y=f(C*K),R=f(q*j);return new N(B,A,R,y)}subtract(L){return this.add(L.negate())}multiply(L){if(!i.isValidNot0(L))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:F,f:M}=k.cached(this,L,Y=>Ka(N,Y));return Ka(N,[F,M])[0]}multiplyUnsafe(L,F=N.ZERO){if(!i.isValid(L))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return L===Fs?N.ZERO:this.is0()||L===sr?this:k.unsafe(this,L,M=>Ka(N,M),F)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return k.unsafe(this,o.n).is0()}toAffine(L){return E(this,L)}clearCofactor(){return l===sr?this:this.multiplyUnsafe(l)}toBytes(){const{x:L,y:F}=this.toAffine(),M=r.toBytes(F);return M[M.length-1]|=L&sr?128:0,M}toHex(){return nl(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(L){return Ka(N,L)}static msm(L,F){return EC(N,i,L,F)}_setWindowSize(L){this.precompute(L)}toRawBytes(){return this.toBytes()}}N.BASE=new N(o.Gx,o.Gy,sr,f(o.Gx*o.Gy)),N.ZERO=new N(Fs,sr,sr,Fs),N.Fp=r,N.Fn=i;const k=new vC(N,i.BITS);return N.BASE.precompute(8),N}function dB(n,e,t={}){if(typeof e!="function")throw new Error('"hash" function param is required');$f(t,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=t,{BASE:i,Fp:o,Fn:l}=n,c=t.randomBytes||sb,f=t.adjustScalarBytes||(J=>J),d=t.domain||((J,Q,Z)=>{if(il(Z,"phflag"),Q.length||Z)throw new Error("Contexts/pre-hash are not supported");return J});function h(J){return l.create(Of(J))}function b(J){const Q=M.secretKey;J=Ln("private key",J,Q);const Z=Ln("hashed private key",e(J),2*Q),W=f(Z.slice(0,Q)),O=Z.slice(Q,2*Q),g=h(W);return{head:W,prefix:O,scalar:g}}function E(J){const{head:Q,prefix:Z,scalar:W}=b(J),O=i.multiply(W),g=O.toBytes();return{head:Q,prefix:Z,scalar:W,point:O,pointBytes:g}}function v(J){return E(J).pointBytes}function N(J=Uint8Array.of(),...Q){const Z=no(...Q);return h(e(d(Z,Ln("context",J),!!r)))}function k(J,Q,Z={}){J=Ln("message",J),r&&(J=r(J));const{prefix:W,scalar:O,pointBytes:g}=E(Q),T=N(Z.context,W,J),C=i.multiply(T).toBytes(),q=N(Z.context,C,g,J),j=l.create(T+q*O);if(!l.isValid(j))throw new Error("sign failed: invalid s");const K=no(C,l.toBytes(j));return Ni(K,M.signature,"result")}const I={zip215:!0};function L(J,Q,Z,W=I){const{context:O,zip215:g}=W,T=M.signature;J=Ln("signature",J,T),Q=Ln("message",Q),Z=Ln("publicKey",Z,M.publicKey),g!==void 0&&il(g,"zip215"),r&&(Q=r(Q));const C=T/2,q=J.subarray(0,C),j=Of(J.subarray(C,T));let K,B,A;try{K=n.fromBytes(Z,g),B=n.fromBytes(q,g),A=i.multiplyUnsafe(j)}catch{return!1}if(!g&&K.isSmallOrder())return!1;const y=N(O,B.toBytes(),K.toBytes(),Q);return B.add(K.multiplyUnsafe(y)).subtract(A).clearCofactor().is0()}const F=o.BYTES,M={secretKey:F,publicKey:F,signature:2*F,seed:F};function Y(J=c(M.seed)){return Ni(J,M.seed,"seed")}function ie(J){const Q=ae.randomSecretKey(J);return{secretKey:Q,publicKey:v(Q)}}function se(J){return Kf(J)&&J.length===l.BYTES}function re(J,Q){try{return!!n.fromBytes(J,Q)}catch{return!1}}const ae={getExtendedPublicKey:E,randomSecretKey:Y,isValidSecretKey:se,isValidPublicKey:re,toMontgomery(J){const{y:Q}=n.fromBytes(J),Z=M.publicKey,W=Z===32;if(!W&&Z!==57)throw new Error("only defined for 25519 and 448");const O=W?o.div(sr+Q,sr-Q):o.div(Q-sr,Q+sr);return o.toBytes(O)},toMontgomerySecret(J){const Q=M.secretKey;Ni(J,Q);const Z=e(J.subarray(0,Q));return f(Z).subarray(0,Q)},randomPrivateKey:Y,precompute(J=8,Q=n.BASE){return Q.precompute(J,!1)}};return Object.freeze({keygen:ie,getPublicKey:v,sign:k,verify:L,utils:ae,Point:n,lengths:M})}function hB(n){const e={a:n.a,d:n.d,p:n.Fp.ORDER,n:n.n,h:n.h,Gx:n.Gx,Gy:n.Gy},t=n.Fp,r=fl(e.n,n.nBitLength,!0),i={Fp:t,Fn:r,uvRatio:n.uvRatio},o={randomBytes:n.randomBytes,adjustScalarBytes:n.adjustScalarBytes,domain:n.domain,prehash:n.prehash,mapToCurve:n.mapToCurve};return{CURVE:e,curveOpts:i,hash:n.hash,eddsaOpts:o}}function pB(n,e){const t=e.Point;return Object.assign({},e,{ExtendedPoint:t,CURVE:n,nBitLength:t.Fn.BITS,nByteLength:t.Fn.BYTES})}function mB(n){const{CURVE:e,curveOpts:t,hash:r,eddsaOpts:i}=hB(n),o=fB(e,t),l=dB(o,r,i);return pB(n,l)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gB=BigInt(1),NA=BigInt(2);BigInt(3);const yB=BigInt(5),wB=BigInt(8),ub=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),xC={p:ub,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:wB,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function bB(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),i=BigInt(80),o=ub,c=n*n%o*n%o,f=Bn(c,NA,o)*c%o,d=Bn(f,gB,o)*n%o,h=Bn(d,yB,o)*d%o,b=Bn(h,e,o)*h%o,E=Bn(b,t,o)*b%o,v=Bn(E,r,o)*E%o,N=Bn(v,i,o)*v%o,k=Bn(N,i,o)*v%o,I=Bn(k,e,o)*h%o;return{pow_p_5_8:Bn(I,NA,o)*n%o,b2:c}}function vB(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}const CA=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function EB(n,e){const t=ub,r=Yn(e*e*e,t),i=Yn(r*r*e,t),o=bB(n*i).pow_p_5_8;let l=Yn(n*r*o,t);const c=Yn(e*l*l,t),f=l,d=Yn(l*CA,t),h=c===n,b=c===Yn(-n,t),E=c===Yn(-n*CA,t);return h&&(l=f),(b||E)&&(l=d),tB(l,t)&&(l=Yn(-l,t)),{isValid:h||b,value:l}}const _B=fl(xC.p,{isLE:!0}),xB={...xC,Fp:_B,hash:$O,adjustScalarBytes:vB,uvRatio:EB},Jc=mB(xB);var Kh={exports:{}},Wg={},IA;function fb(){return IA||(IA=1,(function(n){Object.defineProperties(n,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e={},t={};t.byteLength=h,t.toByteArray=E,t.fromByteArray=k;for(var r=[],i=[],o=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,f=l.length;c<f;++c)r[c]=l[c],i[l.charCodeAt(c)]=c;i[45]=62,i[95]=63;function d(F){var M=F.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Y=F.indexOf("=");Y===-1&&(Y=M);var ie=Y===M?0:4-Y%4;return[Y,ie]}function h(F){var M=d(F),Y=M[0],ie=M[1];return(Y+ie)*3/4-ie}function b(F,M,Y){return(M+Y)*3/4-Y}function E(F){var M,Y=d(F),ie=Y[0],se=Y[1],re=new o(b(F,ie,se)),ae=0,J=se>0?ie-4:ie,Q;for(Q=0;Q<J;Q+=4)M=i[F.charCodeAt(Q)]<<18|i[F.charCodeAt(Q+1)]<<12|i[F.charCodeAt(Q+2)]<<6|i[F.charCodeAt(Q+3)],re[ae++]=M>>16&255,re[ae++]=M>>8&255,re[ae++]=M&255;return se===2&&(M=i[F.charCodeAt(Q)]<<2|i[F.charCodeAt(Q+1)]>>4,re[ae++]=M&255),se===1&&(M=i[F.charCodeAt(Q)]<<10|i[F.charCodeAt(Q+1)]<<4|i[F.charCodeAt(Q+2)]>>2,re[ae++]=M>>8&255,re[ae++]=M&255),re}function v(F){return r[F>>18&63]+r[F>>12&63]+r[F>>6&63]+r[F&63]}function N(F,M,Y){for(var ie,se=[],re=M;re<Y;re+=3)ie=(F[re]<<16&16711680)+(F[re+1]<<8&65280)+(F[re+2]&255),se.push(v(ie));return se.join("")}function k(F){for(var M,Y=F.length,ie=Y%3,se=[],re=16383,ae=0,J=Y-ie;ae<J;ae+=re)se.push(N(F,ae,ae+re>J?J:ae+re));return ie===1?(M=F[Y-1],se.push(r[M>>2]+r[M<<4&63]+"==")):ie===2&&(M=(F[Y-2]<<8)+F[Y-1],se.push(r[M>>10]+r[M>>4&63]+r[M<<2&63]+"=")),se.join("")}var I={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */I.read=function(F,M,Y,ie,se){var re,ae,J=se*8-ie-1,Q=(1<<J)-1,Z=Q>>1,W=-7,O=Y?se-1:0,g=Y?-1:1,T=F[M+O];for(O+=g,re=T&(1<<-W)-1,T>>=-W,W+=J;W>0;re=re*256+F[M+O],O+=g,W-=8);for(ae=re&(1<<-W)-1,re>>=-W,W+=ie;W>0;ae=ae*256+F[M+O],O+=g,W-=8);if(re===0)re=1-Z;else{if(re===Q)return ae?NaN:(T?-1:1)*(1/0);ae=ae+Math.pow(2,ie),re=re-Z}return(T?-1:1)*ae*Math.pow(2,re-ie)},I.write=function(F,M,Y,ie,se,re){var ae,J,Q,Z=re*8-se-1,W=(1<<Z)-1,O=W>>1,g=se===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=ie?0:re-1,C=ie?1:-1,q=M<0||M===0&&1/M<0?1:0;for(M=Math.abs(M),isNaN(M)||M===1/0?(J=isNaN(M)?1:0,ae=W):(ae=Math.floor(Math.log(M)/Math.LN2),M*(Q=Math.pow(2,-ae))<1&&(ae--,Q*=2),ae+O>=1?M+=g/Q:M+=g*Math.pow(2,1-O),M*Q>=2&&(ae++,Q/=2),ae+O>=W?(J=0,ae=W):ae+O>=1?(J=(M*Q-1)*Math.pow(2,se),ae=ae+O):(J=M*Math.pow(2,O-1)*Math.pow(2,se),ae=0));se>=8;F[Y+T]=J&255,T+=C,J/=256,se-=8);for(ae=ae<<se|J,Z+=se;Z>0;F[Y+T]=ae&255,T+=C,ae/=256,Z-=8);F[Y+T-C]|=q*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(F){const M=t,Y=I,ie=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;F.Buffer=W,F.SlowBuffer=R,F.INSPECT_MAX_BYTES=50;const se=2147483647;F.kMaxLength=se;const{Uint8Array:re,ArrayBuffer:ae,SharedArrayBuffer:J}=globalThis;W.TYPED_ARRAY_SUPPORT=Q(),!W.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Q(){try{const ne=new re(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,re.prototype),Object.setPrototypeOf(ne,D),ne.foo()===42}catch{return!1}}Object.defineProperty(W.prototype,"parent",{enumerable:!0,get:function(){if(W.isBuffer(this))return this.buffer}}),Object.defineProperty(W.prototype,"offset",{enumerable:!0,get:function(){if(W.isBuffer(this))return this.byteOffset}});function Z(ne){if(ne>se)throw new RangeError('The value "'+ne+'" is invalid for option "size"');const D=new re(ne);return Object.setPrototypeOf(D,W.prototype),D}function W(ne,D,z){if(typeof ne=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return C(ne)}return O(ne,D,z)}W.poolSize=8192;function O(ne,D,z){if(typeof ne=="string")return q(ne,D);if(ae.isView(ne))return K(ne);if(ne==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne);if(Dn(ne,ae)||ne&&Dn(ne.buffer,ae)||typeof J<"u"&&(Dn(ne,J)||ne&&Dn(ne.buffer,J)))return B(ne,D,z);if(typeof ne=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ce=ne.valueOf&&ne.valueOf();if(ce!=null&&ce!==ne)return W.from(ce,D,z);const ve=A(ne);if(ve)return ve;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ne[Symbol.toPrimitive]=="function")return W.from(ne[Symbol.toPrimitive]("string"),D,z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne)}W.from=function(ne,D,z){return O(ne,D,z)},Object.setPrototypeOf(W.prototype,re.prototype),Object.setPrototypeOf(W,re);function g(ne){if(typeof ne!="number")throw new TypeError('"size" argument must be of type number');if(ne<0)throw new RangeError('The value "'+ne+'" is invalid for option "size"')}function T(ne,D,z){return g(ne),ne<=0?Z(ne):D!==void 0?typeof z=="string"?Z(ne).fill(D,z):Z(ne).fill(D):Z(ne)}W.alloc=function(ne,D,z){return T(ne,D,z)};function C(ne){return g(ne),Z(ne<0?0:y(ne)|0)}W.allocUnsafe=function(ne){return C(ne)},W.allocUnsafeSlow=function(ne){return C(ne)};function q(ne,D){if((typeof D!="string"||D==="")&&(D="utf8"),!W.isEncoding(D))throw new TypeError("Unknown encoding: "+D);const z=G(ne,D)|0;let ce=Z(z);const ve=ce.write(ne,D);return ve!==z&&(ce=ce.slice(0,ve)),ce}function j(ne){const D=ne.length<0?0:y(ne.length)|0,z=Z(D);for(let ce=0;ce<D;ce+=1)z[ce]=ne[ce]&255;return z}function K(ne){if(Dn(ne,re)){const D=new re(ne);return B(D.buffer,D.byteOffset,D.byteLength)}return j(ne)}function B(ne,D,z){if(D<0||ne.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(ne.byteLength<D+(z||0))throw new RangeError('"length" is outside of buffer bounds');let ce;return D===void 0&&z===void 0?ce=new re(ne):z===void 0?ce=new re(ne,D):ce=new re(ne,D,z),Object.setPrototypeOf(ce,W.prototype),ce}function A(ne){if(W.isBuffer(ne)){const D=y(ne.length)|0,z=Z(D);return z.length===0||ne.copy(z,0,0,D),z}if(ne.length!==void 0)return typeof ne.length!="number"||tn(ne.length)?Z(0):j(ne);if(ne.type==="Buffer"&&Array.isArray(ne.data))return j(ne.data)}function y(ne){if(ne>=se)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+se.toString(16)+" bytes");return ne|0}function R(ne){return+ne!=ne&&(ne=0),W.alloc(+ne)}W.isBuffer=function(D){return D!=null&&D._isBuffer===!0&&D!==W.prototype},W.compare=function(D,z){if(Dn(D,re)&&(D=W.from(D,D.offset,D.byteLength)),Dn(z,re)&&(z=W.from(z,z.offset,z.byteLength)),!W.isBuffer(D)||!W.isBuffer(z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===z)return 0;let ce=D.length,ve=z.length;for(let Ae=0,Oe=Math.min(ce,ve);Ae<Oe;++Ae)if(D[Ae]!==z[Ae]){ce=D[Ae],ve=z[Ae];break}return ce<ve?-1:ve<ce?1:0},W.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},W.concat=function(D,z){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(D.length===0)return W.alloc(0);let ce;if(z===void 0)for(z=0,ce=0;ce<D.length;++ce)z+=D[ce].length;const ve=W.allocUnsafe(z);let Ae=0;for(ce=0;ce<D.length;++ce){let Oe=D[ce];if(Dn(Oe,re))Ae+Oe.length>ve.length?(W.isBuffer(Oe)||(Oe=W.from(Oe)),Oe.copy(ve,Ae)):re.prototype.set.call(ve,Oe,Ae);else if(W.isBuffer(Oe))Oe.copy(ve,Ae);else throw new TypeError('"list" argument must be an Array of Buffers');Ae+=Oe.length}return ve};function G(ne,D){if(W.isBuffer(ne))return ne.length;if(ae.isView(ne)||Dn(ne,ae))return ne.byteLength;if(typeof ne!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ne);const z=ne.length,ce=arguments.length>2&&arguments[2]===!0;if(!ce&&z===0)return 0;let ve=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return z;case"utf8":case"utf-8":return pt(ne).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z*2;case"hex":return z>>>1;case"base64":return st(ne).length;default:if(ve)return ce?-1:pt(ne).length;D=(""+D).toLowerCase(),ve=!0}}W.byteLength=G;function X(ne,D,z){let ce=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((z===void 0||z>this.length)&&(z=this.length),z<=0)||(z>>>=0,D>>>=0,z<=D))return"";for(ne||(ne="utf8");;)switch(ne){case"hex":return ye(this,D,z);case"utf8":case"utf-8":return Ht(this,D,z);case"ascii":return ee(this,D,z);case"latin1":case"binary":return me(this,D,z);case"base64":return _t(this,D,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ee(this,D,z);default:if(ce)throw new TypeError("Unknown encoding: "+ne);ne=(ne+"").toLowerCase(),ce=!0}}W.prototype._isBuffer=!0;function ue(ne,D,z){const ce=ne[D];ne[D]=ne[z],ne[z]=ce}W.prototype.swap16=function(){const D=this.length;if(D%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let z=0;z<D;z+=2)ue(this,z,z+1);return this},W.prototype.swap32=function(){const D=this.length;if(D%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let z=0;z<D;z+=4)ue(this,z,z+3),ue(this,z+1,z+2);return this},W.prototype.swap64=function(){const D=this.length;if(D%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let z=0;z<D;z+=8)ue(this,z,z+7),ue(this,z+1,z+6),ue(this,z+2,z+5),ue(this,z+3,z+4);return this},W.prototype.toString=function(){const D=this.length;return D===0?"":arguments.length===0?Ht(this,0,D):X.apply(this,arguments)},W.prototype.toLocaleString=W.prototype.toString,W.prototype.equals=function(D){if(!W.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D?!0:W.compare(this,D)===0},W.prototype.inspect=function(){let D="";const z=F.INSPECT_MAX_BYTES;return D=this.toString("hex",0,z).replace(/(.{2})/g,"$1 ").trim(),this.length>z&&(D+=" ... "),"<Buffer "+D+">"},ie&&(W.prototype[ie]=W.prototype.inspect),W.prototype.compare=function(D,z,ce,ve,Ae){if(Dn(D,re)&&(D=W.from(D,D.offset,D.byteLength)),!W.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(z===void 0&&(z=0),ce===void 0&&(ce=D?D.length:0),ve===void 0&&(ve=0),Ae===void 0&&(Ae=this.length),z<0||ce>D.length||ve<0||Ae>this.length)throw new RangeError("out of range index");if(ve>=Ae&&z>=ce)return 0;if(ve>=Ae)return-1;if(z>=ce)return 1;if(z>>>=0,ce>>>=0,ve>>>=0,Ae>>>=0,this===D)return 0;let Oe=Ae-ve,bt=ce-z;const yt=Math.min(Oe,bt),gt=this.slice(ve,Ae),zt=D.slice(z,ce);for(let Xe=0;Xe<yt;++Xe)if(gt[Xe]!==zt[Xe]){Oe=gt[Xe],bt=zt[Xe];break}return Oe<bt?-1:bt<Oe?1:0};function be(ne,D,z,ce,ve){if(ne.length===0)return-1;if(typeof z=="string"?(ce=z,z=0):z>2147483647?z=2147483647:z<-2147483648&&(z=-2147483648),z=+z,tn(z)&&(z=ve?0:ne.length-1),z<0&&(z=ne.length+z),z>=ne.length){if(ve)return-1;z=ne.length-1}else if(z<0)if(ve)z=0;else return-1;if(typeof D=="string"&&(D=W.from(D,ce)),W.isBuffer(D))return D.length===0?-1:De(ne,D,z,ce,ve);if(typeof D=="number")return D=D&255,typeof re.prototype.indexOf=="function"?ve?re.prototype.indexOf.call(ne,D,z):re.prototype.lastIndexOf.call(ne,D,z):De(ne,[D],z,ce,ve);throw new TypeError("val must be string, number or Buffer")}function De(ne,D,z,ce,ve){let Ae=1,Oe=ne.length,bt=D.length;if(ce!==void 0&&(ce=String(ce).toLowerCase(),ce==="ucs2"||ce==="ucs-2"||ce==="utf16le"||ce==="utf-16le")){if(ne.length<2||D.length<2)return-1;Ae=2,Oe/=2,bt/=2,z/=2}function yt(zt,Xe){return Ae===1?zt[Xe]:zt.readUInt16BE(Xe*Ae)}let gt;if(ve){let zt=-1;for(gt=z;gt<Oe;gt++)if(yt(ne,gt)===yt(D,zt===-1?0:gt-zt)){if(zt===-1&&(zt=gt),gt-zt+1===bt)return zt*Ae}else zt!==-1&&(gt-=gt-zt),zt=-1}else for(z+bt>Oe&&(z=Oe-bt),gt=z;gt>=0;gt--){let zt=!0;for(let Xe=0;Xe<bt;Xe++)if(yt(ne,gt+Xe)!==yt(D,Xe)){zt=!1;break}if(zt)return gt}return-1}W.prototype.includes=function(D,z,ce){return this.indexOf(D,z,ce)!==-1},W.prototype.indexOf=function(D,z,ce){return be(this,D,z,ce,!0)},W.prototype.lastIndexOf=function(D,z,ce){return be(this,D,z,ce,!1)};function Ue(ne,D,z,ce){z=Number(z)||0;const ve=ne.length-z;ce?(ce=Number(ce),ce>ve&&(ce=ve)):ce=ve;const Ae=D.length;ce>Ae/2&&(ce=Ae/2);let Oe;for(Oe=0;Oe<ce;++Oe){const bt=parseInt(D.substr(Oe*2,2),16);if(tn(bt))return Oe;ne[z+Oe]=bt}return Oe}function ct(ne,D,z,ce){return Qt(pt(D,ne.length-z),ne,z,ce)}function ot(ne,D,z,ce){return Qt(mt(D),ne,z,ce)}function Rt(ne,D,z,ce){return Qt(st(D),ne,z,ce)}function lr(ne,D,z,ce){return Qt(Vt(D,ne.length-z),ne,z,ce)}W.prototype.write=function(D,z,ce,ve){if(z===void 0)ve="utf8",ce=this.length,z=0;else if(ce===void 0&&typeof z=="string")ve=z,ce=this.length,z=0;else if(isFinite(z))z=z>>>0,isFinite(ce)?(ce=ce>>>0,ve===void 0&&(ve="utf8")):(ve=ce,ce=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ae=this.length-z;if((ce===void 0||ce>Ae)&&(ce=Ae),D.length>0&&(ce<0||z<0)||z>this.length)throw new RangeError("Attempt to write outside buffer bounds");ve||(ve="utf8");let Oe=!1;for(;;)switch(ve){case"hex":return Ue(this,D,z,ce);case"utf8":case"utf-8":return ct(this,D,z,ce);case"ascii":case"latin1":case"binary":return ot(this,D,z,ce);case"base64":return Rt(this,D,z,ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return lr(this,D,z,ce);default:if(Oe)throw new TypeError("Unknown encoding: "+ve);ve=(""+ve).toLowerCase(),Oe=!0}},W.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _t(ne,D,z){return D===0&&z===ne.length?M.fromByteArray(ne):M.fromByteArray(ne.slice(D,z))}function Ht(ne,D,z){z=Math.min(ne.length,z);const ce=[];let ve=D;for(;ve<z;){const Ae=ne[ve];let Oe=null,bt=Ae>239?4:Ae>223?3:Ae>191?2:1;if(ve+bt<=z){let yt,gt,zt,Xe;switch(bt){case 1:Ae<128&&(Oe=Ae);break;case 2:yt=ne[ve+1],(yt&192)===128&&(Xe=(Ae&31)<<6|yt&63,Xe>127&&(Oe=Xe));break;case 3:yt=ne[ve+1],gt=ne[ve+2],(yt&192)===128&&(gt&192)===128&&(Xe=(Ae&15)<<12|(yt&63)<<6|gt&63,Xe>2047&&(Xe<55296||Xe>57343)&&(Oe=Xe));break;case 4:yt=ne[ve+1],gt=ne[ve+2],zt=ne[ve+3],(yt&192)===128&&(gt&192)===128&&(zt&192)===128&&(Xe=(Ae&15)<<18|(yt&63)<<12|(gt&63)<<6|zt&63,Xe>65535&&Xe<1114112&&(Oe=Xe))}}Oe===null?(Oe=65533,bt=1):Oe>65535&&(Oe-=65536,ce.push(Oe>>>10&1023|55296),Oe=56320|Oe&1023),ce.push(Oe),ve+=bt}return $(ce)}const U=4096;function $(ne){const D=ne.length;if(D<=U)return String.fromCharCode.apply(String,ne);let z="",ce=0;for(;ce<D;)z+=String.fromCharCode.apply(String,ne.slice(ce,ce+=U));return z}function ee(ne,D,z){let ce="";z=Math.min(ne.length,z);for(let ve=D;ve<z;++ve)ce+=String.fromCharCode(ne[ve]&127);return ce}function me(ne,D,z){let ce="";z=Math.min(ne.length,z);for(let ve=D;ve<z;++ve)ce+=String.fromCharCode(ne[ve]);return ce}function ye(ne,D,z){const ce=ne.length;(!D||D<0)&&(D=0),(!z||z<0||z>ce)&&(z=ce);let ve="";for(let Ae=D;Ae<z;++Ae)ve+=an[ne[Ae]];return ve}function Ee(ne,D,z){const ce=ne.slice(D,z);let ve="";for(let Ae=0;Ae<ce.length-1;Ae+=2)ve+=String.fromCharCode(ce[Ae]+ce[Ae+1]*256);return ve}W.prototype.slice=function(D,z){const ce=this.length;D=~~D,z=z===void 0?ce:~~z,D<0?(D+=ce,D<0&&(D=0)):D>ce&&(D=ce),z<0?(z+=ce,z<0&&(z=0)):z>ce&&(z=ce),z<D&&(z=D);const ve=this.subarray(D,z);return Object.setPrototypeOf(ve,W.prototype),ve};function Le(ne,D,z){if(ne%1!==0||ne<0)throw new RangeError("offset is not uint");if(ne+D>z)throw new RangeError("Trying to access beyond buffer length")}W.prototype.readUintLE=W.prototype.readUIntLE=function(D,z,ce){D=D>>>0,z=z>>>0,ce||Le(D,z,this.length);let ve=this[D],Ae=1,Oe=0;for(;++Oe<z&&(Ae*=256);)ve+=this[D+Oe]*Ae;return ve},W.prototype.readUintBE=W.prototype.readUIntBE=function(D,z,ce){D=D>>>0,z=z>>>0,ce||Le(D,z,this.length);let ve=this[D+--z],Ae=1;for(;z>0&&(Ae*=256);)ve+=this[D+--z]*Ae;return ve},W.prototype.readUint8=W.prototype.readUInt8=function(D,z){return D=D>>>0,z||Le(D,1,this.length),this[D]},W.prototype.readUint16LE=W.prototype.readUInt16LE=function(D,z){return D=D>>>0,z||Le(D,2,this.length),this[D]|this[D+1]<<8},W.prototype.readUint16BE=W.prototype.readUInt16BE=function(D,z){return D=D>>>0,z||Le(D,2,this.length),this[D]<<8|this[D+1]},W.prototype.readUint32LE=W.prototype.readUInt32LE=function(D,z){return D=D>>>0,z||Le(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+this[D+3]*16777216},W.prototype.readUint32BE=W.prototype.readUInt32BE=function(D,z){return D=D>>>0,z||Le(D,4,this.length),this[D]*16777216+(this[D+1]<<16|this[D+2]<<8|this[D+3])},W.prototype.readBigUInt64LE=Wr(function(D){D=D>>>0,pe(D,"offset");const z=this[D],ce=this[D+7];(z===void 0||ce===void 0)&&_e(D,this.length-8);const ve=z+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24,Ae=this[++D]+this[++D]*2**8+this[++D]*2**16+ce*2**24;return BigInt(ve)+(BigInt(Ae)<<BigInt(32))}),W.prototype.readBigUInt64BE=Wr(function(D){D=D>>>0,pe(D,"offset");const z=this[D],ce=this[D+7];(z===void 0||ce===void 0)&&_e(D,this.length-8);const ve=z*2**24+this[++D]*2**16+this[++D]*2**8+this[++D],Ae=this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+ce;return(BigInt(ve)<<BigInt(32))+BigInt(Ae)}),W.prototype.readIntLE=function(D,z,ce){D=D>>>0,z=z>>>0,ce||Le(D,z,this.length);let ve=this[D],Ae=1,Oe=0;for(;++Oe<z&&(Ae*=256);)ve+=this[D+Oe]*Ae;return Ae*=128,ve>=Ae&&(ve-=Math.pow(2,8*z)),ve},W.prototype.readIntBE=function(D,z,ce){D=D>>>0,z=z>>>0,ce||Le(D,z,this.length);let ve=z,Ae=1,Oe=this[D+--ve];for(;ve>0&&(Ae*=256);)Oe+=this[D+--ve]*Ae;return Ae*=128,Oe>=Ae&&(Oe-=Math.pow(2,8*z)),Oe},W.prototype.readInt8=function(D,z){return D=D>>>0,z||Le(D,1,this.length),this[D]&128?(255-this[D]+1)*-1:this[D]},W.prototype.readInt16LE=function(D,z){D=D>>>0,z||Le(D,2,this.length);const ce=this[D]|this[D+1]<<8;return ce&32768?ce|4294901760:ce},W.prototype.readInt16BE=function(D,z){D=D>>>0,z||Le(D,2,this.length);const ce=this[D+1]|this[D]<<8;return ce&32768?ce|4294901760:ce},W.prototype.readInt32LE=function(D,z){return D=D>>>0,z||Le(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},W.prototype.readInt32BE=function(D,z){return D=D>>>0,z||Le(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},W.prototype.readBigInt64LE=Wr(function(D){D=D>>>0,pe(D,"offset");const z=this[D],ce=this[D+7];(z===void 0||ce===void 0)&&_e(D,this.length-8);const ve=this[D+4]+this[D+5]*2**8+this[D+6]*2**16+(ce<<24);return(BigInt(ve)<<BigInt(32))+BigInt(z+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24)}),W.prototype.readBigInt64BE=Wr(function(D){D=D>>>0,pe(D,"offset");const z=this[D],ce=this[D+7];(z===void 0||ce===void 0)&&_e(D,this.length-8);const ve=(z<<24)+this[++D]*2**16+this[++D]*2**8+this[++D];return(BigInt(ve)<<BigInt(32))+BigInt(this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+ce)}),W.prototype.readFloatLE=function(D,z){return D=D>>>0,z||Le(D,4,this.length),Y.read(this,D,!0,23,4)},W.prototype.readFloatBE=function(D,z){return D=D>>>0,z||Le(D,4,this.length),Y.read(this,D,!1,23,4)},W.prototype.readDoubleLE=function(D,z){return D=D>>>0,z||Le(D,8,this.length),Y.read(this,D,!0,52,8)},W.prototype.readDoubleBE=function(D,z){return D=D>>>0,z||Le(D,8,this.length),Y.read(this,D,!1,52,8)};function Ve(ne,D,z,ce,ve,Ae){if(!W.isBuffer(ne))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>ve||D<Ae)throw new RangeError('"value" argument is out of bounds');if(z+ce>ne.length)throw new RangeError("Index out of range")}W.prototype.writeUintLE=W.prototype.writeUIntLE=function(D,z,ce,ve){if(D=+D,z=z>>>0,ce=ce>>>0,!ve){const bt=Math.pow(2,8*ce)-1;Ve(this,D,z,ce,bt,0)}let Ae=1,Oe=0;for(this[z]=D&255;++Oe<ce&&(Ae*=256);)this[z+Oe]=D/Ae&255;return z+ce},W.prototype.writeUintBE=W.prototype.writeUIntBE=function(D,z,ce,ve){if(D=+D,z=z>>>0,ce=ce>>>0,!ve){const bt=Math.pow(2,8*ce)-1;Ve(this,D,z,ce,bt,0)}let Ae=ce-1,Oe=1;for(this[z+Ae]=D&255;--Ae>=0&&(Oe*=256);)this[z+Ae]=D/Oe&255;return z+ce},W.prototype.writeUint8=W.prototype.writeUInt8=function(D,z,ce){return D=+D,z=z>>>0,ce||Ve(this,D,z,1,255,0),this[z]=D&255,z+1},W.prototype.writeUint16LE=W.prototype.writeUInt16LE=function(D,z,ce){return D=+D,z=z>>>0,ce||Ve(this,D,z,2,65535,0),this[z]=D&255,this[z+1]=D>>>8,z+2},W.prototype.writeUint16BE=W.prototype.writeUInt16BE=function(D,z,ce){return D=+D,z=z>>>0,ce||Ve(this,D,z,2,65535,0),this[z]=D>>>8,this[z+1]=D&255,z+2},W.prototype.writeUint32LE=W.prototype.writeUInt32LE=function(D,z,ce){return D=+D,z=z>>>0,ce||Ve(this,D,z,4,4294967295,0),this[z+3]=D>>>24,this[z+2]=D>>>16,this[z+1]=D>>>8,this[z]=D&255,z+4},W.prototype.writeUint32BE=W.prototype.writeUInt32BE=function(D,z,ce){return D=+D,z=z>>>0,ce||Ve(this,D,z,4,4294967295,0),this[z]=D>>>24,this[z+1]=D>>>16,this[z+2]=D>>>8,this[z+3]=D&255,z+4};function $e(ne,D,z,ce,ve){le(D,ce,ve,ne,z,7);let Ae=Number(D&BigInt(4294967295));ne[z++]=Ae,Ae=Ae>>8,ne[z++]=Ae,Ae=Ae>>8,ne[z++]=Ae,Ae=Ae>>8,ne[z++]=Ae;let Oe=Number(D>>BigInt(32)&BigInt(4294967295));return ne[z++]=Oe,Oe=Oe>>8,ne[z++]=Oe,Oe=Oe>>8,ne[z++]=Oe,Oe=Oe>>8,ne[z++]=Oe,z}function Nt(ne,D,z,ce,ve){le(D,ce,ve,ne,z,7);let Ae=Number(D&BigInt(4294967295));ne[z+7]=Ae,Ae=Ae>>8,ne[z+6]=Ae,Ae=Ae>>8,ne[z+5]=Ae,Ae=Ae>>8,ne[z+4]=Ae;let Oe=Number(D>>BigInt(32)&BigInt(4294967295));return ne[z+3]=Oe,Oe=Oe>>8,ne[z+2]=Oe,Oe=Oe>>8,ne[z+1]=Oe,Oe=Oe>>8,ne[z]=Oe,z+8}W.prototype.writeBigUInt64LE=Wr(function(D,z=0){return $e(this,D,z,BigInt(0),BigInt("0xffffffffffffffff"))}),W.prototype.writeBigUInt64BE=Wr(function(D,z=0){return Nt(this,D,z,BigInt(0),BigInt("0xffffffffffffffff"))}),W.prototype.writeIntLE=function(D,z,ce,ve){if(D=+D,z=z>>>0,!ve){const yt=Math.pow(2,8*ce-1);Ve(this,D,z,ce,yt-1,-yt)}let Ae=0,Oe=1,bt=0;for(this[z]=D&255;++Ae<ce&&(Oe*=256);)D<0&&bt===0&&this[z+Ae-1]!==0&&(bt=1),this[z+Ae]=(D/Oe>>0)-bt&255;return z+ce},W.prototype.writeIntBE=function(D,z,ce,ve){if(D=+D,z=z>>>0,!ve){const yt=Math.pow(2,8*ce-1);Ve(this,D,z,ce,yt-1,-yt)}let Ae=ce-1,Oe=1,bt=0;for(this[z+Ae]=D&255;--Ae>=0&&(Oe*=256);)D<0&&bt===0&&this[z+Ae+1]!==0&&(bt=1),this[z+Ae]=(D/Oe>>0)-bt&255;return z+ce},W.prototype.writeInt8=function(D,z,ce){return D=+D,z=z>>>0,ce||Ve(this,D,z,1,127,-128),D<0&&(D=255+D+1),this[z]=D&255,z+1},W.prototype.writeInt16LE=function(D,z,ce){return D=+D,z=z>>>0,ce||Ve(this,D,z,2,32767,-32768),this[z]=D&255,this[z+1]=D>>>8,z+2},W.prototype.writeInt16BE=function(D,z,ce){return D=+D,z=z>>>0,ce||Ve(this,D,z,2,32767,-32768),this[z]=D>>>8,this[z+1]=D&255,z+2},W.prototype.writeInt32LE=function(D,z,ce){return D=+D,z=z>>>0,ce||Ve(this,D,z,4,2147483647,-2147483648),this[z]=D&255,this[z+1]=D>>>8,this[z+2]=D>>>16,this[z+3]=D>>>24,z+4},W.prototype.writeInt32BE=function(D,z,ce){return D=+D,z=z>>>0,ce||Ve(this,D,z,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[z]=D>>>24,this[z+1]=D>>>16,this[z+2]=D>>>8,this[z+3]=D&255,z+4},W.prototype.writeBigInt64LE=Wr(function(D,z=0){return $e(this,D,z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),W.prototype.writeBigInt64BE=Wr(function(D,z=0){return Nt(this,D,z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function et(ne,D,z,ce,ve,Ae){if(z+ce>ne.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("Index out of range")}function ht(ne,D,z,ce,ve){return D=+D,z=z>>>0,ve||et(ne,D,z,4),Y.write(ne,D,z,ce,23,4),z+4}W.prototype.writeFloatLE=function(D,z,ce){return ht(this,D,z,!0,ce)},W.prototype.writeFloatBE=function(D,z,ce){return ht(this,D,z,!1,ce)};function Zn(ne,D,z,ce,ve){return D=+D,z=z>>>0,ve||et(ne,D,z,8),Y.write(ne,D,z,ce,52,8),z+8}W.prototype.writeDoubleLE=function(D,z,ce){return Zn(this,D,z,!0,ce)},W.prototype.writeDoubleBE=function(D,z,ce){return Zn(this,D,z,!1,ce)},W.prototype.copy=function(D,z,ce,ve){if(!W.isBuffer(D))throw new TypeError("argument should be a Buffer");if(ce||(ce=0),!ve&&ve!==0&&(ve=this.length),z>=D.length&&(z=D.length),z||(z=0),ve>0&&ve<ce&&(ve=ce),ve===ce||D.length===0||this.length===0)return 0;if(z<0)throw new RangeError("targetStart out of bounds");if(ce<0||ce>=this.length)throw new RangeError("Index out of range");if(ve<0)throw new RangeError("sourceEnd out of bounds");ve>this.length&&(ve=this.length),D.length-z<ve-ce&&(ve=D.length-z+ce);const Ae=ve-ce;return this===D&&typeof re.prototype.copyWithin=="function"?this.copyWithin(z,ce,ve):re.prototype.set.call(D,this.subarray(ce,ve),z),Ae},W.prototype.fill=function(D,z,ce,ve){if(typeof D=="string"){if(typeof z=="string"?(ve=z,z=0,ce=this.length):typeof ce=="string"&&(ve=ce,ce=this.length),ve!==void 0&&typeof ve!="string")throw new TypeError("encoding must be a string");if(typeof ve=="string"&&!W.isEncoding(ve))throw new TypeError("Unknown encoding: "+ve);if(D.length===1){const Oe=D.charCodeAt(0);(ve==="utf8"&&Oe<128||ve==="latin1")&&(D=Oe)}}else typeof D=="number"?D=D&255:typeof D=="boolean"&&(D=Number(D));if(z<0||this.length<z||this.length<ce)throw new RangeError("Out of range index");if(ce<=z)return this;z=z>>>0,ce=ce===void 0?this.length:ce>>>0,D||(D=0);let Ae;if(typeof D=="number")for(Ae=z;Ae<ce;++Ae)this[Ae]=D;else{const Oe=W.isBuffer(D)?D:W.from(D,ve),bt=Oe.length;if(bt===0)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(Ae=0;Ae<ce-z;++Ae)this[Ae+z]=Oe[Ae%bt]}return this};const Zt={};function te(ne,D,z){Zt[ne]=class extends z{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ne}]`,this.stack,delete this.name}get code(){return ne}set code(ve){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ve,writable:!0})}toString(){return`${this.name} [${ne}]: ${this.message}`}}}te("ERR_BUFFER_OUT_OF_BOUNDS",function(ne){return ne?`${ne} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),te("ERR_INVALID_ARG_TYPE",function(ne,D){return`The "${ne}" argument must be of type number. Received type ${typeof D}`},TypeError),te("ERR_OUT_OF_RANGE",function(ne,D,z){let ce=`The value of "${ne}" is out of range.`,ve=z;return Number.isInteger(z)&&Math.abs(z)>2**32?ve=P(String(z)):typeof z=="bigint"&&(ve=String(z),(z>BigInt(2)**BigInt(32)||z<-(BigInt(2)**BigInt(32)))&&(ve=P(ve)),ve+="n"),ce+=` It must be ${D}. Received ${ve}`,ce},RangeError);function P(ne){let D="",z=ne.length;const ce=ne[0]==="-"?1:0;for(;z>=ce+4;z-=3)D=`_${ne.slice(z-3,z)}${D}`;return`${ne.slice(0,z)}${D}`}function H(ne,D,z){pe(D,"offset"),(ne[D]===void 0||ne[D+z]===void 0)&&_e(D,ne.length-(z+1))}function le(ne,D,z,ce,ve,Ae){if(ne>z||ne<D){const Oe=typeof D=="bigint"?"n":"";let bt;throw D===0||D===BigInt(0)?bt=`>= 0${Oe} and < 2${Oe} ** ${(Ae+1)*8}${Oe}`:bt=`>= -(2${Oe} ** ${(Ae+1)*8-1}${Oe}) and < 2 ** ${(Ae+1)*8-1}${Oe}`,new Zt.ERR_OUT_OF_RANGE("value",bt,ne)}H(ce,ve,Ae)}function pe(ne,D){if(typeof ne!="number")throw new Zt.ERR_INVALID_ARG_TYPE(D,"number",ne)}function _e(ne,D,z){throw Math.floor(ne)!==ne?(pe(ne,z),new Zt.ERR_OUT_OF_RANGE("offset","an integer",ne)):D<0?new Zt.ERR_BUFFER_OUT_OF_BOUNDS:new Zt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${D}`,ne)}const ke=/[^+/0-9A-Za-z-_]/g;function wt(ne){if(ne=ne.split("=")[0],ne=ne.trim().replace(ke,""),ne.length<2)return"";for(;ne.length%4!==0;)ne=ne+"=";return ne}function pt(ne,D){D=D||1/0;let z;const ce=ne.length;let ve=null;const Ae=[];for(let Oe=0;Oe<ce;++Oe){if(z=ne.charCodeAt(Oe),z>55295&&z<57344){if(!ve){if(z>56319){(D-=3)>-1&&Ae.push(239,191,189);continue}else if(Oe+1===ce){(D-=3)>-1&&Ae.push(239,191,189);continue}ve=z;continue}if(z<56320){(D-=3)>-1&&Ae.push(239,191,189),ve=z;continue}z=(ve-55296<<10|z-56320)+65536}else ve&&(D-=3)>-1&&Ae.push(239,191,189);if(ve=null,z<128){if((D-=1)<0)break;Ae.push(z)}else if(z<2048){if((D-=2)<0)break;Ae.push(z>>6|192,z&63|128)}else if(z<65536){if((D-=3)<0)break;Ae.push(z>>12|224,z>>6&63|128,z&63|128)}else if(z<1114112){if((D-=4)<0)break;Ae.push(z>>18|240,z>>12&63|128,z>>6&63|128,z&63|128)}else throw new Error("Invalid code point")}return Ae}function mt(ne){const D=[];for(let z=0;z<ne.length;++z)D.push(ne.charCodeAt(z)&255);return D}function Vt(ne,D){let z,ce,ve;const Ae=[];for(let Oe=0;Oe<ne.length&&!((D-=2)<0);++Oe)z=ne.charCodeAt(Oe),ce=z>>8,ve=z%256,Ae.push(ve),Ae.push(ce);return Ae}function st(ne){return M.toByteArray(wt(ne))}function Qt(ne,D,z,ce){let ve;for(ve=0;ve<ce&&!(ve+z>=D.length||ve>=ne.length);++ve)D[ve+z]=ne[ve];return ve}function Dn(ne,D){return ne instanceof D||ne!=null&&ne.constructor!=null&&ne.constructor.name!=null&&ne.constructor.name===D.name}function tn(ne){return ne!==ne}const an=(function(){const ne="0123456789abcdef",D=new Array(256);for(let z=0;z<16;++z){const ce=z*16;for(let ve=0;ve<16;++ve)D[ce+ve]=ne[z]+ne[ve]}return D})();function Wr(ne){return typeof BigInt>"u"?gn:ne}function gn(){throw new Error("BigInt not supported")}})(e);const L=e.Buffer;n.Blob=e.Blob,n.BlobOptions=e.BlobOptions,n.Buffer=e.Buffer,n.File=e.File,n.FileOptions=e.FileOptions,n.INSPECT_MAX_BYTES=e.INSPECT_MAX_BYTES,n.SlowBuffer=e.SlowBuffer,n.TranscodeEncoding=e.TranscodeEncoding,n.atob=e.atob,n.btoa=e.btoa,n.constants=e.constants,n.default=L,n.isAscii=e.isAscii,n.isUtf8=e.isUtf8,n.kMaxLength=e.kMaxLength,n.kStringMaxLength=e.kStringMaxLength,n.resolveObjectURL=e.resolveObjectURL,n.transcode=e.transcode})(Wg)),Wg}var AB=Kh.exports,kA;function db(){return kA||(kA=1,(function(n){(function(e,t){function r(O,g){if(!O)throw new Error(g||"Assertion failed")}function i(O,g){O.super_=g;var T=function(){};T.prototype=g.prototype,O.prototype=new T,O.prototype.constructor=O}function o(O,g,T){if(o.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&((g==="le"||g==="be")&&(T=g,g=10),this._init(O||0,g||10,T||"be"))}typeof e=="object"?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=fb().Buffer}catch{}o.isBN=function(g){return g instanceof o?!0:g!==null&&typeof g=="object"&&g.constructor.wordSize===o.wordSize&&Array.isArray(g.words)},o.max=function(g,T){return g.cmp(T)>0?g:T},o.min=function(g,T){return g.cmp(T)<0?g:T},o.prototype._init=function(g,T,C){if(typeof g=="number")return this._initNumber(g,T,C);if(typeof g=="object")return this._initArray(g,T,C);T==="hex"&&(T=16),r(T===(T|0)&&T>=2&&T<=36),g=g.toString().replace(/\s+/g,"");var q=0;g[0]==="-"&&(q++,this.negative=1),q<g.length&&(T===16?this._parseHex(g,q,C):(this._parseBase(g,T,q),C==="le"&&this._initArray(this.toArray(),T,C)))},o.prototype._initNumber=function(g,T,C){g<0&&(this.negative=1,g=-g),g<67108864?(this.words=[g&67108863],this.length=1):g<4503599627370496?(this.words=[g&67108863,g/67108864&67108863],this.length=2):(r(g<9007199254740992),this.words=[g&67108863,g/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),T,C)},o.prototype._initArray=function(g,T,C){if(r(typeof g.length=="number"),g.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(g.length/3),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var j,K,B=0;if(C==="be")for(q=g.length-1,j=0;q>=0;q-=3)K=g[q]|g[q-1]<<8|g[q-2]<<16,this.words[j]|=K<<B&67108863,this.words[j+1]=K>>>26-B&67108863,B+=24,B>=26&&(B-=26,j++);else if(C==="le")for(q=0,j=0;q<g.length;q+=3)K=g[q]|g[q+1]<<8|g[q+2]<<16,this.words[j]|=K<<B&67108863,this.words[j+1]=K>>>26-B&67108863,B+=24,B>=26&&(B-=26,j++);return this._strip()};function c(O,g){var T=O.charCodeAt(g);if(T>=48&&T<=57)return T-48;if(T>=65&&T<=70)return T-55;if(T>=97&&T<=102)return T-87;r(!1,"Invalid character in "+O)}function f(O,g,T){var C=c(O,T);return T-1>=g&&(C|=c(O,T-1)<<4),C}o.prototype._parseHex=function(g,T,C){this.length=Math.ceil((g.length-T)/6),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var j=0,K=0,B;if(C==="be")for(q=g.length-1;q>=T;q-=2)B=f(g,T,q)<<j,this.words[K]|=B&67108863,j>=18?(j-=18,K+=1,this.words[K]|=B>>>26):j+=8;else{var A=g.length-T;for(q=A%2===0?T+1:T;q<g.length;q+=2)B=f(g,T,q)<<j,this.words[K]|=B&67108863,j>=18?(j-=18,K+=1,this.words[K]|=B>>>26):j+=8}this._strip()};function d(O,g,T,C){for(var q=0,j=0,K=Math.min(O.length,T),B=g;B<K;B++){var A=O.charCodeAt(B)-48;q*=C,A>=49?j=A-49+10:A>=17?j=A-17+10:j=A,r(A>=0&&j<C,"Invalid character"),q+=j}return q}o.prototype._parseBase=function(g,T,C){this.words=[0],this.length=1;for(var q=0,j=1;j<=67108863;j*=T)q++;q--,j=j/T|0;for(var K=g.length-C,B=K%q,A=Math.min(K,K-B)+C,y=0,R=C;R<A;R+=q)y=d(g,R,R+q,T),this.imuln(j),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y);if(B!==0){var G=1;for(y=d(g,R,g.length,T),R=0;R<B;R++)G*=T;this.imuln(G),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y)}this._strip()},o.prototype.copy=function(g){g.words=new Array(this.length);for(var T=0;T<this.length;T++)g.words[T]=this.words[T];g.length=this.length,g.negative=this.negative,g.red=this.red};function h(O,g){O.words=g.words,O.length=g.length,O.negative=g.negative,O.red=g.red}if(o.prototype._move=function(g){h(g,this)},o.prototype.clone=function(){var g=new o(null);return this.copy(g),g},o.prototype._expand=function(g){for(;this.length<g;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=b}catch{o.prototype.inspect=b}else o.prototype.inspect=b;function b(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var E=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],N=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(g,T){g=g||10,T=T|0||1;var C;if(g===16||g==="hex"){C="";for(var q=0,j=0,K=0;K<this.length;K++){var B=this.words[K],A=((B<<q|j)&16777215).toString(16);j=B>>>24-q&16777215,q+=2,q>=26&&(q-=26,K--),j!==0||K!==this.length-1?C=E[6-A.length]+A+C:C=A+C}for(j!==0&&(C=j.toString(16)+C);C.length%T!==0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(g===(g|0)&&g>=2&&g<=36){var y=v[g],R=N[g];C="";var G=this.clone();for(G.negative=0;!G.isZero();){var X=G.modrn(R).toString(g);G=G.idivn(R),G.isZero()?C=X+C:C=E[y-X.length]+X+C}for(this.isZero()&&(C="0"+C);C.length%T!==0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var g=this.words[0];return this.length===2?g+=this.words[1]*67108864:this.length===3&&this.words[2]===1?g+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-g:g},o.prototype.toJSON=function(){return this.toString(16,2)},l&&(o.prototype.toBuffer=function(g,T){return this.toArrayLike(l,g,T)}),o.prototype.toArray=function(g,T){return this.toArrayLike(Array,g,T)};var k=function(g,T){return g.allocUnsafe?g.allocUnsafe(T):new g(T)};o.prototype.toArrayLike=function(g,T,C){this._strip();var q=this.byteLength(),j=C||Math.max(1,q);r(q<=j,"byte array longer than desired length"),r(j>0,"Requested array length <= 0");var K=k(g,j),B=T==="le"?"LE":"BE";return this["_toArrayLike"+B](K,q),K},o.prototype._toArrayLikeLE=function(g,T){for(var C=0,q=0,j=0,K=0;j<this.length;j++){var B=this.words[j]<<K|q;g[C++]=B&255,C<g.length&&(g[C++]=B>>8&255),C<g.length&&(g[C++]=B>>16&255),K===6?(C<g.length&&(g[C++]=B>>24&255),q=0,K=0):(q=B>>>24,K+=2)}if(C<g.length)for(g[C++]=q;C<g.length;)g[C++]=0},o.prototype._toArrayLikeBE=function(g,T){for(var C=g.length-1,q=0,j=0,K=0;j<this.length;j++){var B=this.words[j]<<K|q;g[C--]=B&255,C>=0&&(g[C--]=B>>8&255),C>=0&&(g[C--]=B>>16&255),K===6?(C>=0&&(g[C--]=B>>24&255),q=0,K=0):(q=B>>>24,K+=2)}if(C>=0)for(g[C--]=q;C>=0;)g[C--]=0},Math.clz32?o.prototype._countBits=function(g){return 32-Math.clz32(g)}:o.prototype._countBits=function(g){var T=g,C=0;return T>=4096&&(C+=13,T>>>=13),T>=64&&(C+=7,T>>>=7),T>=8&&(C+=4,T>>>=4),T>=2&&(C+=2,T>>>=2),C+T},o.prototype._zeroBits=function(g){if(g===0)return 26;var T=g,C=0;return(T&8191)===0&&(C+=13,T>>>=13),(T&127)===0&&(C+=7,T>>>=7),(T&15)===0&&(C+=4,T>>>=4),(T&3)===0&&(C+=2,T>>>=2),(T&1)===0&&C++,C},o.prototype.bitLength=function(){var g=this.words[this.length-1],T=this._countBits(g);return(this.length-1)*26+T};function I(O){for(var g=new Array(O.bitLength()),T=0;T<g.length;T++){var C=T/26|0,q=T%26;g[T]=O.words[C]>>>q&1}return g}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var g=0,T=0;T<this.length;T++){var C=this._zeroBits(this.words[T]);if(g+=C,C!==26)break}return g},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(g){return this.negative!==0?this.abs().inotn(g).iaddn(1):this.clone()},o.prototype.fromTwos=function(g){return this.testn(g-1)?this.notn(g).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(g){for(;this.length<g.length;)this.words[this.length++]=0;for(var T=0;T<g.length;T++)this.words[T]=this.words[T]|g.words[T];return this._strip()},o.prototype.ior=function(g){return r((this.negative|g.negative)===0),this.iuor(g)},o.prototype.or=function(g){return this.length>g.length?this.clone().ior(g):g.clone().ior(this)},o.prototype.uor=function(g){return this.length>g.length?this.clone().iuor(g):g.clone().iuor(this)},o.prototype.iuand=function(g){var T;this.length>g.length?T=g:T=this;for(var C=0;C<T.length;C++)this.words[C]=this.words[C]&g.words[C];return this.length=T.length,this._strip()},o.prototype.iand=function(g){return r((this.negative|g.negative)===0),this.iuand(g)},o.prototype.and=function(g){return this.length>g.length?this.clone().iand(g):g.clone().iand(this)},o.prototype.uand=function(g){return this.length>g.length?this.clone().iuand(g):g.clone().iuand(this)},o.prototype.iuxor=function(g){var T,C;this.length>g.length?(T=this,C=g):(T=g,C=this);for(var q=0;q<C.length;q++)this.words[q]=T.words[q]^C.words[q];if(this!==T)for(;q<T.length;q++)this.words[q]=T.words[q];return this.length=T.length,this._strip()},o.prototype.ixor=function(g){return r((this.negative|g.negative)===0),this.iuxor(g)},o.prototype.xor=function(g){return this.length>g.length?this.clone().ixor(g):g.clone().ixor(this)},o.prototype.uxor=function(g){return this.length>g.length?this.clone().iuxor(g):g.clone().iuxor(this)},o.prototype.inotn=function(g){r(typeof g=="number"&&g>=0);var T=Math.ceil(g/26)|0,C=g%26;this._expand(T),C>0&&T--;for(var q=0;q<T;q++)this.words[q]=~this.words[q]&67108863;return C>0&&(this.words[q]=~this.words[q]&67108863>>26-C),this._strip()},o.prototype.notn=function(g){return this.clone().inotn(g)},o.prototype.setn=function(g,T){r(typeof g=="number"&&g>=0);var C=g/26|0,q=g%26;return this._expand(C+1),T?this.words[C]=this.words[C]|1<<q:this.words[C]=this.words[C]&~(1<<q),this._strip()},o.prototype.iadd=function(g){var T;if(this.negative!==0&&g.negative===0)return this.negative=0,T=this.isub(g),this.negative^=1,this._normSign();if(this.negative===0&&g.negative!==0)return g.negative=0,T=this.isub(g),g.negative=1,T._normSign();var C,q;this.length>g.length?(C=this,q=g):(C=g,q=this);for(var j=0,K=0;K<q.length;K++)T=(C.words[K]|0)+(q.words[K]|0)+j,this.words[K]=T&67108863,j=T>>>26;for(;j!==0&&K<C.length;K++)T=(C.words[K]|0)+j,this.words[K]=T&67108863,j=T>>>26;if(this.length=C.length,j!==0)this.words[this.length]=j,this.length++;else if(C!==this)for(;K<C.length;K++)this.words[K]=C.words[K];return this},o.prototype.add=function(g){var T;return g.negative!==0&&this.negative===0?(g.negative=0,T=this.sub(g),g.negative^=1,T):g.negative===0&&this.negative!==0?(this.negative=0,T=g.sub(this),this.negative=1,T):this.length>g.length?this.clone().iadd(g):g.clone().iadd(this)},o.prototype.isub=function(g){if(g.negative!==0){g.negative=0;var T=this.iadd(g);return g.negative=1,T._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(g),this.negative=1,this._normSign();var C=this.cmp(g);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;var q,j;C>0?(q=this,j=g):(q=g,j=this);for(var K=0,B=0;B<j.length;B++)T=(q.words[B]|0)-(j.words[B]|0)+K,K=T>>26,this.words[B]=T&67108863;for(;K!==0&&B<q.length;B++)T=(q.words[B]|0)+K,K=T>>26,this.words[B]=T&67108863;if(K===0&&B<q.length&&q!==this)for(;B<q.length;B++)this.words[B]=q.words[B];return this.length=Math.max(this.length,B),q!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(g){return this.clone().isub(g)};function L(O,g,T){T.negative=g.negative^O.negative;var C=O.length+g.length|0;T.length=C,C=C-1|0;var q=O.words[0]|0,j=g.words[0]|0,K=q*j,B=K&67108863,A=K/67108864|0;T.words[0]=B;for(var y=1;y<C;y++){for(var R=A>>>26,G=A&67108863,X=Math.min(y,g.length-1),ue=Math.max(0,y-O.length+1);ue<=X;ue++){var be=y-ue|0;q=O.words[be]|0,j=g.words[ue]|0,K=q*j+G,R+=K/67108864|0,G=K&67108863}T.words[y]=G|0,A=R|0}return A!==0?T.words[y]=A|0:T.length--,T._strip()}var F=function(g,T,C){var q=g.words,j=T.words,K=C.words,B=0,A,y,R,G=q[0]|0,X=G&8191,ue=G>>>13,be=q[1]|0,De=be&8191,Ue=be>>>13,ct=q[2]|0,ot=ct&8191,Rt=ct>>>13,lr=q[3]|0,_t=lr&8191,Ht=lr>>>13,U=q[4]|0,$=U&8191,ee=U>>>13,me=q[5]|0,ye=me&8191,Ee=me>>>13,Le=q[6]|0,Ve=Le&8191,$e=Le>>>13,Nt=q[7]|0,et=Nt&8191,ht=Nt>>>13,Zn=q[8]|0,Zt=Zn&8191,te=Zn>>>13,P=q[9]|0,H=P&8191,le=P>>>13,pe=j[0]|0,_e=pe&8191,ke=pe>>>13,wt=j[1]|0,pt=wt&8191,mt=wt>>>13,Vt=j[2]|0,st=Vt&8191,Qt=Vt>>>13,Dn=j[3]|0,tn=Dn&8191,an=Dn>>>13,Wr=j[4]|0,gn=Wr&8191,ne=Wr>>>13,D=j[5]|0,z=D&8191,ce=D>>>13,ve=j[6]|0,Ae=ve&8191,Oe=ve>>>13,bt=j[7]|0,yt=bt&8191,gt=bt>>>13,zt=j[8]|0,Xe=zt&8191,Pt=zt>>>13,po=j[9]|0,En=po&8191,In=po>>>13;C.negative=g.negative^T.negative,C.length=19,A=Math.imul(X,_e),y=Math.imul(X,ke),y=y+Math.imul(ue,_e)|0,R=Math.imul(ue,ke);var ou=(B+A|0)+((y&8191)<<13)|0;B=(R+(y>>>13)|0)+(ou>>>26)|0,ou&=67108863,A=Math.imul(De,_e),y=Math.imul(De,ke),y=y+Math.imul(Ue,_e)|0,R=Math.imul(Ue,ke),A=A+Math.imul(X,pt)|0,y=y+Math.imul(X,mt)|0,y=y+Math.imul(ue,pt)|0,R=R+Math.imul(ue,mt)|0;var bl=(B+A|0)+((y&8191)<<13)|0;B=(R+(y>>>13)|0)+(bl>>>26)|0,bl&=67108863,A=Math.imul(ot,_e),y=Math.imul(ot,ke),y=y+Math.imul(Rt,_e)|0,R=Math.imul(Rt,ke),A=A+Math.imul(De,pt)|0,y=y+Math.imul(De,mt)|0,y=y+Math.imul(Ue,pt)|0,R=R+Math.imul(Ue,mt)|0,A=A+Math.imul(X,st)|0,y=y+Math.imul(X,Qt)|0,y=y+Math.imul(ue,st)|0,R=R+Math.imul(ue,Qt)|0;var mo=(B+A|0)+((y&8191)<<13)|0;B=(R+(y>>>13)|0)+(mo>>>26)|0,mo&=67108863,A=Math.imul(_t,_e),y=Math.imul(_t,ke),y=y+Math.imul(Ht,_e)|0,R=Math.imul(Ht,ke),A=A+Math.imul(ot,pt)|0,y=y+Math.imul(ot,mt)|0,y=y+Math.imul(Rt,pt)|0,R=R+Math.imul(Rt,mt)|0,A=A+Math.imul(De,st)|0,y=y+Math.imul(De,Qt)|0,y=y+Math.imul(Ue,st)|0,R=R+Math.imul(Ue,Qt)|0,A=A+Math.imul(X,tn)|0,y=y+Math.imul(X,an)|0,y=y+Math.imul(ue,tn)|0,R=R+Math.imul(ue,an)|0;var ga=(B+A|0)+((y&8191)<<13)|0;B=(R+(y>>>13)|0)+(ga>>>26)|0,ga&=67108863,A=Math.imul($,_e),y=Math.imul($,ke),y=y+Math.imul(ee,_e)|0,R=Math.imul(ee,ke),A=A+Math.imul(_t,pt)|0,y=y+Math.imul(_t,mt)|0,y=y+Math.imul(Ht,pt)|0,R=R+Math.imul(Ht,mt)|0,A=A+Math.imul(ot,st)|0,y=y+Math.imul(ot,Qt)|0,y=y+Math.imul(Rt,st)|0,R=R+Math.imul(Rt,Qt)|0,A=A+Math.imul(De,tn)|0,y=y+Math.imul(De,an)|0,y=y+Math.imul(Ue,tn)|0,R=R+Math.imul(Ue,an)|0,A=A+Math.imul(X,gn)|0,y=y+Math.imul(X,ne)|0,y=y+Math.imul(ue,gn)|0,R=R+Math.imul(ue,ne)|0;var Li=(B+A|0)+((y&8191)<<13)|0;B=(R+(y>>>13)|0)+(Li>>>26)|0,Li&=67108863,A=Math.imul(ye,_e),y=Math.imul(ye,ke),y=y+Math.imul(Ee,_e)|0,R=Math.imul(Ee,ke),A=A+Math.imul($,pt)|0,y=y+Math.imul($,mt)|0,y=y+Math.imul(ee,pt)|0,R=R+Math.imul(ee,mt)|0,A=A+Math.imul(_t,st)|0,y=y+Math.imul(_t,Qt)|0,y=y+Math.imul(Ht,st)|0,R=R+Math.imul(Ht,Qt)|0,A=A+Math.imul(ot,tn)|0,y=y+Math.imul(ot,an)|0,y=y+Math.imul(Rt,tn)|0,R=R+Math.imul(Rt,an)|0,A=A+Math.imul(De,gn)|0,y=y+Math.imul(De,ne)|0,y=y+Math.imul(Ue,gn)|0,R=R+Math.imul(Ue,ne)|0,A=A+Math.imul(X,z)|0,y=y+Math.imul(X,ce)|0,y=y+Math.imul(ue,z)|0,R=R+Math.imul(ue,ce)|0;var Ui=(B+A|0)+((y&8191)<<13)|0;B=(R+(y>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,A=Math.imul(Ve,_e),y=Math.imul(Ve,ke),y=y+Math.imul($e,_e)|0,R=Math.imul($e,ke),A=A+Math.imul(ye,pt)|0,y=y+Math.imul(ye,mt)|0,y=y+Math.imul(Ee,pt)|0,R=R+Math.imul(Ee,mt)|0,A=A+Math.imul($,st)|0,y=y+Math.imul($,Qt)|0,y=y+Math.imul(ee,st)|0,R=R+Math.imul(ee,Qt)|0,A=A+Math.imul(_t,tn)|0,y=y+Math.imul(_t,an)|0,y=y+Math.imul(Ht,tn)|0,R=R+Math.imul(Ht,an)|0,A=A+Math.imul(ot,gn)|0,y=y+Math.imul(ot,ne)|0,y=y+Math.imul(Rt,gn)|0,R=R+Math.imul(Rt,ne)|0,A=A+Math.imul(De,z)|0,y=y+Math.imul(De,ce)|0,y=y+Math.imul(Ue,z)|0,R=R+Math.imul(Ue,ce)|0,A=A+Math.imul(X,Ae)|0,y=y+Math.imul(X,Oe)|0,y=y+Math.imul(ue,Ae)|0,R=R+Math.imul(ue,Oe)|0;var go=(B+A|0)+((y&8191)<<13)|0;B=(R+(y>>>13)|0)+(go>>>26)|0,go&=67108863,A=Math.imul(et,_e),y=Math.imul(et,ke),y=y+Math.imul(ht,_e)|0,R=Math.imul(ht,ke),A=A+Math.imul(Ve,pt)|0,y=y+Math.imul(Ve,mt)|0,y=y+Math.imul($e,pt)|0,R=R+Math.imul($e,mt)|0,A=A+Math.imul(ye,st)|0,y=y+Math.imul(ye,Qt)|0,y=y+Math.imul(Ee,st)|0,R=R+Math.imul(Ee,Qt)|0,A=A+Math.imul($,tn)|0,y=y+Math.imul($,an)|0,y=y+Math.imul(ee,tn)|0,R=R+Math.imul(ee,an)|0,A=A+Math.imul(_t,gn)|0,y=y+Math.imul(_t,ne)|0,y=y+Math.imul(Ht,gn)|0,R=R+Math.imul(Ht,ne)|0,A=A+Math.imul(ot,z)|0,y=y+Math.imul(ot,ce)|0,y=y+Math.imul(Rt,z)|0,R=R+Math.imul(Rt,ce)|0,A=A+Math.imul(De,Ae)|0,y=y+Math.imul(De,Oe)|0,y=y+Math.imul(Ue,Ae)|0,R=R+Math.imul(Ue,Oe)|0,A=A+Math.imul(X,yt)|0,y=y+Math.imul(X,gt)|0,y=y+Math.imul(ue,yt)|0,R=R+Math.imul(ue,gt)|0;var Di=(B+A|0)+((y&8191)<<13)|0;B=(R+(y>>>13)|0)+(Di>>>26)|0,Di&=67108863,A=Math.imul(Zt,_e),y=Math.imul(Zt,ke),y=y+Math.imul(te,_e)|0,R=Math.imul(te,ke),A=A+Math.imul(et,pt)|0,y=y+Math.imul(et,mt)|0,y=y+Math.imul(ht,pt)|0,R=R+Math.imul(ht,mt)|0,A=A+Math.imul(Ve,st)|0,y=y+Math.imul(Ve,Qt)|0,y=y+Math.imul($e,st)|0,R=R+Math.imul($e,Qt)|0,A=A+Math.imul(ye,tn)|0,y=y+Math.imul(ye,an)|0,y=y+Math.imul(Ee,tn)|0,R=R+Math.imul(Ee,an)|0,A=A+Math.imul($,gn)|0,y=y+Math.imul($,ne)|0,y=y+Math.imul(ee,gn)|0,R=R+Math.imul(ee,ne)|0,A=A+Math.imul(_t,z)|0,y=y+Math.imul(_t,ce)|0,y=y+Math.imul(Ht,z)|0,R=R+Math.imul(Ht,ce)|0,A=A+Math.imul(ot,Ae)|0,y=y+Math.imul(ot,Oe)|0,y=y+Math.imul(Rt,Ae)|0,R=R+Math.imul(Rt,Oe)|0,A=A+Math.imul(De,yt)|0,y=y+Math.imul(De,gt)|0,y=y+Math.imul(Ue,yt)|0,R=R+Math.imul(Ue,gt)|0,A=A+Math.imul(X,Xe)|0,y=y+Math.imul(X,Pt)|0,y=y+Math.imul(ue,Xe)|0,R=R+Math.imul(ue,Pt)|0;var kn=(B+A|0)+((y&8191)<<13)|0;B=(R+(y>>>13)|0)+(kn>>>26)|0,kn&=67108863,A=Math.imul(H,_e),y=Math.imul(H,ke),y=y+Math.imul(le,_e)|0,R=Math.imul(le,ke),A=A+Math.imul(Zt,pt)|0,y=y+Math.imul(Zt,mt)|0,y=y+Math.imul(te,pt)|0,R=R+Math.imul(te,mt)|0,A=A+Math.imul(et,st)|0,y=y+Math.imul(et,Qt)|0,y=y+Math.imul(ht,st)|0,R=R+Math.imul(ht,Qt)|0,A=A+Math.imul(Ve,tn)|0,y=y+Math.imul(Ve,an)|0,y=y+Math.imul($e,tn)|0,R=R+Math.imul($e,an)|0,A=A+Math.imul(ye,gn)|0,y=y+Math.imul(ye,ne)|0,y=y+Math.imul(Ee,gn)|0,R=R+Math.imul(Ee,ne)|0,A=A+Math.imul($,z)|0,y=y+Math.imul($,ce)|0,y=y+Math.imul(ee,z)|0,R=R+Math.imul(ee,ce)|0,A=A+Math.imul(_t,Ae)|0,y=y+Math.imul(_t,Oe)|0,y=y+Math.imul(Ht,Ae)|0,R=R+Math.imul(Ht,Oe)|0,A=A+Math.imul(ot,yt)|0,y=y+Math.imul(ot,gt)|0,y=y+Math.imul(Rt,yt)|0,R=R+Math.imul(Rt,gt)|0,A=A+Math.imul(De,Xe)|0,y=y+Math.imul(De,Pt)|0,y=y+Math.imul(Ue,Xe)|0,R=R+Math.imul(Ue,Pt)|0,A=A+Math.imul(X,En)|0,y=y+Math.imul(X,In)|0,y=y+Math.imul(ue,En)|0,R=R+Math.imul(ue,In)|0;var vl=(B+A|0)+((y&8191)<<13)|0;B=(R+(y>>>13)|0)+(vl>>>26)|0,vl&=67108863,A=Math.imul(H,pt),y=Math.imul(H,mt),y=y+Math.imul(le,pt)|0,R=Math.imul(le,mt),A=A+Math.imul(Zt,st)|0,y=y+Math.imul(Zt,Qt)|0,y=y+Math.imul(te,st)|0,R=R+Math.imul(te,Qt)|0,A=A+Math.imul(et,tn)|0,y=y+Math.imul(et,an)|0,y=y+Math.imul(ht,tn)|0,R=R+Math.imul(ht,an)|0,A=A+Math.imul(Ve,gn)|0,y=y+Math.imul(Ve,ne)|0,y=y+Math.imul($e,gn)|0,R=R+Math.imul($e,ne)|0,A=A+Math.imul(ye,z)|0,y=y+Math.imul(ye,ce)|0,y=y+Math.imul(Ee,z)|0,R=R+Math.imul(Ee,ce)|0,A=A+Math.imul($,Ae)|0,y=y+Math.imul($,Oe)|0,y=y+Math.imul(ee,Ae)|0,R=R+Math.imul(ee,Oe)|0,A=A+Math.imul(_t,yt)|0,y=y+Math.imul(_t,gt)|0,y=y+Math.imul(Ht,yt)|0,R=R+Math.imul(Ht,gt)|0,A=A+Math.imul(ot,Xe)|0,y=y+Math.imul(ot,Pt)|0,y=y+Math.imul(Rt,Xe)|0,R=R+Math.imul(Rt,Pt)|0,A=A+Math.imul(De,En)|0,y=y+Math.imul(De,In)|0,y=y+Math.imul(Ue,En)|0,R=R+Math.imul(Ue,In)|0;var El=(B+A|0)+((y&8191)<<13)|0;B=(R+(y>>>13)|0)+(El>>>26)|0,El&=67108863,A=Math.imul(H,st),y=Math.imul(H,Qt),y=y+Math.imul(le,st)|0,R=Math.imul(le,Qt),A=A+Math.imul(Zt,tn)|0,y=y+Math.imul(Zt,an)|0,y=y+Math.imul(te,tn)|0,R=R+Math.imul(te,an)|0,A=A+Math.imul(et,gn)|0,y=y+Math.imul(et,ne)|0,y=y+Math.imul(ht,gn)|0,R=R+Math.imul(ht,ne)|0,A=A+Math.imul(Ve,z)|0,y=y+Math.imul(Ve,ce)|0,y=y+Math.imul($e,z)|0,R=R+Math.imul($e,ce)|0,A=A+Math.imul(ye,Ae)|0,y=y+Math.imul(ye,Oe)|0,y=y+Math.imul(Ee,Ae)|0,R=R+Math.imul(Ee,Oe)|0,A=A+Math.imul($,yt)|0,y=y+Math.imul($,gt)|0,y=y+Math.imul(ee,yt)|0,R=R+Math.imul(ee,gt)|0,A=A+Math.imul(_t,Xe)|0,y=y+Math.imul(_t,Pt)|0,y=y+Math.imul(Ht,Xe)|0,R=R+Math.imul(Ht,Pt)|0,A=A+Math.imul(ot,En)|0,y=y+Math.imul(ot,In)|0,y=y+Math.imul(Rt,En)|0,R=R+Math.imul(Rt,In)|0;var _i=(B+A|0)+((y&8191)<<13)|0;B=(R+(y>>>13)|0)+(_i>>>26)|0,_i&=67108863,A=Math.imul(H,tn),y=Math.imul(H,an),y=y+Math.imul(le,tn)|0,R=Math.imul(le,an),A=A+Math.imul(Zt,gn)|0,y=y+Math.imul(Zt,ne)|0,y=y+Math.imul(te,gn)|0,R=R+Math.imul(te,ne)|0,A=A+Math.imul(et,z)|0,y=y+Math.imul(et,ce)|0,y=y+Math.imul(ht,z)|0,R=R+Math.imul(ht,ce)|0,A=A+Math.imul(Ve,Ae)|0,y=y+Math.imul(Ve,Oe)|0,y=y+Math.imul($e,Ae)|0,R=R+Math.imul($e,Oe)|0,A=A+Math.imul(ye,yt)|0,y=y+Math.imul(ye,gt)|0,y=y+Math.imul(Ee,yt)|0,R=R+Math.imul(Ee,gt)|0,A=A+Math.imul($,Xe)|0,y=y+Math.imul($,Pt)|0,y=y+Math.imul(ee,Xe)|0,R=R+Math.imul(ee,Pt)|0,A=A+Math.imul(_t,En)|0,y=y+Math.imul(_t,In)|0,y=y+Math.imul(Ht,En)|0,R=R+Math.imul(Ht,In)|0;var Pi=(B+A|0)+((y&8191)<<13)|0;B=(R+(y>>>13)|0)+(Pi>>>26)|0,Pi&=67108863,A=Math.imul(H,gn),y=Math.imul(H,ne),y=y+Math.imul(le,gn)|0,R=Math.imul(le,ne),A=A+Math.imul(Zt,z)|0,y=y+Math.imul(Zt,ce)|0,y=y+Math.imul(te,z)|0,R=R+Math.imul(te,ce)|0,A=A+Math.imul(et,Ae)|0,y=y+Math.imul(et,Oe)|0,y=y+Math.imul(ht,Ae)|0,R=R+Math.imul(ht,Oe)|0,A=A+Math.imul(Ve,yt)|0,y=y+Math.imul(Ve,gt)|0,y=y+Math.imul($e,yt)|0,R=R+Math.imul($e,gt)|0,A=A+Math.imul(ye,Xe)|0,y=y+Math.imul(ye,Pt)|0,y=y+Math.imul(Ee,Xe)|0,R=R+Math.imul(Ee,Pt)|0,A=A+Math.imul($,En)|0,y=y+Math.imul($,In)|0,y=y+Math.imul(ee,En)|0,R=R+Math.imul(ee,In)|0;var su=(B+A|0)+((y&8191)<<13)|0;B=(R+(y>>>13)|0)+(su>>>26)|0,su&=67108863,A=Math.imul(H,z),y=Math.imul(H,ce),y=y+Math.imul(le,z)|0,R=Math.imul(le,ce),A=A+Math.imul(Zt,Ae)|0,y=y+Math.imul(Zt,Oe)|0,y=y+Math.imul(te,Ae)|0,R=R+Math.imul(te,Oe)|0,A=A+Math.imul(et,yt)|0,y=y+Math.imul(et,gt)|0,y=y+Math.imul(ht,yt)|0,R=R+Math.imul(ht,gt)|0,A=A+Math.imul(Ve,Xe)|0,y=y+Math.imul(Ve,Pt)|0,y=y+Math.imul($e,Xe)|0,R=R+Math.imul($e,Pt)|0,A=A+Math.imul(ye,En)|0,y=y+Math.imul(ye,In)|0,y=y+Math.imul(Ee,En)|0,R=R+Math.imul(Ee,In)|0;var _l=(B+A|0)+((y&8191)<<13)|0;B=(R+(y>>>13)|0)+(_l>>>26)|0,_l&=67108863,A=Math.imul(H,Ae),y=Math.imul(H,Oe),y=y+Math.imul(le,Ae)|0,R=Math.imul(le,Oe),A=A+Math.imul(Zt,yt)|0,y=y+Math.imul(Zt,gt)|0,y=y+Math.imul(te,yt)|0,R=R+Math.imul(te,gt)|0,A=A+Math.imul(et,Xe)|0,y=y+Math.imul(et,Pt)|0,y=y+Math.imul(ht,Xe)|0,R=R+Math.imul(ht,Pt)|0,A=A+Math.imul(Ve,En)|0,y=y+Math.imul(Ve,In)|0,y=y+Math.imul($e,En)|0,R=R+Math.imul($e,In)|0;var xl=(B+A|0)+((y&8191)<<13)|0;B=(R+(y>>>13)|0)+(xl>>>26)|0,xl&=67108863,A=Math.imul(H,yt),y=Math.imul(H,gt),y=y+Math.imul(le,yt)|0,R=Math.imul(le,gt),A=A+Math.imul(Zt,Xe)|0,y=y+Math.imul(Zt,Pt)|0,y=y+Math.imul(te,Xe)|0,R=R+Math.imul(te,Pt)|0,A=A+Math.imul(et,En)|0,y=y+Math.imul(et,In)|0,y=y+Math.imul(ht,En)|0,R=R+Math.imul(ht,In)|0;var au=(B+A|0)+((y&8191)<<13)|0;B=(R+(y>>>13)|0)+(au>>>26)|0,au&=67108863,A=Math.imul(H,Xe),y=Math.imul(H,Pt),y=y+Math.imul(le,Xe)|0,R=Math.imul(le,Pt),A=A+Math.imul(Zt,En)|0,y=y+Math.imul(Zt,In)|0,y=y+Math.imul(te,En)|0,R=R+Math.imul(te,In)|0;var us=(B+A|0)+((y&8191)<<13)|0;B=(R+(y>>>13)|0)+(us>>>26)|0,us&=67108863,A=Math.imul(H,En),y=Math.imul(H,In),y=y+Math.imul(le,En)|0,R=Math.imul(le,In);var fs=(B+A|0)+((y&8191)<<13)|0;return B=(R+(y>>>13)|0)+(fs>>>26)|0,fs&=67108863,K[0]=ou,K[1]=bl,K[2]=mo,K[3]=ga,K[4]=Li,K[5]=Ui,K[6]=go,K[7]=Di,K[8]=kn,K[9]=vl,K[10]=El,K[11]=_i,K[12]=Pi,K[13]=su,K[14]=_l,K[15]=xl,K[16]=au,K[17]=us,K[18]=fs,B!==0&&(K[19]=B,C.length++),C};Math.imul||(F=L);function M(O,g,T){T.negative=g.negative^O.negative,T.length=O.length+g.length;for(var C=0,q=0,j=0;j<T.length-1;j++){var K=q;q=0;for(var B=C&67108863,A=Math.min(j,g.length-1),y=Math.max(0,j-O.length+1);y<=A;y++){var R=j-y,G=O.words[R]|0,X=g.words[y]|0,ue=G*X,be=ue&67108863;K=K+(ue/67108864|0)|0,be=be+B|0,B=be&67108863,K=K+(be>>>26)|0,q+=K>>>26,K&=67108863}T.words[j]=B,C=K,K=q}return C!==0?T.words[j]=C:T.length--,T._strip()}function Y(O,g,T){return M(O,g,T)}o.prototype.mulTo=function(g,T){var C,q=this.length+g.length;return this.length===10&&g.length===10?C=F(this,g,T):q<63?C=L(this,g,T):q<1024?C=M(this,g,T):C=Y(this,g,T),C},o.prototype.mul=function(g){var T=new o(null);return T.words=new Array(this.length+g.length),this.mulTo(g,T)},o.prototype.mulf=function(g){var T=new o(null);return T.words=new Array(this.length+g.length),Y(this,g,T)},o.prototype.imul=function(g){return this.clone().mulTo(g,this)},o.prototype.imuln=function(g){var T=g<0;T&&(g=-g),r(typeof g=="number"),r(g<67108864);for(var C=0,q=0;q<this.length;q++){var j=(this.words[q]|0)*g,K=(j&67108863)+(C&67108863);C>>=26,C+=j/67108864|0,C+=K>>>26,this.words[q]=K&67108863}return C!==0&&(this.words[q]=C,this.length++),this.length=g===0?1:this.length,T?this.ineg():this},o.prototype.muln=function(g){return this.clone().imuln(g)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(g){var T=I(g);if(T.length===0)return new o(1);for(var C=this,q=0;q<T.length&&T[q]===0;q++,C=C.sqr());if(++q<T.length)for(var j=C.sqr();q<T.length;q++,j=j.sqr())T[q]!==0&&(C=C.mul(j));return C},o.prototype.iushln=function(g){r(typeof g=="number"&&g>=0);var T=g%26,C=(g-T)/26,q=67108863>>>26-T<<26-T,j;if(T!==0){var K=0;for(j=0;j<this.length;j++){var B=this.words[j]&q,A=(this.words[j]|0)-B<<T;this.words[j]=A|K,K=B>>>26-T}K&&(this.words[j]=K,this.length++)}if(C!==0){for(j=this.length-1;j>=0;j--)this.words[j+C]=this.words[j];for(j=0;j<C;j++)this.words[j]=0;this.length+=C}return this._strip()},o.prototype.ishln=function(g){return r(this.negative===0),this.iushln(g)},o.prototype.iushrn=function(g,T,C){r(typeof g=="number"&&g>=0);var q;T?q=(T-T%26)/26:q=0;var j=g%26,K=Math.min((g-j)/26,this.length),B=67108863^67108863>>>j<<j,A=C;if(q-=K,q=Math.max(0,q),A){for(var y=0;y<K;y++)A.words[y]=this.words[y];A.length=K}if(K!==0)if(this.length>K)for(this.length-=K,y=0;y<this.length;y++)this.words[y]=this.words[y+K];else this.words[0]=0,this.length=1;var R=0;for(y=this.length-1;y>=0&&(R!==0||y>=q);y--){var G=this.words[y]|0;this.words[y]=R<<26-j|G>>>j,R=G&B}return A&&R!==0&&(A.words[A.length++]=R),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(g,T,C){return r(this.negative===0),this.iushrn(g,T,C)},o.prototype.shln=function(g){return this.clone().ishln(g)},o.prototype.ushln=function(g){return this.clone().iushln(g)},o.prototype.shrn=function(g){return this.clone().ishrn(g)},o.prototype.ushrn=function(g){return this.clone().iushrn(g)},o.prototype.testn=function(g){r(typeof g=="number"&&g>=0);var T=g%26,C=(g-T)/26,q=1<<T;if(this.length<=C)return!1;var j=this.words[C];return!!(j&q)},o.prototype.imaskn=function(g){r(typeof g=="number"&&g>=0);var T=g%26,C=(g-T)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(T!==0&&C++,this.length=Math.min(C,this.length),T!==0){var q=67108863^67108863>>>T<<T;this.words[this.length-1]&=q}return this._strip()},o.prototype.maskn=function(g){return this.clone().imaskn(g)},o.prototype.iaddn=function(g){return r(typeof g=="number"),r(g<67108864),g<0?this.isubn(-g):this.negative!==0?this.length===1&&(this.words[0]|0)<=g?(this.words[0]=g-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(g),this.negative=1,this):this._iaddn(g)},o.prototype._iaddn=function(g){this.words[0]+=g;for(var T=0;T<this.length&&this.words[T]>=67108864;T++)this.words[T]-=67108864,T===this.length-1?this.words[T+1]=1:this.words[T+1]++;return this.length=Math.max(this.length,T+1),this},o.prototype.isubn=function(g){if(r(typeof g=="number"),r(g<67108864),g<0)return this.iaddn(-g);if(this.negative!==0)return this.negative=0,this.iaddn(g),this.negative=1,this;if(this.words[0]-=g,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var T=0;T<this.length&&this.words[T]<0;T++)this.words[T]+=67108864,this.words[T+1]-=1;return this._strip()},o.prototype.addn=function(g){return this.clone().iaddn(g)},o.prototype.subn=function(g){return this.clone().isubn(g)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(g,T,C){var q=g.length+C,j;this._expand(q);var K,B=0;for(j=0;j<g.length;j++){K=(this.words[j+C]|0)+B;var A=(g.words[j]|0)*T;K-=A&67108863,B=(K>>26)-(A/67108864|0),this.words[j+C]=K&67108863}for(;j<this.length-C;j++)K=(this.words[j+C]|0)+B,B=K>>26,this.words[j+C]=K&67108863;if(B===0)return this._strip();for(r(B===-1),B=0,j=0;j<this.length;j++)K=-(this.words[j]|0)+B,B=K>>26,this.words[j]=K&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(g,T){var C=this.length-g.length,q=this.clone(),j=g,K=j.words[j.length-1]|0,B=this._countBits(K);C=26-B,C!==0&&(j=j.ushln(C),q.iushln(C),K=j.words[j.length-1]|0);var A=q.length-j.length,y;if(T!=="mod"){y=new o(null),y.length=A+1,y.words=new Array(y.length);for(var R=0;R<y.length;R++)y.words[R]=0}var G=q.clone()._ishlnsubmul(j,1,A);G.negative===0&&(q=G,y&&(y.words[A]=1));for(var X=A-1;X>=0;X--){var ue=(q.words[j.length+X]|0)*67108864+(q.words[j.length+X-1]|0);for(ue=Math.min(ue/K|0,67108863),q._ishlnsubmul(j,ue,X);q.negative!==0;)ue--,q.negative=0,q._ishlnsubmul(j,1,X),q.isZero()||(q.negative^=1);y&&(y.words[X]=ue)}return y&&y._strip(),q._strip(),T!=="div"&&C!==0&&q.iushrn(C),{div:y||null,mod:q}},o.prototype.divmod=function(g,T,C){if(r(!g.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var q,j,K;return this.negative!==0&&g.negative===0?(K=this.neg().divmod(g,T),T!=="mod"&&(q=K.div.neg()),T!=="div"&&(j=K.mod.neg(),C&&j.negative!==0&&j.iadd(g)),{div:q,mod:j}):this.negative===0&&g.negative!==0?(K=this.divmod(g.neg(),T),T!=="mod"&&(q=K.div.neg()),{div:q,mod:K.mod}):(this.negative&g.negative)!==0?(K=this.neg().divmod(g.neg(),T),T!=="div"&&(j=K.mod.neg(),C&&j.negative!==0&&j.isub(g)),{div:K.div,mod:j}):g.length>this.length||this.cmp(g)<0?{div:new o(0),mod:this}:g.length===1?T==="div"?{div:this.divn(g.words[0]),mod:null}:T==="mod"?{div:null,mod:new o(this.modrn(g.words[0]))}:{div:this.divn(g.words[0]),mod:new o(this.modrn(g.words[0]))}:this._wordDiv(g,T)},o.prototype.div=function(g){return this.divmod(g,"div",!1).div},o.prototype.mod=function(g){return this.divmod(g,"mod",!1).mod},o.prototype.umod=function(g){return this.divmod(g,"mod",!0).mod},o.prototype.divRound=function(g){var T=this.divmod(g);if(T.mod.isZero())return T.div;var C=T.div.negative!==0?T.mod.isub(g):T.mod,q=g.ushrn(1),j=g.andln(1),K=C.cmp(q);return K<0||j===1&&K===0?T.div:T.div.negative!==0?T.div.isubn(1):T.div.iaddn(1)},o.prototype.modrn=function(g){var T=g<0;T&&(g=-g),r(g<=67108863);for(var C=(1<<26)%g,q=0,j=this.length-1;j>=0;j--)q=(C*q+(this.words[j]|0))%g;return T?-q:q},o.prototype.modn=function(g){return this.modrn(g)},o.prototype.idivn=function(g){var T=g<0;T&&(g=-g),r(g<=67108863);for(var C=0,q=this.length-1;q>=0;q--){var j=(this.words[q]|0)+C*67108864;this.words[q]=j/g|0,C=j%g}return this._strip(),T?this.ineg():this},o.prototype.divn=function(g){return this.clone().idivn(g)},o.prototype.egcd=function(g){r(g.negative===0),r(!g.isZero());var T=this,C=g.clone();T.negative!==0?T=T.umod(g):T=T.clone();for(var q=new o(1),j=new o(0),K=new o(0),B=new o(1),A=0;T.isEven()&&C.isEven();)T.iushrn(1),C.iushrn(1),++A;for(var y=C.clone(),R=T.clone();!T.isZero();){for(var G=0,X=1;(T.words[0]&X)===0&&G<26;++G,X<<=1);if(G>0)for(T.iushrn(G);G-- >0;)(q.isOdd()||j.isOdd())&&(q.iadd(y),j.isub(R)),q.iushrn(1),j.iushrn(1);for(var ue=0,be=1;(C.words[0]&be)===0&&ue<26;++ue,be<<=1);if(ue>0)for(C.iushrn(ue);ue-- >0;)(K.isOdd()||B.isOdd())&&(K.iadd(y),B.isub(R)),K.iushrn(1),B.iushrn(1);T.cmp(C)>=0?(T.isub(C),q.isub(K),j.isub(B)):(C.isub(T),K.isub(q),B.isub(j))}return{a:K,b:B,gcd:C.iushln(A)}},o.prototype._invmp=function(g){r(g.negative===0),r(!g.isZero());var T=this,C=g.clone();T.negative!==0?T=T.umod(g):T=T.clone();for(var q=new o(1),j=new o(0),K=C.clone();T.cmpn(1)>0&&C.cmpn(1)>0;){for(var B=0,A=1;(T.words[0]&A)===0&&B<26;++B,A<<=1);if(B>0)for(T.iushrn(B);B-- >0;)q.isOdd()&&q.iadd(K),q.iushrn(1);for(var y=0,R=1;(C.words[0]&R)===0&&y<26;++y,R<<=1);if(y>0)for(C.iushrn(y);y-- >0;)j.isOdd()&&j.iadd(K),j.iushrn(1);T.cmp(C)>=0?(T.isub(C),q.isub(j)):(C.isub(T),j.isub(q))}var G;return T.cmpn(1)===0?G=q:G=j,G.cmpn(0)<0&&G.iadd(g),G},o.prototype.gcd=function(g){if(this.isZero())return g.abs();if(g.isZero())return this.abs();var T=this.clone(),C=g.clone();T.negative=0,C.negative=0;for(var q=0;T.isEven()&&C.isEven();q++)T.iushrn(1),C.iushrn(1);do{for(;T.isEven();)T.iushrn(1);for(;C.isEven();)C.iushrn(1);var j=T.cmp(C);if(j<0){var K=T;T=C,C=K}else if(j===0||C.cmpn(1)===0)break;T.isub(C)}while(!0);return C.iushln(q)},o.prototype.invm=function(g){return this.egcd(g).a.umod(g)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(g){return this.words[0]&g},o.prototype.bincn=function(g){r(typeof g=="number");var T=g%26,C=(g-T)/26,q=1<<T;if(this.length<=C)return this._expand(C+1),this.words[C]|=q,this;for(var j=q,K=C;j!==0&&K<this.length;K++){var B=this.words[K]|0;B+=j,j=B>>>26,B&=67108863,this.words[K]=B}return j!==0&&(this.words[K]=j,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(g){var T=g<0;if(this.negative!==0&&!T)return-1;if(this.negative===0&&T)return 1;this._strip();var C;if(this.length>1)C=1;else{T&&(g=-g),r(g<=67108863,"Number is too big");var q=this.words[0]|0;C=q===g?0:q<g?-1:1}return this.negative!==0?-C|0:C},o.prototype.cmp=function(g){if(this.negative!==0&&g.negative===0)return-1;if(this.negative===0&&g.negative!==0)return 1;var T=this.ucmp(g);return this.negative!==0?-T|0:T},o.prototype.ucmp=function(g){if(this.length>g.length)return 1;if(this.length<g.length)return-1;for(var T=0,C=this.length-1;C>=0;C--){var q=this.words[C]|0,j=g.words[C]|0;if(q!==j){q<j?T=-1:q>j&&(T=1);break}}return T},o.prototype.gtn=function(g){return this.cmpn(g)===1},o.prototype.gt=function(g){return this.cmp(g)===1},o.prototype.gten=function(g){return this.cmpn(g)>=0},o.prototype.gte=function(g){return this.cmp(g)>=0},o.prototype.ltn=function(g){return this.cmpn(g)===-1},o.prototype.lt=function(g){return this.cmp(g)===-1},o.prototype.lten=function(g){return this.cmpn(g)<=0},o.prototype.lte=function(g){return this.cmp(g)<=0},o.prototype.eqn=function(g){return this.cmpn(g)===0},o.prototype.eq=function(g){return this.cmp(g)===0},o.red=function(g){return new Z(g)},o.prototype.toRed=function(g){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),g.convertTo(this)._forceRed(g)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(g){return this.red=g,this},o.prototype.forceRed=function(g){return r(!this.red,"Already a number in reduction context"),this._forceRed(g)},o.prototype.redAdd=function(g){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,g)},o.prototype.redIAdd=function(g){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,g)},o.prototype.redSub=function(g){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,g)},o.prototype.redISub=function(g){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,g)},o.prototype.redShl=function(g){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,g)},o.prototype.redMul=function(g){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.mul(this,g)},o.prototype.redIMul=function(g){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.imul(this,g)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(g){return r(this.red&&!g.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,g)};var ie={k256:null,p224:null,p192:null,p25519:null};function se(O,g){this.name=O,this.p=new o(g,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}se.prototype._tmp=function(){var g=new o(null);return g.words=new Array(Math.ceil(this.n/13)),g},se.prototype.ireduce=function(g){var T=g,C;do this.split(T,this.tmp),T=this.imulK(T),T=T.iadd(this.tmp),C=T.bitLength();while(C>this.n);var q=C<this.n?-1:T.ucmp(this.p);return q===0?(T.words[0]=0,T.length=1):q>0?T.isub(this.p):T.strip!==void 0?T.strip():T._strip(),T},se.prototype.split=function(g,T){g.iushrn(this.n,0,T)},se.prototype.imulK=function(g){return g.imul(this.k)};function re(){se.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(re,se),re.prototype.split=function(g,T){for(var C=4194303,q=Math.min(g.length,9),j=0;j<q;j++)T.words[j]=g.words[j];if(T.length=q,g.length<=9){g.words[0]=0,g.length=1;return}var K=g.words[9];for(T.words[T.length++]=K&C,j=10;j<g.length;j++){var B=g.words[j]|0;g.words[j-10]=(B&C)<<4|K>>>22,K=B}K>>>=22,g.words[j-10]=K,K===0&&g.length>10?g.length-=10:g.length-=9},re.prototype.imulK=function(g){g.words[g.length]=0,g.words[g.length+1]=0,g.length+=2;for(var T=0,C=0;C<g.length;C++){var q=g.words[C]|0;T+=q*977,g.words[C]=T&67108863,T=q*64+(T/67108864|0)}return g.words[g.length-1]===0&&(g.length--,g.words[g.length-1]===0&&g.length--),g};function ae(){se.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(ae,se);function J(){se.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(J,se);function Q(){se.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Q,se),Q.prototype.imulK=function(g){for(var T=0,C=0;C<g.length;C++){var q=(g.words[C]|0)*19+T,j=q&67108863;q>>>=26,g.words[C]=j,T=q}return T!==0&&(g.words[g.length++]=T),g},o._prime=function(g){if(ie[g])return ie[g];var T;if(g==="k256")T=new re;else if(g==="p224")T=new ae;else if(g==="p192")T=new J;else if(g==="p25519")T=new Q;else throw new Error("Unknown prime "+g);return ie[g]=T,T};function Z(O){if(typeof O=="string"){var g=o._prime(O);this.m=g.p,this.prime=g}else r(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}Z.prototype._verify1=function(g){r(g.negative===0,"red works only with positives"),r(g.red,"red works only with red numbers")},Z.prototype._verify2=function(g,T){r((g.negative|T.negative)===0,"red works only with positives"),r(g.red&&g.red===T.red,"red works only with red numbers")},Z.prototype.imod=function(g){return this.prime?this.prime.ireduce(g)._forceRed(this):(h(g,g.umod(this.m)._forceRed(this)),g)},Z.prototype.neg=function(g){return g.isZero()?g.clone():this.m.sub(g)._forceRed(this)},Z.prototype.add=function(g,T){this._verify2(g,T);var C=g.add(T);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},Z.prototype.iadd=function(g,T){this._verify2(g,T);var C=g.iadd(T);return C.cmp(this.m)>=0&&C.isub(this.m),C},Z.prototype.sub=function(g,T){this._verify2(g,T);var C=g.sub(T);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},Z.prototype.isub=function(g,T){this._verify2(g,T);var C=g.isub(T);return C.cmpn(0)<0&&C.iadd(this.m),C},Z.prototype.shl=function(g,T){return this._verify1(g),this.imod(g.ushln(T))},Z.prototype.imul=function(g,T){return this._verify2(g,T),this.imod(g.imul(T))},Z.prototype.mul=function(g,T){return this._verify2(g,T),this.imod(g.mul(T))},Z.prototype.isqr=function(g){return this.imul(g,g.clone())},Z.prototype.sqr=function(g){return this.mul(g,g)},Z.prototype.sqrt=function(g){if(g.isZero())return g.clone();var T=this.m.andln(3);if(r(T%2===1),T===3){var C=this.m.add(new o(1)).iushrn(2);return this.pow(g,C)}for(var q=this.m.subn(1),j=0;!q.isZero()&&q.andln(1)===0;)j++,q.iushrn(1);r(!q.isZero());var K=new o(1).toRed(this),B=K.redNeg(),A=this.m.subn(1).iushrn(1),y=this.m.bitLength();for(y=new o(2*y*y).toRed(this);this.pow(y,A).cmp(B)!==0;)y.redIAdd(B);for(var R=this.pow(y,q),G=this.pow(g,q.addn(1).iushrn(1)),X=this.pow(g,q),ue=j;X.cmp(K)!==0;){for(var be=X,De=0;be.cmp(K)!==0;De++)be=be.redSqr();r(De<ue);var Ue=this.pow(R,new o(1).iushln(ue-De-1));G=G.redMul(Ue),R=Ue.redSqr(),X=X.redMul(R),ue=De}return G},Z.prototype.invm=function(g){var T=g._invmp(this.m);return T.negative!==0?(T.negative=0,this.imod(T).redNeg()):this.imod(T)},Z.prototype.pow=function(g,T){if(T.isZero())return new o(1).toRed(this);if(T.cmpn(1)===0)return g.clone();var C=4,q=new Array(1<<C);q[0]=new o(1).toRed(this),q[1]=g;for(var j=2;j<q.length;j++)q[j]=this.mul(q[j-1],g);var K=q[0],B=0,A=0,y=T.bitLength()%26;for(y===0&&(y=26),j=T.length-1;j>=0;j--){for(var R=T.words[j],G=y-1;G>=0;G--){var X=R>>G&1;if(K!==q[0]&&(K=this.sqr(K)),X===0&&B===0){A=0;continue}B<<=1,B|=X,A++,!(A!==C&&(j!==0||G!==0))&&(K=this.mul(K,q[B]),A=0,B=0)}y=26}return K},Z.prototype.convertTo=function(g){var T=g.umod(this.m);return T===g?T.clone():T},Z.prototype.convertFrom=function(g){var T=g.clone();return T.red=null,T},o.mont=function(g){return new W(g)};function W(O){Z.call(this,O),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(W,Z),W.prototype.convertTo=function(g){return this.imod(g.ushln(this.shift))},W.prototype.convertFrom=function(g){var T=this.imod(g.mul(this.rinv));return T.red=null,T},W.prototype.imul=function(g,T){if(g.isZero()||T.isZero())return g.words[0]=0,g.length=1,g;var C=g.imul(T),q=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=C.isub(q).iushrn(this.shift),K=j;return j.cmp(this.m)>=0?K=j.isub(this.m):j.cmpn(0)<0&&(K=j.iadd(this.m)),K._forceRed(this)},W.prototype.mul=function(g,T){if(g.isZero()||T.isZero())return new o(0)._forceRed(this);var C=g.mul(T),q=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=C.isub(q).iushrn(this.shift),K=j;return j.cmp(this.m)>=0?K=j.isub(this.m):j.cmpn(0)<0&&(K=j.iadd(this.m)),K._forceRed(this)},W.prototype.invm=function(g){var T=this.imod(g._invmp(this.m).mul(this.r2));return T._forceRed(this)}})(n,AB)})(Kh)),Kh.exports}var SB=db();const Hr=ss(SB);var wh={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var MA;function TB(){return MA||(MA=1,(function(n,e){var t=fb(),r=t.Buffer;function i(l,c){for(var f in l)c[f]=l[f]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=t:(i(t,e),e.Buffer=o);function o(l,c,f){return r(l,c,f)}o.prototype=Object.create(r.prototype),i(r,o),o.from=function(l,c,f){if(typeof l=="number")throw new TypeError("Argument must not be a number");return r(l,c,f)},o.alloc=function(l,c,f){if(typeof l!="number")throw new TypeError("Argument must be a number");var d=r(l);return c!==void 0?typeof f=="string"?d.fill(c,f):d.fill(c):d.fill(0),d},o.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return r(l)},o.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(l)}})(wh,wh.exports)),wh.exports}var $g,OA;function RB(){if(OA)return $g;OA=1;var n=TB().Buffer;function e(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var o=0;o<t.length;o++){var l=t.charAt(o),c=l.charCodeAt(0);if(r[c]!==255)throw new TypeError(l+" is ambiguous");r[c]=o}var f=t.length,d=t.charAt(0),h=Math.log(f)/Math.log(256),b=Math.log(256)/Math.log(f);function E(k){if((Array.isArray(k)||k instanceof Uint8Array)&&(k=n.from(k)),!n.isBuffer(k))throw new TypeError("Expected Buffer");if(k.length===0)return"";for(var I=0,L=0,F=0,M=k.length;F!==M&&k[F]===0;)F++,I++;for(var Y=(M-F)*b+1>>>0,ie=new Uint8Array(Y);F!==M;){for(var se=k[F],re=0,ae=Y-1;(se!==0||re<L)&&ae!==-1;ae--,re++)se+=256*ie[ae]>>>0,ie[ae]=se%f>>>0,se=se/f>>>0;if(se!==0)throw new Error("Non-zero carry");L=re,F++}for(var J=Y-L;J!==Y&&ie[J]===0;)J++;for(var Q=d.repeat(I);J<Y;++J)Q+=t.charAt(ie[J]);return Q}function v(k){if(typeof k!="string")throw new TypeError("Expected String");if(k.length===0)return n.alloc(0);for(var I=0,L=0,F=0;k[I]===d;)L++,I++;for(var M=(k.length-I)*h+1>>>0,Y=new Uint8Array(M);I<k.length;){var ie=k.charCodeAt(I);if(ie>255)return;var se=r[ie];if(se===255)return;for(var re=0,ae=M-1;(se!==0||re<F)&&ae!==-1;ae--,re++)se+=f*Y[ae]>>>0,Y[ae]=se%256>>>0,se=se/256>>>0;if(se!==0)throw new Error("Non-zero carry");F=re,I++}for(var J=M-F;J!==M&&Y[J]===0;)J++;var Q=n.allocUnsafe(L+(M-J));Q.fill(0,0,L);for(var Z=L;J!==M;)Q[Z++]=Y[J++];return Q}function N(k){var I=v(k);if(I)return I;throw new Error("Non-base"+f+" character")}return{encode:E,decodeUnsafe:v,decode:N}}return $g=e,$g}var jg,BA;function AC(){if(BA)return jg;BA=1;var n=RB(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return jg=n(e),jg}var NB=AC();const Un=ss(NB),LA=rC;var on={};function Ko(n,e,t){return e<=n&&n<=t}function Qp(n){if(n===void 0)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function CB(n){for(var e=String(n),t=e.length,r=0,i=[];r<t;){var o=e.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===t-1)i.push(65533);else{var l=n.charCodeAt(r+1);if(56320<=l&&l<=57343){var c=o&1023,f=l&1023;i.push(65536+(c<<10)+f),r+=1}else i.push(65533)}r+=1}return i}function IB(n){for(var e="",t=0;t<n.length;++t){var r=n[t];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var Ap=-1;function hb(n){this.tokens=[].slice.call(n)}hb.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Ap},prepend:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(n)},push:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.push(e.shift());else this.tokens.push(n)}};var qc=-1;function Yg(n,e){if(n)throw TypeError("Decoder error");return e||65533}var Sp="utf-8";function Tp(n,e){if(!(this instanceof Tp))return new Tp(n,e);if(n=n!==void 0?String(n).toLowerCase():Sp,n!==Sp)throw new Error("Encoding not supported. Only utf-8 is supported");e=Qp(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Tp.prototype={decode:function(e,t){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),t=Qp(t),this._streaming||(this._decoder=new kB({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var i=new hb(r),o=[],l;!i.endOfStream()&&(l=this._decoder.handler(i,i.read()),l!==qc);)l!==null&&(Array.isArray(l)?o.push.apply(o,l):o.push(l));if(!this._streaming){do{if(l=this._decoder.handler(i,i.read()),l===qc)break;l!==null&&(Array.isArray(l)?o.push.apply(o,l):o.push(l))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),IB(o)}};function Rp(n,e){if(!(this instanceof Rp))return new Rp(n,e);if(n=n!==void 0?String(n).toLowerCase():Sp,n!==Sp)throw new Error("Encoding not supported. Only utf-8 is supported");e=Qp(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Rp.prototype={encode:function(e,t){e=e?String(e):"",t=Qp(t),this._streaming||(this._encoder=new MB(this._options)),this._streaming=!!t.stream;for(var r=[],i=new hb(CB(e)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==qc);)Array.isArray(o)?r.push.apply(r,o):r.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==qc;)Array.isArray(o)?r.push.apply(r,o):r.push(o);this._encoder=null}return new Uint8Array(r)}};function kB(n){var e=n.fatal,t=0,r=0,i=0,o=128,l=191;this.handler=function(c,f){if(f===Ap&&i!==0)return i=0,Yg(e);if(f===Ap)return qc;if(i===0){if(Ko(f,0,127))return f;if(Ko(f,194,223))i=1,t=f-192;else if(Ko(f,224,239))f===224&&(o=160),f===237&&(l=159),i=2,t=f-224;else if(Ko(f,240,244))f===240&&(o=144),f===244&&(l=143),i=3,t=f-240;else return Yg(e);return t=t<<6*i,null}if(!Ko(f,o,l))return t=i=r=0,o=128,l=191,c.prepend(f),Yg(e);if(o=128,l=191,r+=1,t+=f-128<<6*(i-r),r!==i)return null;var d=t;return t=i=r=0,d}}function MB(n){n.fatal,this.handler=function(e,t){if(t===Ap)return qc;if(Ko(t,0,127))return t;var r,i;Ko(t,128,2047)?(r=1,i=192):Ko(t,2048,65535)?(r=2,i=224):Ko(t,65536,1114111)&&(r=3,i=240);for(var o=[(t>>6*r)+i];r>0;){var l=t>>6*(r-1);o.push(128|l&63),r-=1}return o}}const OB=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Tp,TextEncoder:Rp},Symbol.toStringTag,{value:"Module"})),BB=Y1(OB);var UA;function LB(){if(UA)return on;UA=1;var n=on&&on.__createBinding||(Object.create?(function(J,Q,Z,W){W===void 0&&(W=Z),Object.defineProperty(J,W,{enumerable:!0,get:function(){return Q[Z]}})}):(function(J,Q,Z,W){W===void 0&&(W=Z),J[W]=Q[Z]})),e=on&&on.__setModuleDefault||(Object.create?(function(J,Q){Object.defineProperty(J,"default",{enumerable:!0,value:Q})}):function(J,Q){J.default=Q}),t=on&&on.__decorate||function(J,Q,Z,W){var O=arguments.length,g=O<3?Q:W===null?W=Object.getOwnPropertyDescriptor(Q,Z):W,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(J,Q,Z,W);else for(var C=J.length-1;C>=0;C--)(T=J[C])&&(g=(O<3?T(g):O>3?T(Q,Z,g):T(Q,Z))||g);return O>3&&g&&Object.defineProperty(Q,Z,g),g},r=on&&on.__importStar||function(J){if(J&&J.__esModule)return J;var Q={};if(J!=null)for(var Z in J)Z!=="default"&&Object.hasOwnProperty.call(J,Z)&&n(Q,J,Z);return e(Q,J),Q},i=on&&on.__importDefault||function(J){return J&&J.__esModule?J:{default:J}};Object.defineProperty(on,"__esModule",{value:!0}),on.deserializeUnchecked=on.deserialize=on.serialize=on.BinaryReader=on.BinaryWriter=on.BorshError=on.baseDecode=on.baseEncode=void 0;const o=i(db()),l=i(AC()),c=r(BB),f=typeof TextDecoder!="function"?c.TextDecoder:TextDecoder,d=new f("utf-8",{fatal:!0});function h(J){return typeof J=="string"&&(J=ft.from(J,"utf8")),l.default.encode(ft.from(J))}on.baseEncode=h;function b(J){return ft.from(l.default.decode(J))}on.baseDecode=b;const E=1024;class v extends Error{constructor(Q){super(Q),this.fieldPath=[],this.originalMessage=Q}addToFieldPath(Q){this.fieldPath.splice(0,0,Q),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}on.BorshError=v;class N{constructor(){this.buf=ft.alloc(E),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=ft.concat([this.buf,ft.alloc(E)]))}writeU8(Q){this.maybeResize(),this.buf.writeUInt8(Q,this.length),this.length+=1}writeU16(Q){this.maybeResize(),this.buf.writeUInt16LE(Q,this.length),this.length+=2}writeU32(Q){this.maybeResize(),this.buf.writeUInt32LE(Q,this.length),this.length+=4}writeU64(Q){this.maybeResize(),this.writeBuffer(ft.from(new o.default(Q).toArray("le",8)))}writeU128(Q){this.maybeResize(),this.writeBuffer(ft.from(new o.default(Q).toArray("le",16)))}writeU256(Q){this.maybeResize(),this.writeBuffer(ft.from(new o.default(Q).toArray("le",32)))}writeU512(Q){this.maybeResize(),this.writeBuffer(ft.from(new o.default(Q).toArray("le",64)))}writeBuffer(Q){this.buf=ft.concat([ft.from(this.buf.subarray(0,this.length)),Q,ft.alloc(E)]),this.length+=Q.length}writeString(Q){this.maybeResize();const Z=ft.from(Q,"utf8");this.writeU32(Z.length),this.writeBuffer(Z)}writeFixedArray(Q){this.writeBuffer(ft.from(Q))}writeArray(Q,Z){this.maybeResize(),this.writeU32(Q.length);for(const W of Q)this.maybeResize(),Z(W)}toArray(){return this.buf.subarray(0,this.length)}}on.BinaryWriter=N;function k(J,Q,Z){const W=Z.value;Z.value=function(...O){try{return W.apply(this,O)}catch(g){if(g instanceof RangeError){const T=g.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(T)>=0)throw new v("Reached the end of buffer when deserializing")}throw g}}}class I{constructor(Q){this.buf=Q,this.offset=0}readU8(){const Q=this.buf.readUInt8(this.offset);return this.offset+=1,Q}readU16(){const Q=this.buf.readUInt16LE(this.offset);return this.offset+=2,Q}readU32(){const Q=this.buf.readUInt32LE(this.offset);return this.offset+=4,Q}readU64(){const Q=this.readBuffer(8);return new o.default(Q,"le")}readU128(){const Q=this.readBuffer(16);return new o.default(Q,"le")}readU256(){const Q=this.readBuffer(32);return new o.default(Q,"le")}readU512(){const Q=this.readBuffer(64);return new o.default(Q,"le")}readBuffer(Q){if(this.offset+Q>this.buf.length)throw new v(`Expected buffer length ${Q} isn't within bounds`);const Z=this.buf.slice(this.offset,this.offset+Q);return this.offset+=Q,Z}readString(){const Q=this.readU32(),Z=this.readBuffer(Q);try{return d.decode(Z)}catch(W){throw new v(`Error decoding UTF-8 string: ${W}`)}}readFixedArray(Q){return new Uint8Array(this.readBuffer(Q))}readArray(Q){const Z=this.readU32(),W=Array();for(let O=0;O<Z;++O)W.push(Q());return W}}t([k],I.prototype,"readU8",null),t([k],I.prototype,"readU16",null),t([k],I.prototype,"readU32",null),t([k],I.prototype,"readU64",null),t([k],I.prototype,"readU128",null),t([k],I.prototype,"readU256",null),t([k],I.prototype,"readU512",null),t([k],I.prototype,"readString",null),t([k],I.prototype,"readFixedArray",null),t([k],I.prototype,"readArray",null),on.BinaryReader=I;function L(J){return J.charAt(0).toUpperCase()+J.slice(1)}function F(J,Q,Z,W,O){try{if(typeof W=="string")O[`write${L(W)}`](Z);else if(W instanceof Array)if(typeof W[0]=="number"){if(Z.length!==W[0])throw new v(`Expecting byte array of length ${W[0]}, but got ${Z.length} bytes`);O.writeFixedArray(Z)}else if(W.length===2&&typeof W[1]=="number"){if(Z.length!==W[1])throw new v(`Expecting byte array of length ${W[1]}, but got ${Z.length} bytes`);for(let g=0;g<W[1];g++)F(J,null,Z[g],W[0],O)}else O.writeArray(Z,g=>{F(J,Q,g,W[0],O)});else if(W.kind!==void 0)switch(W.kind){case"option":{Z==null?O.writeU8(0):(O.writeU8(1),F(J,Q,Z,W.type,O));break}case"map":{O.writeU32(Z.size),Z.forEach((g,T)=>{F(J,Q,T,W.key,O),F(J,Q,g,W.value,O)});break}default:throw new v(`FieldType ${W} unrecognized`)}else M(J,Z,O)}catch(g){throw g instanceof v&&g.addToFieldPath(Q),g}}function M(J,Q,Z){if(typeof Q.borshSerialize=="function"){Q.borshSerialize(Z);return}const W=J.get(Q.constructor);if(!W)throw new v(`Class ${Q.constructor.name} is missing in schema`);if(W.kind==="struct")W.fields.map(([O,g])=>{F(J,O,Q[O],g,Z)});else if(W.kind==="enum"){const O=Q[W.field];for(let g=0;g<W.values.length;++g){const[T,C]=W.values[g];if(T===O){Z.writeU8(g),F(J,T,Q[T],C,Z);break}}}else throw new v(`Unexpected schema kind: ${W.kind} for ${Q.constructor.name}`)}function Y(J,Q,Z=N){const W=new Z;return M(J,Q,W),W.toArray()}on.serialize=Y;function ie(J,Q,Z,W){try{if(typeof Z=="string")return W[`read${L(Z)}`]();if(Z instanceof Array){if(typeof Z[0]=="number")return W.readFixedArray(Z[0]);if(typeof Z[1]=="number"){const O=[];for(let g=0;g<Z[1];g++)O.push(ie(J,null,Z[0],W));return O}else return W.readArray(()=>ie(J,Q,Z[0],W))}if(Z.kind==="option")return W.readU8()?ie(J,Q,Z.type,W):void 0;if(Z.kind==="map"){let O=new Map;const g=W.readU32();for(let T=0;T<g;T++){const C=ie(J,Q,Z.key,W),q=ie(J,Q,Z.value,W);O.set(C,q)}return O}return se(J,Z,W)}catch(O){throw O instanceof v&&O.addToFieldPath(Q),O}}function se(J,Q,Z){if(typeof Q.borshDeserialize=="function")return Q.borshDeserialize(Z);const W=J.get(Q);if(!W)throw new v(`Class ${Q.name} is missing in schema`);if(W.kind==="struct"){const O={};for(const[g,T]of J.get(Q).fields)O[g]=ie(J,g,T,Z);return new Q(O)}if(W.kind==="enum"){const O=Z.readU8();if(O>=W.values.length)throw new v(`Enum index: ${O} is out of range`);const[g,T]=W.values[O],C=ie(J,g,T,Z);return new Q({[g]:C})}throw new v(`Unexpected schema kind: ${W.kind} for ${Q.constructor.name}`)}function re(J,Q,Z,W=I){const O=new W(Z),g=se(J,Q,O);if(O.offset<Z.length)throw new v(`Unexpected ${Z.length-O.offset} bytes after deserialized data`);return g}on.deserialize=re;function ae(J,Q,Z,W=I){const O=new W(Z);return se(J,Q,O)}return on.deserializeUnchecked=ae,on}var Jg=LB(),Ie={},DA;function UB(){if(DA)return Ie;DA=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.s16=Ie.s8=Ie.nu64be=Ie.u48be=Ie.u40be=Ie.u32be=Ie.u24be=Ie.u16be=Ie.nu64=Ie.u48=Ie.u40=Ie.u32=Ie.u24=Ie.u16=Ie.u8=Ie.offset=Ie.greedy=Ie.Constant=Ie.UTF8=Ie.CString=Ie.Blob=Ie.Boolean=Ie.BitField=Ie.BitStructure=Ie.VariantLayout=Ie.Union=Ie.UnionLayoutDiscriminator=Ie.UnionDiscriminator=Ie.Structure=Ie.Sequence=Ie.DoubleBE=Ie.Double=Ie.FloatBE=Ie.Float=Ie.NearInt64BE=Ie.NearInt64=Ie.NearUInt64BE=Ie.NearUInt64=Ie.IntBE=Ie.Int=Ie.UIntBE=Ie.UInt=Ie.OffsetLayout=Ie.GreedyCount=Ie.ExternalLayout=Ie.bindConstructorLayout=Ie.nameWithProperty=Ie.Layout=Ie.uint8ArrayToBuffer=Ie.checkUint8Array=void 0,Ie.constant=Ie.utf8=Ie.cstr=Ie.blob=Ie.unionLayoutDiscriminator=Ie.union=Ie.seq=Ie.bits=Ie.struct=Ie.f64be=Ie.f64=Ie.f32be=Ie.f32=Ie.ns64be=Ie.s48be=Ie.s40be=Ie.s32be=Ie.s24be=Ie.s16be=Ie.ns64=Ie.s48=Ie.s40=Ie.s32=Ie.s24=void 0;const n=fb();function e(y){if(!(y instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Ie.checkUint8Array=e;function t(y){return e(y),n.Buffer.from(y.buffer,y.byteOffset,y.length)}Ie.uint8ArrayToBuffer=t;class r{constructor(R,G){if(!Number.isInteger(R))throw new TypeError("span must be an integer");this.span=R,this.property=G}makeDestinationObject(){return{}}getSpan(R,G){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(R){const G=Object.create(this.constructor.prototype);return Object.assign(G,this),G.property=R,G}fromArray(R){}}Ie.Layout=r;function i(y,R){return R.property?y+"["+R.property+"]":y}Ie.nameWithProperty=i;function o(y,R){if(typeof y!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(y,"layout_"))throw new Error("Class is already bound to a layout");if(!(R&&R instanceof r))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(R,"boundConstructor_"))throw new Error("layout is already bound to a constructor");y.layout_=R,R.boundConstructor_=y,R.makeDestinationObject=(()=>new y),Object.defineProperty(y.prototype,"encode",{value(G,X){return R.encode(this,G,X)},writable:!0}),Object.defineProperty(y,"decode",{value(G,X){return R.decode(G,X)},writable:!0})}Ie.bindConstructorLayout=o;class l extends r{isCount(){throw new Error("ExternalLayout is abstract")}}Ie.ExternalLayout=l;class c extends l{constructor(R=1,G){if(!Number.isInteger(R)||0>=R)throw new TypeError("elementSpan must be a (positive) integer");super(-1,G),this.elementSpan=R}isCount(){return!0}decode(R,G=0){e(R);const X=R.length-G;return Math.floor(X/this.elementSpan)}encode(R,G,X){return 0}}Ie.GreedyCount=c;class f extends l{constructor(R,G=0,X){if(!(R instanceof r))throw new TypeError("layout must be a Layout");if(!Number.isInteger(G))throw new TypeError("offset must be integer or undefined");super(R.span,X||R.property),this.layout=R,this.offset=G}isCount(){return this.layout instanceof d||this.layout instanceof h}decode(R,G=0){return this.layout.decode(R,G+this.offset)}encode(R,G,X=0){return this.layout.encode(R,G,X+this.offset)}}Ie.OffsetLayout=f;class d extends r{constructor(R,G){if(super(R,G),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(R,G=0){return t(R).readUIntLE(G,this.span)}encode(R,G,X=0){return t(G).writeUIntLE(R,X,this.span),this.span}}Ie.UInt=d;class h extends r{constructor(R,G){if(super(R,G),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(R,G=0){return t(R).readUIntBE(G,this.span)}encode(R,G,X=0){return t(G).writeUIntBE(R,X,this.span),this.span}}Ie.UIntBE=h;class b extends r{constructor(R,G){if(super(R,G),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(R,G=0){return t(R).readIntLE(G,this.span)}encode(R,G,X=0){return t(G).writeIntLE(R,X,this.span),this.span}}Ie.Int=b;class E extends r{constructor(R,G){if(super(R,G),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(R,G=0){return t(R).readIntBE(G,this.span)}encode(R,G,X=0){return t(G).writeIntBE(R,X,this.span),this.span}}Ie.IntBE=E;const v=Math.pow(2,32);function N(y){const R=Math.floor(y/v),G=y-R*v;return{hi32:R,lo32:G}}function k(y,R){return y*v+R}class I extends r{constructor(R){super(8,R)}decode(R,G=0){const X=t(R),ue=X.readUInt32LE(G),be=X.readUInt32LE(G+4);return k(be,ue)}encode(R,G,X=0){const ue=N(R),be=t(G);return be.writeUInt32LE(ue.lo32,X),be.writeUInt32LE(ue.hi32,X+4),8}}Ie.NearUInt64=I;class L extends r{constructor(R){super(8,R)}decode(R,G=0){const X=t(R),ue=X.readUInt32BE(G),be=X.readUInt32BE(G+4);return k(ue,be)}encode(R,G,X=0){const ue=N(R),be=t(G);return be.writeUInt32BE(ue.hi32,X),be.writeUInt32BE(ue.lo32,X+4),8}}Ie.NearUInt64BE=L;class F extends r{constructor(R){super(8,R)}decode(R,G=0){const X=t(R),ue=X.readUInt32LE(G),be=X.readInt32LE(G+4);return k(be,ue)}encode(R,G,X=0){const ue=N(R),be=t(G);return be.writeUInt32LE(ue.lo32,X),be.writeInt32LE(ue.hi32,X+4),8}}Ie.NearInt64=F;class M extends r{constructor(R){super(8,R)}decode(R,G=0){const X=t(R),ue=X.readInt32BE(G),be=X.readUInt32BE(G+4);return k(ue,be)}encode(R,G,X=0){const ue=N(R),be=t(G);return be.writeInt32BE(ue.hi32,X),be.writeUInt32BE(ue.lo32,X+4),8}}Ie.NearInt64BE=M;class Y extends r{constructor(R){super(4,R)}decode(R,G=0){return t(R).readFloatLE(G)}encode(R,G,X=0){return t(G).writeFloatLE(R,X),4}}Ie.Float=Y;class ie extends r{constructor(R){super(4,R)}decode(R,G=0){return t(R).readFloatBE(G)}encode(R,G,X=0){return t(G).writeFloatBE(R,X),4}}Ie.FloatBE=ie;class se extends r{constructor(R){super(8,R)}decode(R,G=0){return t(R).readDoubleLE(G)}encode(R,G,X=0){return t(G).writeDoubleLE(R,X),8}}Ie.Double=se;class re extends r{constructor(R){super(8,R)}decode(R,G=0){return t(R).readDoubleBE(G)}encode(R,G,X=0){return t(G).writeDoubleBE(R,X),8}}Ie.DoubleBE=re;class ae extends r{constructor(R,G,X){if(!(R instanceof r))throw new TypeError("elementLayout must be a Layout");if(!(G instanceof l&&G.isCount()||Number.isInteger(G)&&0<=G))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let ue=-1;!(G instanceof l)&&0<R.span&&(ue=G*R.span),super(ue,X),this.elementLayout=R,this.count=G}getSpan(R,G=0){if(0<=this.span)return this.span;let X=0,ue=this.count;if(ue instanceof l&&(ue=ue.decode(R,G)),0<this.elementLayout.span)X=ue*this.elementLayout.span;else{let be=0;for(;be<ue;)X+=this.elementLayout.getSpan(R,G+X),++be}return X}decode(R,G=0){const X=[];let ue=0,be=this.count;for(be instanceof l&&(be=be.decode(R,G));ue<be;)X.push(this.elementLayout.decode(R,G)),G+=this.elementLayout.getSpan(R,G),ue+=1;return X}encode(R,G,X=0){const ue=this.elementLayout,be=R.reduce((De,Ue)=>De+ue.encode(Ue,G,X+De),0);return this.count instanceof l&&this.count.encode(R.length,G,X),be}}Ie.Sequence=ae;class J extends r{constructor(R,G,X){if(!(Array.isArray(R)&&R.reduce((be,De)=>be&&De instanceof r,!0)))throw new TypeError("fields must be array of Layout instances");typeof G=="boolean"&&X===void 0&&(X=G,G=void 0);for(const be of R)if(0>be.span&&be.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let ue=-1;try{ue=R.reduce((be,De)=>be+De.getSpan(),0)}catch{}super(ue,G),this.fields=R,this.decodePrefixes=!!X}getSpan(R,G=0){if(0<=this.span)return this.span;let X=0;try{X=this.fields.reduce((ue,be)=>{const De=be.getSpan(R,G);return G+=De,ue+De},0)}catch{throw new RangeError("indeterminate span")}return X}decode(R,G=0){e(R);const X=this.makeDestinationObject();for(const ue of this.fields)if(ue.property!==void 0&&(X[ue.property]=ue.decode(R,G)),G+=ue.getSpan(R,G),this.decodePrefixes&&R.length===G)break;return X}encode(R,G,X=0){const ue=X;let be=0,De=0;for(const Ue of this.fields){let ct=Ue.span;if(De=0<ct?ct:0,Ue.property!==void 0){const ot=R[Ue.property];ot!==void 0&&(De=Ue.encode(ot,G,X),0>ct&&(ct=Ue.getSpan(G,X)))}be=X,X+=ct}return be+De-ue}fromArray(R){const G=this.makeDestinationObject();for(const X of this.fields)X.property!==void 0&&0<R.length&&(G[X.property]=R.shift());return G}layoutFor(R){if(typeof R!="string")throw new TypeError("property must be string");for(const G of this.fields)if(G.property===R)return G}offsetOf(R){if(typeof R!="string")throw new TypeError("property must be string");let G=0;for(const X of this.fields){if(X.property===R)return G;0>X.span?G=-1:0<=G&&(G+=X.span)}}}Ie.Structure=J;class Q{constructor(R){this.property=R}decode(R,G){throw new Error("UnionDiscriminator is abstract")}encode(R,G,X){throw new Error("UnionDiscriminator is abstract")}}Ie.UnionDiscriminator=Q;class Z extends Q{constructor(R,G){if(!(R instanceof l&&R.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(G||R.property||"variant"),this.layout=R}decode(R,G){return this.layout.decode(R,G)}encode(R,G,X){return this.layout.encode(R,G,X)}}Ie.UnionLayoutDiscriminator=Z;class W extends r{constructor(R,G,X){let ue;if(R instanceof d||R instanceof h)ue=new Z(new f(R));else if(R instanceof l&&R.isCount())ue=new Z(R);else if(R instanceof Q)ue=R;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(G===void 0&&(G=null),!(G===null||G instanceof r))throw new TypeError("defaultLayout must be null or a Layout");if(G!==null){if(0>G.span)throw new Error("defaultLayout must have constant span");G.property===void 0&&(G=G.replicate("content"))}let be=-1;G&&(be=G.span,0<=be&&(R instanceof d||R instanceof h)&&(be+=ue.layout.span)),super(be,X),this.discriminator=ue,this.usesPrefixDiscriminator=R instanceof d||R instanceof h,this.defaultLayout=G,this.registry={};let De=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(Ue){return De(Ue)},this.configGetSourceVariant=function(Ue){De=Ue.bind(this)}}getSpan(R,G=0){if(0<=this.span)return this.span;const X=this.getVariant(R,G);if(!X)throw new Error("unable to determine span for unrecognized variant");return X.getSpan(R,G)}defaultGetSourceVariant(R){if(Object.prototype.hasOwnProperty.call(R,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(R,this.defaultLayout.property))return;const G=this.registry[R[this.discriminator.property]];if(G&&(!G.layout||G.property&&Object.prototype.hasOwnProperty.call(R,G.property)))return G}else for(const G in this.registry){const X=this.registry[G];if(X.property&&Object.prototype.hasOwnProperty.call(R,X.property))return X}throw new Error("unable to infer src variant")}decode(R,G=0){let X;const ue=this.discriminator,be=ue.decode(R,G),De=this.registry[be];if(De===void 0){const Ue=this.defaultLayout;let ct=0;this.usesPrefixDiscriminator&&(ct=ue.layout.span),X=this.makeDestinationObject(),X[ue.property]=be,X[Ue.property]=Ue.decode(R,G+ct)}else X=De.decode(R,G);return X}encode(R,G,X=0){const ue=this.getSourceVariant(R);if(ue===void 0){const be=this.discriminator,De=this.defaultLayout;let Ue=0;return this.usesPrefixDiscriminator&&(Ue=be.layout.span),be.encode(R[be.property],G,X),Ue+De.encode(R[De.property],G,X+Ue)}return ue.encode(R,G,X)}addVariant(R,G,X){const ue=new O(this,R,G,X);return this.registry[R]=ue,ue}getVariant(R,G=0){let X;return R instanceof Uint8Array?X=this.discriminator.decode(R,G):X=R,this.registry[X]}}Ie.Union=W;class O extends r{constructor(R,G,X,ue){if(!(R instanceof W))throw new TypeError("union must be a Union");if(!Number.isInteger(G)||0>G)throw new TypeError("variant must be a (non-negative) integer");if(typeof X=="string"&&ue===void 0&&(ue=X,X=null),X){if(!(X instanceof r))throw new TypeError("layout must be a Layout");if(R.defaultLayout!==null&&0<=X.span&&X.span>R.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof ue!="string")throw new TypeError("variant must have a String property")}let be=R.span;0>R.span&&(be=X?X.span:0,0<=be&&R.usesPrefixDiscriminator&&(be+=R.discriminator.layout.span)),super(be,ue),this.union=R,this.variant=G,this.layout=X||null}getSpan(R,G=0){if(0<=this.span)return this.span;let X=0;this.union.usesPrefixDiscriminator&&(X=this.union.discriminator.layout.span);let ue=0;return this.layout&&(ue=this.layout.getSpan(R,G+X)),X+ue}decode(R,G=0){const X=this.makeDestinationObject();if(this!==this.union.getVariant(R,G))throw new Error("variant mismatch");let ue=0;return this.union.usesPrefixDiscriminator&&(ue=this.union.discriminator.layout.span),this.layout?X[this.property]=this.layout.decode(R,G+ue):this.property?X[this.property]=!0:this.union.usesPrefixDiscriminator&&(X[this.union.discriminator.property]=this.variant),X}encode(R,G,X=0){let ue=0;if(this.union.usesPrefixDiscriminator&&(ue=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(R,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,G,X);let be=ue;if(this.layout&&(this.layout.encode(R[this.property],G,X+ue),be+=this.layout.getSpan(G,X+ue),0<=this.union.span&&be>this.union.span))throw new Error("encoded variant overruns containing union");return be}fromArray(R){if(this.layout)return this.layout.fromArray(R)}}Ie.VariantLayout=O;function g(y){return 0>y&&(y+=4294967296),y}class T extends r{constructor(R,G,X){if(!(R instanceof d||R instanceof h))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof G=="string"&&X===void 0&&(X=G,G=!1),4<R.span)throw new RangeError("word cannot exceed 32 bits");super(R.span,X),this.word=R,this.msb=!!G,this.fields=[];let ue=0;this._packedSetValue=function(be){return ue=g(be),this},this._packedGetValue=function(){return ue}}decode(R,G=0){const X=this.makeDestinationObject(),ue=this.word.decode(R,G);this._packedSetValue(ue);for(const be of this.fields)be.property!==void 0&&(X[be.property]=be.decode(R));return X}encode(R,G,X=0){const ue=this.word.decode(G,X);this._packedSetValue(ue);for(const be of this.fields)if(be.property!==void 0){const De=R[be.property];De!==void 0&&be.encode(De)}return this.word.encode(this._packedGetValue(),G,X)}addField(R,G){const X=new C(this,R,G);return this.fields.push(X),X}addBoolean(R){const G=new q(this,R);return this.fields.push(G),G}fieldFor(R){if(typeof R!="string")throw new TypeError("property must be string");for(const G of this.fields)if(G.property===R)return G}}Ie.BitStructure=T;class C{constructor(R,G,X){if(!(R instanceof T))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(G)||0>=G)throw new TypeError("bits must be positive integer");const ue=8*R.span,be=R.fields.reduce((De,Ue)=>De+Ue.bits,0);if(G+be>ue)throw new Error("bits too long for span remainder ("+(ue-be)+" of "+ue+" remain)");this.container=R,this.bits=G,this.valueMask=(1<<G)-1,G===32&&(this.valueMask=4294967295),this.start=be,this.container.msb&&(this.start=ue-be-G),this.wordMask=g(this.valueMask<<this.start),this.property=X}decode(R,G){const X=this.container._packedGetValue();return g(X&this.wordMask)>>>this.start}encode(R){if(typeof R!="number"||!Number.isInteger(R)||R!==g(R&this.valueMask))throw new TypeError(i("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const G=this.container._packedGetValue(),X=g(R<<this.start);this.container._packedSetValue(g(G&~this.wordMask)|X)}}Ie.BitField=C;class q extends C{constructor(R,G){super(R,1,G)}decode(R,G){return!!super.decode(R,G)}encode(R){typeof R=="boolean"&&(R=+R),super.encode(R)}}Ie.Boolean=q;class j extends r{constructor(R,G){if(!(R instanceof l&&R.isCount()||Number.isInteger(R)&&0<=R))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let X=-1;R instanceof l||(X=R),super(X,G),this.length=R}getSpan(R,G){let X=this.span;return 0>X&&(X=this.length.decode(R,G)),X}decode(R,G=0){let X=this.span;return 0>X&&(X=this.length.decode(R,G)),t(R).slice(G,G+X)}encode(R,G,X){let ue=this.length;if(this.length instanceof l&&(ue=R.length),!(R instanceof Uint8Array&&ue===R.length))throw new TypeError(i("Blob.encode",this)+" requires (length "+ue+") Uint8Array as src");if(X+ue>G.length)throw new RangeError("encoding overruns Uint8Array");const be=t(R);return t(G).write(be.toString("hex"),X,ue,"hex"),this.length instanceof l&&this.length.encode(ue,G,X),ue}}Ie.Blob=j;class K extends r{constructor(R){super(-1,R)}getSpan(R,G=0){e(R);let X=G;for(;X<R.length&&R[X]!==0;)X+=1;return 1+X-G}decode(R,G=0){const X=this.getSpan(R,G);return t(R).slice(G,G+X-1).toString("utf-8")}encode(R,G,X=0){typeof R!="string"&&(R=String(R));const ue=n.Buffer.from(R,"utf8"),be=ue.length;if(X+be>G.length)throw new RangeError("encoding overruns Buffer");const De=t(G);return ue.copy(De,X),De[X+be]=0,be+1}}Ie.CString=K;class B extends r{constructor(R,G){if(typeof R=="string"&&G===void 0&&(G=R,R=void 0),R===void 0)R=-1;else if(!Number.isInteger(R))throw new TypeError("maxSpan must be an integer");super(-1,G),this.maxSpan=R}getSpan(R,G=0){return e(R),R.length-G}decode(R,G=0){const X=this.getSpan(R,G);if(0<=this.maxSpan&&this.maxSpan<X)throw new RangeError("text length exceeds maxSpan");return t(R).slice(G,G+X).toString("utf-8")}encode(R,G,X=0){typeof R!="string"&&(R=String(R));const ue=n.Buffer.from(R,"utf8"),be=ue.length;if(0<=this.maxSpan&&this.maxSpan<be)throw new RangeError("text length exceeds maxSpan");if(X+be>G.length)throw new RangeError("encoding overruns Buffer");return ue.copy(t(G),X),be}}Ie.UTF8=B;class A extends r{constructor(R,G){super(0,G),this.value=R}decode(R,G){return this.value}encode(R,G,X){return 0}}return Ie.Constant=A,Ie.greedy=((y,R)=>new c(y,R)),Ie.offset=((y,R,G)=>new f(y,R,G)),Ie.u8=(y=>new d(1,y)),Ie.u16=(y=>new d(2,y)),Ie.u24=(y=>new d(3,y)),Ie.u32=(y=>new d(4,y)),Ie.u40=(y=>new d(5,y)),Ie.u48=(y=>new d(6,y)),Ie.nu64=(y=>new I(y)),Ie.u16be=(y=>new h(2,y)),Ie.u24be=(y=>new h(3,y)),Ie.u32be=(y=>new h(4,y)),Ie.u40be=(y=>new h(5,y)),Ie.u48be=(y=>new h(6,y)),Ie.nu64be=(y=>new L(y)),Ie.s8=(y=>new b(1,y)),Ie.s16=(y=>new b(2,y)),Ie.s24=(y=>new b(3,y)),Ie.s32=(y=>new b(4,y)),Ie.s40=(y=>new b(5,y)),Ie.s48=(y=>new b(6,y)),Ie.ns64=(y=>new F(y)),Ie.s16be=(y=>new E(2,y)),Ie.s24be=(y=>new E(3,y)),Ie.s32be=(y=>new E(4,y)),Ie.s40be=(y=>new E(5,y)),Ie.s48be=(y=>new E(6,y)),Ie.ns64be=(y=>new M(y)),Ie.f32=(y=>new Y(y)),Ie.f32be=(y=>new ie(y)),Ie.f64=(y=>new se(y)),Ie.f64be=(y=>new re(y)),Ie.struct=((y,R,G)=>new J(y,R,G)),Ie.bits=((y,R,G)=>new T(y,R,G)),Ie.seq=((y,R,G)=>new ae(y,R,G)),Ie.union=((y,R,G)=>new W(y,R,G)),Ie.unionLayoutDiscriminator=((y,R)=>new Z(y,R)),Ie.blob=((y,R)=>new j(y,R)),Ie.cstr=(y=>new K(y)),Ie.utf8=((y,R)=>new B(y,R)),Ie.constant=((y,R)=>new A(y,R)),Ie}var de=UB(),DB=8078e3,PB=8078001,FB=8078004,HB=8078005,zB=8078006,GB=8078011;function SC(n){return Array.isArray(n)?"%5B"+n.map(SC).join("%2C%20")+"%5D":typeof n=="bigint"?`${n}n`:encodeURIComponent(String(n!=null&&Object.getPrototypeOf(n)===null?{...n}:n))}function qB([n,e]){return`${n}=${SC(e)}`}function VB(n){const e=Object.entries(n).map(qB).join("&");return btoa(e)}function KB(n,e={}){{let t=`Solana error #${n}; Decode this error by running \`npx @solana/errors decode -- ${n}`;return Object.keys(e).length&&(t+=` '${VB(e)}'`),`${t}\``}}var Mc=class extends Error{constructor(...[e,t]){let r,i;if(t){const{cause:l,...c}=t;l&&(i={cause:l}),Object.keys(c).length>0&&(r=c)}const o=KB(e,r);super(o,i);Wn(this,"cause",this.cause);Wn(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function WB(n,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(n)}function $B(n){return Object.freeze({...n,encode:e=>{const t=new Uint8Array(WB(e,n));return n.write(e,t,0),t}})}function jB(n){return Object.freeze({...n,decode:(e,t=0)=>n.read(e,t)[0]})}function ac(n){return"fixedSize"in n&&typeof n.fixedSize=="number"}function YB(n,e){if(ac(n)!==ac(e))throw new Mc(FB);if(ac(n)&&ac(e)&&n.fixedSize!==e.fixedSize)throw new Mc(HB,{decoderFixedSize:e.fixedSize,encoderFixedSize:n.fixedSize});if(!ac(n)&&!ac(e)&&n.maxSize!==e.maxSize)throw new Mc(zB,{decoderMaxSize:e.maxSize,encoderMaxSize:n.maxSize});return{...e,...n,decode:e.decode,encode:n.encode,read:e.read,write:n.write}}function JB(n,e,t=0){if(e.length-t<=0)throw new Mc(DB,{codecDescription:n})}function ZB(n,e,t,r=0){const i=t.length-r;if(i<e)throw new Mc(PB,{bytesLength:i,codecDescription:n,expected:e})}function XB(n,e,t,r){if(r<e||r>t)throw new Mc(GB,{codecDescription:n,max:t,min:e,value:r})}function TC(n){return(n==null?void 0:n.endian)!==1}function QB(n){return $B({fixedSize:n.size,write(e,t,r){n.range&&XB(n.name,n.range[0],n.range[1],e);const i=new ArrayBuffer(n.size);return n.set(new DataView(i),e,TC(n.config)),t.set(new Uint8Array(i),r),r+n.size}})}function eL(n){return jB({fixedSize:n.size,read(e,t=0){JB(n.name,e,t),ZB(n.name,n.size,e,t);const r=new DataView(tL(e,t,n.size));return[n.get(r,TC(n.config)),t+n.size]}})}function tL(n,e,t){const r=n.byteOffset+(e??0),i=t??n.byteLength;return n.buffer.slice(r,r+i)}var RC=(n={})=>QB({config:n,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),size:8}),nL=(n={})=>eL({config:n,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}),rL=(n={})=>YB(RC(n),nL(n));let iL=class extends TypeError{constructor(e,t){let r;const{message:i,explanation:o,...l}=e,{path:c}=e,f=c.length===0?i:`At path: ${c.join(".")} -- ${i}`;super(o??f),o!=null&&(this.cause=f),Object.assign(this,l),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}};function oL(n){return jf(n)&&typeof n[Symbol.iterator]=="function"}function jf(n){return typeof n=="object"&&n!=null}function Np(n){return jf(n)&&!Array.isArray(n)}function ki(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function sL(n){const{done:e,value:t}=n.next();return e?void 0:t}function aL(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:i,branch:o}=e,{type:l}=t,{refinement:c,message:f=`Expected a value of type \`${l}\`${c?` with refinement \`${c}\``:""}, but received: \`${ki(r)}\``}=n;return{value:r,type:l,refinement:c,key:i[i.length-1],path:i,branch:o,...n,message:f}}function*PA(n,e,t,r){oL(n)||(n=[n]);for(const i of n){const o=aL(i,e,t,r);o&&(yield o)}}function*pb(n,e,t={}){const{path:r=[],branch:i=[n],coerce:o=!1,mask:l=!1}=t,c={path:r,branch:i,mask:l};o&&(n=e.coercer(n,c));let f="valid";for(const d of e.validator(n,c))d.explanation=t.message,f="not_valid",yield[d,void 0];for(let[d,h,b]of e.entries(n,c)){const E=pb(h,b,{path:d===void 0?r:[...r,d],branch:d===void 0?i:[...i,h],coerce:o,mask:l,message:t.message});for(const v of E)v[0]?(f=v[0].refinement!=null?"not_refined":"not_valid",yield[v[0],void 0]):o&&(h=v[1],d===void 0?n=h:n instanceof Map?n.set(d,h):n instanceof Set?n.add(h):jf(n)&&(h!==void 0||d in n)&&(n[d]=h))}if(f!=="not_valid")for(const d of e.refiner(n,c))d.explanation=t.message,f="not_refined",yield[d,void 0];f==="valid"&&(yield[void 0,n])}let uo=class{constructor(e){const{type:t,schema:r,validator:i,refiner:o,coercer:l=f=>f,entries:c=function*(){}}=e;this.type=t,this.schema=r,this.entries=c,this.coercer=l,i?this.validator=(f,d)=>{const h=i(f,d);return PA(h,d,this,f)}:this.validator=()=>[],o?this.refiner=(f,d)=>{const h=o(f,d);return PA(h,d,this,f)}:this.refiner=()=>[]}assert(e,t){return NC(e,this,t)}create(e,t){return Ke(e,this,t)}is(e){return CC(e,this)}mask(e,t){return lL(e,this,t)}validate(e,t={}){return Yf(e,this,t)}};function NC(n,e,t){const r=Yf(n,e,{message:t});if(r[0])throw r[0]}function Ke(n,e,t){const r=Yf(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function lL(n,e,t){const r=Yf(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function CC(n,e){return!Yf(n,e)[0]}function Yf(n,e,t={}){const r=pb(n,e,t),i=sL(r);return i[0]?[new iL(i[0],function*(){for(const l of r)l[0]&&(yield l[0])}),void 0]:[void 0,i[1]]}function dl(n,e){return new uo({type:n,schema:null,validator:e})}function cL(){return dl("any",()=>!0)}function je(n){return new uo({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${ki(e)}`}})}function lo(){return dl("boolean",n=>typeof n=="boolean")}function mb(n){return dl("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${ki(e)}`)}function Rn(n){const e=ki(n),t=typeof n;return new uo({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${ki(r)}`}})}function uL(){return dl("never",()=>!1)}function Ye(n){return new uo({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function Se(){return dl("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${ki(n)}`)}function lt(n){return new uo({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function IC(n,e){return new uo({type:"record",schema:null,*entries(t){if(jf(t))for(const r in t){const i=t[r];yield[r,r,n],yield[r,i,e]}},validator(t){return Np(t)||`Expected an object, but received: ${ki(t)}`},coercer(t){return Np(t)?{...t}:t}})}function Ge(){return dl("string",n=>typeof n=="string"||`Expected a string, but received: ${ki(n)}`)}function gb(n){const e=uL();return new uo({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let i=0;i<r;i++)yield[i,t[i],n[i]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${ki(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function ze(n){const e=Object.keys(n);return new uo({type:"type",schema:n,*entries(t){if(jf(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return Np(t)||`Expected an object, but received: ${ki(t)}`},coercer(t){return Np(t)?{...t}:t}})}function Cr(n){const e=n.map(t=>t.type).join(" | ");return new uo({type:"union",schema:null,coercer(t,r){for(const i of n){const[o,l]=i.validate(t,{coerce:!0,mask:r.mask});if(!o)return l}return t},validator(t,r){const i=[];for(const o of n){const[...l]=pb(t,o,r),[c]=l;if(c[0])for(const[f]of l)f&&i.push(f);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ki(t)}`,...i]}})}function Zc(){return dl("unknown",()=>!0)}function Jf(n,e,t){return new uo({...n,coercer:(r,i)=>CC(r,e)?n.coercer(t(r,i),i):n.coercer(r,i)})}var bh,fL=new Uint8Array(16);function kC(){if(!bh&&(bh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!bh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bh(fL)}const dL=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function em(n){return typeof n=="string"&&dL.test(n)}var hr=[];for(var Zg=0;Zg<256;++Zg)hr.push((Zg+256).toString(16).substr(1));function tm(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(hr[n[e+0]]+hr[n[e+1]]+hr[n[e+2]]+hr[n[e+3]]+"-"+hr[n[e+4]]+hr[n[e+5]]+"-"+hr[n[e+6]]+hr[n[e+7]]+"-"+hr[n[e+8]]+hr[n[e+9]]+"-"+hr[n[e+10]]+hr[n[e+11]]+hr[n[e+12]]+hr[n[e+13]]+hr[n[e+14]]+hr[n[e+15]]).toLowerCase();if(!em(t))throw TypeError("Stringified UUID is invalid");return t}var FA,Xg,Qg=0,ey=0;function hL(n,e,t){var r=e&&t||0,i=e||new Array(16);n=n||{};var o=n.node||FA,l=n.clockseq!==void 0?n.clockseq:Xg;if(o==null||l==null){var c=n.random||(n.rng||kC)();o==null&&(o=FA=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),l==null&&(l=Xg=(c[6]<<8|c[7])&16383)}var f=n.msecs!==void 0?n.msecs:Date.now(),d=n.nsecs!==void 0?n.nsecs:ey+1,h=f-Qg+(d-ey)/1e4;if(h<0&&n.clockseq===void 0&&(l=l+1&16383),(h<0||f>Qg)&&n.nsecs===void 0&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Qg=f,ey=d,Xg=l,f+=122192928e5;var b=((f&268435455)*1e4+d)%4294967296;i[r++]=b>>>24&255,i[r++]=b>>>16&255,i[r++]=b>>>8&255,i[r++]=b&255;var E=f/4294967296*1e4&268435455;i[r++]=E>>>8&255,i[r++]=E&255,i[r++]=E>>>24&15|16,i[r++]=E>>>16&255,i[r++]=l>>>8|128,i[r++]=l&255;for(var v=0;v<6;++v)i[r+v]=o[v];return e||tm(i)}function MC(n){if(!em(n))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(n.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(n.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(n.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(n.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(n.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}function pL(n){n=unescape(encodeURIComponent(n));for(var e=[],t=0;t<n.length;++t)e.push(n.charCodeAt(t));return e}var mL="6ba7b810-9dad-11d1-80b4-00c04fd430c8",gL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function OC(n,e,t){function r(i,o,l,c){if(typeof i=="string"&&(i=pL(i)),typeof o=="string"&&(o=MC(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var f=new Uint8Array(16+i.length);if(f.set(o),f.set(i,o.length),f=t(f),f[6]=f[6]&15|e,f[8]=f[8]&63|128,l){c=c||0;for(var d=0;d<16;++d)l[c+d]=f[d];return l}return tm(f)}try{r.name=n}catch{}return r.DNS=mL,r.URL=gL,r}function yL(n){if(typeof n=="string"){var e=unescape(encodeURIComponent(n));n=new Uint8Array(e.length);for(var t=0;t<e.length;++t)n[t]=e.charCodeAt(t)}return wL(bL(vL(n),n.length*8))}function wL(n){for(var e=[],t=n.length*32,r="0123456789abcdef",i=0;i<t;i+=8){var o=n[i>>5]>>>i%32&255,l=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);e.push(l)}return e}function BC(n){return(n+64>>>9<<4)+14+1}function bL(n,e){n[e>>5]|=128<<e%32,n[BC(e)-1]=e;for(var t=1732584193,r=-271733879,i=-1732584194,o=271733878,l=0;l<n.length;l+=16){var c=t,f=r,d=i,h=o;t=br(t,r,i,o,n[l],7,-680876936),o=br(o,t,r,i,n[l+1],12,-389564586),i=br(i,o,t,r,n[l+2],17,606105819),r=br(r,i,o,t,n[l+3],22,-1044525330),t=br(t,r,i,o,n[l+4],7,-176418897),o=br(o,t,r,i,n[l+5],12,1200080426),i=br(i,o,t,r,n[l+6],17,-1473231341),r=br(r,i,o,t,n[l+7],22,-45705983),t=br(t,r,i,o,n[l+8],7,1770035416),o=br(o,t,r,i,n[l+9],12,-1958414417),i=br(i,o,t,r,n[l+10],17,-42063),r=br(r,i,o,t,n[l+11],22,-1990404162),t=br(t,r,i,o,n[l+12],7,1804603682),o=br(o,t,r,i,n[l+13],12,-40341101),i=br(i,o,t,r,n[l+14],17,-1502002290),r=br(r,i,o,t,n[l+15],22,1236535329),t=vr(t,r,i,o,n[l+1],5,-165796510),o=vr(o,t,r,i,n[l+6],9,-1069501632),i=vr(i,o,t,r,n[l+11],14,643717713),r=vr(r,i,o,t,n[l],20,-373897302),t=vr(t,r,i,o,n[l+5],5,-701558691),o=vr(o,t,r,i,n[l+10],9,38016083),i=vr(i,o,t,r,n[l+15],14,-660478335),r=vr(r,i,o,t,n[l+4],20,-405537848),t=vr(t,r,i,o,n[l+9],5,568446438),o=vr(o,t,r,i,n[l+14],9,-1019803690),i=vr(i,o,t,r,n[l+3],14,-187363961),r=vr(r,i,o,t,n[l+8],20,1163531501),t=vr(t,r,i,o,n[l+13],5,-1444681467),o=vr(o,t,r,i,n[l+2],9,-51403784),i=vr(i,o,t,r,n[l+7],14,1735328473),r=vr(r,i,o,t,n[l+12],20,-1926607734),t=Er(t,r,i,o,n[l+5],4,-378558),o=Er(o,t,r,i,n[l+8],11,-2022574463),i=Er(i,o,t,r,n[l+11],16,1839030562),r=Er(r,i,o,t,n[l+14],23,-35309556),t=Er(t,r,i,o,n[l+1],4,-1530992060),o=Er(o,t,r,i,n[l+4],11,1272893353),i=Er(i,o,t,r,n[l+7],16,-155497632),r=Er(r,i,o,t,n[l+10],23,-1094730640),t=Er(t,r,i,o,n[l+13],4,681279174),o=Er(o,t,r,i,n[l],11,-358537222),i=Er(i,o,t,r,n[l+3],16,-722521979),r=Er(r,i,o,t,n[l+6],23,76029189),t=Er(t,r,i,o,n[l+9],4,-640364487),o=Er(o,t,r,i,n[l+12],11,-421815835),i=Er(i,o,t,r,n[l+15],16,530742520),r=Er(r,i,o,t,n[l+2],23,-995338651),t=_r(t,r,i,o,n[l],6,-198630844),o=_r(o,t,r,i,n[l+7],10,1126891415),i=_r(i,o,t,r,n[l+14],15,-1416354905),r=_r(r,i,o,t,n[l+5],21,-57434055),t=_r(t,r,i,o,n[l+12],6,1700485571),o=_r(o,t,r,i,n[l+3],10,-1894986606),i=_r(i,o,t,r,n[l+10],15,-1051523),r=_r(r,i,o,t,n[l+1],21,-2054922799),t=_r(t,r,i,o,n[l+8],6,1873313359),o=_r(o,t,r,i,n[l+15],10,-30611744),i=_r(i,o,t,r,n[l+6],15,-1560198380),r=_r(r,i,o,t,n[l+13],21,1309151649),t=_r(t,r,i,o,n[l+4],6,-145523070),o=_r(o,t,r,i,n[l+11],10,-1120210379),i=_r(i,o,t,r,n[l+2],15,718787259),r=_r(r,i,o,t,n[l+9],21,-343485551),t=ia(t,c),r=ia(r,f),i=ia(i,d),o=ia(o,h)}return[t,r,i,o]}function vL(n){if(n.length===0)return[];for(var e=n.length*8,t=new Uint32Array(BC(e)),r=0;r<e;r+=8)t[r>>5]|=(n[r/8]&255)<<r%32;return t}function ia(n,e){var t=(n&65535)+(e&65535),r=(n>>16)+(e>>16)+(t>>16);return r<<16|t&65535}function EL(n,e){return n<<e|n>>>32-e}function nm(n,e,t,r,i,o){return ia(EL(ia(ia(e,n),ia(r,o)),i),t)}function br(n,e,t,r,i,o,l){return nm(e&t|~e&r,n,e,i,o,l)}function vr(n,e,t,r,i,o,l){return nm(e&r|t&~r,n,e,i,o,l)}function Er(n,e,t,r,i,o,l){return nm(e^t^r,n,e,i,o,l)}function _r(n,e,t,r,i,o,l){return nm(t^(e|~r),n,e,i,o,l)}var _L=OC("v3",48,yL);function xL(n,e,t){n=n||{};var r=n.random||(n.rng||kC)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=r[i];return e}return tm(r)}function AL(n,e,t,r){switch(n){case 0:return e&t^~e&r;case 1:return e^t^r;case 2:return e&t^e&r^t&r;case 3:return e^t^r}}function ty(n,e){return n<<e|n>>>32-e}function SL(n){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){var r=unescape(encodeURIComponent(n));n=[];for(var i=0;i<r.length;++i)n.push(r.charCodeAt(i))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);for(var o=n.length/4+2,l=Math.ceil(o/16),c=new Array(l),f=0;f<l;++f){for(var d=new Uint32Array(16),h=0;h<16;++h)d[h]=n[f*64+h*4]<<24|n[f*64+h*4+1]<<16|n[f*64+h*4+2]<<8|n[f*64+h*4+3];c[f]=d}c[l-1][14]=(n.length-1)*8/Math.pow(2,32),c[l-1][14]=Math.floor(c[l-1][14]),c[l-1][15]=(n.length-1)*8&4294967295;for(var b=0;b<l;++b){for(var E=new Uint32Array(80),v=0;v<16;++v)E[v]=c[b][v];for(var N=16;N<80;++N)E[N]=ty(E[N-3]^E[N-8]^E[N-14]^E[N-16],1);for(var k=t[0],I=t[1],L=t[2],F=t[3],M=t[4],Y=0;Y<80;++Y){var ie=Math.floor(Y/20),se=ty(k,5)+AL(ie,I,L,F)+M+e[ie]+E[Y]>>>0;M=F,F=L,L=ty(I,30)>>>0,I=k,k=se}t[0]=t[0]+k>>>0,t[1]=t[1]+I>>>0,t[2]=t[2]+L>>>0,t[3]=t[3]+F>>>0,t[4]=t[4]+M>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var TL=OC("v5",80,SL);const RL="00000000-0000-0000-0000-000000000000";function NL(n){if(!em(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}const CL=Object.freeze(Object.defineProperty({__proto__:null,NIL:RL,parse:MC,stringify:tm,v1:hL,v3:_L,v4:xL,v5:TL,validate:em,version:NL},Symbol.toStringTag,{value:"Module"})),LC=Y1(CL);var ny,HA;function IL(){if(HA)return ny;HA=1;const n=LC.v4;return ny=function(t,r,i,o){if(typeof t!="string")throw new TypeError(t+" must be a string");o=o||{};const l=typeof o.version=="number"?o.version:2;if(l!==1&&l!==2)throw new TypeError(l+" must be 1 or 2");const c={method:t};if(l===2&&(c.jsonrpc="2.0"),r){if(typeof r!="object"&&!Array.isArray(r))throw new TypeError(r+" must be an object, array or omitted");c.params=r}if(typeof i>"u"){const f=typeof o.generator=="function"?o.generator:function(){return n()};c.id=f(c,o)}else l===2&&i===null?o.notificationIdNull&&(c.id=null):c.id=i;return c},ny}var ry,zA;function kL(){if(zA)return ry;zA=1;const n=LC.v4,e=IL(),t=function(r,i){if(!(this instanceof t))return new t(r,i);i||(i={}),this.options={reviver:typeof i.reviver<"u"?i.reviver:null,replacer:typeof i.replacer<"u"?i.replacer:null,generator:typeof i.generator<"u"?i.generator:function(){return n()},version:typeof i.version<"u"?i.version:2,notificationIdNull:typeof i.notificationIdNull=="boolean"?i.notificationIdNull:!1},this.callServer=r};return ry=t,t.prototype.request=function(r,i,o,l){const c=this;let f=null;const d=Array.isArray(r)&&typeof i=="function";if(this.options.version===1&&d)throw new TypeError("JSON-RPC 1.0 does not support batching");if(d||!d&&r&&typeof r=="object"&&typeof i=="function")l=i,f=r;else{typeof o=="function"&&(l=o,o=void 0);const E=typeof l=="function";try{f=e(r,i,o,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(v){if(E){l(v);return}throw v}if(!E)return f}let b;try{b=JSON.stringify(f,this.options.replacer)}catch(E){l(E);return}return this.callServer(b,function(E,v){c._parseResponse(E,v,l)}),f},t.prototype._parseResponse=function(r,i,o){if(r){o(r);return}if(!i){o();return}let l;try{l=JSON.parse(i,this.options.reviver)}catch(c){o(c);return}if(o.length===3)if(Array.isArray(l)){const c=function(d){return typeof d.error<"u"},f=function(d){return!c(d)};o(null,l.filter(c),l.filter(f));return}else{o(null,l.error,l.result);return}o(null,l)},ry}var ML=kL();const OL=ss(ML);var iy={exports:{}},GA;function BL(){return GA||(GA=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(f,d,h){this.fn=f,this.context=d,this.once=h||!1}function o(f,d,h,b,E){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new i(h,b||f,E),N=t?t+d:d;return f._events[N]?f._events[N].fn?f._events[N]=[f._events[N],v]:f._events[N].push(v):(f._events[N]=v,f._eventsCount++),f}function l(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],h,b;if(this._eventsCount===0)return d;for(b in h=this._events)e.call(h,b)&&d.push(t?b.slice(1):b);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},c.prototype.listeners=function(d){var h=t?t+d:d,b=this._events[h];if(!b)return[];if(b.fn)return[b.fn];for(var E=0,v=b.length,N=new Array(v);E<v;E++)N[E]=b[E].fn;return N},c.prototype.listenerCount=function(d){var h=t?t+d:d,b=this._events[h];return b?b.fn?1:b.length:0},c.prototype.emit=function(d,h,b,E,v,N){var k=t?t+d:d;if(!this._events[k])return!1;var I=this._events[k],L=arguments.length,F,M;if(I.fn){switch(I.once&&this.removeListener(d,I.fn,void 0,!0),L){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,h),!0;case 3:return I.fn.call(I.context,h,b),!0;case 4:return I.fn.call(I.context,h,b,E),!0;case 5:return I.fn.call(I.context,h,b,E,v),!0;case 6:return I.fn.call(I.context,h,b,E,v,N),!0}for(M=1,F=new Array(L-1);M<L;M++)F[M-1]=arguments[M];I.fn.apply(I.context,F)}else{var Y=I.length,ie;for(M=0;M<Y;M++)switch(I[M].once&&this.removeListener(d,I[M].fn,void 0,!0),L){case 1:I[M].fn.call(I[M].context);break;case 2:I[M].fn.call(I[M].context,h);break;case 3:I[M].fn.call(I[M].context,h,b);break;case 4:I[M].fn.call(I[M].context,h,b,E);break;default:if(!F)for(ie=1,F=new Array(L-1);ie<L;ie++)F[ie-1]=arguments[ie];I[M].fn.apply(I[M].context,F)}}return!0},c.prototype.on=function(d,h,b){return o(this,d,h,b,!1)},c.prototype.once=function(d,h,b){return o(this,d,h,b,!0)},c.prototype.removeListener=function(d,h,b,E){var v=t?t+d:d;if(!this._events[v])return this;if(!h)return l(this,v),this;var N=this._events[v];if(N.fn)N.fn===h&&(!E||N.once)&&(!b||N.context===b)&&l(this,v);else{for(var k=0,I=[],L=N.length;k<L;k++)(N[k].fn!==h||E&&!N[k].once||b&&N[k].context!==b)&&I.push(N[k]);I.length?this._events[v]=I.length===1?I[0]:I:l(this,v)}return this},c.prototype.removeAllListeners=function(d){var h;return d?(h=t?t+d:d,this._events[h]&&l(this,h)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=t,c.EventEmitter=c,n.exports=c})(iy)),iy.exports}var LL=BL();const yb=ss(LL);var UL=class extends yb{constructor(e,t){super();Wn(this,"socket");this.socket=new window.WebSocket(e,t.protocols),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=r=>this.emit("message",r.data),this.socket.onerror=r=>this.emit("error",r),this.socket.onclose=r=>{this.emit("close",r.code,r.reason)}}send(e,t,r){const i=r||t;try{this.socket.send(e),i()}catch(o){i(o)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,r){this.socket.addEventListener(e,t,r)}};function DL(n,e){return new UL(n,e)}var PL=class{encode(n){return JSON.stringify(n)}decode(n){return JSON.parse(n)}},FL=class extends yb{constructor(e,t="ws://localhost:8080",{autoconnect:r=!0,reconnect:i=!0,reconnect_interval:o=1e3,max_reconnects:l=5,...c}={},f,d){super();Wn(this,"address");Wn(this,"rpc_id");Wn(this,"queue");Wn(this,"options");Wn(this,"autoconnect");Wn(this,"ready");Wn(this,"reconnect");Wn(this,"reconnect_timer_id");Wn(this,"reconnect_interval");Wn(this,"max_reconnects");Wn(this,"rest_options");Wn(this,"current_reconnects");Wn(this,"generate_request_id");Wn(this,"socket");Wn(this,"webSocketFactory");Wn(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=r,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=l,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=f||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),d?this.dataPack=d:this.dataPack=new PL,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,r,i){return!i&&typeof r=="object"&&(i=r,r=null),new Promise((o,l)=>{if(!this.ready)return l(new Error("socket not ready"));const c=this.generate_request_id(e,t),f={jsonrpc:"2.0",method:e,params:t||void 0,id:c};this.socket.send(this.dataPack.encode(f),i,d=>{if(d)return l(d);this.queue[c]={promise:[o,l]},r&&(this.queue[c].timeout=setTimeout(()=>{delete this.queue[c],l(new Error("reply timeout"))},r))})})}async login(e){const t=await this.call("rpc.login",e);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise((r,i)=>{if(!this.ready)return i(new Error("socket not ready"));const o={jsonrpc:"2.0",method:e,params:t};this.socket.send(this.dataPack.encode(o),l=>{if(l)return i(l);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const t=await this.call("rpc.on",e);if(typeof e=="string"&&t[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){typeof e=="string"&&(e=[e]);const t=await this.call("rpc.off",e);if(typeof e=="string"&&t[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket&&this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=nt.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const i=[r.notification];if(r.params.constructor===Object)i.push(r.params);else for(let o=0;o<r.params.length;o++)i.push(r.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",r,i),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(e,t),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",r,i),1))})}};const HL=BigInt(0),Xu=BigInt(1),zL=BigInt(2),GL=BigInt(7),qL=BigInt(256),VL=BigInt(113),UC=[],DC=[],PC=[];for(let n=0,e=Xu,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],UC.push(2*(5*r+t)),DC.push((n+1)*(n+2)/2%64);let i=HL;for(let o=0;o<7;o++)e=(e<<Xu^(e>>GL)*VL)%qL,e&zL&&(i^=Xu<<(Xu<<BigInt(o))-Xu);PC.push(i)}const FC=tC(PC,!0),KL=FC[0],WL=FC[1],qA=(n,e,t)=>t>32?BO(n,e,t):MO(n,e,t),VA=(n,e,t)=>t>32?LO(n,e,t):OO(n,e,t);function $L(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let l=0;l<10;l++)t[l]=n[l]^n[l+10]^n[l+20]^n[l+30]^n[l+40];for(let l=0;l<10;l+=2){const c=(l+8)%10,f=(l+2)%10,d=t[f],h=t[f+1],b=qA(d,h,1)^t[c],E=VA(d,h,1)^t[c+1];for(let v=0;v<50;v+=10)n[l+v]^=b,n[l+v+1]^=E}let i=n[2],o=n[3];for(let l=0;l<24;l++){const c=DC[l],f=qA(i,o,c),d=VA(i,o,c),h=UC[l];i=n[h],o=n[h+1],n[h]=f,n[h+1]=d}for(let l=0;l<50;l+=10){for(let c=0;c<10;c++)t[c]=n[l+c];for(let c=0;c<10;c++)n[l+c]^=~t[(c+2)%10]&t[(c+4)%10]}n[0]^=KL[r],n[1]^=WL[r]}ua(t)}class wb extends ib{constructor(e,t,r,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=o,Mf(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=_O(this.state)}clone(){return this._cloneInto()}keccak(){yA(this.state32),$L(this.state32,this.rounds),yA(this.state32),this.posOut=0,this.pos=0}update(e){zc(this),e=Zp(e),ts(e);const{blockLen:t,state:r}=this,i=e.length;for(let o=0;o<i;){const l=Math.min(t-this.pos,i-o);for(let c=0;c<l;c++)r[this.pos++]^=e[o++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,(t&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){zc(this,!1),ts(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const l=Math.min(r-this.posOut,o-i);e.set(t.subarray(this.posOut,this.posOut+l),i),this.posOut+=l,i+=l}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Mf(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(XN(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ua(this.state)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:o,enableXOF:l}=this;return e||(e=new wb(t,r,i,l,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=l,e.destroyed=this.destroyed,e}}const jL=(n,e,t)=>ob(()=>new wb(e,n,t)),KA=jL(1,136,256/8);class HC extends ib{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,ZN(e);const r=Zp(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let l=0;l<o.length;l++)o[l]^=54;this.iHash.update(o),this.oHash=e.create();for(let l=0;l<o.length;l++)o[l]^=106;this.oHash.update(o),ua(o)}update(e){return zc(this),this.iHash.update(e),this}digestInto(e){zc(this),ts(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:i,destroyed:o,blockLen:l,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=l,e.outputLen=c,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const zC=(n,e,t)=>new HC(n,e).update(t).digest();zC.create=(n,e)=>new HC(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const WA=(n,e)=>(n+(n>=0?e:-e)/GC)/e;function YL(n,e,t){const[[r,i],[o,l]]=e,c=WA(l*n,t),f=WA(-i*n,t);let d=n-c*r-f*o,h=-c*i-f*l;const b=d<Jo,E=h<Jo;b&&(d=-d),E&&(h=-h);const v=Wf(Math.ceil(sC(t)/2))+Oc;if(d<Jo||d>=v||h<Jo||h>=v)throw new Error("splitScalar (endomorphism): failed, k="+n);return{k1neg:b,k1:d,k2neg:E,k2:h}}function Gw(n){if(!["compact","recovered","der"].includes(n))throw new Error('Signature format must be "compact", "recovered", or "der"');return n}function oy(n,e){const t={};for(let r of Object.keys(e))t[r]=n[r]===void 0?e[r]:n[r];return il(t.lowS,"lowS"),il(t.prehash,"prehash"),t.format!==void 0&&Gw(t.format),t}class JL extends Error{constructor(e=""){super(e)}}const Go={Err:JL,_tlv:{encode:(n,e)=>{const{Err:t}=Go;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");const r=e.length/2,i=yh(r);if(i.length/2&128)throw new t("tlv.encode: long form length too big");const o=r>127?yh(i.length/2|128):"";return yh(n)+o+i+e},decode(n,e){const{Err:t}=Go;let r=0;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[r++]!==n)throw new t("tlv.decode: wrong tlv");const i=e[r++],o=!!(i&128);let l=0;if(!o)l=i;else{const f=i&127;if(!f)throw new t("tlv.decode(long): indefinite length not supported");if(f>4)throw new t("tlv.decode(long): byte length is too big");const d=e.subarray(r,r+f);if(d.length!==f)throw new t("tlv.decode: length bytes not complete");if(d[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(const h of d)l=l<<8|h;if(r+=f,l<128)throw new t("tlv.decode(long): not minimal encoding")}const c=e.subarray(r,r+l);if(c.length!==l)throw new t("tlv.decode: wrong value length");return{v:c,l:e.subarray(r+l)}}},_int:{encode(n){const{Err:e}=Go;if(n<Jo)throw new e("integer: negative integers are not allowed");let t=yh(n);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(n){const{Err:e}=Go;if(n[0]&128)throw new e("invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Xp(n)}},toSig(n){const{Err:e,_int:t,_tlv:r}=Go,i=Ln("signature",n),{v:o,l}=r.decode(48,i);if(l.length)throw new e("invalid signature: left bytes after parsing");const{v:c,l:f}=r.decode(2,o),{v:d,l:h}=r.decode(2,f);if(h.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(c),s:t.decode(d)}},hexFromSig(n){const{_tlv:e,_int:t}=Go,r=e.encode(2,t.encode(n.r)),i=e.encode(2,t.encode(n.s)),o=r+i;return e.encode(48,o)}},Jo=BigInt(0),Oc=BigInt(1),GC=BigInt(2),vh=BigInt(3),ZL=BigInt(4);function xc(n,e){const{BYTES:t}=n;let r;if(typeof e=="bigint")r=e;else{let i=Ln("private key",e);try{r=n.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${t}, got ${typeof e}`)}}if(!n.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function XL(n,e={}){const t=_C("weierstrass",n,e),{Fp:r,Fn:i}=t;let o=t.CURVE;const{h:l,n:c}=o;$f(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:f}=e;if(f&&(!r.is0(o.a)||typeof f.beta!="bigint"||!Array.isArray(f.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const d=VC(r,i);function h(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function b(W,O,g){const{x:T,y:C}=O.toAffine(),q=r.toBytes(T);if(il(g,"isCompressed"),g){h();const j=!r.isOdd(C);return no(qC(j),q)}else return no(Uint8Array.of(4),q,r.toBytes(C))}function E(W){Ni(W,void 0,"Point");const{publicKey:O,publicKeyUncompressed:g}=d,T=W.length,C=W[0],q=W.subarray(1);if(T===O&&(C===2||C===3)){const j=r.fromBytes(q);if(!r.isValid(j))throw new Error("bad point: is not on curve, wrong x");const K=k(j);let B;try{B=r.sqrt(K)}catch(R){const G=R instanceof Error?": "+R.message:"";throw new Error("bad point: is not on curve, sqrt error"+G)}h();const A=r.isOdd(B);return(C&1)===1!==A&&(B=r.neg(B)),{x:j,y:B}}else if(T===g&&C===4){const j=r.BYTES,K=r.fromBytes(q.subarray(0,j)),B=r.fromBytes(q.subarray(j,j*2));if(!I(K,B))throw new Error("bad point: is not on curve");return{x:K,y:B}}else throw new Error(`bad point: got length ${T}, expected compressed=${O} or uncompressed=${g}`)}const v=e.toBytes||b,N=e.fromBytes||E;function k(W){const O=r.sqr(W),g=r.mul(O,W);return r.add(r.add(g,r.mul(W,o.a)),o.b)}function I(W,O){const g=r.sqr(O),T=k(W);return r.eql(g,T)}if(!I(o.Gx,o.Gy))throw new Error("bad curve params: generator point");const L=r.mul(r.pow(o.a,vh),ZL),F=r.mul(r.sqr(o.b),BigInt(27));if(r.is0(r.add(L,F)))throw new Error("bad curve params: a or b");function M(W,O,g=!1){if(!r.isValid(O)||g&&r.is0(O))throw new Error(`bad point coordinate ${W}`);return O}function Y(W){if(!(W instanceof J))throw new Error("ProjectivePoint expected")}function ie(W){if(!f||!f.basises)throw new Error("no endo");return YL(W,f.basises,i.ORDER)}const se=_p((W,O)=>{const{X:g,Y:T,Z:C}=W;if(r.eql(C,r.ONE))return{x:g,y:T};const q=W.is0();O==null&&(O=q?r.ONE:r.inv(C));const j=r.mul(g,O),K=r.mul(T,O),B=r.mul(C,O);if(q)return{x:r.ZERO,y:r.ZERO};if(!r.eql(B,r.ONE))throw new Error("invZ was invalid");return{x:j,y:K}}),re=_p(W=>{if(W.is0()){if(e.allowInfinityPoint&&!r.is0(W.Y))return;throw new Error("bad point: ZERO")}const{x:O,y:g}=W.toAffine();if(!r.isValid(O)||!r.isValid(g))throw new Error("bad point: x or y not field elements");if(!I(O,g))throw new Error("bad point: equation left != right");if(!W.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function ae(W,O,g,T,C){return g=new J(r.mul(g.X,W),g.Y,g.Z),O=xp(T,O),g=xp(C,g),O.add(g)}class J{constructor(O,g,T){this.X=M("x",O),this.Y=M("y",g,!0),this.Z=M("z",T),Object.freeze(this)}static CURVE(){return o}static fromAffine(O){const{x:g,y:T}=O||{};if(!O||!r.isValid(g)||!r.isValid(T))throw new Error("invalid affine point");if(O instanceof J)throw new Error("projective point not allowed");return r.is0(g)&&r.is0(T)?J.ZERO:new J(g,T,r.ONE)}static fromBytes(O){const g=J.fromAffine(N(Ni(O,void 0,"point")));return g.assertValidity(),g}static fromHex(O){return J.fromBytes(Ln("pointHex",O))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(O=8,g=!0){return Z.createCache(this,O),g||this.multiply(vh),this}assertValidity(){re(this)}hasEvenY(){const{y:O}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(O)}equals(O){Y(O);const{X:g,Y:T,Z:C}=this,{X:q,Y:j,Z:K}=O,B=r.eql(r.mul(g,K),r.mul(q,C)),A=r.eql(r.mul(T,K),r.mul(j,C));return B&&A}negate(){return new J(this.X,r.neg(this.Y),this.Z)}double(){const{a:O,b:g}=o,T=r.mul(g,vh),{X:C,Y:q,Z:j}=this;let K=r.ZERO,B=r.ZERO,A=r.ZERO,y=r.mul(C,C),R=r.mul(q,q),G=r.mul(j,j),X=r.mul(C,q);return X=r.add(X,X),A=r.mul(C,j),A=r.add(A,A),K=r.mul(O,A),B=r.mul(T,G),B=r.add(K,B),K=r.sub(R,B),B=r.add(R,B),B=r.mul(K,B),K=r.mul(X,K),A=r.mul(T,A),G=r.mul(O,G),X=r.sub(y,G),X=r.mul(O,X),X=r.add(X,A),A=r.add(y,y),y=r.add(A,y),y=r.add(y,G),y=r.mul(y,X),B=r.add(B,y),G=r.mul(q,j),G=r.add(G,G),y=r.mul(G,X),K=r.sub(K,y),A=r.mul(G,R),A=r.add(A,A),A=r.add(A,A),new J(K,B,A)}add(O){Y(O);const{X:g,Y:T,Z:C}=this,{X:q,Y:j,Z:K}=O;let B=r.ZERO,A=r.ZERO,y=r.ZERO;const R=o.a,G=r.mul(o.b,vh);let X=r.mul(g,q),ue=r.mul(T,j),be=r.mul(C,K),De=r.add(g,T),Ue=r.add(q,j);De=r.mul(De,Ue),Ue=r.add(X,ue),De=r.sub(De,Ue),Ue=r.add(g,C);let ct=r.add(q,K);return Ue=r.mul(Ue,ct),ct=r.add(X,be),Ue=r.sub(Ue,ct),ct=r.add(T,C),B=r.add(j,K),ct=r.mul(ct,B),B=r.add(ue,be),ct=r.sub(ct,B),y=r.mul(R,Ue),B=r.mul(G,be),y=r.add(B,y),B=r.sub(ue,y),y=r.add(ue,y),A=r.mul(B,y),ue=r.add(X,X),ue=r.add(ue,X),be=r.mul(R,be),Ue=r.mul(G,Ue),ue=r.add(ue,be),be=r.sub(X,be),be=r.mul(R,be),Ue=r.add(Ue,be),X=r.mul(ue,Ue),A=r.add(A,X),X=r.mul(ct,Ue),B=r.mul(De,B),B=r.sub(B,X),X=r.mul(De,ue),y=r.mul(ct,y),y=r.add(y,X),new J(B,A,y)}subtract(O){return this.add(O.negate())}is0(){return this.equals(J.ZERO)}multiply(O){const{endo:g}=e;if(!i.isValidNot0(O))throw new Error("invalid scalar: out of range");let T,C;const q=j=>Z.cached(this,j,K=>Ka(J,K));if(g){const{k1neg:j,k1:K,k2neg:B,k2:A}=ie(O),{p:y,f:R}=q(K),{p:G,f:X}=q(A);C=R.add(X),T=ae(g.beta,y,G,j,B)}else{const{p:j,f:K}=q(O);T=j,C=K}return Ka(J,[T,C])[0]}multiplyUnsafe(O){const{endo:g}=e,T=this;if(!i.isValid(O))throw new Error("invalid scalar: out of range");if(O===Jo||T.is0())return J.ZERO;if(O===Oc)return T;if(Z.hasCache(this))return this.multiply(O);if(g){const{k1neg:C,k1:q,k2neg:j,k2:K}=ie(O),{p1:B,p2:A}=lB(J,T,q,K);return ae(g.beta,B,A,C,j)}else return Z.unsafe(T,O)}multiplyAndAddUnsafe(O,g,T){const C=this.multiplyUnsafe(g).add(O.multiplyUnsafe(T));return C.is0()?void 0:C}toAffine(O){return se(this,O)}isTorsionFree(){const{isTorsionFree:O}=e;return l===Oc?!0:O?O(J,this):Z.unsafe(this,c).is0()}clearCofactor(){const{clearCofactor:O}=e;return l===Oc?this:O?O(J,this):this.multiplyUnsafe(l)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}toBytes(O=!0){return il(O,"isCompressed"),this.assertValidity(),v(J,this,O)}toHex(O=!0){return nl(this.toBytes(O))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(O=!0){return this.toBytes(O)}_setWindowSize(O){this.precompute(O)}static normalizeZ(O){return Ka(J,O)}static msm(O,g){return EC(J,i,O,g)}static fromPrivateKey(O){return J.BASE.multiply(xc(i,O))}}J.BASE=new J(o.Gx,o.Gy,r.ONE),J.ZERO=new J(r.ZERO,r.ONE,r.ZERO),J.Fp=r,J.Fn=i;const Q=i.BITS,Z=new vC(J,e.endo?Math.ceil(Q/2):Q);return J.BASE.precompute(8),J}function qC(n){return Uint8Array.of(n?2:3)}function VC(n,e){return{secretKey:e.BYTES,publicKey:1+n.BYTES,publicKeyUncompressed:1+2*n.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function QL(n,e={}){const{Fn:t}=n,r=e.randomBytes||sb,i=Object.assign(VC(n.Fp,t),{seed:yC(t.ORDER)});function o(v){try{return!!xc(t,v)}catch{return!1}}function l(v,N){const{publicKey:k,publicKeyUncompressed:I}=i;try{const L=v.length;return N===!0&&L!==k||N===!1&&L!==I?!1:!!n.fromBytes(v)}catch{return!1}}function c(v=r(i.seed)){return oB(Ni(v,i.seed,"seed"),t.ORDER)}function f(v,N=!0){return n.BASE.multiply(xc(t,v)).toBytes(N)}function d(v){const N=c(v);return{secretKey:N,publicKey:f(N)}}function h(v){if(typeof v=="bigint")return!1;if(v instanceof n)return!0;const{secretKey:N,publicKey:k,publicKeyUncompressed:I}=i;if(t.allowedLengths||N===k)return;const L=Ln("key",v).length;return L===k||L===I}function b(v,N,k=!0){if(h(v)===!0)throw new Error("first arg must be private key");if(h(N)===!1)throw new Error("second arg must be public key");const I=xc(t,v);return n.fromHex(N).multiply(I).toBytes(k)}return Object.freeze({getPublicKey:f,getSharedSecret:b,keygen:d,Point:n,utils:{isValidSecretKey:o,isValidPublicKey:l,randomSecretKey:c,isValidPrivateKey:o,randomPrivateKey:c,normPrivateKeyToScalar:v=>xc(t,v),precompute(v=8,N=n.BASE){return N.precompute(v,!1)}},lengths:i})}function eU(n,e,t={}){ZN(e),$f(t,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=t.randomBytes||sb,i=t.hmac||((g,...T)=>zC(e,g,no(...T))),{Fp:o,Fn:l}=n,{ORDER:c,BITS:f}=l,{keygen:d,getPublicKey:h,getSharedSecret:b,utils:E,lengths:v}=QL(n,t),N={prehash:!1,lowS:typeof t.lowS=="boolean"?t.lowS:!1,format:void 0,extraEntropy:!1},k="compact";function I(g){const T=c>>Oc;return g>T}function L(g,T){if(!l.isValidNot0(T))throw new Error(`invalid signature ${g}: out of range 1..Point.Fn.ORDER`);return T}function F(g,T){Gw(T);const C=v.signature,q=T==="compact"?C:T==="recovered"?C+1:void 0;return Ni(g,q,`${T} signature`)}class M{constructor(T,C,q){this.r=L("r",T),this.s=L("s",C),q!=null&&(this.recovery=q),Object.freeze(this)}static fromBytes(T,C=k){F(T,C);let q;if(C==="der"){const{r:A,s:y}=Go.toSig(Ni(T));return new M(A,y)}C==="recovered"&&(q=T[0],C="compact",T=T.subarray(1));const j=l.BYTES,K=T.subarray(0,j),B=T.subarray(j,j*2);return new M(l.fromBytes(K),l.fromBytes(B),q)}static fromHex(T,C){return this.fromBytes(Ep(T),C)}addRecoveryBit(T){return new M(this.r,this.s,T)}recoverPublicKey(T){const C=o.ORDER,{r:q,s:j,recovery:K}=this;if(K==null||![0,1,2,3].includes(K))throw new Error("recovery id invalid");if(c*GC<C&&K>1)throw new Error("recovery id is ambiguous for h>1 curve");const A=K===2||K===3?q+c:q;if(!o.isValid(A))throw new Error("recovery id 2 or 3 invalid");const y=o.toBytes(A),R=n.fromBytes(no(qC((K&1)===0),y)),G=l.inv(A),X=ie(Ln("msgHash",T)),ue=l.create(-X*G),be=l.create(j*G),De=n.BASE.multiplyUnsafe(ue).add(R.multiplyUnsafe(be));if(De.is0())throw new Error("point at infinify");return De.assertValidity(),De}hasHighS(){return I(this.s)}toBytes(T=k){if(Gw(T),T==="der")return Ep(Go.hexFromSig(this));const C=l.toBytes(this.r),q=l.toBytes(this.s);if(T==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return no(Uint8Array.of(this.recovery),C,q)}return no(C,q)}toHex(T){return nl(this.toBytes(T))}assertValidity(){}static fromCompact(T){return M.fromBytes(Ln("sig",T),"compact")}static fromDER(T){return M.fromBytes(Ln("sig",T),"der")}normalizeS(){return this.hasHighS()?new M(this.r,l.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return nl(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return nl(this.toBytes("compact"))}}const Y=t.bits2int||function(T){if(T.length>8192)throw new Error("input is too large");const C=Xp(T),q=T.length*8-f;return q>0?C>>BigInt(q):C},ie=t.bits2int_modN||function(T){return l.create(Y(T))},se=Wf(f);function re(g){return zw("num < 2^"+f,g,Jo,se),l.toBytes(g)}function ae(g,T){return Ni(g,void 0,"message"),T?Ni(e(g),void 0,"prehashed message"):g}function J(g,T,C){if(["recovered","canonical"].some(ue=>ue in C))throw new Error("sign() legacy options not supported");const{lowS:q,prehash:j,extraEntropy:K}=oy(C,N);g=ae(g,j);const B=ie(g),A=xc(l,T),y=[re(A),re(B)];if(K!=null&&K!==!1){const ue=K===!0?r(v.secretKey):K;y.push(Ln("extraEntropy",ue))}const R=no(...y),G=B;function X(ue){const be=Y(ue);if(!l.isValidNot0(be))return;const De=l.inv(be),Ue=n.BASE.multiply(be).toAffine(),ct=l.create(Ue.x);if(ct===Jo)return;const ot=l.create(De*l.create(G+ct*A));if(ot===Jo)return;let Rt=(Ue.x===ct?0:2)|Number(Ue.y&Oc),lr=ot;return q&&I(ot)&&(lr=l.neg(ot),Rt^=1),new M(ct,lr,Rt)}return{seed:R,k2sig:X}}function Q(g,T,C={}){g=Ln("message",g);const{seed:q,k2sig:j}=J(g,T,C);return YO(e.outputLen,l.BYTES,i)(q,j)}function Z(g){let T;const C=typeof g=="string"||Kf(g),q=!C&&g!==null&&typeof g=="object"&&typeof g.r=="bigint"&&typeof g.s=="bigint";if(!C&&!q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(q)T=new M(g.r,g.s);else if(C){try{T=M.fromBytes(Ln("sig",g),"der")}catch(j){if(!(j instanceof Go.Err))throw j}if(!T)try{T=M.fromBytes(Ln("sig",g),"compact")}catch{return!1}}return T||!1}function W(g,T,C,q={}){const{lowS:j,prehash:K,format:B}=oy(q,N);if(C=Ln("publicKey",C),T=ae(Ln("message",T),K),"strict"in q)throw new Error("options.strict was renamed to lowS");const A=B===void 0?Z(g):M.fromBytes(Ln("sig",g),B);if(A===!1)return!1;try{const y=n.fromBytes(C);if(j&&A.hasHighS())return!1;const{r:R,s:G}=A,X=ie(T),ue=l.inv(G),be=l.create(X*ue),De=l.create(R*ue),Ue=n.BASE.multiplyUnsafe(be).add(y.multiplyUnsafe(De));return Ue.is0()?!1:l.create(Ue.x)===R}catch{return!1}}function O(g,T,C={}){const{prehash:q}=oy(C,N);return T=ae(T,q),M.fromBytes(g,"recovered").recoverPublicKey(T).toBytes()}return Object.freeze({keygen:d,getPublicKey:h,getSharedSecret:b,utils:E,lengths:v,Point:n,sign:Q,verify:W,recoverPublicKey:O,Signature:M,hash:e})}function tU(n){const e={a:n.a,b:n.b,p:n.Fp.ORDER,n:n.n,h:n.h,Gx:n.Gx,Gy:n.Gy},t=n.Fp;let r=n.allowedPrivateKeyLengths?Array.from(new Set(n.allowedPrivateKeyLengths.map(l=>Math.ceil(l/2)))):void 0;const i=fl(e.n,{BITS:n.nBitLength,allowedLengths:r,modFromBytes:n.wrapPrivateKey}),o={Fp:t,Fn:i,allowInfinityPoint:n.allowInfinityPoint,endo:n.endo,isTorsionFree:n.isTorsionFree,clearCofactor:n.clearCofactor,fromBytes:n.fromBytes,toBytes:n.toBytes};return{CURVE:e,curveOpts:o}}function nU(n){const{CURVE:e,curveOpts:t}=tU(n),r={hmac:n.hmac,randomBytes:n.randomBytes,lowS:n.lowS,bits2int:n.bits2int,bits2int_modN:n.bits2int_modN};return{CURVE:e,curveOpts:t,hash:n.hash,ecdsaOpts:r}}function rU(n,e){const t=e.Point;return Object.assign({},e,{ProjectivePoint:t,CURVE:Object.assign({},n,mC(t.Fn.ORDER,t.Fn.BITS))})}function iU(n){const{CURVE:e,curveOpts:t,hash:r,ecdsaOpts:i}=nU(n),o=XL(e,t),l=eU(o,r,i);return rU(n,l)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function oU(n,e){const t=r=>iU({...n,hash:r});return{...t(e),create:t}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bb={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},sU={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},$A=BigInt(2);function aU(n){const e=bb.p,t=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),l=BigInt(23),c=BigInt(44),f=BigInt(88),d=n*n*n%e,h=d*d*n%e,b=Bn(h,t,e)*h%e,E=Bn(b,t,e)*h%e,v=Bn(E,$A,e)*d%e,N=Bn(v,i,e)*v%e,k=Bn(N,o,e)*N%e,I=Bn(k,c,e)*k%e,L=Bn(I,f,e)*I%e,F=Bn(L,c,e)*k%e,M=Bn(F,t,e)*h%e,Y=Bn(M,l,e)*N%e,ie=Bn(Y,r,e)*d%e,se=Bn(ie,$A,e);if(!qw.eql(qw.sqr(se),n))throw new Error("Cannot find square root");return se}const qw=fl(bb.p,{sqrt:aU}),vb=oU({...bb,Fp:qw,lowS:!0,endo:sU},rC),lU=Jc.utils.randomPrivateKey,jA=()=>{const n=Jc.utils.randomPrivateKey(),e=Cp(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},Cp=Jc.getPublicKey;function YA(n){try{return Jc.ExtendedPoint.fromHex(n),!0}catch{return!1}}const Eb=(n,e)=>Jc.sign(n,e.slice(0,32)),cU=Jc.verify,It=n=>nt.isBuffer(n)?n:n instanceof Uint8Array?nt.from(n.buffer,n.byteOffset,n.byteLength):nt.from(n);let _b=class{constructor(e){Object.assign(this,e)}encode(){return nt.from(Jg.serialize(Ef,this))}static decode(e){return Jg.deserialize(Ef,this,e)}static decodeUnchecked(e){return Jg.deserializeUnchecked(Ef,this,e)}};class uU extends _b{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const Ef=new Map;var KC;const WC=32,ao=32;function fU(n){return n._bn!==void 0}let JA=1;class we extends _b{constructor(e){if(super({}),this._bn=void 0,fU(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Un.decode(e);if(t.length!=ao)throw new Error("Invalid public key input");this._bn=new Hr(t)}else this._bn=new Hr(e);if(this._bn.byteLength()>ao)throw new Error("Invalid public key input")}}static unique(){const e=new we(JA);return JA+=1,new we(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Un.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(nt);if(e.length===ao)return e;const t=nt.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const i=nt.concat([e.toBuffer(),nt.from(t),r.toBuffer()]),o=LA(i);return new we(o)}static createProgramAddressSync(e,t){let r=nt.alloc(0);e.forEach(function(o){if(o.length>WC)throw new TypeError("Max seed length exceeded");r=nt.concat([r,It(o)])}),r=nt.concat([r,t.toBuffer(),nt.from("ProgramDerivedAddress")]);const i=LA(r);if(YA(i))throw new Error("Invalid seeds, address must fall off the curve");return new we(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,i;for(;r!=0;){try{const o=e.concat(nt.from([r]));i=this.createProgramAddressSync(o,t)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new we(e);return YA(t.toBytes())}}KC=we;we.default=new KC("11111111111111111111111111111111");Ef.set(we,{kind:"struct",fields:[["_bn","u256"]]});class dU{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=It(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=It(lU()),this._publicKey=It(Cp(this._secretKey))}get publicKey(){return new we(this._publicKey)}get secretKey(){return nt.concat([this._secretKey,this._publicKey],64)}}const hU=new we("BPFLoader1111111111111111111111111111111111"),la=1232,rm=127,Vc=64;class xb extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(xb.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Ab extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Ab.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Ac extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Ac.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Bf{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,l)=>{r.set(o.toBase58(),l)});const i=o=>{const l=r.get(o.toBase58());if(l===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return l};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(l=>i(l.pubkey)),data:o.data}))}}const Bt=(n="publicKey")=>de.blob(32,n),pU=(n="signature")=>de.blob(64,n),Wa=(n="string")=>{const e=de.struct([de.u32("length"),de.u32("lengthPadding"),de.blob(de.offset(de.u32(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(o,l)=>t(o,l).chars.toString(),i.encode=(o,l,c)=>{const f={chars:nt.from(o,"utf8")};return r(f,l,c)},i.alloc=o=>de.u32().span+de.u32().span+nt.from(o,"utf8").length,i},mU=(n="authorized")=>de.struct([Bt("staker"),Bt("withdrawer")],n),gU=(n="lockup")=>de.struct([de.ns64("unixTimestamp"),de.ns64("epoch"),Bt("custodian")],n),yU=(n="voteInit")=>de.struct([Bt("nodePubkey"),Bt("authorizedVoter"),Bt("authorizedWithdrawer"),de.u8("commission")],n),wU=(n="voteAuthorizeWithSeedArgs")=>de.struct([de.u32("voteAuthorizationType"),Bt("currentAuthorityDerivedKeyOwnerPubkey"),Wa("currentAuthorityDerivedKeySeed"),Bt("newAuthorized")],n);function $C(n,e){const t=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const o=e[i.property];if(Array.isArray(o))return o.length*t(i.elementLayout)}else if("fields"in i)return $C({layout:i},e[i.property]);return 0};let r=0;return n.layout.fields.forEach(i=>{r+=t(i)}),r}function Pr(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function ri(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Yt(n,e){if(!n)throw new Error(e||"Assertion failed")}class im{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,i=l=>{const c=l.toBase58();let f=r.get(c);return f===void 0&&(f={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(c,f)),f},o=i(t);o.isSigner=!0,o.isWritable=!0;for(const l of e){i(l.programId).isInvoked=!0;for(const c of l.keys){const f=i(c.pubkey);f.isSigner||(f.isSigner=c.isSigner),f.isWritable||(f.isWritable=c.isWritable)}}return new im(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Yt(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,f])=>f.isSigner&&f.isWritable),r=e.filter(([,f])=>f.isSigner&&!f.isWritable),i=e.filter(([,f])=>!f.isSigner&&f.isWritable),o=e.filter(([,f])=>!f.isSigner&&!f.isWritable),l={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{Yt(t.length>0,"Expected at least one writable signer key");const[f]=t[0];Yt(f===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const c=[...t.map(([f])=>new we(f)),...r.map(([f])=>new we(f)),...i.map(([f])=>new we(f)),...o.map(([f])=>new we(f))];return[l,c]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,l=>!l.isSigner&&!l.isInvoked&&l.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,l=>!l.isSigner&&!l.isInvoked&&!l.isWritable);if(!(t.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(e,t){const r=new Array,i=new Array;for(const[o,l]of this.keyMetaMap.entries())if(t(l)){const c=new we(o),f=e.findIndex(d=>d.equals(c));f>=0&&(Yt(f<256,"Max lookup table index exceeded"),r.push(f),i.push(c),this.keyMetaMap.delete(o))}return[r,i]}}const jC="Reached end of buffer unexpectedly";function ro(n){if(n.length===0)throw new Error(jC);return n.shift()}function Fr(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(jC);return n.splice(...e)}class Mi{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new we(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Un.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Bf(this.staticAccountKeys)}static compile(e){const t=im.compile(e.instructions,e.payerKey),[r,i]=t.getMessageComponents(),l=new Bf(i).compileInstructions(e.instructions).map(c=>({programIdIndex:c.programIdIndex,accounts:c.accountKeyIndexes,data:Un.encode(c.data)}));return new Mi({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:l})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,o=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];ri(t,e);const r=this.instructions.map(b=>{const{accounts:E,programIdIndex:v}=b,N=Array.from(Un.decode(b.data));let k=[];ri(k,E.length);let I=[];return ri(I,N.length),{programIdIndex:v,keyIndicesCount:nt.from(k),keyIndices:E,dataLength:nt.from(I),data:N}});let i=[];ri(i,r.length);let o=nt.alloc(la);nt.from(i).copy(o);let l=i.length;r.forEach(b=>{const v=de.struct([de.u8("programIdIndex"),de.blob(b.keyIndicesCount.length,"keyIndicesCount"),de.seq(de.u8("keyIndex"),b.keyIndices.length,"keyIndices"),de.blob(b.dataLength.length,"dataLength"),de.seq(de.u8("userdatum"),b.data.length,"data")]).encode(b,o,l);l+=v}),o=o.slice(0,l);const c=de.struct([de.blob(1,"numRequiredSignatures"),de.blob(1,"numReadonlySignedAccounts"),de.blob(1,"numReadonlyUnsignedAccounts"),de.blob(t.length,"keyCount"),de.seq(Bt("key"),e,"keys"),Bt("recentBlockhash")]),f={numRequiredSignatures:nt.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:nt.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:nt.from([this.header.numReadonlyUnsignedAccounts]),keyCount:nt.from(t),keys:this.accountKeys.map(b=>It(b.toBytes())),recentBlockhash:Un.decode(this.recentBlockhash)};let d=nt.alloc(2048);const h=c.encode(f,d);return o.copy(d,h),d.slice(0,h+o.length)}static from(e){let t=[...e];const r=ro(t);if(r!==(r&rm))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=ro(t),o=ro(t),l=Pr(t);let c=[];for(let E=0;E<l;E++){const v=Fr(t,0,ao);c.push(new we(nt.from(v)))}const f=Fr(t,0,ao),d=Pr(t);let h=[];for(let E=0;E<d;E++){const v=ro(t),N=Pr(t),k=Fr(t,0,N),I=Pr(t),L=Fr(t,0,I),F=Un.encode(nt.from(L));h.push({programIdIndex:v,accounts:k,data:F})}const b={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:Un.encode(nt.from(f)),accountKeys:c,instructions:h};return new Mi(b)}}class ol{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Bf(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,o=this.addressTableLookups.reduce((l,c)=>l+c.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){const i=e-t,l=r-t-this.header.numReadonlyUnsignedAccounts;return i<l}else{const i=t-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(o=>o.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<i.state.addresses.length)t.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<i.state.addresses.length)t.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=im.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(const h of o){const b=t.extractTableLookup(h);if(b!==void 0){const[E,{writable:v,readonly:N}]=b;r.push(E),i.writable.push(...v),i.readonly.push(...N)}}const[l,c]=t.getMessageComponents(),d=new Bf(c,i).compileInstructions(e.instructions);return new ol({header:l,staticAccountKeys:c,recentBlockhash:e.recentBlockhash,compiledInstructions:d,addressTableLookups:r})}serialize(){const e=Array();ri(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();ri(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),o=Array();ri(o,this.addressTableLookups.length);const l=de.struct([de.u8("prefix"),de.struct([de.u8("numRequiredSignatures"),de.u8("numReadonlySignedAccounts"),de.u8("numReadonlyUnsignedAccounts")],"header"),de.blob(e.length,"staticAccountKeysLength"),de.seq(Bt(),this.staticAccountKeys.length,"staticAccountKeys"),Bt("recentBlockhash"),de.blob(r.length,"instructionsLength"),de.blob(t.length,"serializedInstructions"),de.blob(o.length,"addressTableLookupsLength"),de.blob(i.length,"serializedAddressTableLookups")]),c=new Uint8Array(la),d=l.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(h=>h.toBytes()),recentBlockhash:Un.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},c);return c.slice(0,d)}serializeInstructions(){let e=0;const t=new Uint8Array(la);for(const r of this.compiledInstructions){const i=Array();ri(i,r.accountKeyIndexes.length);const o=Array();ri(o,r.data.length);const l=de.struct([de.u8("programIdIndex"),de.blob(i.length,"encodedAccountKeyIndexesLength"),de.seq(de.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),de.blob(o.length,"encodedDataLength"),de.blob(r.data.length,"data")]);e+=l.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(la);for(const r of this.addressTableLookups){const i=Array();ri(i,r.writableIndexes.length);const o=Array();ri(o,r.readonlyIndexes.length);const l=de.struct([Bt("accountKey"),de.blob(i.length,"encodedWritableIndexesLength"),de.seq(de.u8(),r.writableIndexes.length,"writableIndexes"),de.blob(o.length,"encodedReadonlyIndexesLength"),de.seq(de.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=l.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=ro(t),i=r&rm;Yt(r!==i,"Expected versioned message but received legacy message");const o=i;Yt(o===0,`Expected versioned message with version 0 but found version ${o}`);const l={numRequiredSignatures:ro(t),numReadonlySignedAccounts:ro(t),numReadonlyUnsignedAccounts:ro(t)},c=[],f=Pr(t);for(let N=0;N<f;N++)c.push(new we(Fr(t,0,ao)));const d=Un.encode(Fr(t,0,ao)),h=Pr(t),b=[];for(let N=0;N<h;N++){const k=ro(t),I=Pr(t),L=Fr(t,0,I),F=Pr(t),M=new Uint8Array(Fr(t,0,F));b.push({programIdIndex:k,accountKeyIndexes:L,data:M})}const E=Pr(t),v=[];for(let N=0;N<E;N++){const k=new we(Fr(t,0,ao)),I=Pr(t),L=Fr(t,0,I),F=Pr(t),M=Fr(t,0,F);v.push({accountKey:k,writableIndexes:L,readonlyIndexes:M})}return new ol({header:l,staticAccountKeys:c,recentBlockhash:d,compiledInstructions:b,addressTableLookups:v})}}const om={deserializeMessageVersion(n){const e=n[0],t=e&rm;return t===e?"legacy":t},deserialize:n=>{const e=om.deserializeMessageVersion(n);if(e==="legacy")return Mi.from(n);if(e===0)return ol.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Ho=(function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n})({});const bU=nt.alloc(Vc).fill(0);class sn{constructor(e){this.keys=void 0,this.programId=void 0,this.data=nt.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Lt{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new sn(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let k=0;k<t.length;k++)if(t[k].programId===void 0)throw new Error(`Transaction instruction index ${k} has undefined program id`);const i=[],o=[];t.forEach(k=>{k.keys.forEach(L=>{o.push({...L})});const I=k.programId.toString();i.includes(I)||i.push(I)}),i.forEach(k=>{o.push({pubkey:new we(k),isSigner:!1,isWritable:!1})});const l=[];o.forEach(k=>{const I=k.pubkey.toString(),L=l.findIndex(F=>F.pubkey.toString()===I);L>-1?(l[L].isWritable=l[L].isWritable||k.isWritable,l[L].isSigner=l[L].isSigner||k.isSigner):l.push(k)}),l.sort(function(k,I){if(k.isSigner!==I.isSigner)return k.isSigner?-1:1;if(k.isWritable!==I.isWritable)return k.isWritable?-1:1;const L={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return k.pubkey.toBase58().localeCompare(I.pubkey.toBase58(),"en",L)});const c=l.findIndex(k=>k.pubkey.equals(r));if(c>-1){const[k]=l.splice(c,1);k.isSigner=!0,k.isWritable=!0,l.unshift(k)}else l.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const k of this.signatures){const I=l.findIndex(L=>L.pubkey.equals(k.publicKey));if(I>-1)l[I].isSigner||(l[I].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${k.publicKey.toString()}`)}let f=0,d=0,h=0;const b=[],E=[];l.forEach(({pubkey:k,isSigner:I,isWritable:L})=>{I?(b.push(k.toString()),f+=1,L||(d+=1)):(E.push(k.toString()),L||(h+=1))});const v=b.concat(E),N=t.map(k=>{const{data:I,programId:L}=k;return{programIdIndex:v.indexOf(L.toString()),accounts:k.keys.map(F=>v.indexOf(F.pubkey.toString())),data:Un.encode(I)}});return N.forEach(k=>{Yt(k.programIdIndex>=0),k.accounts.forEach(I=>Yt(I>=0))}),new Mi({header:{numRequiredSignatures:f,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:h},accountKeys:v,recentBlockhash:e,instructions:N})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((i,o)=>t[o].equals(i.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const i=r.toString();return t.has(i)?!1:(t.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const o of e){const l=o.publicKey.toString();t.has(l)||(t.add(l),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const o of e){const l=o.publicKey.toString();t.has(l)||(t.add(l),r.push(o))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(i=>{const o=Eb(r,i.secretKey);this._addSignature(i.publicKey,It(o))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Yt(t.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=nt.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:i,publicKey:o}of this.signatures)i===null?t&&(r.missing||(r.missing=[])).push(o):cU(i,e,o.toBytes())||(r.invalid||(r.invalid=[])).push(o);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(i,t);if(o){let l="Signature verification failed.";throw o.invalid&&(l+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(c=>c.toBase58()).join("`, `")}\`].`),o.missing&&(l+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(c=>c.toBase58()).join("`, `")}\`].`),new Error(l)}}return this._serialize(i)}_serialize(e){const{signatures:t}=this,r=[];ri(r,t.length);const i=r.length+t.length*64+e.length,o=nt.alloc(i);return Yt(t.length<256),nt.from(r).copy(o,0),t.forEach(({signature:l},c)=>{l!==null&&(Yt(l.length===64,"signature has invalid length"),nt.from(l).copy(o,r.length+c*64))}),e.copy(o,r.length+t.length*64),Yt(o.length<=la,`Transaction too large: ${o.length} > ${la}`),o}get keys(){return Yt(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Yt(this.instructions.length===1),this.instructions[0].programId}get data(){return Yt(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=Pr(t);let i=[];for(let o=0;o<r;o++){const l=Fr(t,0,Vc);i.push(Un.encode(nt.from(l)))}return Lt.populate(Mi.from(t),i)}static populate(e,t=[]){const r=new Lt;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((i,o)=>{const l={signature:i==Un.encode(bU)?null:Un.decode(i),publicKey:e.accountKeys[o]};r.signatures.push(l)}),e.instructions.forEach(i=>{const o=i.accounts.map(l=>{const c=e.accountKeys[l];return{pubkey:c,isSigner:r.signatures.some(f=>f.publicKey.toString()===c.toString())||e.isAccountSigner(l),isWritable:e.isAccountWritable(l)}});r.instructions.push(new sn({keys:o,programId:e.accountKeys[i.programIdIndex],data:Un.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}class Sb{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:i,recentBlockhash:o}=e,{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:f}=r,d=l-c;Yt(d>0,"Message header is invalid");const h=e.staticAccountKeys.length-l-f;Yt(h>=0,"Message header is invalid");const b=e.getAccountKeys(t),E=b.get(0);if(E===void 0)throw new Error("Failed to decompile message because no account keys were found");const v=[];for(const N of i){const k=[];for(const L of N.accountKeyIndexes){const F=b.get(L);if(F===void 0)throw new Error(`Failed to find key for account key index ${L}`);const M=L<l;let Y;M?Y=L<d:L<b.staticAccountKeys.length?Y=L-l<h:Y=L-b.staticAccountKeys.length<b.accountKeysFromLookups.writable.length,k.push({pubkey:F,isSigner:L<r.numRequiredSignatures,isWritable:Y})}const I=b.get(N.programIdIndex);if(I===void 0)throw new Error(`Failed to find program id for program id index ${N.programIdIndex}`);v.push(new sn({programId:I,data:It(N.data),keys:k}))}return new Sb({payerKey:E,instructions:v,recentBlockhash:o})}compileToLegacyMessage(){return Mi.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return ol.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class Kc{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Yt(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(Vc));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();ri(t,this.signatures.length);const r=de.struct([de.blob(t.length,"encodedSignaturesLength"),de.seq(pU(),this.signatures.length,"signatures"),de.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),o=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,o)}static deserialize(e){let t=[...e];const r=[],i=Pr(t);for(let l=0;l<i;l++)r.push(new Uint8Array(Fr(t,0,Vc)));const o=om.deserialize(new Uint8Array(t));return new Kc(o,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const o=r.findIndex(l=>l.equals(i.publicKey));Yt(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=Eb(t,i.secretKey)}}addSignature(e,t){Yt(t.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));Yt(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=t}}const vU=160,EU=64,_U=vU/EU,YC=1e3/_U,eo=new we("SysvarC1ock11111111111111111111111111111111"),xU=new we("SysvarEpochSchedu1e111111111111111111111111"),AU=new we("Sysvar1nstructions1111111111111111111111111"),Wh=new we("SysvarRecentB1ockHashes11111111111111111111"),Qo=new we("SysvarRent111111111111111111111111111111111"),SU=new we("SysvarRewards111111111111111111111111111111"),TU=new we("SysvarS1otHashes111111111111111111111111111"),RU=new we("SysvarS1otHistory11111111111111111111111111"),$h=new we("SysvarStakeHistory1111111111111111111111111");class fa extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:i}){const o=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",l="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let c;switch(e){case"send":c=`Transaction ${t} resulted in an error. 
${r}. `+o+l;break;case"simulate":c=`Simulation failed. 
Message: ${r}. 
`+o+l;break;default:c=`Unknown action '${(f=>f)(e)}'`}super(c),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const o=i.meta.logMessages;this.transactionLogs=o,t(o)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const NU={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class rt extends Error{constructor({code:e,message:t,data:r},i){super(i!=null?`${i}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function Vw(n,e,t,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},o=await n.sendTransaction(e,t,i);let l;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)l=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:c}=e.nonceInfo,f=c.keys[0].pubkey;l=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:f,nonceValue:e.nonceInfo.nonce,signature:o},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),l=(await n.confirmTransaction(o,r&&r.commitment)).value;if(l.err)throw o!=null?new fa({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Transaction ${o} failed (${JSON.stringify(l)})`);return o}function za(n){return new Promise(e=>setTimeout(e,n))}function qt(n,e){const t=n.layout.span>=0?n.layout.span:$C(n,e),r=nt.alloc(t),i=Object.assign({instruction:n.index},e);return n.layout.encode(i,r),r}function en(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const JC=de.nu64("lamportsPerSignature"),ZC=de.struct([de.u32("version"),de.u32("state"),Bt("authorizedPubkey"),Bt("nonce"),de.struct([JC],"feeCalculator")]),Kw=ZC.span;class sm{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=ZC.decode(It(e),0);return new sm({authorizedPubkey:new we(t.authorizedPubkey),nonce:new we(t.nonce).toString(),feeCalculator:t.feeCalculator})}}function Wc(n){const e=de.blob(8,n),t=e.decode.bind(e),r=e.encode.bind(e),i=e,o=rL();return i.decode=(l,c)=>{const f=t(l,c);return o.decode(f)},i.encode=(l,c,f)=>{const d=o.encode(l);return r(d,c,f)},i}class CU{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=de.u32("instruction").decode(e.data);let i;for(const[o,l]of Object.entries(mn))if(l.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:i}=en(mn.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new we(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=en(mn.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:i}=en(mn.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new we(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=en(mn.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:i,programId:o}=en(mn.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new we(t),seed:r,space:i,programId:new we(o)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=en(mn.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new we(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:i}=en(mn.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new we(t),seed:r,programId:new we(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:i,space:o,programId:l}=en(mn.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new we(t),seed:r,lamports:i,space:o,programId:new we(l)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=en(mn.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new we(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),en(mn.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=en(mn.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=en(mn.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new we(t)}}static checkProgramId(e){if(!e.equals(vn.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const mn=Object.freeze({Create:{index:0,layout:de.struct([de.u32("instruction"),de.ns64("lamports"),de.ns64("space"),Bt("programId")])},Assign:{index:1,layout:de.struct([de.u32("instruction"),Bt("programId")])},Transfer:{index:2,layout:de.struct([de.u32("instruction"),Wc("lamports")])},CreateWithSeed:{index:3,layout:de.struct([de.u32("instruction"),Bt("base"),Wa("seed"),de.ns64("lamports"),de.ns64("space"),Bt("programId")])},AdvanceNonceAccount:{index:4,layout:de.struct([de.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:de.struct([de.u32("instruction"),de.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:de.struct([de.u32("instruction"),Bt("authorized")])},AuthorizeNonceAccount:{index:7,layout:de.struct([de.u32("instruction"),Bt("authorized")])},Allocate:{index:8,layout:de.struct([de.u32("instruction"),de.ns64("space")])},AllocateWithSeed:{index:9,layout:de.struct([de.u32("instruction"),Bt("base"),Wa("seed"),de.ns64("space"),Bt("programId")])},AssignWithSeed:{index:10,layout:de.struct([de.u32("instruction"),Bt("base"),Wa("seed"),Bt("programId")])},TransferWithSeed:{index:11,layout:de.struct([de.u32("instruction"),Wc("lamports"),Wa("seed"),Bt("programId")])},UpgradeNonceAccount:{index:12,layout:de.struct([de.u32("instruction")])}});class vn{constructor(){}static createAccount(e){const t=mn.Create,r=qt(t,{lamports:e.lamports,space:e.space,programId:It(e.programId.toBuffer())});return new sn({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const i=mn.TransferWithSeed;t=qt(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:It(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=mn.Transfer;t=qt(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new sn({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const i=mn.AssignWithSeed;t=qt(i,{base:It(e.basePubkey.toBuffer()),seed:e.seed,programId:It(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=mn.Assign;t=qt(i,{programId:It(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new sn({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=mn.CreateWithSeed,r=qt(t,{base:It(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:It(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new sn({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Lt;"basePubkey"in e&&"seed"in e?t.add(vn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Kw,programId:this.programId})):t.add(vn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Kw,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=mn.InitializeNonceAccount,r=qt(t,{authorized:It(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Wh,isSigner:!1,isWritable:!1},{pubkey:Qo,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new sn(i)}static nonceAdvance(e){const t=mn.AdvanceNonceAccount,r=qt(t),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Wh,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new sn(i)}static nonceWithdraw(e){const t=mn.WithdrawNonceAccount,r=qt(t,{lamports:e.lamports});return new sn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Wh,isSigner:!1,isWritable:!1},{pubkey:Qo,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=mn.AuthorizeNonceAccount,r=qt(t,{authorized:It(e.newAuthorizedPubkey.toBuffer())});return new sn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const i=mn.AllocateWithSeed;t=qt(i,{base:It(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:It(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=mn.Allocate;t=qt(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new sn({keys:r,programId:this.programId,data:t})}}vn.programId=new we("11111111111111111111111111111111");const IU=la-300;class sl{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/sl.chunkSize)+1+1)}static async load(e,t,r,i,o){{const b=await e.getMinimumBalanceForRentExemption(o.length),E=await e.getAccountInfo(r.publicKey,"confirmed");let v=null;if(E!==null){if(E.executable)return console.error("Program load failed, account is already executable"),!1;E.data.length!==o.length&&(v=v||new Lt,v.add(vn.allocate({accountPubkey:r.publicKey,space:o.length}))),E.owner.equals(i)||(v=v||new Lt,v.add(vn.assign({accountPubkey:r.publicKey,programId:i}))),E.lamports<b&&(v=v||new Lt,v.add(vn.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:b-E.lamports})))}else v=new Lt().add(vn.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:b>0?b:1,space:o.length,programId:i}));v!==null&&await Vw(e,v,[t,r],{commitment:"confirmed"})}const l=de.struct([de.u32("instruction"),de.u32("offset"),de.u32("bytesLength"),de.u32("bytesLengthPadding"),de.seq(de.u8("byte"),de.offset(de.u32(),-8),"bytes")]),c=sl.chunkSize;let f=0,d=o,h=[];for(;d.length>0;){const b=d.slice(0,c),E=nt.alloc(c+16);l.encode({instruction:0,offset:f,bytes:b,bytesLength:0,bytesLengthPadding:0},E);const v=new Lt().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:E});h.push(Vw(e,v,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await za(1e3/4),f+=c,d=d.slice(c)}await Promise.all(h);{const b=de.struct([de.u32("instruction")]),E=nt.alloc(b.span);b.encode({instruction:1},E);const v=new Lt().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:Qo,isSigner:!1,isWritable:!1}],programId:i,data:E}),N="processed",k=await e.sendTransaction(v,[t,r],{preflightCommitment:N}),{context:I,value:L}=await e.confirmTransaction({signature:k,lastValidBlockHeight:v.lastValidBlockHeight,blockhash:v.recentBlockhash},N);if(L.err)throw new Error(`Transaction ${k} failed (${JSON.stringify(L)})`);for(;;){try{if(await e.getSlot({commitment:N})>I.slot)break}catch{}await new Promise(F=>setTimeout(F,Math.round(YC/2)))}}return!0}}sl.chunkSize=IU;const kU=new we("BPFLoader2111111111111111111111111111111111");class MU{static getMinNumSignatures(e){return sl.getMinNumSignatures(e)}static load(e,t,r,i,o){return sl.load(e,t,r,o,i)}}function OU(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var sy,ZA;function BU(){if(ZA)return sy;ZA=1;var n=Object.prototype.toString,e=Object.keys||function(r){var i=[];for(var o in r)i.push(o);return i};function t(r,i){var o,l,c,f,d,h,b;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),i);if(b=n.call(r),b==="[object Array]"){for(c="[",l=r.length-1,o=0;o<l;o++)c+=t(r[o],!0)+",";return l>-1&&(c+=t(r[o],!0)),c+"]"}else if(b==="[object Object]"){for(f=e(r).sort(),l=f.length,c="",o=0;o<l;)d=f[o],h=t(r[d],!1),h!==void 0&&(c&&(c+=","),c+=JSON.stringify(d)+":"+h),o++;return"{"+c+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return sy=function(r){var i=t(r,!1);if(i!==void 0)return""+i},sy}var LU=BU(),XA=OU(LU);const Qu=32;function ay(n){let e=0;for(;n>1;)n/=2,e++;return e}function UU(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class XC{constructor(e,t,r,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=ay(UU(e+Qu+1))-ay(Qu)-1,r=this.getSlotsInEpoch(t),i=e-(r-Qu);return[t,i]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),i=this.firstNormalEpoch+r,o=t%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*Qu:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+ay(Qu)):this.slotsPerEpoch}}var DU=globalThis.fetch;class PU extends FL{constructor(e,t,r){const i=o=>{const l=DL(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in l?this.underlyingSocket=l.socket:this.underlyingSocket=l,l};super(i,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function FU(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const QA=56;class Ww{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=FU(HU,e),r=e.length-QA;Yt(r>=0,"lookup table is invalid"),Yt(r%32===0,"lookup table is invalid");const i=r/32,{addresses:o}=de.struct([de.seq(Bt(),i,"addresses")]).decode(e.slice(QA));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new we(t.authority[0]):void 0,addresses:o.map(l=>new we(l))}}}const HU={index:1,layout:de.struct([de.u32("typeIndex"),Wc("deactivationSlot"),de.nu64("lastExtendedSlot"),de.u8("lastExtendedStartIndex"),de.u8(),de.seq(Bt(),de.offset(de.u8(),-1),"authority")])},zU=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function GU(n){const e=n.match(zU);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,i,o]=e,l=n.startsWith("https:")?"wss:":"ws:",c=i==null?null:parseInt(i.slice(1),10),f=c==null?"":`:${c+1}`;return`${l}//${r}${f}${o}`}const Cn=Jf(mb(we),Ge(),n=>new we(n)),QC=gb([Ge(),Rn("base64")]),Tb=Jf(mb(nt),QC,n=>nt.from(n[0],"base64")),eI=30*1e3;function qU(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function hn(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...i}=n;e=r,t=i}return{commitment:e,config:t}}function eS(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function tI(n){return Cr([ze({jsonrpc:Rn("2.0"),id:Ge(),result:n}),ze({jsonrpc:Rn("2.0"),id:Ge(),error:ze({code:Zc(),message:Ge(),data:lt(cL())})})])}const VU=tI(Zc());function Ct(n){return Jf(tI(n),VU,e=>"error"in e?e:{...e,result:Ke(e.result,n)})}function Hn(n){return Ct(ze({context:ze({slot:Se()}),value:n}))}function am(n){return ze({context:ze({slot:Se()}),value:n})}function ly(n,e){return n===0?new ol({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new we(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Un.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Mi(e)}const KU=ze({foundation:Se(),foundationTerm:Se(),initial:Se(),taper:Se(),terminal:Se()}),WU=Ct(je(Ye(ze({epoch:Se(),effectiveSlot:Se(),amount:Se(),postBalance:Se(),commission:lt(Ye(Se()))})))),$U=je(ze({slot:Se(),prioritizationFee:Se()})),jU=ze({total:Se(),validator:Se(),foundation:Se(),epoch:Se()}),YU=ze({epoch:Se(),slotIndex:Se(),slotsInEpoch:Se(),absoluteSlot:Se(),blockHeight:lt(Se()),transactionCount:lt(Se())}),JU=ze({slotsPerEpoch:Se(),leaderScheduleSlotOffset:Se(),warmup:lo(),firstNormalEpoch:Se(),firstNormalSlot:Se()}),ZU=IC(Ge(),je(Se())),hl=Ye(Cr([ze({}),Ge()])),XU=ze({err:hl}),QU=Rn("receivedSignature"),eD=ze({"solana-core":Ge(),"feature-set":lt(Se())}),tD=ze({program:Ge(),programId:Cn,parsed:Zc()}),nD=ze({programId:Cn,accounts:je(Cn),data:Ge()}),tS=Hn(ze({err:Ye(Cr([ze({}),Ge()])),logs:Ye(je(Ge())),accounts:lt(Ye(je(Ye(ze({executable:lo(),owner:Ge(),lamports:Se(),data:je(Ge()),rentEpoch:lt(Se())}))))),unitsConsumed:lt(Se()),returnData:lt(Ye(ze({programId:Ge(),data:gb([Ge(),Rn("base64")])}))),innerInstructions:lt(Ye(je(ze({index:Se(),instructions:je(Cr([tD,nD]))}))))})),rD=Hn(ze({byIdentity:IC(Ge(),je(Se())),range:ze({firstSlot:Se(),lastSlot:Se()})}));function iD(n,e,t,r,i,o){const l=t||DU;let c;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let f;return r&&(f=async(h,b)=>{const E=await new Promise((v,N)=>{try{r(h,b,(k,I)=>v([k,I]))}catch(k){N(k)}});return await l(...E)}),new OL(async(h,b)=>{const E={method:"POST",body:h,agent:c,headers:Object.assign({"Content-Type":"application/json"},e||{},iP)};try{let v=5,N,k=500;for(;f?N=await f(n,E):N=await l(n,E),!(N.status!==429||i===!0||(v-=1,v===0));)console.error(`Server responded with ${N.status} ${N.statusText}.  Retrying after ${k}ms delay...`),await za(k),k*=2;const I=await N.text();N.ok?b(null,I):b(new Error(`${N.status} ${N.statusText}: ${I}`))}catch(v){v instanceof Error&&b(v)}},{})}function oD(n){return(e,t)=>new Promise((r,i)=>{n.request(e,t,(o,l)=>{if(o){i(o);return}r(l)})})}function sD(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const i=e.map(o=>n.request(o.methodName,o.args));n.request(i,(o,l)=>{if(o){r(o);return}t(l)})})}const aD=Ct(KU),lD=Ct(jU),cD=Ct($U),uD=Ct(YU),fD=Ct(JU),dD=Ct(ZU),hD=Ct(Se()),pD=Hn(ze({total:Se(),circulating:Se(),nonCirculating:Se(),nonCirculatingAccounts:je(Cn)})),$w=ze({amount:Ge(),uiAmount:Ye(Se()),decimals:Se(),uiAmountString:lt(Ge())}),mD=Hn(je(ze({address:Cn,amount:Ge(),uiAmount:Ye(Se()),decimals:Se(),uiAmountString:lt(Ge())}))),gD=Hn(je(ze({pubkey:Cn,account:ze({executable:lo(),owner:Cn,lamports:Se(),data:Tb,rentEpoch:Se()})}))),jw=ze({program:Ge(),parsed:Zc(),space:Se()}),yD=Hn(je(ze({pubkey:Cn,account:ze({executable:lo(),owner:Cn,lamports:Se(),data:jw,rentEpoch:Se()})}))),wD=Hn(je(ze({lamports:Se(),address:Cn}))),Lf=ze({executable:lo(),owner:Cn,lamports:Se(),data:Tb,rentEpoch:Se()}),bD=ze({pubkey:Cn,account:Lf}),vD=Jf(Cr([mb(nt),jw]),Cr([QC,jw]),n=>Array.isArray(n)?Ke(n,Tb):n),Yw=ze({executable:lo(),owner:Cn,lamports:Se(),data:vD,rentEpoch:Se()}),ED=ze({pubkey:Cn,account:Yw}),_D=ze({state:Cr([Rn("active"),Rn("inactive"),Rn("activating"),Rn("deactivating")]),active:Se(),inactive:Se()}),xD=Ct(je(ze({signature:Ge(),slot:Se(),err:hl,memo:Ye(Ge()),blockTime:lt(Ye(Se()))}))),AD=Ct(je(ze({signature:Ge(),slot:Se(),err:hl,memo:Ye(Ge()),blockTime:lt(Ye(Se()))}))),SD=ze({subscription:Se(),result:am(Lf)}),TD=ze({pubkey:Cn,account:Lf}),RD=ze({subscription:Se(),result:am(TD)}),ND=ze({parent:Se(),slot:Se(),root:Se()}),CD=ze({subscription:Se(),result:ND}),ID=Cr([ze({type:Cr([Rn("firstShredReceived"),Rn("completed"),Rn("optimisticConfirmation"),Rn("root")]),slot:Se(),timestamp:Se()}),ze({type:Rn("createdBank"),parent:Se(),slot:Se(),timestamp:Se()}),ze({type:Rn("frozen"),slot:Se(),timestamp:Se(),stats:ze({numTransactionEntries:Se(),numSuccessfulTransactions:Se(),numFailedTransactions:Se(),maxTransactionsPerEntry:Se()})}),ze({type:Rn("dead"),slot:Se(),timestamp:Se(),err:Ge()})]),kD=ze({subscription:Se(),result:ID}),MD=ze({subscription:Se(),result:am(Cr([XU,QU]))}),OD=ze({subscription:Se(),result:Se()}),BD=ze({pubkey:Ge(),gossip:Ye(Ge()),tpu:Ye(Ge()),rpc:Ye(Ge()),version:Ye(Ge())}),nS=ze({votePubkey:Ge(),nodePubkey:Ge(),activatedStake:Se(),epochVoteAccount:lo(),epochCredits:je(gb([Se(),Se(),Se()])),commission:Se(),lastVote:Se(),rootSlot:Ye(Se())}),LD=Ct(ze({current:je(nS),delinquent:je(nS)})),UD=Cr([Rn("processed"),Rn("confirmed"),Rn("finalized")]),DD=ze({slot:Se(),confirmations:Ye(Se()),err:hl,confirmationStatus:lt(UD)}),PD=Hn(je(Ye(DD))),FD=Ct(Se()),nI=ze({accountKey:Cn,writableIndexes:je(Se()),readonlyIndexes:je(Se())}),Rb=ze({signatures:je(Ge()),message:ze({accountKeys:je(Ge()),header:ze({numRequiredSignatures:Se(),numReadonlySignedAccounts:Se(),numReadonlyUnsignedAccounts:Se()}),instructions:je(ze({accounts:je(Se()),data:Ge(),programIdIndex:Se()})),recentBlockhash:Ge(),addressTableLookups:lt(je(nI))})}),rI=ze({pubkey:Cn,signer:lo(),writable:lo(),source:lt(Cr([Rn("transaction"),Rn("lookupTable")]))}),iI=ze({accountKeys:je(rI),signatures:je(Ge())}),oI=ze({parsed:Zc(),program:Ge(),programId:Cn}),sI=ze({accounts:je(Cn),data:Ge(),programId:Cn}),HD=Cr([sI,oI]),zD=Cr([ze({parsed:Zc(),program:Ge(),programId:Ge()}),ze({accounts:je(Ge()),data:Ge(),programId:Ge()})]),aI=Jf(HD,zD,n=>"accounts"in n?Ke(n,sI):Ke(n,oI)),lI=ze({signatures:je(Ge()),message:ze({accountKeys:je(rI),instructions:je(aI),recentBlockhash:Ge(),addressTableLookups:lt(Ye(je(nI)))})}),Ip=ze({accountIndex:Se(),mint:Ge(),owner:lt(Ge()),programId:lt(Ge()),uiTokenAmount:$w}),cI=ze({writable:je(Cn),readonly:je(Cn)}),lm=ze({err:hl,fee:Se(),innerInstructions:lt(Ye(je(ze({index:Se(),instructions:je(ze({accounts:je(Se()),data:Ge(),programIdIndex:Se()}))})))),preBalances:je(Se()),postBalances:je(Se()),logMessages:lt(Ye(je(Ge()))),preTokenBalances:lt(Ye(je(Ip))),postTokenBalances:lt(Ye(je(Ip))),loadedAddresses:lt(cI),computeUnitsConsumed:lt(Se()),costUnits:lt(Se())}),Nb=ze({err:hl,fee:Se(),innerInstructions:lt(Ye(je(ze({index:Se(),instructions:je(aI)})))),preBalances:je(Se()),postBalances:je(Se()),logMessages:lt(Ye(je(Ge()))),preTokenBalances:lt(Ye(je(Ip))),postTokenBalances:lt(Ye(je(Ip))),loadedAddresses:lt(cI),computeUnitsConsumed:lt(Se()),costUnits:lt(Se())}),Xc=Cr([Rn(0),Rn("legacy")]),pl=ze({pubkey:Ge(),lamports:Se(),postBalance:Ye(Se()),rewardType:Ye(Ge()),commission:lt(Ye(Se()))}),GD=Ct(Ye(ze({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:Se(),transactions:je(ze({transaction:Rb,meta:Ye(lm),version:lt(Xc)})),rewards:lt(je(pl)),blockTime:Ye(Se()),blockHeight:Ye(Se())}))),qD=Ct(Ye(ze({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:Se(),rewards:lt(je(pl)),blockTime:Ye(Se()),blockHeight:Ye(Se())}))),VD=Ct(Ye(ze({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:Se(),transactions:je(ze({transaction:iI,meta:Ye(lm),version:lt(Xc)})),rewards:lt(je(pl)),blockTime:Ye(Se()),blockHeight:Ye(Se())}))),KD=Ct(Ye(ze({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:Se(),transactions:je(ze({transaction:lI,meta:Ye(Nb),version:lt(Xc)})),rewards:lt(je(pl)),blockTime:Ye(Se()),blockHeight:Ye(Se())}))),WD=Ct(Ye(ze({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:Se(),transactions:je(ze({transaction:iI,meta:Ye(Nb),version:lt(Xc)})),rewards:lt(je(pl)),blockTime:Ye(Se()),blockHeight:Ye(Se())}))),$D=Ct(Ye(ze({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:Se(),rewards:lt(je(pl)),blockTime:Ye(Se()),blockHeight:Ye(Se())}))),jD=Ct(Ye(ze({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:Se(),transactions:je(ze({transaction:Rb,meta:Ye(lm)})),rewards:lt(je(pl)),blockTime:Ye(Se())}))),rS=Ct(Ye(ze({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:Se(),signatures:je(Ge()),blockTime:Ye(Se())}))),cy=Ct(Ye(ze({slot:Se(),meta:Ye(lm),blockTime:lt(Ye(Se())),transaction:Rb,version:lt(Xc)}))),Eh=Ct(Ye(ze({slot:Se(),transaction:lI,meta:Ye(Nb),blockTime:lt(Ye(Se())),version:lt(Xc)}))),YD=Hn(ze({blockhash:Ge(),lastValidBlockHeight:Se()})),JD=Hn(lo()),ZD=ze({slot:Se(),numTransactions:Se(),numSlots:Se(),samplePeriodSecs:Se()}),XD=Ct(je(ZD)),QD=Hn(Ye(ze({feeCalculator:ze({lamportsPerSignature:Se()})}))),eP=Ct(Ge()),tP=Ct(Ge()),nP=ze({err:hl,logs:je(Ge()),signature:Ge()}),rP=ze({result:am(nP),subscription:Se()}),iP={"solana-client":"js/1.0.0-maintenance"};class cm{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const d={};return async h=>{const{commitment:b,config:E}=hn(h),v=this._buildArgs([],b,void 0,E),N=XA(v);return d[N]=d[N]??(async()=>{try{const k=await this._rpcRequest("getBlockHeight",v),I=Ke(k,Ct(Se()));if("error"in I)throw new rt(I.error,"failed to get block height information");return I.result}finally{delete d[N]}})(),await d[N]}})();let r,i,o,l,c,f;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,i=t.httpHeaders,o=t.fetch,l=t.fetchMiddleware,c=t.disableRetryOnRateLimit,f=t.httpAgent),this._rpcEndpoint=qU(e),this._rpcWsEndpoint=r||GU(e),this._rpcClient=iD(e,i,o,l,c,f),this._rpcRequest=oD(this._rpcClient),this._rpcBatchRequest=sD(this._rpcClient),this._rpcWebSocket=new PU(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:i}=hn(t),o=this._buildArgs([e.toBase58()],r,void 0,i),l=await this._rpcRequest("getBalance",o),c=Ke(l,Hn(Se()));if("error"in c)throw new rt(c.error,`failed to get balance for ${e.toBase58()}`);return c.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=Ke(t,Ct(Ye(Se())));if("error"in r)throw new rt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=Ke(e,Ct(Se()));if("error"in t)throw new rt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=Ke(e,hD);if("error"in t)throw new rt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),i=Ke(r,pD);if("error"in i)throw new rt(i.error,"failed to get supply");return i.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenSupply",r),o=Ke(i,Hn($w));if("error"in o)throw new rt(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenAccountBalance",r),o=Ke(i,Hn($w));if("error"in o)throw new rt(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,t,r){const{commitment:i,config:o}=hn(r);let l=[e.toBase58()];"mint"in t?l.push({mint:t.mint.toBase58()}):l.push({programId:t.programId.toBase58()});const c=this._buildArgs(l,i,"base64",o),f=await this._rpcRequest("getTokenAccountsByOwner",c),d=Ke(f,gD);if("error"in d)throw new rt(d.error,`failed to get token accounts owned by account ${e.toBase58()}`);return d.result}async getParsedTokenAccountsByOwner(e,t,r){let i=[e.toBase58()];"mint"in t?i.push({mint:t.mint.toBase58()}):i.push({programId:t.programId.toBase58()});const o=this._buildArgs(i,r,"jsonParsed"),l=await this._rpcRequest("getTokenAccountsByOwner",o),c=Ke(l,yD);if("error"in c)throw new rt(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],i=await this._rpcRequest("getLargestAccounts",r),o=Ke(i,wD);if("error"in o)throw new rt(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenLargestAccounts",r),o=Ke(i,mD);if("error"in o)throw new rt(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:i}=hn(t),o=this._buildArgs([e.toBase58()],r,"base64",i),l=await this._rpcRequest("getAccountInfo",o),c=Ke(l,Hn(Ye(Lf)));if("error"in c)throw new rt(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getParsedAccountInfo(e,t){const{commitment:r,config:i}=hn(t),o=this._buildArgs([e.toBase58()],r,"jsonParsed",i),l=await this._rpcRequest("getAccountInfo",o),c=Ke(l,Hn(Ye(Yw)));if("error"in c)throw new rt(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:i}=hn(t),o=e.map(d=>d.toBase58()),l=this._buildArgs([o],r,"jsonParsed",i),c=await this._rpcRequest("getMultipleAccounts",l),f=Ke(c,Hn(je(Ye(Yw))));if("error"in f)throw new rt(f.error,`failed to get info for accounts ${o}`);return f.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:i}=hn(t),o=e.map(d=>d.toBase58()),l=this._buildArgs([o],r,"base64",i),c=await this._rpcRequest("getMultipleAccounts",l),f=Ke(c,Hn(je(Ye(Lf))));if("error"in f)throw new rt(f.error,`failed to get info for accounts ${o}`);return f.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:i,config:o}=hn(t),l=this._buildArgs([e.toBase58()],i,void 0,{...o,epoch:r??(o==null?void 0:o.epoch)}),c=await this._rpcRequest("getStakeActivation",l),f=Ke(c,Ct(_D));if("error"in f)throw new rt(f.error,`failed to get Stake Activation ${e.toBase58()}`);return f.result}async getProgramAccounts(e,t){const{commitment:r,config:i}=hn(t),{encoding:o,...l}=i||{},c=this._buildArgs([e.toBase58()],r,o||"base64",{...l,...l.filters?{filters:eS(l.filters)}:null}),f=await this._rpcRequest("getProgramAccounts",c),d=je(bD),h=l.withContext===!0?Ke(f,Hn(d)):Ke(f,Ct(d));if("error"in h)throw new rt(h.error,`failed to get accounts owned by program ${e.toBase58()}`);return h.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:i}=hn(t),o=this._buildArgs([e.toBase58()],r,"jsonParsed",i),l=await this._rpcRequest("getProgramAccounts",o),c=Ke(l,Ct(je(ED)));if("error"in c)throw new rt(c.error,`failed to get accounts owned by program ${e.toBase58()}`);return c.result}async confirmTransaction(e,t){var o;let r;if(typeof e=="string")r=e;else{const l=e;if((o=l.abortSignal)!=null&&o.aborted)return Promise.reject(l.abortSignal.reason);r=l.signature}let i;try{i=Un.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Yt(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,i,o=!1;const l=new Promise((f,d)=>{try{r=this.onSignature(t,(b,E)=>{r=void 0;const v={context:E,value:b};f({__type:Ho.PROCESSED,response:v})},e);const h=new Promise(b=>{r==null?b():i=this._onSubscriptionStateChange(r,E=>{E==="subscribed"&&b()})});(async()=>{if(await h,o)return;const b=await this.getSignatureStatus(t);if(o||b==null)return;const{context:E,value:v}=b;if(v!=null)if(v!=null&&v.err)d(v.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(v.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(v.confirmationStatus==="processed"||v.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,f({__type:Ho.PROCESSED,response:{context:E,value:v}})}})()}catch(h){d(h)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:l}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:i}}){let o=!1;const l=new Promise(b=>{const E=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let v=await E();if(!o){for(;v<=r;)if(await za(1e3),o||(v=await E(),o))return;b({__type:Ho.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:c,confirmationPromise:f}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),d=this.getCancellationPromise(t);let h;try{const b=await Promise.race([d,f,l]);if(b.__type===Ho.PROCESSED)h=b.response;else throw new xb(i)}finally{o=!0,c()}return h}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:i,nonceValue:o,signature:l}}){let c=!1;const f=new Promise(v=>{let N=o,k=null;const I=async()=>{try{const{context:L,value:F}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return k=L.slot,F==null?void 0:F.nonce}catch{return N}};(async()=>{if(N=await I(),!c)for(;;){if(o!==N){v({__type:Ho.NONCE_INVALID,slotInWhichNonceDidAdvance:k});return}if(await za(2e3),c||(N=await I(),c))return}})()}),{abortConfirmation:d,confirmationPromise:h}=this.getTransactionConfirmationPromise({commitment:e,signature:l}),b=this.getCancellationPromise(t);let E;try{const v=await Promise.race([b,h,f]);if(v.__type===Ho.PROCESSED)E=v.response;else{let N;for(;;){const k=await this.getSignatureStatus(l);if(k==null)break;if(k.context.slot<(v.slotInWhichNonceDidAdvance??r)){await za(400);continue}N=k;break}if(N!=null&&N.value){const k=e||"finalized",{confirmationStatus:I}=N.value;switch(k){case"processed":case"recent":if(I!=="processed"&&I!=="confirmed"&&I!=="finalized")throw new Ac(l);break;case"confirmed":case"single":case"singleGossip":if(I!=="confirmed"&&I!=="finalized")throw new Ac(l);break;case"finalized":case"max":case"root":if(I!=="finalized")throw new Ac(l);break;default:}E={context:N.context,value:{err:N.value.err}}}else throw new Ac(l)}}finally{c=!0,d()}return E}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const i=new Promise(f=>{let d=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{d=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>f({__type:Ho.TIMED_OUT,timeoutMs:d}),d)}),{abortConfirmation:o,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let c;try{const f=await Promise.race([l,i]);if(f.__type===Ho.PROCESSED)c=f.response;else throw new Ab(t,f.timeoutMs/1e3)}finally{clearTimeout(r),o()}return c}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=Ke(e,Ct(je(BD)));if("error"in t)throw new rt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),i=Ke(r,LD);if("error"in i)throw new rt(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:t,config:r}=hn(e),i=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getSlot",i),l=Ke(o,Ct(Se()));if("error"in l)throw new rt(l.error,"failed to get slot");return l.result}async getSlotLeader(e){const{commitment:t,config:r}=hn(e),i=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getSlotLeader",i),l=Ke(o,Ct(Ge()));if("error"in l)throw new rt(l.error,"failed to get slot leader");return l.result}async getSlotLeaders(e,t){const r=[e,t],i=await this._rpcRequest("getSlotLeaders",r),o=Ke(i,Ct(je(Cn)));if("error"in o)throw new rt(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,t){const{context:r,value:i}=await this.getSignatureStatuses([e],t);Yt(i.length===1);const o=i[0];return{context:r,value:o}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const i=await this._rpcRequest("getSignatureStatuses",r),o=Ke(i,PD);if("error"in o)throw new rt(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){const{commitment:t,config:r}=hn(e),i=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getTransactionCount",i),l=Ke(o,Ct(Se()));if("error"in l)throw new rt(l.error,"failed to get transaction count");return l.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),i=Ke(r,aD);if("error"in i)throw new rt(i.error,"failed to get inflation");return i.result}async getInflationReward(e,t,r){const{commitment:i,config:o}=hn(r),l=this._buildArgs([e.map(d=>d.toBase58())],i,void 0,{...o,epoch:t??(o==null?void 0:o.epoch)}),c=await this._rpcRequest("getInflationReward",l),f=Ke(c,WU);if("error"in f)throw new rt(f.error,"failed to get inflation reward");return f.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=Ke(e,lD);if("error"in t)throw new rt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=hn(e),i=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getEpochInfo",i),l=Ke(o,uD);if("error"in l)throw new rt(l.error,"failed to get epoch info");return l.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=Ke(e,fD);if("error"in t)throw new rt(t.error,"failed to get epoch schedule");const r=t.result;return new XC(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=Ke(e,dD);if("error"in t)throw new rt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=Ke(i,FD);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){const{context:t,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:t,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=Ke(t,XD);if("error"in r)throw new rt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=Ke(i,QD);if("error"in o)throw new rt(o.error,"failed to get fee calculator");const{context:l,value:c}=o.result;return{context:l,value:c!==null?c.feeCalculator:null}}async getFeeForMessage(e,t){const r=It(e.serialize()).toString("base64"),i=this._buildArgs([r],t),o=await this._rpcRequest("getFeeForMessage",i),l=Ke(o,Hn(Ye(Se())));if("error"in l)throw new rt(l.error,"failed to get fee for message");if(l.result===null)throw new Error("invalid blockhash");return l.result}async getRecentPrioritizationFees(e){var l;const t=(l=e==null?void 0:e.lockedWritableAccounts)==null?void 0:l.map(c=>c.toBase58()),r=t!=null&&t.length?[t]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),o=Ke(i,cD);if("error"in o)throw new rt(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=hn(e),i=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getLatestBlockhash",i),l=Ke(o,YD);if("error"in l)throw new rt(l.error,"failed to get latest blockhash");return l.result}async isBlockhashValid(e,t){const{commitment:r,config:i}=hn(t),o=this._buildArgs([e],r,void 0,i),l=await this._rpcRequest("isBlockhashValid",o),c=Ke(l,JD);if("error"in c)throw new rt(c.error,"failed to determine if the blockhash `"+e+"`is valid");return c.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=Ke(e,Ct(eD));if("error"in t)throw new rt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=Ke(e,Ct(Ge()));if("error"in t)throw new rt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:i}=hn(t),o=this._buildArgsAtLeastConfirmed([e],r,void 0,i),l=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const c=Ke(l,VD);if("error"in c)throw c.error;return c.result}case"none":{const c=Ke(l,qD);if("error"in c)throw c.error;return c.result}default:{const c=Ke(l,GD);if("error"in c)throw c.error;const{result:f}=c;return f?{...f,transactions:f.transactions.map(({transaction:d,meta:h,version:b})=>({meta:h,transaction:{...d,message:ly(b,d.message)},version:b}))}:null}}}catch(c){throw new rt(c,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:i}=hn(t),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),l=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const c=Ke(l,WD);if("error"in c)throw c.error;return c.result}case"none":{const c=Ke(l,$D);if("error"in c)throw c.error;return c.result}default:{const c=Ke(l,KD);if("error"in c)throw c.error;return c.result}}}catch(c){throw new rt(c,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:c,...f}=e;r=c,t=f}const i=this._buildArgs([],r,"base64",t),o=await this._rpcRequest("getBlockProduction",i),l=Ke(o,rD);if("error"in l)throw new rt(l.error,"failed to get block production information");return l.result}async getTransaction(e,t){const{commitment:r,config:i}=hn(t),o=this._buildArgsAtLeastConfirmed([e],r,void 0,i),l=await this._rpcRequest("getTransaction",o),c=Ke(l,cy);if("error"in c)throw new rt(c.error,"failed to get transaction");const f=c.result;return f&&{...f,transaction:{...f.transaction,message:ly(f.version,f.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:i}=hn(t),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),l=await this._rpcRequest("getTransaction",o),c=Ke(l,Eh);if("error"in c)throw new rt(c.error,"failed to get transaction");return c.result}async getParsedTransactions(e,t){const{commitment:r,config:i}=hn(t),o=e.map(f=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([f],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(f=>{const d=Ke(f,Eh);if("error"in d)throw new rt(d.error,"failed to get transactions");return d.result})}async getTransactions(e,t){const{commitment:r,config:i}=hn(t),o=e.map(f=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([f],r,void 0,i)}));return(await this._rpcBatchRequest(o)).map(f=>{const d=Ke(f,cy);if("error"in d)throw new rt(d.error,"failed to get transactions");const h=d.result;return h&&{...h,transaction:{...h.transaction,message:ly(h.version,h.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getBlock",r),o=Ke(i,jD);if("error"in o)throw new rt(o.error,"failed to get confirmed block");const l=o.result;if(!l)throw new Error("Confirmed block "+e+" not found");const c={...l,transactions:l.transactions.map(({transaction:f,meta:d})=>{const h=new Mi(f.message);return{meta:d,transaction:{...f,message:h}}})};return{...c,transactions:c.transactions.map(({transaction:f,meta:d})=>({meta:d,transaction:Lt.populate(f.message,f.signatures)}))}}async getBlocks(e,t,r){const i=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),o=await this._rpcRequest("getBlocks",i),l=Ke(o,Ct(je(Se())));if("error"in l)throw new rt(l.error,"failed to get blocks");return l.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=Ke(i,rS);if("error"in o)throw new rt(o.error,"failed to get block");const l=o.result;if(!l)throw new Error("Block "+e+" not found");return l}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=Ke(i,rS);if("error"in o)throw new rt(o.error,"failed to get confirmed block");const l=o.result;if(!l)throw new Error("Confirmed block "+e+" not found");return l}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getTransaction",r),o=Ke(i,cy);if("error"in o)throw new rt(o.error,"failed to get transaction");const l=o.result;if(!l)return l;const c=new Mi(l.transaction.message),f=l.transaction.signatures;return{...l,transaction:Lt.populate(c,f)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),o=Ke(i,Eh);if("error"in o)throw new rt(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,t){const r=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],t,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(l=>{const c=Ke(l,Eh);if("error"in c)throw new rt(c.error,"failed to get confirmed transactions");return c.result})}async getConfirmedSignaturesForAddress(e,t,r){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(t--,!(t<=0||t<o));)try{const f=await this.getConfirmedBlockSignatures(t,"finalized");f.signatures.length>0&&(i.until=f.signatures[f.signatures.length-1].toString())}catch(f){if(f instanceof Error&&f.message.includes("skipped"))continue;throw f}let l=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>l));)try{const f=await this.getConfirmedBlockSignatures(r);f.signatures.length>0&&(i.before=f.signatures[f.signatures.length-1].toString())}catch(f){if(f instanceof Error&&f.message.includes("skipped"))continue;throw f}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(f=>f.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),l=Ke(o,xD);if("error"in l)throw new rt(l.error,"failed to get confirmed signatures for address");return l.result}async getSignaturesForAddress(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),o=await this._rpcRequest("getSignaturesForAddress",i),l=Ke(o,AD);if("error"in l)throw new rt(l.error,"failed to get signatures for address");return l.result}async getAddressLookupTable(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let o=null;return i!==null&&(o=new Ww({key:e,state:Ww.deserialize(i.data)})),{context:r,value:o}}async getNonceAndContext(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let o=null;return i!==null&&(o=sm.fromAccountData(i.data)),{context:r,value:o}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),i=Ke(r,eP);if("error"in i)throw new rt(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await za(100);const r=Date.now()-this._blockhashInfo.lastFetch>=eI;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let i=0;i<50;i++){const o=await this.getLatestBlockhash("finalized");if(r!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await za(YC/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=hn(e),i=this._buildArgs([],t,"base64",r),o=await this._rpcRequest("getStakeMinimumDelegation",i),l=Ke(o,Hn(Se()));if("error"in l)throw new rt(l.error,"failed to get stake minimum delegation");return l.result}async simulateTransaction(e,t,r){if("message"in e){const k=e.serialize(),I=nt.from(k).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const L=t||{};L.encoding="base64","commitment"in L||(L.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(L.innerInstructions=t.innerInstructions);const F=[I,L],M=await this._rpcRequest("simulateTransaction",F),Y=Ke(M,tS);if("error"in Y)throw new Error("failed to simulate transaction: "+Y.error.message);return Y.result}let i;if(e instanceof Lt){let N=e;i=new Lt,i.feePayer=N.feePayer,i.instructions=e.instructions,i.nonceInfo=N.nonceInfo,i.signatures=N.signatures}else i=Lt.populate(e),i._message=i._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const o=t;if(i.nonceInfo&&o)i.sign(...o);else{let N=this._disableBlockhashCaching;for(;;){const k=await this._blockhashWithExpiryBlockHeight(N);if(i.lastValidBlockHeight=k.lastValidBlockHeight,i.recentBlockhash=k.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");const I=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(I)&&!this._blockhashInfo.transactionSignatures.includes(I)){this._blockhashInfo.simulatedSignatures.push(I);break}else N=!0}}const l=i._compile(),c=l.serialize(),d=i._serialize(c).toString("base64"),h={encoding:"base64",commitment:this.commitment};if(r){const N=(Array.isArray(r)?r:l.nonProgramIds()).map(k=>k.toBase58());h.accounts={encoding:"base64",addresses:N}}o&&(h.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(h.innerInstructions=t.innerInstructions);const b=[d,h],E=await this._rpcRequest("simulateTransaction",b),v=Ke(E,tS);if("error"in v){let N;if("data"in v.error&&(N=v.error.data.logs,N&&Array.isArray(N))){const k=`
    `,I=k+N.join(k);console.error(v.error.message,I)}throw new fa({action:"simulate",signature:"",transactionMessage:v.error.message,logs:N})}return v.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const l=e.serialize();return await this.sendRawTransaction(l,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(e.nonceInfo)e.sign(...i);else{let l=this._disableBlockhashCaching;for(;;){const c=await this._blockhashWithExpiryBlockHeight(l);if(e.lastValidBlockHeight=c.lastValidBlockHeight,e.recentBlockhash=c.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const f=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(f))l=!0;else{this._blockhashInfo.transactionSignatures.push(f);break}}}const o=e.serialize();return await this.sendRawTransaction(o,r)}async sendRawTransaction(e,t){const r=It(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},i=t&&t.skipPreflight,o=i===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),i&&(r.skipPreflight=i),o&&(r.preflightCommitment=o);const l=[e,r],c=await this._rpcRequest("sendTransaction",l),f=Ke(c,tP);if("error"in f){let d;throw"data"in f.error&&(d=f.error.data.logs),new fa({action:i?"send":"simulate",signature:"",transactionMessage:f.error.message,logs:d})}return f.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const o=this._subscriptionStateChangeCallbacksByHash[e];o&&o.forEach(l=>{try{l(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){var o;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(o=this._subscriptionStateChangeCallbacksByHash)[r]||(o[r]=new Set);return i.add(t),()=>{i.delete(t),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:l}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const c=await this._rpcWebSocket.call(l,o);this._setSubscription(r,{...i,serverSubscriptionId:c,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[c]=i.callbacks,await this._updateSubscriptions()}catch(c){if(console.error(`Received ${c instanceof Error?"":"JSON-RPC "}error calling \`${l}\``,{args:o,error:c}),!t())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:l}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(l,[o])}catch(c){if(c instanceof Error&&console.error(`${l} error:`,c.message),!t())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...t)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=Ke(e,SD);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,i=XA([e.method,t]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const l=this._subscriptionsByHash[i];Yt(l!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),l.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:i,config:o}=hn(r),l=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},l)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=Ke(e,RD);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,i){const{commitment:o,config:l}=hn(r),c=this._buildArgs([e.toBase58()],o||this._commitment||"finalized","base64",l||(i?{filters:eS(i)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},c)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=Ke(e,rP);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=Ke(e,CD);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=Ke(e,kD);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,i){const o=t||this._commitment;if(o||r||i){let l={};r&&(l.encoding=r),o&&(l.commitment=o),i&&(l=Object.assign(l,i)),e.push(l)}return e}_buildArgsAtLeastConfirmed(e,t,r,i){const o=t||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,i)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=Ke(e,MD);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),o=this._makeSubscription({callback:(l,c)=>{if(l.type==="status"){t(l.result,c);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(e,t,r){const{commitment:i,...o}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},l=this._buildArgs([e],i,void 0,o),c=this._makeSubscription({callback:(f,d)=>{t(f,d);try{this.removeSignatureListener(c)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},l);return c}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=Ke(e,OD);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Bc{constructor(e){this._keypair=void 0,this._keypair=e??jA()}static generate(){return new Bc(jA())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const i=e.slice(0,32),o=Cp(i);for(let l=0;l<32;l++)if(r[l]!==o[l])throw new Error("provided secretKey is invalid")}return new Bc({publicKey:r,secretKey:e})}static fromSeed(e){const t=Cp(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Bc({publicKey:t,secretKey:r})}get publicKey(){return new we(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Wo=Object.freeze({CreateLookupTable:{index:0,layout:de.struct([de.u32("instruction"),Wc("recentSlot"),de.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:de.struct([de.u32("instruction")])},ExtendLookupTable:{index:2,layout:de.struct([de.u32("instruction"),Wc(),de.seq(Bt(),de.offset(de.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:de.struct([de.u32("instruction")])},CloseLookupTable:{index:4,layout:de.struct([de.u32("instruction")])}});class oP{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=de.u32("instruction").decode(e.data);let i;for(const[o,l]of Object.entries(Wo))if(l.index==r){i=o;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=en(Wo.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=en(Wo.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new we(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Cb.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class Cb{constructor(){}static createLookupTable(e){const[t,r]=we.findProgramAddressSync([e.authority.toBuffer(),RC().encode(e.recentSlot)],this.programId),i=Wo.CreateLookupTable,o=qt(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:vn.programId,isSigner:!1,isWritable:!1}];return[new sn({programId:this.programId,keys:l,data:o}),t]}static freezeLookupTable(e){const t=Wo.FreezeLookupTable,r=qt(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new sn({programId:this.programId,keys:i,data:r})}static extendLookupTable(e){const t=Wo.ExtendLookupTable,r=qt(t,{addresses:e.addresses.map(o=>o.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:vn.programId,isSigner:!1,isWritable:!1}),new sn({programId:this.programId,keys:i,data:r})}static deactivateLookupTable(e){const t=Wo.DeactivateLookupTable,r=qt(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new sn({programId:this.programId,keys:i,data:r})}static closeLookupTable(e){const t=Wo.CloseLookupTable,r=qt(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new sn({programId:this.programId,keys:i,data:r})}}Cb.programId=new we("AddressLookupTab1e1111111111111111111111111");class sP{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=de.u8("instruction").decode(e.data);let i;for(const[o,l]of Object.entries(io))if(l.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=en(io.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=en(io.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=en(io.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=en(io.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(Ib.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const io=Object.freeze({RequestUnits:{index:0,layout:de.struct([de.u8("instruction"),de.u32("units"),de.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:de.struct([de.u8("instruction"),de.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:de.struct([de.u8("instruction"),de.u32("units")])},SetComputeUnitPrice:{index:3,layout:de.struct([de.u8("instruction"),Wc("microLamports")])}});class Ib{constructor(){}static requestUnits(e){const t=io.RequestUnits,r=qt(t,e);return new sn({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=io.RequestHeapFrame,r=qt(t,e);return new sn({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=io.SetComputeUnitLimit,r=qt(t,e);return new sn({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=io.SetComputeUnitPrice,r=qt(t,{microLamports:BigInt(e.microLamports)});return new sn({keys:[],programId:this.programId,data:r})}}Ib.programId=new we("ComputeBudget111111111111111111111111111111");const iS=64,oS=32,sS=64,aS=de.struct([de.u8("numSignatures"),de.u8("padding"),de.u16("signatureOffset"),de.u16("signatureInstructionIndex"),de.u16("publicKeyOffset"),de.u16("publicKeyInstructionIndex"),de.u16("messageDataOffset"),de.u16("messageDataSize"),de.u16("messageInstructionIndex")]);class um{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,instructionIndex:o}=e;Yt(t.length===oS,`Public Key must be ${oS} bytes but received ${t.length} bytes`),Yt(i.length===sS,`Signature must be ${sS} bytes but received ${i.length} bytes`);const l=aS.span,c=l+t.length,f=c+i.length,d=1,h=nt.alloc(f+r.length),b=o??65535;return aS.encode({numSignatures:d,padding:0,signatureOffset:c,signatureInstructionIndex:b,publicKeyOffset:l,publicKeyInstructionIndex:b,messageDataOffset:f,messageDataSize:r.length,messageInstructionIndex:b},h),h.fill(t,l),h.fill(i,c),h.fill(r,f),new sn({keys:[],programId:um.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;Yt(t.length===iS,`Private key must be ${iS} bytes but received ${t.length} bytes`);try{const o=Bc.fromSecretKey(t),l=o.publicKey.toBytes(),c=Eb(r,o.secretKey);return this.createInstructionWithPublicKey({publicKey:l,message:r,signature:c,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}um.programId=new we("Ed25519SigVerify111111111111111111111111111");const aP=(n,e)=>{const t=vb.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};vb.utils.isValidPrivateKey;const lP=vb.getPublicKey,lS=32,uy=20,cS=64,cP=11,fy=de.struct([de.u8("numSignatures"),de.u16("signatureOffset"),de.u8("signatureInstructionIndex"),de.u16("ethAddressOffset"),de.u8("ethAddressInstructionIndex"),de.u16("messageDataOffset"),de.u16("messageDataSize"),de.u8("messageInstructionIndex"),de.blob(20,"ethAddress"),de.blob(64,"signature"),de.u8("recoveryId")]);class Lc{constructor(){}static publicKeyToEthAddress(e){Yt(e.length===cS,`Public key must be ${cS} bytes but received ${e.length} bytes`);try{return nt.from(KA(It(e))).slice(-uy)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,recoveryId:o,instructionIndex:l}=e;return Lc.createInstructionWithEthAddress({ethAddress:Lc.publicKeyToEthAddress(t),message:r,signature:i,recoveryId:o,instructionIndex:l})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:i,recoveryId:o,instructionIndex:l=0}=e;let c;typeof t=="string"?t.startsWith("0x")?c=nt.from(t.substr(2),"hex"):c=nt.from(t,"hex"):c=t,Yt(c.length===uy,`Address must be ${uy} bytes but received ${c.length} bytes`);const f=1+cP,d=f,h=f+c.length,b=h+i.length+1,E=1,v=nt.alloc(fy.span+r.length);return fy.encode({numSignatures:E,signatureOffset:h,signatureInstructionIndex:l,ethAddressOffset:d,ethAddressInstructionIndex:l,messageDataOffset:b,messageDataSize:r.length,messageInstructionIndex:l,signature:It(i),ethAddress:It(c),recoveryId:o},v),v.fill(It(r),fy.span),new sn({keys:[],programId:Lc.programId,data:v})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;Yt(t.length===lS,`Private key must be ${lS} bytes but received ${t.length} bytes`);try{const o=It(t),l=lP(o,!1).slice(1),c=nt.from(KA(It(r))),[f,d]=aP(c,o);return this.createInstructionWithPublicKey({publicKey:l,message:r,signature:f,recoveryId:d,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}Lc.programId=new we("KeccakSecp256k11111111111111111111111111111");var uI;const fI=new we("StakeConfig11111111111111111111111111111111");class dI{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class Zf{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}uI=Zf;Zf.default=new uI(0,0,we.default);class uP{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=de.u32("instruction").decode(e.data);let i;for(const[o,l]of Object.entries(ar))if(l.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=en(ar.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new dI(new we(t.staker),new we(t.withdrawer)),lockup:new Zf(r.unixTimestamp,r.epoch,new we(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),en(ar.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=en(ar.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new we(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:i,authorityOwner:o}=en(ar.AuthorizeWithSeed,e.data),l={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new we(o),newAuthorizedPubkey:new we(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(l.custodianPubkey=e.keys[3].pubkey),l}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=en(ar.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),en(ar.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=en(ar.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),en(ar.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(fm.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const ar=Object.freeze({Initialize:{index:0,layout:de.struct([de.u32("instruction"),mU(),gU()])},Authorize:{index:1,layout:de.struct([de.u32("instruction"),Bt("newAuthorized"),de.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:de.struct([de.u32("instruction")])},Split:{index:3,layout:de.struct([de.u32("instruction"),de.ns64("lamports")])},Withdraw:{index:4,layout:de.struct([de.u32("instruction"),de.ns64("lamports")])},Deactivate:{index:5,layout:de.struct([de.u32("instruction")])},Merge:{index:7,layout:de.struct([de.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:de.struct([de.u32("instruction"),Bt("newAuthorized"),de.u32("stakeAuthorizationType"),Wa("authoritySeed"),Bt("authorityOwner")])}}),fP=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class fm{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:i}=e,o=i||Zf.default,l=ar.Initialize,c=qt(l,{authorized:{staker:It(r.staker.toBuffer()),withdrawer:It(r.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:It(o.custodian.toBuffer())}}),f={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Qo,isSigner:!1,isWritable:!1}],programId:this.programId,data:c};return new sn(f)}static createAccountWithSeed(e){const t=new Lt;t.add(vn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:o}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:o}))}static createAccount(e){const t=new Lt;t.add(vn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:o}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:o}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:i}=e,o=ar.Delegate,l=qt(o);return new Lt().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:eo,isSigner:!1,isWritable:!1},{pubkey:$h,isSigner:!1,isWritable:!1},{pubkey:fI,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:l})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:l}=e,c=ar.Authorize,f=qt(c,{newAuthorized:It(i.toBuffer()),stakeAuthorizationType:o.index}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:eo,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return l&&d.push({pubkey:l,isSigner:!0,isWritable:!1}),new Lt().add({keys:d,programId:this.programId,data:f})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:l,stakeAuthorizationType:c,custodianPubkey:f}=e,d=ar.AuthorizeWithSeed,h=qt(d,{newAuthorized:It(l.toBuffer()),stakeAuthorizationType:c.index,authoritySeed:i,authorityOwner:It(o.toBuffer())}),b=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:eo,isSigner:!1,isWritable:!1}];return f&&b.push({pubkey:f,isSigner:!0,isWritable:!1}),new Lt().add({keys:b,programId:this.programId,data:h})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:i,lamports:o}=e,l=ar.Split,c=qt(l,{lamports:o});return new sn({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static split(e,t){const r=new Lt;return r.add(vn.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:o,basePubkey:l,seed:c,lamports:f}=e,d=new Lt;return d.add(vn.allocate({accountPubkey:o,basePubkey:l,seed:c,space:this.space,programId:this.programId})),t&&t>0&&d.add(vn.transfer({fromPubkey:e.authorizedPubkey,toPubkey:o,lamports:t})),d.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:o,lamports:f}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:i}=e,o=ar.Merge,l=qt(o);return new Lt().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:eo,isSigner:!1,isWritable:!1},{pubkey:$h,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:l})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:i,lamports:o,custodianPubkey:l}=e,c=ar.Withdraw,f=qt(c,{lamports:o}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:eo,isSigner:!1,isWritable:!1},{pubkey:$h,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return l&&d.push({pubkey:l,isSigner:!0,isWritable:!1}),new Lt().add({keys:d,programId:this.programId,data:f})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,i=ar.Deactivate,o=qt(i);return new Lt().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:eo,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}}fm.programId=new we("Stake11111111111111111111111111111111111111");fm.space=200;class hI{constructor(e,t,r,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=i}}class dP{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=de.u32("instruction").decode(e.data);let i;for(const[o,l]of Object.entries(oo))if(l.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=en(oo.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new hI(new we(t.nodePubkey),new we(t.authorizedVoter),new we(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=en(oo.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new we(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:i,voteAuthorizationType:o}}=en(oo.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new we(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new we(i),voteAuthorizationType:{index:o},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=en(oo.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Qc.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const oo=Object.freeze({InitializeAccount:{index:0,layout:de.struct([de.u32("instruction"),yU()])},Authorize:{index:1,layout:de.struct([de.u32("instruction"),Bt("newAuthorized"),de.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:de.struct([de.u32("instruction"),de.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:de.struct([de.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:de.struct([de.u32("instruction"),wU()])}}),hP=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Qc{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:i}=e,o=oo.InitializeAccount,l=qt(o,{voteInit:{nodePubkey:It(i.nodePubkey.toBuffer()),authorizedVoter:It(i.authorizedVoter.toBuffer()),authorizedWithdrawer:It(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Qo,isSigner:!1,isWritable:!1},{pubkey:eo,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:l};return new sn(c)}static createAccount(e){const t=new Lt;return t.add(vn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:o}=e,l=oo.Authorize,c=qt(l,{newAuthorized:It(i.toBuffer()),voteAuthorizationType:o.index}),f=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:eo,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Lt().add({keys:f,programId:this.programId,data:c})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:l,votePubkey:c}=e,f=oo.AuthorizeWithSeed,d=qt(f,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:It(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:It(o.toBuffer()),voteAuthorizationType:l.index}}),h=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:eo,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Lt().add({keys:h,programId:this.programId,data:d})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:o}=e,l=oo.Withdraw,c=qt(l,{lamports:i}),f=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Lt().add({keys:f,programId:this.programId,data:c})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return Qc.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,o=oo.UpdateValidatorIdentity,l=qt(o),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Lt().add({keys:c,programId:this.programId,data:l})}}Qc.programId=new we("Vote111111111111111111111111111111111111111");Qc.space=3762;const pI=new we("Va1idator1nfo111111111111111111111111111111"),pP=ze({name:Ge(),website:lt(Ge()),details:lt(Ge()),iconUrl:lt(Ge()),keybaseUsername:lt(Ge())});class kb{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(Pr(t)!==2)return null;const i=[];for(let o=0;o<2;o++){const l=new we(Fr(t,0,ao)),c=ro(t)===1;i.push({publicKey:l,isSigner:c})}if(i[0].publicKey.equals(pI)&&i[1].isSigner){const o=Wa().decode(nt.from(t)),l=JSON.parse(o);return NC(l,pP),new kb(i[1].publicKey,l)}return null}}const mP=new we("Vote111111111111111111111111111111111111111"),gP=de.struct([Bt("nodePubkey"),Bt("authorizedWithdrawer"),de.u8("commission"),de.nu64(),de.seq(de.struct([de.nu64("slot"),de.u32("confirmationCount")]),de.offset(de.u32(),-8),"votes"),de.u8("rootSlotValid"),de.nu64("rootSlot"),de.nu64(),de.seq(de.struct([de.nu64("epoch"),Bt("authorizedVoter")]),de.offset(de.u32(),-8),"authorizedVoters"),de.struct([de.seq(de.struct([Bt("authorizedPubkey"),de.nu64("epochOfLastAuthorizedSwitch"),de.nu64("targetEpoch")]),32,"buf"),de.nu64("idx"),de.u8("isEmpty")],"priorVoters"),de.nu64(),de.seq(de.struct([de.nu64("epoch"),de.nu64("credits"),de.nu64("prevCredits")]),de.offset(de.u32(),-8),"epochCredits"),de.struct([de.nu64("slot"),de.nu64("timestamp")],"lastTimestamp")]);class Mb{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=gP.decode(It(e),4);let i=r.rootSlot;return r.rootSlotValid||(i=null),new Mb({nodePubkey:new we(r.nodePubkey),authorizedWithdrawer:new we(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:i,authorizedVoters:r.authorizedVoters.map(yP),priorVoters:wP(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function yP({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new we(n)}}function uS({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new we(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function wP({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(uS),...n.slice(0,e).map(uS)]}const fS={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function bP(n,e){const t=e===!1?"http":"https";if(!n)return fS[t].devnet;const r=fS[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function vP(n,e,t,r){let i,o;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(i=t,o=r):o=t;const l=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},c=await n.sendRawTransaction(e,l),f=o&&o.commitment,h=(await(i?n.confirmTransaction(i,f):n.confirmTransaction(c,f))).value;if(h.err)throw c!=null?new fa({action:l!=null&&l.skipPreflight?"send":"simulate",signature:c,transactionMessage:`Status: (${JSON.stringify(h)})`}):new Error(`Raw transaction ${c} failed (${JSON.stringify(h)})`);return c}const mI=1e9,EP=Object.freeze(Object.defineProperty({__proto__:null,Account:dU,AddressLookupTableAccount:Ww,AddressLookupTableInstruction:oP,AddressLookupTableProgram:Cb,Authorized:dI,BLOCKHASH_CACHE_TIMEOUT_MS:eI,BPF_LOADER_DEPRECATED_PROGRAM_ID:hU,BPF_LOADER_PROGRAM_ID:kU,BpfLoader:MU,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:io,ComputeBudgetInstruction:sP,ComputeBudgetProgram:Ib,Connection:cm,Ed25519Program:um,Enum:uU,EpochSchedule:XC,FeeCalculatorLayout:JC,Keypair:Bc,LAMPORTS_PER_SOL:mI,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Wo,Loader:sl,Lockup:Zf,MAX_SEED_LENGTH:WC,Message:Mi,MessageAccountKeys:Bf,MessageV0:ol,NONCE_ACCOUNT_LENGTH:Kw,NonceAccount:sm,PACKET_DATA_SIZE:la,PUBLIC_KEY_LENGTH:ao,PublicKey:we,SIGNATURE_LENGTH_IN_BYTES:Vc,SOLANA_SCHEMA:Ef,STAKE_CONFIG_ID:fI,STAKE_INSTRUCTION_LAYOUTS:ar,SYSTEM_INSTRUCTION_LAYOUTS:mn,SYSVAR_CLOCK_PUBKEY:eo,SYSVAR_EPOCH_SCHEDULE_PUBKEY:xU,SYSVAR_INSTRUCTIONS_PUBKEY:AU,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:Wh,SYSVAR_RENT_PUBKEY:Qo,SYSVAR_REWARDS_PUBKEY:SU,SYSVAR_SLOT_HASHES_PUBKEY:TU,SYSVAR_SLOT_HISTORY_PUBKEY:RU,SYSVAR_STAKE_HISTORY_PUBKEY:$h,Secp256k1Program:Lc,SendTransactionError:fa,SolanaJSONRPCError:rt,SolanaJSONRPCErrorCode:NU,StakeAuthorizationLayout:fP,StakeInstruction:uP,StakeProgram:fm,Struct:_b,SystemInstruction:CU,SystemProgram:vn,Transaction:Lt,TransactionExpiredBlockheightExceededError:xb,TransactionExpiredNonceInvalidError:Ac,TransactionExpiredTimeoutError:Ab,TransactionInstruction:sn,TransactionMessage:Sb,TransactionStatus:Ho,VALIDATOR_INFO_KEY:pI,VERSION_PREFIX_MASK:rm,VOTE_PROGRAM_ID:mP,ValidatorInfo:kb,VersionedMessage:om,VersionedTransaction:Kc,VoteAccount:Mb,VoteAuthorizationLayout:hP,VoteInit:hI,VoteInstruction:dP,VoteProgram:Qc,clusterApiUrl:bP,sendAndConfirmRawTransaction:vP,sendAndConfirmTransaction:Vw},Symbol.toStringTag,{value:"Module"})),gI=fe.createContext({});function Ob(){return fe.useContext(gI)}const _P=({children:n,endpoint:e,config:t={commitment:"confirmed"}})=>{const r=fe.useMemo(()=>new cm(e,t),[e,t]);return qe.createElement(gI.Provider,{value:{connection:r}},n)};class Ir extends Error{constructor(e,t){super(e),this.error=t}}class $c extends Ir{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class pf extends Ir{constructor(){super(...arguments),this.name="WalletConfigError"}}class Uf extends Ir{constructor(){super(...arguments),this.name="WalletConnectionError"}}class yI extends Ir{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class wI extends Ir{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class $a extends Ir{constructor(){super(...arguments),this.name="WalletAccountError"}}class Bb extends Ir{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class qr extends Ir{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class oa extends Ir{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class Zo extends Ir{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Lb extends Ir{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class dS extends Ir{constructor(){super(...arguments),this.name="WalletSignInError"}}var fn;(function(n){n.Installed="Installed",n.NotDetected="NotDetected",n.Loadable="Loadable",n.Unsupported="Unsupported"})(fn||(fn={}));class bI extends yb{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,t,r={}){const i=this.publicKey;if(!i)throw new qr;return e.feePayer=e.feePayer||i,e.recentBlockhash=e.recentBlockhash||(await t.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function xP(n){if(typeof window>"u"||typeof document>"u")return;const e=[];function t(){if(n())for(const o of e)o()}const r=setInterval(t,1e3);e.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",t,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",t))),document.readyState!=="complete"&&(window.addEventListener("load",t,{once:!0}),e.push(()=>window.removeEventListener("load",t))),t()}function ja(n){return"version"in n}class AP extends bI{async sendTransaction(e,t,r={}){let i=!0;try{if(ja(e)){if(!this.supportedTransactionVersions)throw new oa("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new oa(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const o=e.serialize();return await t.sendRawTransaction(o,r)}catch(o){throw o instanceof Zo?(i=!1,o):new oa(o==null?void 0:o.message,o)}}else try{const{signers:o,...l}=r;e=await this.prepareTransaction(e,t,l),o!=null&&o.length&&e.partialSign(...o),e=await this.signTransaction(e);const c=e.serialize();return await t.sendRawTransaction(c,l)}catch(o){throw o instanceof Zo?(i=!1,o):new oa(o==null?void 0:o.message,o)}}catch(o){throw i&&this.emit("error",o),o}}async signAllTransactions(e){for(const r of e)if(ja(r)){if(!this.supportedTransactionVersions)throw new Zo("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new Zo(`Signing transaction version ${r.version} isn't supported by this wallet`)}const t=[];for(const r of e)t.push(await this.signTransaction(r));return t}}class vI extends AP{}class SP extends vI{}const zr="solana:signAndSendTransaction",rl="solana:signIn",ea="solana:signMessage",Tn="solana:signTransaction",Ub="standard:connect",Jw="standard:disconnect",Db="standard:events";function TP(n){return Ub in n.features&&Db in n.features&&(zr in n.features||Tn in n.features)}var _f;(function(n){n.Mainnet="mainnet-beta",n.Testnet="testnet",n.Devnet="devnet"})(_f||(_f={}));class hS extends Ir{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const RP=[],dm={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){Ri("call","select")},connect(){return Promise.reject(Ri("call","connect"))},disconnect(){return Promise.reject(Ri("call","disconnect"))},sendTransaction(){return Promise.reject(Ri("call","sendTransaction"))},signTransaction(){return Promise.reject(Ri("call","signTransaction"))},signAllTransactions(){return Promise.reject(Ri("call","signAllTransactions"))},signMessage(){return Promise.reject(Ri("call","signMessage"))},signIn(){return Promise.reject(Ri("call","signIn"))}};Object.defineProperty(dm,"wallets",{get(){return Ri("read","wallets"),RP}});Object.defineProperty(dm,"wallet",{get(){return Ri("read","wallet"),null}});Object.defineProperty(dm,"publicKey",{get(){return Ri("read","publicKey"),null}});function Ri(n,e){const t=new Error(`You have tried to ${n} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(t),t}const EI=fe.createContext(dm);function eu(){return fe.useContext(EI)}function NP(n,e){const t=fe.useState(()=>{try{const o=localStorage.getItem(n);if(o)return JSON.parse(o)}catch(o){typeof window<"u"&&console.error(o)}return e}),r=t[0],i=fe.useRef(!0);return fe.useEffect(()=>{if(i.current){i.current=!1;return}try{r===null?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(r))}catch(o){typeof window<"u"&&console.error(o)}},[r,n]),t}var lc={},dy,pS;function CP(){return pS||(pS=1,dy=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),dy}var hy={},Hs={},mS;function ml(){if(mS)return Hs;mS=1;let n;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Hs.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Hs.getSymbolTotalCodewords=function(r){return e[r]},Hs.getBCHDigit=function(t){let r=0;for(;t!==0;)r++,t>>>=1;return r},Hs.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');n=r},Hs.isKanjiModeEnabled=function(){return typeof n<"u"},Hs.toSJIS=function(r){return n(r)},Hs}var py={},gS;function Pb(){return gS||(gS=1,(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,i){if(n.isValid(r))return r;try{return e(r)}catch{return i}}})(py)),py}var my,yS;function IP(){if(yS)return my;yS=1;function n(){this.buffer=[],this.length=0}return n.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},my=n,my}var gy,wS;function kP(){if(wS)return gy;wS=1;function n(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return n.prototype.set=function(e,t,r,i){const o=e*this.size+t;this.data[o]=r,i&&(this.reservedBit[o]=!0)},n.prototype.get=function(e,t){return this.data[e*this.size+t]},n.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},n.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},gy=n,gy}var yy={},bS;function MP(){return bS||(bS=1,(function(n){const e=ml().getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,o=e(r),l=o===145?26:Math.ceil((o-13)/(2*i-2))*2,c=[o-7];for(let f=1;f<i-1;f++)c[f]=c[f-1]-l;return c.push(6),c.reverse()},n.getPositions=function(r){const i=[],o=n.getRowColCoords(r),l=o.length;for(let c=0;c<l;c++)for(let f=0;f<l;f++)c===0&&f===0||c===0&&f===l-1||c===l-1&&f===0||i.push([o[c],o[f]]);return i}})(yy)),yy}var wy={},vS;function OP(){if(vS)return wy;vS=1;const n=ml().getSymbolSize,e=7;return wy.getPositions=function(r){const i=n(r);return[[0,0],[i-e,0],[0,i-e]]},wy}var by={},ES;function BP(){return ES||(ES=1,(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},n.from=function(i){return n.isValid(i)?parseInt(i,10):void 0},n.getPenaltyN1=function(i){const o=i.size;let l=0,c=0,f=0,d=null,h=null;for(let b=0;b<o;b++){c=f=0,d=h=null;for(let E=0;E<o;E++){let v=i.get(b,E);v===d?c++:(c>=5&&(l+=e.N1+(c-5)),d=v,c=1),v=i.get(E,b),v===h?f++:(f>=5&&(l+=e.N1+(f-5)),h=v,f=1)}c>=5&&(l+=e.N1+(c-5)),f>=5&&(l+=e.N1+(f-5))}return l},n.getPenaltyN2=function(i){const o=i.size;let l=0;for(let c=0;c<o-1;c++)for(let f=0;f<o-1;f++){const d=i.get(c,f)+i.get(c,f+1)+i.get(c+1,f)+i.get(c+1,f+1);(d===4||d===0)&&l++}return l*e.N2},n.getPenaltyN3=function(i){const o=i.size;let l=0,c=0,f=0;for(let d=0;d<o;d++){c=f=0;for(let h=0;h<o;h++)c=c<<1&2047|i.get(d,h),h>=10&&(c===1488||c===93)&&l++,f=f<<1&2047|i.get(h,d),h>=10&&(f===1488||f===93)&&l++}return l*e.N3},n.getPenaltyN4=function(i){let o=0;const l=i.data.length;for(let f=0;f<l;f++)o+=i.data[f];return Math.abs(Math.ceil(o*100/l/5)-10)*e.N4};function t(r,i,o){switch(r){case n.Patterns.PATTERN000:return(i+o)%2===0;case n.Patterns.PATTERN001:return i%2===0;case n.Patterns.PATTERN010:return o%3===0;case n.Patterns.PATTERN011:return(i+o)%3===0;case n.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(o/3))%2===0;case n.Patterns.PATTERN101:return i*o%2+i*o%3===0;case n.Patterns.PATTERN110:return(i*o%2+i*o%3)%2===0;case n.Patterns.PATTERN111:return(i*o%3+(i+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(i,o){const l=o.size;for(let c=0;c<l;c++)for(let f=0;f<l;f++)o.isReserved(f,c)||o.xor(f,c,t(i,f,c))},n.getBestMask=function(i,o){const l=Object.keys(n.Patterns).length;let c=0,f=1/0;for(let d=0;d<l;d++){o(d),n.applyMask(d,i);const h=n.getPenaltyN1(i)+n.getPenaltyN2(i)+n.getPenaltyN3(i)+n.getPenaltyN4(i);n.applyMask(d,i),h<f&&(f=h,c=d)}return c}})(by)),by}var _h={},_S;function _I(){if(_S)return _h;_S=1;const n=Pb(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return _h.getBlocksCount=function(i,o){switch(o){case n.L:return e[(i-1)*4+0];case n.M:return e[(i-1)*4+1];case n.Q:return e[(i-1)*4+2];case n.H:return e[(i-1)*4+3];default:return}},_h.getTotalCodewordsCount=function(i,o){switch(o){case n.L:return t[(i-1)*4+0];case n.M:return t[(i-1)*4+1];case n.Q:return t[(i-1)*4+2];case n.H:return t[(i-1)*4+3];default:return}},_h}var vy={},ef={},xS;function LP(){if(xS)return ef;xS=1;const n=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)n[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)n[i]=n[i-255]})(),ef.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},ef.exp=function(r){return n[r]},ef.mul=function(r,i){return r===0||i===0?0:n[e[r]+e[i]]},ef}var AS;function UP(){return AS||(AS=1,(function(n){const e=LP();n.mul=function(r,i){const o=new Uint8Array(r.length+i.length-1);for(let l=0;l<r.length;l++)for(let c=0;c<i.length;c++)o[l+c]^=e.mul(r[l],i[c]);return o},n.mod=function(r,i){let o=new Uint8Array(r);for(;o.length-i.length>=0;){const l=o[0];for(let f=0;f<i.length;f++)o[f]^=e.mul(i[f],l);let c=0;for(;c<o.length&&o[c]===0;)c++;o=o.slice(c)}return o},n.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let o=0;o<r;o++)i=n.mul(i,new Uint8Array([1,e.exp(o)]));return i}})(vy)),vy}var Ey,SS;function DP(){if(SS)return Ey;SS=1;const n=UP();function e(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=n.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const o=n.mod(i,this.genPoly),l=this.degree-o.length;if(l>0){const c=new Uint8Array(this.degree);return c.set(o,l),c}return o},Ey=e,Ey}var _y={},xy={},Ay={},TS;function xI(){return TS||(TS=1,Ay.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),Ay}var Vi={},RS;function AI(){if(RS)return Vi;RS=1;const n="[0-9]+",e="[A-Z $%*+\\-./:]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+`)(?:.|[\r
]))+`;Vi.KANJI=new RegExp(t,"g"),Vi.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Vi.BYTE=new RegExp(r,"g"),Vi.NUMERIC=new RegExp(n,"g"),Vi.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+t+"$"),o=new RegExp("^"+n+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Vi.testKanji=function(f){return i.test(f)},Vi.testNumeric=function(f){return o.test(f)},Vi.testAlphanumeric=function(f){return l.test(f)},Vi}var NS;function gl(){return NS||(NS=1,(function(n){const e=xI(),t=AI();n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(o,l){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?o.ccBits[0]:l<27?o.ccBits[1]:o.ccBits[2]},n.getBestModeForData=function(o){return t.testNumeric(o)?n.NUMERIC:t.testAlphanumeric(o)?n.ALPHANUMERIC:t.testKanji(o)?n.KANJI:n.BYTE},n.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},n.isValid=function(o){return o&&o.bit&&o.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+i)}}n.from=function(o,l){if(n.isValid(o))return o;try{return r(o)}catch{return l}}})(xy)),xy}var CS;function PP(){return CS||(CS=1,(function(n){const e=ml(),t=_I(),r=Pb(),i=gl(),o=xI(),l=7973,c=e.getBCHDigit(l);function f(E,v,N){for(let k=1;k<=40;k++)if(v<=n.getCapacity(k,N,E))return k}function d(E,v){return i.getCharCountIndicator(E,v)+4}function h(E,v){let N=0;return E.forEach(function(k){const I=d(k.mode,v);N+=I+k.getBitsLength()}),N}function b(E,v){for(let N=1;N<=40;N++)if(h(E,N)<=n.getCapacity(N,v,i.MIXED))return N}n.from=function(v,N){return o.isValid(v)?parseInt(v,10):N},n.getCapacity=function(v,N,k){if(!o.isValid(v))throw new Error("Invalid QR Code version");typeof k>"u"&&(k=i.BYTE);const I=e.getSymbolTotalCodewords(v),L=t.getTotalCodewordsCount(v,N),F=(I-L)*8;if(k===i.MIXED)return F;const M=F-d(k,v);switch(k){case i.NUMERIC:return Math.floor(M/10*3);case i.ALPHANUMERIC:return Math.floor(M/11*2);case i.KANJI:return Math.floor(M/13);case i.BYTE:default:return Math.floor(M/8)}},n.getBestVersionForData=function(v,N){let k;const I=r.from(N,r.M);if(Array.isArray(v)){if(v.length>1)return b(v,I);if(v.length===0)return 1;k=v[0]}else k=v;return f(k.mode,k.getLength(),I)},n.getEncodedBits=function(v){if(!o.isValid(v)||v<7)throw new Error("Invalid QR Code version");let N=v<<12;for(;e.getBCHDigit(N)-c>=0;)N^=l<<e.getBCHDigit(N)-c;return v<<12|N}})(_y)),_y}var Sy={},IS;function FP(){if(IS)return Sy;IS=1;const n=ml(),e=1335,t=21522,r=n.getBCHDigit(e);return Sy.getEncodedBits=function(o,l){const c=o.bit<<3|l;let f=c<<10;for(;n.getBCHDigit(f)-r>=0;)f^=e<<n.getBCHDigit(f)-r;return(c<<10|f)^t},Sy}var Ty={},Ry,kS;function HP(){if(kS)return Ry;kS=1;const n=gl();function e(t){this.mode=n.NUMERIC,this.data=t.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,o,l;for(i=0;i+3<=this.data.length;i+=3)o=this.data.substr(i,3),l=parseInt(o,10),r.put(l,10);const c=this.data.length-i;c>0&&(o=this.data.substr(i),l=parseInt(o,10),r.put(l,c*3+1))},Ry=e,Ry}var Ny,MS;function zP(){if(MS)return Ny;MS=1;const n=gl(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(r){this.mode=n.ALPHANUMERIC,this.data=r}return t.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(i){let o;for(o=0;o+2<=this.data.length;o+=2){let l=e.indexOf(this.data[o])*45;l+=e.indexOf(this.data[o+1]),i.put(l,11)}this.data.length%2&&i.put(e.indexOf(this.data[o]),6)},Ny=t,Ny}var Cy,OS;function GP(){if(OS)return Cy;OS=1;const n=gl();function e(t){this.mode=n.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(t){for(let r=0,i=this.data.length;r<i;r++)t.put(this.data[r],8)},Cy=e,Cy}var Iy,BS;function qP(){if(BS)return Iy;BS=1;const n=gl(),e=ml();function t(r){this.mode=n.KANJI,this.data=r}return t.getBitsLength=function(i){return i*13},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let o=e.toSJIS(this.data[i]);if(o>=33088&&o<=40956)o-=33088;else if(o>=57408&&o<=60351)o-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);o=(o>>>8&255)*192+(o&255),r.put(o,13)}},Iy=t,Iy}var ky={exports:{}},LS;function VP(){return LS||(LS=1,(function(n){var e={single_source_shortest_paths:function(t,r,i){var o={},l={};l[r]=0;var c=e.PriorityQueue.make();c.push(r,0);for(var f,d,h,b,E,v,N,k,I;!c.empty();){f=c.pop(),d=f.value,b=f.cost,E=t[d]||{};for(h in E)E.hasOwnProperty(h)&&(v=E[h],N=b+v,k=l[h],I=typeof l[h]>"u",(I||k>N)&&(l[h]=N,c.push(h,N),o[h]=d))}if(typeof i<"u"&&typeof l[i]>"u"){var L=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(L)}return o},extract_shortest_path_from_predecessor_list:function(t,r){for(var i=[],o=r;o;)i.push(o),t[o],o=t[o];return i.reverse(),i},find_path:function(t,r,i){var o=e.single_source_shortest_paths(t,r,i);return e.extract_shortest_path_from_predecessor_list(o,i)},PriorityQueue:{make:function(t){var r=e.PriorityQueue,i={},o;t=t||{};for(o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);return i.queue=[],i.sorter=t.sorter||r.default_sorter,i},default_sorter:function(t,r){return t.cost-r.cost},push:function(t,r){var i={value:t,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e})(ky)),ky.exports}var US;function KP(){return US||(US=1,(function(n){const e=gl(),t=HP(),r=zP(),i=GP(),o=qP(),l=AI(),c=ml(),f=VP();function d(L){return unescape(encodeURIComponent(L)).length}function h(L,F,M){const Y=[];let ie;for(;(ie=L.exec(M))!==null;)Y.push({data:ie[0],index:ie.index,mode:F,length:ie[0].length});return Y}function b(L){const F=h(l.NUMERIC,e.NUMERIC,L),M=h(l.ALPHANUMERIC,e.ALPHANUMERIC,L);let Y,ie;return c.isKanjiModeEnabled()?(Y=h(l.BYTE,e.BYTE,L),ie=h(l.KANJI,e.KANJI,L)):(Y=h(l.BYTE_KANJI,e.BYTE,L),ie=[]),F.concat(M,Y,ie).sort(function(re,ae){return re.index-ae.index}).map(function(re){return{data:re.data,mode:re.mode,length:re.length}})}function E(L,F){switch(F){case e.NUMERIC:return t.getBitsLength(L);case e.ALPHANUMERIC:return r.getBitsLength(L);case e.KANJI:return o.getBitsLength(L);case e.BYTE:return i.getBitsLength(L)}}function v(L){return L.reduce(function(F,M){const Y=F.length-1>=0?F[F.length-1]:null;return Y&&Y.mode===M.mode?(F[F.length-1].data+=M.data,F):(F.push(M),F)},[])}function N(L){const F=[];for(let M=0;M<L.length;M++){const Y=L[M];switch(Y.mode){case e.NUMERIC:F.push([Y,{data:Y.data,mode:e.ALPHANUMERIC,length:Y.length},{data:Y.data,mode:e.BYTE,length:Y.length}]);break;case e.ALPHANUMERIC:F.push([Y,{data:Y.data,mode:e.BYTE,length:Y.length}]);break;case e.KANJI:F.push([Y,{data:Y.data,mode:e.BYTE,length:d(Y.data)}]);break;case e.BYTE:F.push([{data:Y.data,mode:e.BYTE,length:d(Y.data)}])}}return F}function k(L,F){const M={},Y={start:{}};let ie=["start"];for(let se=0;se<L.length;se++){const re=L[se],ae=[];for(let J=0;J<re.length;J++){const Q=re[J],Z=""+se+J;ae.push(Z),M[Z]={node:Q,lastCount:0},Y[Z]={};for(let W=0;W<ie.length;W++){const O=ie[W];M[O]&&M[O].node.mode===Q.mode?(Y[O][Z]=E(M[O].lastCount+Q.length,Q.mode)-E(M[O].lastCount,Q.mode),M[O].lastCount+=Q.length):(M[O]&&(M[O].lastCount=Q.length),Y[O][Z]=E(Q.length,Q.mode)+4+e.getCharCountIndicator(Q.mode,F))}}ie=ae}for(let se=0;se<ie.length;se++)Y[ie[se]].end=0;return{map:Y,table:M}}function I(L,F){let M;const Y=e.getBestModeForData(L);if(M=e.from(F,Y),M!==e.BYTE&&M.bit<Y.bit)throw new Error('"'+L+'" cannot be encoded with mode '+e.toString(M)+`.
 Suggested mode is: `+e.toString(Y));switch(M===e.KANJI&&!c.isKanjiModeEnabled()&&(M=e.BYTE),M){case e.NUMERIC:return new t(L);case e.ALPHANUMERIC:return new r(L);case e.KANJI:return new o(L);case e.BYTE:return new i(L)}}n.fromArray=function(F){return F.reduce(function(M,Y){return typeof Y=="string"?M.push(I(Y,null)):Y.data&&M.push(I(Y.data,Y.mode)),M},[])},n.fromString=function(F,M){const Y=b(F,c.isKanjiModeEnabled()),ie=N(Y),se=k(ie,M),re=f.find_path(se.map,"start","end"),ae=[];for(let J=1;J<re.length-1;J++)ae.push(se.table[re[J]].node);return n.fromArray(v(ae))},n.rawSplit=function(F){return n.fromArray(b(F,c.isKanjiModeEnabled()))}})(Ty)),Ty}var DS;function WP(){if(DS)return hy;DS=1;const n=ml(),e=Pb(),t=IP(),r=kP(),i=MP(),o=OP(),l=BP(),c=_I(),f=DP(),d=PP(),h=FP(),b=gl(),E=KP();function v(se,re){const ae=se.size,J=o.getPositions(re);for(let Q=0;Q<J.length;Q++){const Z=J[Q][0],W=J[Q][1];for(let O=-1;O<=7;O++)if(!(Z+O<=-1||ae<=Z+O))for(let g=-1;g<=7;g++)W+g<=-1||ae<=W+g||(O>=0&&O<=6&&(g===0||g===6)||g>=0&&g<=6&&(O===0||O===6)||O>=2&&O<=4&&g>=2&&g<=4?se.set(Z+O,W+g,!0,!0):se.set(Z+O,W+g,!1,!0))}}function N(se){const re=se.size;for(let ae=8;ae<re-8;ae++){const J=ae%2===0;se.set(ae,6,J,!0),se.set(6,ae,J,!0)}}function k(se,re){const ae=i.getPositions(re);for(let J=0;J<ae.length;J++){const Q=ae[J][0],Z=ae[J][1];for(let W=-2;W<=2;W++)for(let O=-2;O<=2;O++)W===-2||W===2||O===-2||O===2||W===0&&O===0?se.set(Q+W,Z+O,!0,!0):se.set(Q+W,Z+O,!1,!0)}}function I(se,re){const ae=se.size,J=d.getEncodedBits(re);let Q,Z,W;for(let O=0;O<18;O++)Q=Math.floor(O/3),Z=O%3+ae-8-3,W=(J>>O&1)===1,se.set(Q,Z,W,!0),se.set(Z,Q,W,!0)}function L(se,re,ae){const J=se.size,Q=h.getEncodedBits(re,ae);let Z,W;for(Z=0;Z<15;Z++)W=(Q>>Z&1)===1,Z<6?se.set(Z,8,W,!0):Z<8?se.set(Z+1,8,W,!0):se.set(J-15+Z,8,W,!0),Z<8?se.set(8,J-Z-1,W,!0):Z<9?se.set(8,15-Z-1+1,W,!0):se.set(8,15-Z-1,W,!0);se.set(J-8,8,1,!0)}function F(se,re){const ae=se.size;let J=-1,Q=ae-1,Z=7,W=0;for(let O=ae-1;O>0;O-=2)for(O===6&&O--;;){for(let g=0;g<2;g++)if(!se.isReserved(Q,O-g)){let T=!1;W<re.length&&(T=(re[W]>>>Z&1)===1),se.set(Q,O-g,T),Z--,Z===-1&&(W++,Z=7)}if(Q+=J,Q<0||ae<=Q){Q-=J,J=-J;break}}}function M(se,re,ae){const J=new t;ae.forEach(function(g){J.put(g.mode.bit,4),J.put(g.getLength(),b.getCharCountIndicator(g.mode,se)),g.write(J)});const Q=n.getSymbolTotalCodewords(se),Z=c.getTotalCodewordsCount(se,re),W=(Q-Z)*8;for(J.getLengthInBits()+4<=W&&J.put(0,4);J.getLengthInBits()%8!==0;)J.putBit(0);const O=(W-J.getLengthInBits())/8;for(let g=0;g<O;g++)J.put(g%2?17:236,8);return Y(J,se,re)}function Y(se,re,ae){const J=n.getSymbolTotalCodewords(re),Q=c.getTotalCodewordsCount(re,ae),Z=J-Q,W=c.getBlocksCount(re,ae),O=J%W,g=W-O,T=Math.floor(J/W),C=Math.floor(Z/W),q=C+1,j=T-C,K=new f(j);let B=0;const A=new Array(W),y=new Array(W);let R=0;const G=new Uint8Array(se.buffer);for(let Ue=0;Ue<W;Ue++){const ct=Ue<g?C:q;A[Ue]=G.slice(B,B+ct),y[Ue]=K.encode(A[Ue]),B+=ct,R=Math.max(R,ct)}const X=new Uint8Array(J);let ue=0,be,De;for(be=0;be<R;be++)for(De=0;De<W;De++)be<A[De].length&&(X[ue++]=A[De][be]);for(be=0;be<j;be++)for(De=0;De<W;De++)X[ue++]=y[De][be];return X}function ie(se,re,ae,J){let Q;if(Array.isArray(se))Q=E.fromArray(se);else if(typeof se=="string"){let T=re;if(!T){const C=E.rawSplit(se);T=d.getBestVersionForData(C,ae)}Q=E.fromString(se,T||40)}else throw new Error("Invalid data");const Z=d.getBestVersionForData(Q,ae);if(!Z)throw new Error("The amount of data is too big to be stored in a QR Code");if(!re)re=Z;else if(re<Z)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+Z+`.
`);const W=M(re,ae,Q),O=n.getSymbolSize(re),g=new r(O);return v(g,re),N(g),k(g,re),L(g,ae,0),re>=7&&I(g,re),F(g,W),isNaN(J)&&(J=l.getBestMask(g,L.bind(null,g,ae))),l.applyMask(J,g),L(g,ae,J),{modules:g,version:re,errorCorrectionLevel:ae,maskPattern:J,segments:Q}}return hy.create=function(re,ae){if(typeof re>"u"||re==="")throw new Error("No input text");let J=e.M,Q,Z;return typeof ae<"u"&&(J=e.from(ae.errorCorrectionLevel,e.M),Q=d.from(ae.version),Z=l.from(ae.maskPattern),ae.toSJISFunc&&n.setToSJISFunction(ae.toSJISFunc)),ie(re,Q,J,Z)},hy}var My={},Oy={},PS;function SI(){return PS||(PS=1,(function(n){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let r=t.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+t);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,l=r.scale||4;return{width:o,scale:o?4:l,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},n.getImageWidth=function(r,i){const o=n.getScale(r,i);return Math.floor((r+i.margin*2)*o)},n.qrToImageData=function(r,i,o){const l=i.modules.size,c=i.modules.data,f=n.getScale(l,o),d=Math.floor((l+o.margin*2)*f),h=o.margin*f,b=[o.color.light,o.color.dark];for(let E=0;E<d;E++)for(let v=0;v<d;v++){let N=(E*d+v)*4,k=o.color.light;if(E>=h&&v>=h&&E<d-h&&v<d-h){const I=Math.floor((E-h)/f),L=Math.floor((v-h)/f);k=b[c[I*l+L]?1:0]}r[N++]=k.r,r[N++]=k.g,r[N++]=k.b,r[N]=k.a}}})(Oy)),Oy}var FS;function $P(){return FS||(FS=1,(function(n){const e=SI();function t(i,o,l){i.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=l,o.width=l,o.style.height=l+"px",o.style.width=l+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(o,l,c){let f=c,d=l;typeof f>"u"&&(!l||!l.getContext)&&(f=l,l=void 0),l||(d=r()),f=e.getOptions(f);const h=e.getImageWidth(o.modules.size,f),b=d.getContext("2d"),E=b.createImageData(h,h);return e.qrToImageData(E.data,o,f),t(b,d,h),b.putImageData(E,0,0),d},n.renderToDataURL=function(o,l,c){let f=c;typeof f>"u"&&(!l||!l.getContext)&&(f=l,l=void 0),f||(f={});const d=n.render(o,l,f),h=f.type||"image/png",b=f.rendererOpts||{};return d.toDataURL(h,b.quality)}})(My)),My}var By={},HS;function jP(){if(HS)return By;HS=1;const n=SI();function e(i,o){const l=i.a/255,c=o+'="'+i.hex+'"';return l<1?c+" "+o+'-opacity="'+l.toFixed(2).slice(1)+'"':c}function t(i,o,l){let c=i+o;return typeof l<"u"&&(c+=" "+l),c}function r(i,o,l){let c="",f=0,d=!1,h=0;for(let b=0;b<i.length;b++){const E=Math.floor(b%o),v=Math.floor(b/o);!E&&!d&&(d=!0),i[b]?(h++,b>0&&E>0&&i[b-1]||(c+=d?t("M",E+l,.5+v+l):t("m",f,0),f=0,d=!1),E+1<o&&i[b+1]||(c+=t("h",h),h=0)):f++}return c}return By.render=function(o,l,c){const f=n.getOptions(l),d=o.modules.size,h=o.modules.data,b=d+f.margin*2,E=f.color.light.a?"<path "+e(f.color.light,"fill")+' d="M0 0h'+b+"v"+b+'H0z"/>':"",v="<path "+e(f.color.dark,"stroke")+' d="'+r(h,d,f.margin)+'"/>',N='viewBox="0 0 '+b+" "+b+'"',I='<svg xmlns="http://www.w3.org/2000/svg" '+(f.width?'width="'+f.width+'" height="'+f.width+'" ':"")+N+' shape-rendering="crispEdges">'+E+v+`</svg>
`;return typeof c=="function"&&c(null,I),I},By}var zS;function YP(){if(zS)return lc;zS=1;const n=CP(),e=WP(),t=$P(),r=jP();function i(o,l,c,f,d){const h=[].slice.call(arguments,1),b=h.length,E=typeof h[b-1]=="function";if(!E&&!n())throw new Error("Callback required as last argument");if(E){if(b<2)throw new Error("Too few arguments provided");b===2?(d=c,c=l,l=f=void 0):b===3&&(l.getContext&&typeof d>"u"?(d=f,f=void 0):(d=f,f=c,c=l,l=void 0))}else{if(b<1)throw new Error("Too few arguments provided");return b===1?(c=l,l=f=void 0):b===2&&!l.getContext&&(f=c,c=l,l=void 0),new Promise(function(v,N){try{const k=e.create(c,f);v(o(k,l,f))}catch(k){N(k)}})}try{const v=e.create(c,f);d(null,o(v,l,f))}catch(v){d(v)}}return lc.create=e.create,lc.toCanvas=i.bind(null,t.render),lc.toDataURL=i.bind(null,t.renderToDataURL),lc.toString=i.bind(null,function(o,l,c){return r.render(o,c)}),lc}YP();function Ly(n){switch(n){case"processed":case"confirmed":case"finalized":case void 0:return n;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const kp="solana:mainnet",JP="solana:devnet",ZP="solana:testnet",XP="solana:localnet",QP="https://api.mainnet-beta.solana.com";function e7(n){return n.includes(QP)?kp:/\bdevnet\b/i.test(n)?JP:/\btestnet\b/i.test(n)?ZP:/\blocalhost\b/i.test(n)||/\b127\.0\.0\.1\b/.test(n)?XP:kp}function t7(n){let e=`${n.domain} wants you to sign in with your Solana account:
`;e+=`${n.address}`,n.statement&&(e+=`

${n.statement}`);const t=[];if(n.uri&&t.push(`URI: ${n.uri}`),n.version&&t.push(`Version: ${n.version}`),n.chainId&&t.push(`Chain ID: ${n.chainId}`),n.nonce&&t.push(`Nonce: ${n.nonce}`),n.issuedAt&&t.push(`Issued At: ${n.issuedAt}`),n.expirationTime&&t.push(`Expiration Time: ${n.expirationTime}`),n.notBefore&&t.push(`Not Before: ${n.notBefore}`),n.requestId&&t.push(`Request ID: ${n.requestId}`),n.resources){t.push("Resources:");for(const r of n.resources)t.push(`- ${r}`)}return t.length&&(e+=`

${t.join(`
`)}`),e}function n7(n){return Object.freeze({...n,decode:(e,t=0)=>n.read(e,t)[0]})}var r7=n=>n7({read(e,t){const r=t===0?e:e.slice(t);if(r.length===0)return["",0];let i=r.findIndex(f=>f!==0);i=i===-1?r.length:i;const o=n[0].repeat(i);if(i===r.length)return[o,e.length];const l=r.slice(i).reduce((f,d)=>f*256n+BigInt(d),0n),c=i7(l,n);return[o+c,e.length]}});function i7(n,e){const t=BigInt(e.length),r=[];for(;n>0n;)r.unshift(e[Number(n%t)]),n/=t;return r.join("")}var o7="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",s7=()=>r7(o7);const ns={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class rs extends Error{constructor(...e){const[t,r,i]=e;super(r),this.code=t,this.data=i,this.name="SolanaMobileWalletAdapterError"}}class TI extends Error{constructor(...e){const[t,r,i,o]=e;super(i),this.code=r,this.data=o,this.jsonRpcMessageId=t,this.name="SolanaMobileWalletAdapterProtocolError"}}function Jn(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(h){try{d(r.next(h))}catch(b){l(b)}}function f(h){try{d(r.throw(h))}catch(b){l(b)}}function d(h){h.done?o(h.value):i(h.value).then(c,f)}d((r=r.apply(n,[])).next())})}function a7(n){return window.btoa(n)}function GS(n,e){return window.btoa(String.fromCharCode.call(null,...n))}function RI(n){return new Uint8Array(window.atob(n).split("").map(e=>e.charCodeAt(0)))}function Uy(n,e){return Jn(this,void 0,void 0,function*(){const t=yield crypto.subtle.exportKey("raw",n),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,t),i=new Uint8Array(t.byteLength+r.byteLength);return i.set(new Uint8Array(t),0),i.set(new Uint8Array(r),t.byteLength),i})}function l7(n){return t7(n)}function c7(n){return a7(l7(n)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const u7="solana:signTransactions",qS="solana:cloneAuthorization";function f7(n){return s7().decode(n)}function d7(n){return f7(RI(n))}function h7(n,e){return new Proxy({},{get(t,r){return r==="then"?null:(t[r]==null&&(t[r]=function(i){return Jn(this,void 0,void 0,function*(){const{method:o,params:l}=p7(r,i,n),c=yield e(o,l);return o==="authorize"&&l.sign_in_payload&&!c.sign_in_result&&(c.sign_in_result=yield g7(l.sign_in_payload,c,e)),m7(r,c,n)})}),t[r])},defineProperty(){return!1},deleteProperty(){return!1}})}function p7(n,e,t){let r=e,i=n.toString().replace(/[A-Z]/g,o=>`_${o.toLowerCase()}`).toLowerCase();switch(n){case"authorize":{let{chain:o}=r;if(t==="legacy"){switch(o){case"solana:testnet":{o="testnet";break}case"solana:devnet":{o="devnet";break}case"solana:mainnet":{o="mainnet-beta";break}default:o=r.cluster}r.cluster=o}else{switch(o){case"testnet":case"devnet":{o=`solana:${o}`;break}case"mainnet-beta":{o="solana:mainnet";break}}r.chain=o}}case"reauthorize":{const{auth_token:o,identity:l}=r;if(o)switch(t){case"legacy":{i="reauthorize",r={auth_token:o,identity:l};break}default:{i="authorize";break}}break}}return{method:i,params:r}}function m7(n,e,t){switch(n){case"getCapabilities":{const r=e;switch(t){case"legacy":{const i=[u7];return r.supports_clone_authorization===!0&&i.push(qS),Object.assign(Object.assign({},r),{features:i})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(qS)})}}}return e}function g7(n,e,t){var r;return Jn(this,void 0,void 0,function*(){const i=(r=n.domain)!==null&&r!==void 0?r:window.location.host,o=e.accounts[0].address,l=c7(Object.assign(Object.assign({},n),{domain:i,address:d7(o)})),c=yield t("sign_messages",{addresses:[o],payloads:[l]}),f=RI(c.signed_payloads[0]),d=GS(f.slice(0,f.length-64)),h=GS(f.slice(f.length-64));return{address:o,signed_message:d.length==0?l:d,signature:h}})}const Ya=4;function y7(n){if(n>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(Ya);return new DataView(e).setUint32(0,n,!1),new Uint8Array(e)}const Zw=12,NI=65;function w7(n,e,t){return Jn(this,void 0,void 0,function*(){const r=y7(e),i=new Uint8Array(Zw);crypto.getRandomValues(i);const o=yield crypto.subtle.encrypt(II(r,i),t,new TextEncoder().encode(n)),l=new Uint8Array(r.byteLength+i.byteLength+o.byteLength);return l.set(new Uint8Array(r),0),l.set(new Uint8Array(i),r.byteLength),l.set(new Uint8Array(o),r.byteLength+i.byteLength),l})}function CI(n,e){return Jn(this,void 0,void 0,function*(){const t=n.slice(0,Ya),r=n.slice(Ya,Ya+Zw),i=n.slice(Ya+Zw),o=yield crypto.subtle.decrypt(II(t,r),e,i);return b7().decode(o)})}function II(n,e){return{additionalData:n,iv:e,name:"AES-GCM",tagLength:128}}let Dy;function b7(){return Dy===void 0&&(Dy=new TextDecoder("utf-8")),Dy}function v7(){return Jn(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function Py(){return Jn(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function E7(n){let e="";const t=new Uint8Array(n),r=t.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(t[i]);return window.btoa(e)}function _7(){return kI(49152+Math.floor(Math.random()*16384))}function kI(n){if(n<49152||n>65535)throw new rs(ns.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${n} given.`,{port:n});return n}function x7(n){return n.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const A7="solana-wallet";function VS(n){return n.replace(/(^\/+|\/+$)/g,"").split("/")}function S7(n,e){let t=null;if(e){try{t=new URL(e)}catch{}if((t==null?void 0:t.protocol)!=="https:")throw new rs(ns.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}t||(t=new URL(`${A7}:/`));const r=n.startsWith("/")?n:[...VS(t.pathname),...VS(n)].join("/");return new URL(r,t)}function T7(n,e,t,r=["v1"]){return Jn(this,void 0,void 0,function*(){const i=kI(e),o=yield crypto.subtle.exportKey("raw",n),l=E7(o),c=S7("v1/associate/local",t);return c.searchParams.set("association",x7(l)),c.searchParams.set("port",`${i}`),r.forEach(f=>{c.searchParams.set("v",f)}),c})}function R7(n,e){return Jn(this,void 0,void 0,function*(){const t=JSON.stringify(n),r=n.id;return w7(t,r,e)})}function N7(n,e){return Jn(this,void 0,void 0,function*(){const t=yield CI(n,e),r=JSON.parse(t);if(Object.hasOwnProperty.call(r,"error"))throw new TI(r.id,r.error.code,r.error.message);return r})}function C7(n,e,t){return Jn(this,void 0,void 0,function*(){const[r,i]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",n.slice(0,NI),{name:"ECDH",namedCurve:"P-256"},!1,[])]),o=yield crypto.subtle.deriveBits({name:"ECDH",public:i},t,256),l=yield crypto.subtle.importKey("raw",o,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},l,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function I7(n,e){return Jn(this,void 0,void 0,function*(){const t=yield CI(n,e),r=JSON.parse(t);let i="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new rs(ns.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:i}})}const Mp={Firefox:0,Other:1};function k7(){return navigator.userAgent.indexOf("Firefox/")!==-1?Mp.Firefox:Mp.Other}function M7(){return new Promise((n,e)=>{function t(){clearTimeout(i),window.removeEventListener("blur",r)}function r(){t(),n()}window.addEventListener("blur",r);const i=setTimeout(()=>{t(),e()},3e3)})}let tf=null;function O7(n){tf==null&&(tf=document.createElement("iframe"),tf.style.display="none",document.body.appendChild(tf)),tf.contentWindow.location.href=n.toString()}function B7(n){return Jn(this,void 0,void 0,function*(){if(n.protocol==="https:")window.location.assign(n);else try{const e=k7();switch(e){case Mp.Firefox:O7(n);break;case Mp.Other:{const t=M7();window.location.assign(n),yield t;break}default:}}catch{throw new rs(ns.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function L7(n,e){return Jn(this,void 0,void 0,function*(){const t=_7(),r=yield T7(n,t,e);return yield B7(r),t})}const KS={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},U7="com.solana.mobilewalletadapter.v1";function D7(){if(typeof window>"u"||window.isSecureContext!==!0)throw new rs(ns.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function P7(n){let e;try{e=new URL(n)}catch{throw new rs(ns.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new rs(ns.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function WS(n){return new DataView(n).getUint32(0,!1)}function F7(n,e){return Jn(this,void 0,void 0,function*(){D7();const t=yield v7(),i=`ws://localhost:${yield L7(t.publicKey,e==null?void 0:e.baseUri)}/solana-wallet`;let o;const l=(()=>{const h=[...KS.retryDelayScheduleMs];return()=>h.length>1?h.shift():h[0]})();let c=1,f=0,d={__type:"disconnected"};return new Promise((h,b)=>{let E;const v={},N=()=>Jn(this,void 0,void 0,function*(){if(d.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${d.__type}\`.`);return}E.removeEventListener("open",N);const{associationKeypair:ie}=d,se=yield Py();E.send(yield Uy(se.publicKey,ie.privateKey)),d={__type:"hello_req_sent",associationPublicKey:ie.publicKey,ecdhPrivateKey:se.privateKey}}),k=ie=>{ie.wasClean?d={__type:"disconnected"}:b(new rs(ns.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${ie.code}: ${ie.reason}).`,{closeEvent:ie})),F()},I=ie=>Jn(this,void 0,void 0,function*(){F(),Date.now()-o>=KS.timeoutMs?b(new rs(ns.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${i}.`)):(yield new Promise(se=>{const re=l();M=window.setTimeout(se,re)}),Y())}),L=ie=>Jn(this,void 0,void 0,function*(){const se=yield ie.data.arrayBuffer();switch(d.__type){case"connecting":if(se.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const re=yield Py();E.send(yield Uy(re.publicKey,t.privateKey)),d={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:re.privateKey};break;case"connected":try{const ae=se.slice(0,Ya),J=WS(ae);if(J!==f+1)throw new Error("Encrypted message has invalid sequence number");f=J;const Q=yield N7(se,d.sharedSecret),Z=v[Q.id];delete v[Q.id],Z.resolve(Q.result)}catch(ae){if(ae instanceof TI){const J=v[ae.jsonRpcMessageId];delete v[ae.jsonRpcMessageId],J.reject(ae)}else throw ae}break;case"hello_req_sent":{if(se.byteLength===0){const W=yield Py();E.send(yield Uy(W.publicKey,t.privateKey)),d={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:W.privateKey};break}const ae=yield C7(se,d.associationPublicKey,d.ecdhPrivateKey),J=se.slice(NI),Q=J.byteLength!==0?yield Jn(this,void 0,void 0,function*(){const W=J.slice(0,Ya),O=WS(W);if(O!==f+1)throw new Error("Encrypted message has invalid sequence number");return f=O,I7(J,ae)}):{protocol_version:"legacy"};d={__type:"connected",sharedSecret:ae,sessionProperties:Q};const Z=h7(Q.protocol_version,(W,O)=>Jn(this,void 0,void 0,function*(){const g=c++;return E.send(yield R7({id:g,jsonrpc:"2.0",method:W,params:O??{}},ae)),new Promise((T,C)=>{v[g]={resolve(q){switch(W){case"authorize":case"reauthorize":{const{wallet_uri_base:j}=q;if(j!=null)try{P7(j)}catch(K){C(K);return}break}}T(q)},reject:C}})}));try{h(yield n(Z))}catch(W){b(W)}finally{F(),E.close()}break}}});let F,M;const Y=()=>{F&&F(),d={__type:"connecting",associationKeypair:t},o===void 0&&(o=Date.now()),E=new WebSocket(i,[U7]),E.addEventListener("open",N),E.addEventListener("close",k),E.addEventListener("error",I),E.addEventListener("message",L),F=()=>{window.clearTimeout(M),E.removeEventListener("open",N),E.removeEventListener("close",k),E.removeEventListener("error",I),E.removeEventListener("message",L)}};Y()})})}var Fy,$S;function H7(){if($S)return Fy;$S=1;function n(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),l=o.charCodeAt(0);if(t[l]!==255)throw new TypeError(o+" is ambiguous");t[l]=i}var c=e.length,f=e.charAt(0),d=Math.log(c)/Math.log(256),h=Math.log(256)/Math.log(c);function b(N){if(N instanceof Uint8Array||(ArrayBuffer.isView(N)?N=new Uint8Array(N.buffer,N.byteOffset,N.byteLength):Array.isArray(N)&&(N=Uint8Array.from(N))),!(N instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(N.length===0)return"";for(var k=0,I=0,L=0,F=N.length;L!==F&&N[L]===0;)L++,k++;for(var M=(F-L)*h+1>>>0,Y=new Uint8Array(M);L!==F;){for(var ie=N[L],se=0,re=M-1;(ie!==0||se<I)&&re!==-1;re--,se++)ie+=256*Y[re]>>>0,Y[re]=ie%c>>>0,ie=ie/c>>>0;if(ie!==0)throw new Error("Non-zero carry");I=se,L++}for(var ae=M-I;ae!==M&&Y[ae]===0;)ae++;for(var J=f.repeat(k);ae<M;++ae)J+=e.charAt(Y[ae]);return J}function E(N){if(typeof N!="string")throw new TypeError("Expected String");if(N.length===0)return new Uint8Array;for(var k=0,I=0,L=0;N[k]===f;)I++,k++;for(var F=(N.length-k)*d+1>>>0,M=new Uint8Array(F);N[k];){var Y=N.charCodeAt(k);if(Y>255)return;var ie=t[Y];if(ie===255)return;for(var se=0,re=F-1;(ie!==0||se<L)&&re!==-1;re--,se++)ie+=c*M[re]>>>0,M[re]=ie%256>>>0,ie=ie/256>>>0;if(ie!==0)throw new Error("Non-zero carry");L=se,k++}for(var ae=F-L;ae!==F&&M[ae]===0;)ae++;for(var J=new Uint8Array(I+(F-ae)),Q=I;ae!==F;)J[Q++]=M[ae++];return J}function v(N){var k=E(N);if(k)return k;throw new Error("Non-base"+c+" character")}return{encode:b,decodeUnsafe:E,decode:v}}return Fy=n,Fy}var Hy,jS;function z7(){return jS||(jS=1,Hy=H7()("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),Hy}var G7=z7();const Op=ss(G7);function An(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(h){try{d(r.next(h))}catch(b){l(b)}}function f(h){try{d(r.throw(h))}catch(b){l(b)}}function d(h){h.done?o(h.value):i(h.value).then(c,f)}d((r=r.apply(n,[])).next())})}function He(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function $n(n,e,t,r,i){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var mf,Qn,Da,wc,MI,OI,BI,jh;const q7=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,V7=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,K7=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class W7{constructor(){mf.add(this),Qn.set(this,null),Da.set(this,{}),wc.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),He(this,mf,"m",OI).call(this),He(this,Qn,"f")&&(He(this,Qn,"f").style.display="flex")},this.close=(e=void 0)=>{var t;console.debug("Modal close"),He(this,mf,"m",BI).call(this),He(this,Qn,"f")&&(He(this,Qn,"f").style.display="none"),(t=He(this,Da,"f").close)===null||t===void 0||t.forEach(r=>r(e))},jh.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),$n(this,Qn,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return An(this,void 0,void 0,function*(){console.log("Injecting modal"),He(this,mf,"m",MI).call(this)})}addEventListener(e,t){var r;return!((r=He(this,Da,"f")[e])===null||r===void 0)&&r.push(t)||(He(this,Da,"f")[e]=[t]),()=>this.removeEventListener(e,t)}removeEventListener(e,t){var r;He(this,Da,"f")[e]=(r=He(this,Da,"f")[e])===null||r===void 0?void 0:r.filter(i=>t!==i)}}Qn=new WeakMap,Da=new WeakMap,wc=new WeakMap,jh=new WeakMap,mf=new WeakSet,MI=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){He(this,Qn,"f")||$n(this,Qn,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}$n(this,Qn,document.createElement("div")),He(this,Qn,"f").id="mobile-wallet-adapter-embedded-root-ui",He(this,Qn,"f").innerHTML=q7,He(this,Qn,"f").style.display="none";const e=He(this,Qn,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const t=document.createElement("style");t.id="mobile-wallet-adapter-embedded-modal-styles",t.textContent=V7+this.contentStyles;const r=document.createElement("div");r.innerHTML=K7,this.dom=r.attachShadow({mode:"closed"}),this.dom.appendChild(t),this.dom.appendChild(He(this,Qn,"f")),document.body.appendChild(r)},OI=function(){if(!He(this,Qn,"f")||He(this,wc,"f"))return;[...He(this,Qn,"f").querySelectorAll("[data-modal-close]")].forEach(t=>t==null?void 0:t.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",He(this,jh,"f")),$n(this,wc,!0)},BI=function(){if(!He(this,wc,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",He(this,jh,"f")),!He(this,Qn,"f")))return;[...He(this,Qn,"f").querySelectorAll("[data-modal-close]")].forEach(t=>t==null?void 0:t.removeEventListener("click",this.close)),$n(this,wc,!1)};const $7="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function xh(n){return window.btoa(String.fromCharCode.call(null,...n))}function zs(n){return new Uint8Array(window.atob(n).split("").map(e=>e.charCodeAt(0)))}var bc,Ja,Xw,Qw,e1,t1,gf,Ar,zo,Ys,vc,Pa,Yh,yf,Jh,n1,Zh,LI,r1,Xh,Ec,Qh,wf,ep,_c,bf,tp,i1,o1,np,rp,s1,a1,ip;const UI="Mobile Wallet Adapter",j7=64,Y7=[zr,Tn,ea,rl];class J7{constructor(e){bc.add(this),Ja.set(this,{}),Xw.set(this,"1.0.0"),Qw.set(this,UI),e1.set(this,"https://solanamobile.com/wallets"),t1.set(this,$7),gf.set(this,void 0),Ar.set(this,void 0),zo.set(this,void 0),Ys.set(this,!1),vc.set(this,0),Pa.set(this,[]),Yh.set(this,void 0),yf.set(this,void 0),Jh.set(this,void 0),n1.set(this,(t,r)=>{var i;return!((i=He(this,Ja,"f")[t])===null||i===void 0)&&i.push(r)||(He(this,Ja,"f")[t]=[r]),()=>He(this,bc,"m",LI).call(this,t,r)}),r1.set(this,({silent:t}={})=>An(this,void 0,void 0,function*(){if(He(this,Ys,"f")||this.connected)return{accounts:this.accounts};$n(this,Ys,!0);try{if(t){const r=yield He(this,zo,"f").get();if(r)yield He(this,Qh,"f").call(this,r.capabilities),yield He(this,Ec,"f").call(this,r);else return{accounts:this.accounts}}else yield He(this,Xh,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{$n(this,Ys,!1)}return{accounts:this.accounts}})),Xh.set(this,t=>An(this,void 0,void 0,function*(){try{const r=yield He(this,zo,"f").get();if(r)return He(this,Ec,"f").call(this,r),r;const i=yield He(this,Yh,"f").select(He(this,Pa,"f"));return yield He(this,_c,"f").call(this,o=>An(this,void 0,void 0,function*(){const[l,c]=yield Promise.all([o.getCapabilities(),o.authorize({chain:i,identity:He(this,gf,"f"),sign_in_payload:t})]),f=He(this,tp,"f").call(this,c.accounts),d=Object.assign(Object.assign({},c),{accounts:f,chain:i,capabilities:l});return Promise.all([He(this,Qh,"f").call(this,l),He(this,zo,"f").set(d),He(this,Ec,"f").call(this,d)]),d}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),Ec.set(this,t=>An(this,void 0,void 0,function*(){var r;const i=He(this,Ar,"f")==null||((r=He(this,Ar,"f"))===null||r===void 0?void 0:r.accounts.length)!==t.accounts.length||He(this,Ar,"f").accounts.some((o,l)=>o.address!==t.accounts[l].address);$n(this,Ar,t),i&&He(this,bc,"m",Zh).call(this,"change",{accounts:this.accounts})})),Qh.set(this,t=>An(this,void 0,void 0,function*(){const r=t.features.includes("solana:signTransactions"),i=t.supports_sign_and_send_transactions,o=zr in this.features!==i||Tn in this.features!==r;$n(this,yf,Object.assign(Object.assign({},(i||!i&&!r)&&{[zr]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:He(this,np,"f")}}),r&&{[Tn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:He(this,rp,"f")}})),o&&He(this,bc,"m",Zh).call(this,"change",{features:this.features})})),wf.set(this,(t,r,i)=>An(this,void 0,void 0,function*(){var o,l;try{const[c,f]=yield Promise.all([(l=(o=He(this,Ar,"f"))===null||o===void 0?void 0:o.capabilities)!==null&&l!==void 0?l:yield t.getCapabilities(),t.authorize({auth_token:r,identity:He(this,gf,"f"),chain:i})]),d=He(this,tp,"f").call(this,f.accounts),h=Object.assign(Object.assign({},f),{accounts:d,chain:i,capabilities:c});Promise.all([He(this,zo,"f").set(h),He(this,Ec,"f").call(this,h)])}catch(c){throw He(this,ep,"f").call(this),new Error(c instanceof Error&&c.message||"Unknown error")}})),ep.set(this,()=>An(this,void 0,void 0,function*(){var t;He(this,zo,"f").clear(),$n(this,Ys,!1),$n(this,vc,(t=He(this,vc,"f"),t++,t)),$n(this,Ar,void 0),He(this,bc,"m",Zh).call(this,"change",{accounts:this.accounts})})),_c.set(this,t=>An(this,void 0,void 0,function*(){var r;const i=(r=He(this,Ar,"f"))===null||r===void 0?void 0:r.wallet_uri_base,o=i?{baseUri:i}:void 0,l=He(this,vc,"f");try{return yield F7(t,o)}catch(c){throw He(this,vc,"f")!==l&&(yield new Promise(()=>{})),c instanceof Error&&c.name==="SolanaMobileWalletAdapterError"&&c.code==="ERROR_WALLET_NOT_FOUND"&&(yield He(this,Jh,"f").call(this,this)),c}})),bf.set(this,()=>{if(!He(this,Ar,"f"))throw new Error("Wallet not connected");return{authToken:He(this,Ar,"f").auth_token,chain:He(this,Ar,"f").chain}}),tp.set(this,t=>t.map(r=>{var i,o;const l=zs(r.address);return{address:Op.encode(l),publicKey:l,label:r.label,icon:r.icon,chains:(i=r.chains)!==null&&i!==void 0?i:He(this,Pa,"f"),features:(o=r.features)!==null&&o!==void 0?o:Y7}})),i1.set(this,t=>An(this,void 0,void 0,function*(){const{authToken:r,chain:i}=He(this,bf,"f").call(this);try{const o=t.map(l=>xh(l));return yield He(this,_c,"f").call(this,l=>An(this,void 0,void 0,function*(){return yield He(this,wf,"f").call(this,l,r,i),(yield l.signTransactions({payloads:o})).signed_payloads.map(zs)}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),o1.set(this,(t,r)=>An(this,void 0,void 0,function*(){const{authToken:i,chain:o}=He(this,bf,"f").call(this);try{return yield He(this,_c,"f").call(this,l=>An(this,void 0,void 0,function*(){const[c,f]=yield Promise.all([l.getCapabilities(),He(this,wf,"f").call(this,l,i,o)]);if(c.supports_sign_and_send_transactions){const d=xh(t);return(yield l.signAndSendTransactions(Object.assign(Object.assign({},r),{payloads:[d]}))).signatures.map(zs)[0]}else throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(l){throw new Error(l instanceof Error&&l.message||"Unknown error")}})),np.set(this,(...t)=>An(this,void 0,void 0,function*(){const r=[];for(const i of t){const o=yield He(this,o1,"f").call(this,i.transaction,i.options);r.push({signature:o})}return r})),rp.set(this,(...t)=>An(this,void 0,void 0,function*(){return(yield He(this,i1,"f").call(this,t.map(({transaction:r})=>r))).map(r=>({signedTransaction:r}))})),s1.set(this,(...t)=>An(this,void 0,void 0,function*(){const{authToken:r,chain:i}=He(this,bf,"f").call(this),o=t.map(({account:c})=>xh(c.publicKey)),l=t.map(({message:c})=>xh(c));try{return yield He(this,_c,"f").call(this,c=>An(this,void 0,void 0,function*(){return yield He(this,wf,"f").call(this,c,r,i),(yield c.signMessages({addresses:o,payloads:l})).signed_payloads.map(zs).map(d=>({signedMessage:d,signature:d.slice(-j7)}))}))}catch(c){throw new Error(c instanceof Error&&c.message||"Unknown error")}})),a1.set(this,(...t)=>An(this,void 0,void 0,function*(){const r=[];if(t.length>1)for(const i of t)r.push(yield He(this,ip,"f").call(this,i));else return[yield He(this,ip,"f").call(this,t[0])];return r})),ip.set(this,t=>An(this,void 0,void 0,function*(){var r,i,o;$n(this,Ys,!0);try{const l=yield He(this,Xh,"f").call(this,Object.assign(Object.assign({},t),{domain:(r=t==null?void 0:t.domain)!==null&&r!==void 0?r:window.location.host}));if(!l.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const c=l.sign_in_result.address,f=l.accounts.find(d=>d.address==c);return{account:Object.assign(Object.assign({},f??{address:Op.encode(zs(c))}),{publicKey:zs(c),chains:(i=f==null?void 0:f.chains)!==null&&i!==void 0?i:He(this,Pa,"f"),features:(o=f==null?void 0:f.features)!==null&&o!==void 0?o:l.capabilities.features}),signedMessage:zs(l.sign_in_result.signed_message),signature:zs(l.sign_in_result.signature)}}catch(l){throw new Error(l instanceof Error&&l.message||"Unknown error")}finally{$n(this,Ys,!1)}})),$n(this,zo,e.authorizationCache),$n(this,gf,e.appIdentity),$n(this,Pa,e.chains),$n(this,Yh,e.chainSelector),$n(this,Jh,e.onWalletNotFound),$n(this,yf,{[zr]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:He(this,np,"f")},[Tn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:He(this,rp,"f")}})}get version(){return He(this,Xw,"f")}get name(){return He(this,Qw,"f")}get url(){return He(this,e1,"f")}get icon(){return He(this,t1,"f")}get chains(){return He(this,Pa,"f")}get features(){return Object.assign({[Ub]:{version:"1.0.0",connect:He(this,r1,"f")},[Jw]:{version:"1.0.0",disconnect:He(this,ep,"f")},[Db]:{version:"1.0.0",on:He(this,n1,"f")},[ea]:{version:"1.0.0",signMessage:He(this,s1,"f")},[rl]:{version:"1.0.0",signIn:He(this,a1,"f")}},He(this,yf,"f"))}get accounts(){var e,t;return(t=(e=He(this,Ar,"f"))===null||e===void 0?void 0:e.accounts)!==null&&t!==void 0?t:[]}get connected(){return!!He(this,Ar,"f")}get isAuthorized(){return!!He(this,Ar,"f")}get currentAuthorization(){return He(this,Ar,"f")}get cachedAuthorizationResult(){return He(this,zo,"f").get()}}Ja=new WeakMap,Xw=new WeakMap,Qw=new WeakMap,e1=new WeakMap,t1=new WeakMap,gf=new WeakMap,Ar=new WeakMap,zo=new WeakMap,Ys=new WeakMap,vc=new WeakMap,Pa=new WeakMap,Yh=new WeakMap,yf=new WeakMap,Jh=new WeakMap,n1=new WeakMap,r1=new WeakMap,Xh=new WeakMap,Ec=new WeakMap,Qh=new WeakMap,wf=new WeakMap,ep=new WeakMap,_c=new WeakMap,bf=new WeakMap,tp=new WeakMap,i1=new WeakMap,o1=new WeakMap,np=new WeakMap,rp=new WeakMap,s1=new WeakMap,a1=new WeakMap,ip=new WeakMap,bc=new WeakSet,Zh=function(e,...t){var r;(r=He(this,Ja,"f")[e])===null||r===void 0||r.forEach(i=>i.apply(null,t))},LI=function(e,t){var r;He(this,Ja,"f")[e]=(r=He(this,Ja,"f")[e])===null||r===void 0?void 0:r.filter(i=>t!==i)};const Z7="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",X7="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class Q7 extends W7{constructor(){super(...arguments),this.contentStyles=t9,this.contentHtml=e9}initWithError(e){super.init(),this.populateError(e)}populateError(e){var t,r;const i=(t=this.dom)===null||t===void 0?void 0:t.getElementById("mobile-wallet-adapter-error-message"),o=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-action");if(i){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":i.innerHTML=Z7,o&&o.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":i.innerHTML=X7,o&&(o.style.display="none");return}i.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const e9=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,t9=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function n9(){return An(this,void 0,void 0,function*(){if(typeof window<"u"){const n=window.navigator.userAgent.toLowerCase(),e=new Q7;n.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}const zy="SolanaMobileWalletAdapterDefaultAuthorizationCache";function r9(){let n;try{n=window.localStorage}catch{}return{clear(){return An(this,void 0,void 0,function*(){if(n)try{n.removeItem(zy)}catch{}})},get(){return An(this,void 0,void 0,function*(){if(n)try{const e=JSON.parse(n.getItem(zy));if(e&&e.accounts){const t=e.accounts.map(r=>Object.assign(Object.assign({},r),{publicKey:"publicKey"in r?new Uint8Array(Object.values(r.publicKey)):Op.decode(r.address)}));return Object.assign(Object.assign({},e),{accounts:t})}else return e||void 0}catch{}})},set(e){return An(this,void 0,void 0,function*(){if(n)try{n.setItem(zy,JSON.stringify(e))}catch{}})}}}function i9(){return{select(n){return An(this,void 0,void 0,function*(){return n.length===1?n[0]:n.includes(kp)?kp:n[0]})}}}function pn(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(h){try{d(r.next(h))}catch(b){l(b)}}function f(h){try{d(r.throw(h))}catch(b){l(b)}}function d(h){h.done?o(h.value):i(h.value).then(c,f)}d((r=r.apply(n,[])).next())})}function ut(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function ti(n,e,t,r,i){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}const l1="standard:connect",o9="standard:disconnect",s9="standard:events";function Gy(n){return window.btoa(String.fromCharCode.call(null,...n))}function a9(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var or,Sn,ta,$o,op,qo,Fa,c1,u1,DI,Bp,sp,Qs;const ap=UI,l9=64;function c9(n){return"version"in n}function PI(n){switch(n){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return n}}class u9 extends SP{constructor(e,t){super(),or.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),Sn.set(this,void 0),ta.set(this,!1),$o.set(this,a9()?fn.Loadable:fn.Unsupported),op.set(this,void 0),qo.set(this,void 0),Fa.set(this,void 0),c1.set(this,r=>pn(this,void 0,void 0,function*(){if(r.accounts&&r.accounts.length>0){ut(this,or,"m",DI).call(this);const i=yield ut(this,op,"f").call(this,r.accounts);i!==ut(this,qo,"f")&&(ti(this,qo,i),ti(this,Fa,void 0),this.emit("connect",this.publicKey))}})),ti(this,op,r=>pn(this,void 0,void 0,function*(){var i;const o=yield t.addressSelector.select(r.map(({publicKey:l})=>Gy(l)));return(i=r.find(({publicKey:l})=>Gy(l)===o))!==null&&i!==void 0?i:r[0]})),ti(this,Sn,e),ut(this,Sn,"f").features[s9].on("change",ut(this,c1,"f")),this.name=ut(this,Sn,"f").name,this.icon=ut(this,Sn,"f").icon,this.url=ut(this,Sn,"f").url}get publicKey(){var e;if(!ut(this,Fa,"f")&&ut(this,qo,"f"))try{ti(this,Fa,new we(ut(this,qo,"f").publicKey),"f")}catch(t){throw new Bb(t instanceof Error&&(t==null?void 0:t.message)||"Unknown error",t)}return(e=ut(this,Fa,"f"))!==null&&e!==void 0?e:null}get connected(){return ut(this,Sn,"f").connected}get connecting(){return ut(this,ta,"f")}get readyState(){return ut(this,$o,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return pn(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return pn(this,void 0,void 0,function*(){ut(this,or,"m",u1).call(this,!0)})}connect(){return pn(this,void 0,void 0,function*(){ut(this,or,"m",u1).call(this)})}performAuthorization(e){return pn(this,void 0,void 0,function*(){try{const t=yield ut(this,Sn,"f").cachedAuthorizationResult;return t?(yield ut(this,Sn,"f").features[l1].connect({silent:!0}),t):(e?yield ut(this,Sn,"f").features[rl].signIn(e):yield ut(this,Sn,"f").features[l1].connect(),yield yield ut(this,Sn,"f").cachedAuthorizationResult)}catch(t){throw new Uf(t instanceof Error&&t.message||"Unknown error",t)}})}disconnect(){return pn(this,void 0,void 0,function*(){return yield ut(this,or,"m",Qs).call(this,()=>pn(this,void 0,void 0,function*(){ti(this,ta,!1),ti(this,Fa,void 0),ti(this,qo,void 0),yield ut(this,Sn,"f").features[o9].disconnect(),this.emit("disconnect")}))})}signIn(e){return pn(this,void 0,void 0,function*(){return ut(this,or,"m",Qs).call(this,()=>pn(this,void 0,void 0,function*(){var t;if(ut(this,$o,"f")!==fn.Installed&&ut(this,$o,"f")!==fn.Loadable)throw new $c;ti(this,ta,!0);try{const r=yield ut(this,Sn,"f").features[rl].signIn(Object.assign(Object.assign({},e),{domain:(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:window.location.host}));if(r.length>0)return r[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(r){throw new Uf(r instanceof Error&&r.message||"Unknown error",r)}finally{ti(this,ta,!1)}}))})}signMessage(e){return pn(this,void 0,void 0,function*(){return yield ut(this,or,"m",Qs).call(this,()=>pn(this,void 0,void 0,function*(){const t=ut(this,or,"m",Bp).call(this);try{return(yield ut(this,Sn,"f").features[ea].signMessage({account:t,message:e}))[0].signature}catch(r){throw new Lb(r==null?void 0:r.message,r)}}))})}sendTransaction(e,t,r){return pn(this,void 0,void 0,function*(){return yield ut(this,or,"m",Qs).call(this,()=>pn(this,void 0,void 0,function*(){const i=ut(this,or,"m",Bp).call(this);try{let l=function(){let c;switch(t.commitment){case"confirmed":case"finalized":case"processed":c=t.commitment;break;default:c="finalized"}let f;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":f=r.preflightCommitment;break;case void 0:f=c;break;default:f="finalized"}return(f==="finalized"?2:f==="confirmed"?1:0)<(c==="finalized"?2:c==="confirmed"?1:0)?f:c};var o=l;if(zr in ut(this,Sn,"f").features){const c=PI(ut(this,Sn,"f").currentAuthorization.chain),[f]=(yield ut(this,Sn,"f").features[zr].signAndSendTransaction({account:i,transaction:e.serialize(),chain:c,options:r?{skipPreflight:r.skipPreflight,maxRetries:r.maxRetries}:void 0})).map((d=>Gy(d.signature)));return f}else{const[c]=yield ut(this,or,"m",sp).call(this,[e]);if(c9(c))return yield t.sendTransaction(c);{const f=c.serialize();return yield t.sendRawTransaction(f,Object.assign(Object.assign({},r),{preflightCommitment:l()}))}}}catch(l){throw new oa(l==null?void 0:l.message,l)}}))})}signTransaction(e){return pn(this,void 0,void 0,function*(){return yield ut(this,or,"m",Qs).call(this,()=>pn(this,void 0,void 0,function*(){const[t]=yield ut(this,or,"m",sp).call(this,[e]);return t}))})}signAllTransactions(e){return pn(this,void 0,void 0,function*(){return yield ut(this,or,"m",Qs).call(this,()=>pn(this,void 0,void 0,function*(){return yield ut(this,or,"m",sp).call(this,e)}))})}}Sn=new WeakMap,ta=new WeakMap,$o=new WeakMap,op=new WeakMap,qo=new WeakMap,Fa=new WeakMap,c1=new WeakMap,or=new WeakSet,u1=function(e=!1){return pn(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield ut(this,or,"m",Qs).call(this,()=>pn(this,void 0,void 0,function*(){if(ut(this,$o,"f")!==fn.Installed&&ut(this,$o,"f")!==fn.Loadable)throw new $c;ti(this,ta,!0);try{yield ut(this,Sn,"f").features[l1].connect({silent:e})}catch(t){throw new Uf(t instanceof Error&&t.message||"Unknown error",t)}finally{ti(this,ta,!1)}}))})},DI=function(){ut(this,$o,"f")!==fn.Installed&&this.emit("readyStateChange",ti(this,$o,fn.Installed))},Bp=function(){if(!ut(this,Sn,"f").isAuthorized||!ut(this,qo,"f"))throw new qr;return ut(this,qo,"f")},sp=function(e){return pn(this,void 0,void 0,function*(){const t=ut(this,or,"m",Bp).call(this);try{if(Tn in ut(this,Sn,"f").features)return ut(this,Sn,"f").features[Tn].signTransaction(...e.map(r=>({account:t,transaction:r.serialize()}))).then(r=>r.map(i=>{const o=i.signedTransaction,c=o[0]*l9+1;return om.deserializeMessageVersion(o.slice(c,o.length))==="legacy"?Lt.from(o):Kc.deserialize(o)}));throw new Error("Connected wallet does not support signing transactions")}catch(r){throw new Zo(r==null?void 0:r.message,r)}})},Qs=function(e){return pn(this,void 0,void 0,function*(){try{return yield e()}catch(t){throw this.emit("error",t),t}})};class f9 extends u9{constructor(e){var t;const r=PI((t=e.chain)!==null&&t!==void 0?t:e.cluster);super(new J7({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>pn(this,void 0,void 0,function*(){return yield e.authorizationResultCache.get()}),clear:e.authorizationResultCache.clear},chains:[r],chainSelector:i9(),onWalletNotFound:()=>pn(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:r})}}class d9 extends f9{}function h9(){return{select(n){return pn(this,void 0,void 0,function*(){return n[0]})}}}function p9(){return r9()}function m9(n){return pn(this,void 0,void 0,function*(){return n9()})}function g9(){return m9}function y9(n,e){if(n===e)return!0;const t=n.length;if(t!==e.length)return!1;for(let r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}var it=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},jn=function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},pr,Dr,Za,Xa,Ha,vf,Lp,jt,Up,f1,lp,d1,xf,h1,YS,JS,ZS,XS;class w9 extends bI{get name(){return it(this,jt,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return it(this,jt,"f").icon}get readyState(){return it(this,Up,"f")}get publicKey(){return it(this,Za,"f")}get connecting(){return it(this,Xa,"f")}get supportedTransactionVersions(){return it(this,Lp,"f")}get wallet(){return it(this,jt,"f")}get standard(){return!0}constructor({wallet:e}){super(),pr.add(this),Dr.set(this,void 0),Za.set(this,void 0),Xa.set(this,void 0),Ha.set(this,void 0),vf.set(this,void 0),Lp.set(this,void 0),jt.set(this,void 0),Up.set(this,typeof window>"u"||typeof document>"u"?fn.Unsupported:fn.Installed),h1.set(this,t=>{if("accounts"in t){const r=it(this,jt,"f").accounts[0];it(this,Dr,"f")&&!it(this,Ha,"f")&&r!==it(this,Dr,"f")&&(r?it(this,pr,"m",lp).call(this,r):(this.emit("error",new yI),it(this,pr,"m",d1).call(this)))}"features"in t&&it(this,pr,"m",xf).call(this)}),jn(this,jt,e,"f"),jn(this,Dr,null,"f"),jn(this,Za,null,"f"),jn(this,Xa,!1,"f"),jn(this,Ha,!1,"f"),jn(this,vf,it(this,jt,"f").features[Db].on("change",it(this,h1,"f")),"f"),it(this,pr,"m",xf).call(this)}destroy(){jn(this,Dr,null,"f"),jn(this,Za,null,"f"),jn(this,Xa,!1,"f"),jn(this,Ha,!1,"f");const e=it(this,vf,"f");e&&(jn(this,vf,null,"f"),e())}async autoConnect(){return it(this,pr,"m",f1).call(this,{silent:!0})}async connect(){return it(this,pr,"m",f1).call(this)}async disconnect(){if(Jw in it(this,jt,"f").features)try{jn(this,Ha,!0,"f"),await it(this,jt,"f").features[Jw].disconnect()}catch(e){this.emit("error",new wI(e==null?void 0:e.message,e))}finally{jn(this,Ha,!1,"f")}it(this,pr,"m",d1).call(this)}async sendTransaction(e,t,r={}){try{const i=it(this,Dr,"f");if(!i)throw new qr;let o;if(zr in it(this,jt,"f").features)if(i.features.includes(zr))o=zr;else if(Tn in it(this,jt,"f").features&&i.features.includes(Tn))o=Tn;else throw new $a;else if(Tn in it(this,jt,"f").features){if(!i.features.includes(Tn))throw new $a;o=Tn}else throw new pf;const l=e7(t.rpcEndpoint);if(!i.chains.includes(l))throw new oa;try{const{signers:c,...f}=r;let d;if(ja(e)?(c!=null&&c.length&&e.sign(c),d=e.serialize()):(e=await this.prepareTransaction(e,t,f),c!=null&&c.length&&e.partialSign(...c),d=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),o===zr){const[h]=await it(this,jt,"f").features[zr].signAndSendTransaction({account:i,chain:l,transaction:d,options:{preflightCommitment:Ly(f.preflightCommitment||t.commitment),skipPreflight:f.skipPreflight,maxRetries:f.maxRetries,minContextSlot:f.minContextSlot}});return Op.encode(h.signature)}else{const[h]=await it(this,jt,"f").features[Tn].signTransaction({account:i,chain:l,transaction:d,options:{preflightCommitment:Ly(f.preflightCommitment||t.commitment),minContextSlot:f.minContextSlot}});return await t.sendRawTransaction(h.signedTransaction,{...f,preflightCommitment:Ly(f.preflightCommitment||t.commitment)})}}catch(c){throw c instanceof Ir?c:new oa(c==null?void 0:c.message,c)}}catch(i){throw this.emit("error",i),i}}}Dr=new WeakMap,Za=new WeakMap,Xa=new WeakMap,Ha=new WeakMap,vf=new WeakMap,Lp=new WeakMap,jt=new WeakMap,Up=new WeakMap,h1=new WeakMap,pr=new WeakSet,f1=async function(e){try{if(this.connected||this.connecting)return;if(it(this,Up,"f")!==fn.Installed)throw new $c;if(jn(this,Xa,!0,"f"),!it(this,jt,"f").accounts.length)try{await it(this,jt,"f").features[Ub].connect(e)}catch(r){throw new Uf(r==null?void 0:r.message,r)}const t=it(this,jt,"f").accounts[0];if(!t)throw new $a;it(this,pr,"m",lp).call(this,t)}catch(t){throw this.emit("error",t),t}finally{jn(this,Xa,!1,"f")}},lp=function(e){let t;try{t=new we(e.address)}catch(r){throw new Bb(r==null?void 0:r.message,r)}jn(this,Dr,e,"f"),jn(this,Za,t,"f"),it(this,pr,"m",xf).call(this),this.emit("connect",t)},d1=function(){jn(this,Dr,null,"f"),jn(this,Za,null,"f"),it(this,pr,"m",xf).call(this),this.emit("disconnect")},xf=function(){var t,r;const e=zr in it(this,jt,"f").features?it(this,jt,"f").features[zr].supportedTransactionVersions:it(this,jt,"f").features[Tn].supportedTransactionVersions;jn(this,Lp,y9(e,["legacy"])?null:new Set(e),"f"),Tn in it(this,jt,"f").features&&((t=it(this,Dr,"f"))!=null&&t.features.includes(Tn))?(this.signTransaction=it(this,pr,"m",YS),this.signAllTransactions=it(this,pr,"m",JS)):(delete this.signTransaction,delete this.signAllTransactions),ea in it(this,jt,"f").features&&((r=it(this,Dr,"f"))!=null&&r.features.includes(ea))?this.signMessage=it(this,pr,"m",ZS):delete this.signMessage,rl in it(this,jt,"f").features?this.signIn=it(this,pr,"m",XS):delete this.signIn},YS=async function(e){try{const t=it(this,Dr,"f");if(!t)throw new qr;if(!(Tn in it(this,jt,"f").features))throw new pf;if(!t.features.includes(Tn))throw new $a;try{const i=(await it(this,jt,"f").features[Tn].signTransaction({account:t,transaction:ja(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return ja(e)?Kc.deserialize(i):Lt.from(i)}catch(r){throw r instanceof Ir?r:new Zo(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}},JS=async function(e){try{const t=it(this,Dr,"f");if(!t)throw new qr;if(!(Tn in it(this,jt,"f").features))throw new pf;if(!t.features.includes(Tn))throw new $a;try{const r=await it(this,jt,"f").features[Tn].signTransaction(...e.map(i=>({account:t,transaction:ja(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((i,o)=>{const l=r[o].signedTransaction;return ja(i)?Kc.deserialize(l):Lt.from(l)})}catch(r){throw new Zo(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}},ZS=async function(e){try{const t=it(this,Dr,"f");if(!t)throw new qr;if(!(ea in it(this,jt,"f").features))throw new pf;if(!t.features.includes(ea))throw new $a;try{return(await it(this,jt,"f").features[ea].signMessage({account:t,message:e}))[0].signature}catch(r){throw new Lb(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}},XS=async function(e={}){try{if(!(rl in it(this,jt,"f").features))throw new pf;let t;try{[t]=await it(this,jt,"f").features[rl].signIn(e)}catch(r){throw new dS(r==null?void 0:r.message,r)}if(!t)throw new dS;return it(this,pr,"m",lp).call(this,t.account),t}catch(t){throw this.emit("error",t),t}};const b9=TP;var v9=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},E9=function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},cp;let ni;const hm=new Set;function _9(n){Af=void 0,hm.add(n)}function x9(n){Af=void 0,hm.delete(n)}const Sc={};function A9(){if(ni||(ni=Object.freeze({register:QS,get:S9,on:T9}),typeof window>"u"))return ni;const n=Object.freeze({register:QS});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(n))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new R9(n))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return ni}function QS(...n){var e;return n=n.filter(t=>!hm.has(t)),n.length?(n.forEach(t=>_9(t)),(e=Sc.register)==null||e.forEach(t=>p1(()=>t(...n))),function(){var r;n.forEach(i=>x9(i)),(r=Sc.unregister)==null||r.forEach(i=>p1(()=>i(...n)))}):()=>{}}let Af;function S9(){return Af||(Af=[...hm]),Af}function T9(n,e){var t;return(t=Sc[n])!=null&&t.push(e)||(Sc[n]=[e]),function(){var i;Sc[n]=(i=Sc[n])==null?void 0:i.filter(o=>e!==o)}}function p1(n){try{n()}catch(e){console.error(e)}}class R9 extends Event{get detail(){return v9(this,cp,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),cp.set(this,void 0),E9(this,cp,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}cp=new WeakMap;function N9(){if(ni||(ni=A9(),typeof window>"u"))return ni;const n=window.navigator.wallets||[];if(!Array.isArray(n))return console.error("window.navigator.wallets is not an array"),ni;const{register:e}=ni,t=(...r)=>r.forEach(i=>p1(()=>i({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:t})})}catch{return console.error("window.navigator.wallets could not be set"),ni}return t(...n),ni}function C9(n){const e=e2(()=>new Set),{get:t,on:r}=e2(()=>N9()),[i,o]=fe.useState(()=>t2(t()));fe.useEffect(()=>{const c=[r("register",(...f)=>o(d=>[...d,...t2(f)])),r("unregister",(...f)=>o(d=>d.filter(h=>f.some(b=>b===h.wallet))))];return()=>c.forEach(f=>f())},[r]);const l=I9(i);return fe.useEffect(()=>{if(!l)return;const c=new Set(i);new Set(l.filter(d=>!c.has(d))).forEach(d=>d.destroy())},[l,i]),fe.useEffect(()=>()=>i.forEach(c=>c.destroy()),[]),fe.useMemo(()=>[...i,...n.filter(({name:c})=>i.some(f=>f.name===c)?(e.has(c)||(e.add(c),console.warn(`${c} was registered as a Standard Wallet. The Wallet Adapter for ${c} can be removed from your app.`)),!1):!0)],[i,n,e])}function e2(n){const e=fe.useRef(void 0);return e.current===void 0&&(e.current={value:n()}),e.current.value}function I9(n){const e=fe.useRef(void 0);return fe.useEffect(()=>{e.current=n}),e.current}function t2(n){return n.filter(b9).map(e=>new w9({wallet:e}))}var Uc;(function(n){n[n.DESKTOP_WEB=0]="DESKTOP_WEB",n[n.MOBILE_WEB=1]="MOBILE_WEB"})(Uc||(Uc={}));function k9(n){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(n)}function M9({adapters:n,userAgentString:e}){return n.some(t=>t.name!==ap&&t.readyState===fn.Installed)?Uc.DESKTOP_WEB:e&&/android/i.test(e)&&!k9(e)?Uc.MOBILE_WEB:Uc.DESKTOP_WEB}function O9(n){return n?/devnet/i.test(n)?"devnet":/testnet/i.test(n)?"testnet":"mainnet-beta":"mainnet-beta"}function B9({children:n,wallets:e,adapter:t,isUnloadingRef:r,onAutoConnectRequest:i,onConnectError:o,onError:l,onSelectWallet:c}){const f=fe.useRef(!1),[d,h]=fe.useState(!1),b=fe.useRef(!1),[E,v]=fe.useState(!1),[N,k]=fe.useState(()=>(t==null?void 0:t.publicKey)??null),[I,L]=fe.useState(()=>(t==null?void 0:t.connected)??!1),F=fe.useRef(l);fe.useEffect(()=>(F.current=l,()=>{F.current=void 0}),[l]);const M=fe.useRef((T,C)=>(r.current||(F.current?F.current(T,C):(console.error(T,C),T instanceof $c&&typeof window<"u"&&C&&window.open(C.url,"_blank"))),T)),[Y,ie]=fe.useState(()=>e.map(T=>({adapter:T,readyState:T.readyState})).filter(({readyState:T})=>T!==fn.Unsupported));fe.useEffect(()=>{ie(C=>e.map((q,j)=>{const K=C[j];return K&&K.adapter===q&&K.readyState===q.readyState?K:{adapter:q,readyState:q.readyState}}).filter(({readyState:q})=>q!==fn.Unsupported));function T(C){ie(q=>{const j=q.findIndex(({adapter:B})=>B===this);if(j===-1)return q;const{adapter:K}=q[j];return[...q.slice(0,j),{adapter:K,readyState:C},...q.slice(j+1)].filter(({readyState:B})=>B!==fn.Unsupported)})}return e.forEach(C=>C.on("readyStateChange",T,C)),()=>{e.forEach(C=>C.off("readyStateChange",T,C))}},[t,e]);const se=fe.useMemo(()=>Y.find(T=>T.adapter===t)??null,[t,Y]);fe.useEffect(()=>{if(!t)return;const T=j=>{k(j),f.current=!1,h(!1),L(!0),b.current=!1,v(!1)},C=()=>{r.current||(k(null),f.current=!1,h(!1),L(!1),b.current=!1,v(!1))},q=j=>{M.current(j,t)};return t.on("connect",T),t.on("disconnect",C),t.on("error",q),()=>{t.off("connect",T),t.off("disconnect",C),t.off("error",q),C()}},[t,r]);const re=fe.useRef(!1);fe.useEffect(()=>()=>{re.current=!1},[t]),fe.useEffect(()=>{re.current||f.current||I||!i||!((se==null?void 0:se.readyState)===fn.Installed||(se==null?void 0:se.readyState)===fn.Loadable)||(f.current=!0,h(!0),re.current=!0,(async function(){try{await i()}catch{o()}finally{h(!1),f.current=!1}})())},[I,i,o,se]);const ae=fe.useCallback(async(T,C,q)=>{if(!t)throw M.current(new hS);if(!I)throw M.current(new qr,t);return await t.sendTransaction(T,C,q)},[t,I]),J=fe.useMemo(()=>t&&"signTransaction"in t?async T=>{if(!I)throw M.current(new qr,t);return await t.signTransaction(T)}:void 0,[t,I]),Q=fe.useMemo(()=>t&&"signAllTransactions"in t?async T=>{if(!I)throw M.current(new qr,t);return await t.signAllTransactions(T)}:void 0,[t,I]),Z=fe.useMemo(()=>t&&"signMessage"in t?async T=>{if(!I)throw M.current(new qr,t);return await t.signMessage(T)}:void 0,[t,I]),W=fe.useMemo(()=>t&&"signIn"in t?async T=>await t.signIn(T):void 0,[t]),O=fe.useCallback(async()=>{if(f.current||b.current||se!=null&&se.adapter.connected)return;if(!se)throw M.current(new hS);const{adapter:T,readyState:C}=se;if(!(C===fn.Installed||C===fn.Loadable))throw M.current(new $c,T);f.current=!0,h(!0);try{await T.connect()}catch(q){throw o(),q}finally{h(!1),f.current=!1}},[o,se]),g=fe.useCallback(async()=>{if(!b.current&&t){b.current=!0,v(!0);try{await t.disconnect()}finally{v(!1),b.current=!1}}},[t]);return qe.createElement(EI.Provider,{value:{autoConnect:!!i,wallets:Y,wallet:se,publicKey:N,connected:I,connecting:d,disconnecting:E,select:c,connect:O,disconnect:g,sendTransaction:ae,signTransaction:J,signAllTransactions:Q,signMessage:Z,signIn:W}},n)}let qy;function L9(){var n;return qy===void 0&&(qy=((n=globalThis.navigator)==null?void 0:n.userAgent)??null),qy}function n2(n){const e=L9();return M9({adapters:n,userAgentString:e})===Uc.MOBILE_WEB}function U9(){const n=globalThis.location;if(n)return`${n.protocol}//${n.host}`}function D9({children:n,wallets:e,autoConnect:t,localStorageKey:r="walletName",onError:i}){const{connection:o}=Ob(),l=C9(e),c=fe.useMemo(()=>{if(!n2(l))return null;const F=l.find(M=>M.name===ap);return F||new d9({addressSelector:h9(),appIdentity:{uri:U9()},authorizationResultCache:p9(),cluster:O9(o==null?void 0:o.rpcEndpoint),onWalletNotFound:g9()})},[l,o==null?void 0:o.rpcEndpoint]),f=fe.useMemo(()=>c==null||l.indexOf(c)!==-1?l:[c,...l],[l,c]),[d,h]=NP(r,null),b=fe.useMemo(()=>f.find(F=>F.name===d)??null,[f,d]),E=fe.useCallback(F=>{d!==F&&(b&&b.name!==ap&&b.disconnect(),h(F))},[b,h,d]);fe.useEffect(()=>{if(!b)return;function F(){k.current||h(null)}return b.on("disconnect",F),()=>{b.off("disconnect",F)}},[b,l,h,d]);const v=fe.useRef(!1),N=fe.useMemo(()=>{if(!(!t||!b))return async()=>{(t===!0||await t(b))&&(v.current?await b.connect():await b.autoConnect())}},[t,b]),k=fe.useRef(!1);fe.useEffect(()=>{if(d===ap&&n2(l)){k.current=!1;return}function F(){k.current=!0}return window.addEventListener("beforeunload",F),()=>{window.removeEventListener("beforeunload",F)}},[l,d]);const I=fe.useCallback(()=>{b&&E(null)},[b,E]),L=fe.useCallback(F=>{v.current=!0,E(F)},[E]);return qe.createElement(B9,{wallets:f,adapter:b,isUnloadingRef:k,onAutoConnectRequest:N,onConnectError:I,onError:i,onSelectWallet:L},n)}const P9=n=>qe.createElement("button",{className:`wallet-adapter-button ${n.className||""}`,disabled:n.disabled,style:n.style,onClick:n.onClick,tabIndex:n.tabIndex||0,type:"button"},n.startIcon&&qe.createElement("i",{className:"wallet-adapter-button-start-icon"},n.startIcon),n.children,n.endIcon&&qe.createElement("i",{className:"wallet-adapter-button-end-icon"},n.endIcon)),F9=({wallet:n,...e})=>n&&qe.createElement("img",{src:n.adapter.icon,alt:`${n.adapter.name} icon`,...e}),r2=({id:n,children:e,expanded:t=!1})=>{const r=fe.useRef(null),i=fe.useRef(!0),o="height 250ms ease-out",l=()=>{const f=r.current;f&&requestAnimationFrame(()=>{f.style.height=f.scrollHeight+"px"})},c=()=>{const f=r.current;f&&requestAnimationFrame(()=>{f.style.height=f.offsetHeight+"px",f.style.overflow="hidden",requestAnimationFrame(()=>{f.style.height="0"})})};return fe.useLayoutEffect(()=>{t?l():c()},[t]),fe.useLayoutEffect(()=>{const f=r.current;if(!f)return;function d(){f&&(f.style.overflow=t?"initial":"hidden",t&&(f.style.height="auto"))}function h(b){f&&b.target===f&&b.propertyName==="height"&&d()}return i.current&&(d(),i.current=!1),f.addEventListener("transitionend",h),()=>f.removeEventListener("transitionend",h)},[t]),qe.createElement("div",{className:"wallet-adapter-collapse",id:n,ref:r,role:"region",style:{height:0,transition:i.current?void 0:o}},e)},Vy=({handleClick:n,tabIndex:e,wallet:t})=>qe.createElement("li",null,qe.createElement(P9,{onClick:n,startIcon:qe.createElement(F9,{wallet:t}),tabIndex:e},t.adapter.name,t.readyState===fn.Installed&&qe.createElement("span",null,"Detected"))),H9=()=>qe.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},qe.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),qe.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),qe.createElement("g",{clipPath:"url(#clip0_880_5115)"},qe.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),qe.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),qe.createElement("defs",null,qe.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},qe.createElement("stop",{stopColor:"#9945FF"}),qe.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),qe.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),qe.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),qe.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),qe.createElement("stop",{offset:"1",stopColor:"#00D18C"})),qe.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},qe.createElement("stop",{stopColor:"#9945FF"}),qe.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),qe.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),qe.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),qe.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),qe.createElement("stop",{offset:"1",stopColor:"#00D18C"})),qe.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},qe.createElement("stop",{stopColor:"#9945FF"}),qe.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),qe.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),qe.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),qe.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),qe.createElement("stop",{offset:"1",stopColor:"#00D18C"})),qe.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},qe.createElement("stop",{stopColor:"#9945FF"}),qe.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),qe.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),qe.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),qe.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),qe.createElement("stop",{offset:"1",stopColor:"#00D18C"})),qe.createElement("clipPath",{id:"clip0_880_5115"},qe.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),z9=({className:n="",container:e="body"})=>{const t=fe.useRef(null),{wallets:r,select:i}=eu(),{setVisible:o}=YN(),[l,c]=fe.useState(!1),[f,d]=fe.useState(!1),[h,b]=fe.useState(null),[E,v]=fe.useMemo(()=>{const M=[],Y=[];for(const ie of r)ie.readyState===fn.Installed?M.push(ie):Y.push(ie);return M.length?[M,Y]:[Y,[]]},[r]),N=fe.useCallback(()=>{d(!1),setTimeout(()=>o(!1),150)},[o]),k=fe.useCallback(M=>{M.preventDefault(),N()},[N]),I=fe.useCallback((M,Y)=>{i(Y),k(M)},[i,k]),L=fe.useCallback(()=>c(!l),[l]),F=fe.useCallback(M=>{const Y=t.current;if(!Y)return;const ie=Y.querySelectorAll("button"),se=ie[0],re=ie[ie.length-1];M.shiftKey?document.activeElement===se&&(re.focus(),M.preventDefault()):document.activeElement===re&&(se.focus(),M.preventDefault())},[t]);return fe.useLayoutEffect(()=>{const M=ie=>{ie.key==="Escape"?N():ie.key==="Tab"&&F(ie)},{overflow:Y}=window.getComputedStyle(document.body);return setTimeout(()=>d(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",M,!1),()=>{document.body.style.overflow=Y,window.removeEventListener("keydown",M,!1)}},[N,F]),fe.useLayoutEffect(()=>b(document.querySelector(e)),[e]),h&&hO.createPortal(qe.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${f&&"wallet-adapter-modal-fade-in"} ${n}`,ref:t,role:"dialog"},qe.createElement("div",{className:"wallet-adapter-modal-container"},qe.createElement("div",{className:"wallet-adapter-modal-wrapper"},qe.createElement("button",{onClick:k,className:"wallet-adapter-modal-button-close"},qe.createElement("svg",{width:"14",height:"14"},qe.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),E.length?qe.createElement(qe.Fragment,null,qe.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),qe.createElement("ul",{className:"wallet-adapter-modal-list"},E.map(M=>qe.createElement(Vy,{key:M.adapter.name,handleClick:Y=>I(Y,M.adapter.name),wallet:M})),v.length?qe.createElement(r2,{expanded:l,id:"wallet-adapter-modal-collapse"},v.map(M=>qe.createElement(Vy,{key:M.adapter.name,handleClick:Y=>I(Y,M.adapter.name),tabIndex:l?0:-1,wallet:M}))):null),v.length?qe.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:L,tabIndex:0},qe.createElement("span",null,l?"Less ":"More ","options"),qe.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${l?"wallet-adapter-modal-list-more-icon-rotate":""}`},qe.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):qe.createElement(qe.Fragment,null,qe.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),qe.createElement("div",{className:"wallet-adapter-modal-middle"},qe.createElement(H9,null)),v.length?qe.createElement(qe.Fragment,null,qe.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:L,tabIndex:0},qe.createElement("span",null,l?"Hide ":"Already have a wallet? View ","options"),qe.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${l?"wallet-adapter-modal-list-more-icon-rotate":""}`},qe.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),qe.createElement(r2,{expanded:l,id:"wallet-adapter-modal-collapse"},qe.createElement("ul",{className:"wallet-adapter-modal-list"},v.map(M=>qe.createElement(Vy,{key:M.adapter.name,handleClick:Y=>I(Y,M.adapter.name),tabIndex:l?0:-1,wallet:M}))))):null))),qe.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:k})),h)},G9=({children:n,...e})=>{const[t,r]=fe.useState(!1);return qe.createElement(jN.Provider,{value:{visible:t,setVisible:r}},n,t&&qe.createElement(z9,{...e}))},q9="Backpack";class V9 extends vI{constructor(e={}){super(),this.name=q9,this.url="https://backpack.app",this.icon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAbvSURBVHgB7Z1dUtxGEMf/LZH3fU0V4PUJQg4QVj5BnBOAT2BzAsMJAicwPoHJCRDrAxifgLVxVV73ObDqdEtsjKn4C8+0NDv9e7AxprRC85uvnp4RYYW5qKpxCVTcYKsgfiDfGjMwIsZIvh7d/lkmzAiYy5fzhultyZhdlagf1vU5VhjCiiGFXq01zYSJdqWgx/hB5AHN5I/6iuilyFBjxVgZAdqCZ34ORoVIqAzSOhxsvq6PsSIkL4A281LwL2IW/F1UhLKgRz/X9QyJUyBhuuae31gWviLjiPF1wxeX29vPkTjJtgAftrd3GHSMnmHw4eZ0uodESVKAoRT+kpQlSE6Ats/XZv/ONK5vZHC49+B1fYjESG4MUDKfYmCFr0ic4fmHqtpCYiQlgA66QsztIzFi5j+RGMl0AXebfgn0aOTuvGG8owIarZsXOj3ronlRuEYnn84CJLo4Lgi/QL/H/LHmy/RwI6GA0RoS4acFHi8kGieFXS/QhmijFfQXmH3uPy5lSkoLbIkYlfyzhuM4juM4juM4juMMj6TzATQ4JH9tlRqFk8BM2aV9RWHB9K5kzK/KLui0KqliSQmgBa4BIS54cpMD0OeawFye3jk19JdKkWq62OAFkEIfrTXNUxBV1okf38Ot3MGjlFqHwQrQZvQ22Cfw7xjg6t8XkZaBGzpKIXdwcAJojZeCP5SC30HipJBEOigBZLn3qdzSPlKr8V9hyEmkgxCgj8zefuD9jen0AAOidwE0i6ZhfjXgRI+gDK016DUjqE3ubPhNLoWvaDLJouHToaSP9SbA0DJ7LekyiviNPgP0TC9dQM6FfxeZ7eyuT6cv0RPmAmjTx11uXx/MiegEDd425cfcwWV+H4O3+uiO+pTAVIA2uMN8av6QiWr5TQ++JVlTc/tEiF3jOMScZGC43kME0VSA95PJhWXhM+Gt1Phn98nStZa1r9mB2SDQPqefjhayfnDfFG2J5882z84eynVM5u3thlONhRhj0gLc5PRfwAw62JjW+wjE5Xa1L0VkshO4kXt/EPDev4ZJCyBRvlcwggjHG4EfYHc9OoIBBWy3mEUX4H1V7Ur7ZvILaT8qy7FRduleF9jXc4RggOUWs/gtANs0nYquvMXaMaTXlQHlE1ggayLvf5OKY0DUMYDWfmpsBjZa+9enOmiLy+VkcmqxaNW2ZgX9GnsLXNQWoGj4KYzQ2g8LyG5WUDR4hshEE6CN+AFmg5lFiRMYcI0uKRQGyIAwegWKJkBjYO8tzq12C7efQ7CK2I00MomIxOsCiCcwQhaW3sEQ6W7sPi/yIDqKAHp8m2nIF7COoc9ghQw4NU8SkYgiQCmLKXCCUSziPc84XYBh83/DSiWR3qUo2tT4ONdGYDTub73cSzD/PNt0rojdQHAByoXxw0E7XfoFhsjnRduD+DnWIkkXXACJl1cwRoMmf3cbRaOjLRzDXnKZVj9GBIILUJBtbVzyj9HAU19AgR6I9VzDtwCgMXpAo2Yxp0v/Ybi49ennJtIFEPMY/TCKHTvv+aTSUQzBgwrQ92YHbQVi3UN3GAVZhrf/jzECE1SAq/7n4yOJ074KPSBcJoii598vxgwrqAByg70HZJZbr0JJ0G5XZz5Z1e1rYccA5TAicqEk0O5ECl/3LvYys7mLTLHHCEzS7wz6Esv3+nyYTF58rwha63XAl8PG1aCnhesWq6EdOcKM3WvmXRHh+Gvv/tNVTJlJPC4a3RVEK72+sCSZ4+J/FBVhTUS43J7gJqFjrnl33A3sxtCa3nAWhX6bbAT4hJugCsNZ2TGA8224AJnjAmSOC5A5LkDmuACZ4wJkjguQOS5A5rgAmeMCZI4LkDkuQOa4AJnjAmSOC5A5LkDmuACZ4wJkjguQOWEFYJvz85xwBBWgKM1P68oKKsI/36ACdC9nsDlWPTsIJ5t1Hfw01OBjgI1p/YwLegIibw0CwESz9gUYZ2d/wHEcx3Ecx3Ecx3Ecx3HuS5QjfdrXxTHv3JzEkd2xKwHR9xPNuKGjzdf1MSIQXAA9XUsuuw8nKPpK3PWzs+AvrgwqgP1LojOjoEf3fRv6Zy+JgBSLOGfaOx1NE/6o+rCrgeT9fWp4SljmuACZ4wJkjguQOS5A5rgAmeMCZI4LkDkuQOa4AJnjAmSOC5A5LkDmuACZ4wJkjguQOS5A5rgAmeMCZI4LkDkuQOa4AJnj5wRmTlABqHQBohKhggUVYAEEP8fO+UiMgziDCvCwrnU3aw0nOATMQu8LVIIPAq+JdAerdwWBaQ/fjEBwAaQVmMnN7sEJCB3EqP3tlRGJy6qqmPkFMcZw7sucmfZiHQ6hRBNgSXdaCHbA7KeFfBvz9pxlxtl1gcN2XBWRfwHK959XFRG6AgAAAABJRU5ErkJggg==",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?fn.Unsupported:fn.NotDetected,this._disconnected=()=>{const t=this._wallet;t&&(t.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new yI),this.emit("disconnect"))},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==fn.Unsupported&&xP(()=>{var t;return(t=window.backpack)!=null&&t.isBackpack?(this._readyState=fn.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isConnected)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==fn.Installed)throw new $c;this._connecting=!0;const e=window.backpack;try{await e.connect()}catch(r){throw new Uf(r==null?void 0:r.message,r)}if(!e.publicKey)throw new $a;let t;try{t=new we(e.publicKey.toBytes())}catch(r){throw new Bb(r==null?void 0:r.message,r)}e.on("disconnect",this._disconnected),this._wallet=e,this._publicKey=t,this.emit("connect",t)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(t){this.emit("error",new wI(t==null?void 0:t.message,t))}}this.emit("disconnect")}async sendTransaction(e,t,r={}){try{const i=this._wallet;if(!i)throw new qr;const{signers:o,...l}=r;try{return await i.send(e,o,l,t,this.publicKey)}catch(c){throw new oa(c==null?void 0:c.message,c)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const t=this._wallet;if(!t)throw new qr;try{return await t.signTransaction(e,this.publicKey)}catch(r){throw new Zo(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const t=this._wallet;if(!t)throw new qr;try{return await t.signAllTransactions(e,this.publicKey)}catch(r){throw new Zo(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}}async signMessage(e){try{const t=this._wallet;if(!t)throw new qr;try{return await t.signMessage(e,this.publicKey)}catch(r){throw new Lb(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}}}const al={name:"Gorbagana",chainId:"gorbagana-mainnet",rpcEndpoint:"https://rpc.gorbagana.wtf",explorerUrl:"https://trashscan.io",currency:{symbol:"GOR",decimals:9,displaySymbol:"G"},networkLabel:"Gorbagana_L2",tpsLabel:"GPS",programId:"FreEcfZtek5atZJCJ1ER8kGLXB1C17WKWXqsVcsn1kPq"},K9={name:"Solana",chainId:"solana-mainnet",rpcEndpoint:"https://api.mainnet-beta.solana.com",explorerUrl:"https://explorer.solana.com",currency:{symbol:"SOL",decimals:9,displaySymbol:"SOL"},networkLabel:"Solana_Mainnet",tpsLabel:"TPS",programId:null,sgorMint:"71Jvq4Epe2FCJ7JFSF7jLXdNk1Wy4Bhqd9iL6bEFELvg"},W9={name:"Solana Devnet",chainId:"solana-devnet",rpcEndpoint:"https://api.devnet.solana.com",explorerUrl:"https://explorer.solana.com",currency:{symbol:"SOL",decimals:9,displaySymbol:"SOL"},networkLabel:"Solana_Devnet",tpsLabel:"TPS",programId:"66xqiDYSQZh7A3wyS3n2962Fx1aU8N3nbHjaZUCrXq6M",sgorMint:"5b2P7TQTDQG4nUzrUUSAuv92NT85Ka4oBFXWcTs9A5zk",testTokenAccount:"B7HJE8XsmZmvAAts7yvFoeEuTP2T5LJVg7cMWYVZKtCB"},FI=fe.createContext(void 0),$9=({children:n})=>{const[e,t]=fe.useState("GORBAGANA"),i=(()=>{switch(e){case"SOLANA_MAINNET":return K9;case"SOLANA_DEVNET":return W9;case"GORBAGANA":default:return al}})(),o=e==="GORBAGANA"?"GOR":"SOL",l=i.currency.displaySymbol,c=i.networkLabel,f=i.tpsLabel,d=e==="GORBAGANA"?"text-magic-green":"text-purple-400",h=i.rpcEndpoint,b=i.explorerUrl,E=i.programId,v=e==="GORBAGANA",N=e==="SOLANA_MAINNET"||e==="SOLANA_DEVNET",k=e==="SOLANA_DEVNET",I=(L,F)=>{const M=i.explorerUrl;if(e==="GORBAGANA")switch(L){case"tx":return`${M}/tx/${F}`;case"address":return`${M}/address/${F}`;case"token":return`${M}/token/${F}`;default:return M}else{const Y=k?"?cluster=devnet":"";switch(L){case"tx":return`${M}/tx/${F}${Y}`;case"address":return`${M}/address/${F}${Y}`;case"token":return`${M}/token/${F}${Y}`;default:return M}}};return x.jsx(FI.Provider,{value:{currentNetwork:e,network:o,currency:l,networkName:c,tpsLabel:f,accentColor:d,rpcEndpoint:h,explorerUrl:b,programId:E,setNetwork:t,isGorbagana:v,isSolana:N,isDevnet:k,getExplorerLink:I},children:n})},fo=()=>{const n=fe.useContext(FI);if(!n)throw new Error("useNetwork must be used within NetworkProvider");return n},j9=fe.createContext(void 0),Ky=n=>{var e;if(typeof window>"u")return!1;switch(n){case"backpack":return!!((e=window.backpack)!=null&&e.gorbagana)||!!window.backpack;case"gorbag":return!!window.gorbag||!!window.gorbagWallet;default:return!1}},Wy=n=>{var e;if(typeof window>"u")return null;switch(n){case"backpack":return((e=window.backpack)==null?void 0:e.gorbagana)||window.backpack;case"gorbag":return window.gorbag||window.gorbagWallet;default:return null}},Y9=({children:n})=>{const[e,t]=fe.useState({connected:!1,address:null,walletType:null,balance:null}),[r,i]=fe.useState(!1),[o,l]=fe.useState(null),c=[{id:"backpack",name:"Backpack",icon:"",installed:Ky("backpack")},{id:"gorbag",name:"Gorbag Wallet",icon:"",installed:Ky("gorbag")}],f=fe.useCallback(E=>!E||E.length<8?E:`${E.slice(0,4)}...${E.slice(-4)}`,[]),d=fe.useCallback(async E=>{var v;try{const k=await(await fetch(al.rpcEndpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"getBalance",params:[E]})})).json();return((v=k.result)==null?void 0:v.value)!==void 0?k.result.value/Math.pow(10,al.currency.decimals):null}catch(N){return console.error("Failed to fetch balance:",N),null}},[]),h=fe.useCallback(async E=>{var v;if(E){i(!0),l(null);try{const N=Wy(E);if(!N){const F={backpack:"https://www.backpack.app/",gorbag:"https://gorbagana.wtf/wallet"};throw new Error(`${E==="backpack"?"Backpack":"Gorbag Wallet"} not detected. Please install it from ${F[E]}`)}const k=await N.connect(),I=((v=k==null?void 0:k.publicKey)==null?void 0:v.toString())||(k==null?void 0:k.address)||k;if(!I)throw new Error("Failed to get wallet address");const L=await d(I);t({connected:!0,address:I,walletType:E,balance:L}),localStorage.setItem("gorbagana_last_wallet",E)}catch(N){console.error("Wallet connection error:",N),l(N.message||"Failed to connect wallet"),t({connected:!1,address:null,walletType:null,balance:null})}finally{i(!1)}}},[d]),b=fe.useCallback(()=>{const E=Wy(e.walletType);if(E!=null&&E.disconnect)try{E.disconnect()}catch(v){console.error("Error disconnecting:",v)}t({connected:!1,address:null,walletType:null,balance:null}),localStorage.removeItem("gorbagana_last_wallet"),l(null)},[e.walletType]);return fe.useEffect(()=>{const E=localStorage.getItem("gorbagana_last_wallet");if(E&&Ky(E)){const v=setTimeout(()=>{h(E)},500);return()=>clearTimeout(v)}},[h]),fe.useEffect(()=>{var v,N;const E=Wy(e.walletType);if(E&&e.connected){const k=()=>{h(e.walletType)},I=()=>{b()};return(v=E.on)==null||v.call(E,"accountChanged",k),(N=E.on)==null||N.call(E,"disconnect",I),()=>{var L,F;(L=E.off)==null||L.call(E,"accountChanged",k),(F=E.off)==null||F.call(E,"disconnect",I)}}},[e.walletType,e.connected,h,b]),x.jsx(j9.Provider,{value:{...e,connect:h,disconnect:b,isConnecting:r,error:o,formatAddress:f,availableWallets:c},children:n})};var Ah={exports:{}},i2;function J9(){if(i2)return Ah.exports;i2=1;const n=/[\p{Lu}]/u,e=/[\p{Ll}]/u,t=/^[\p{Lu}](?![\p{Lu}])/gu,r=/([\p{Alpha}\p{N}_]|$)/u,i=/[_.\- ]+/,o=new RegExp("^"+i.source),l=new RegExp(i.source+r.source,"gu"),c=new RegExp("\\d+"+r.source,"gu"),f=(E,v,N)=>{let k=!1,I=!1,L=!1;for(let F=0;F<E.length;F++){const M=E[F];k&&n.test(M)?(E=E.slice(0,F)+"-"+E.slice(F),k=!1,L=I,I=!0,F++):I&&L&&e.test(M)?(E=E.slice(0,F-1)+"-"+E.slice(F-1),L=I,I=!1,k=!0):(k=v(M)===M&&N(M)!==M,L=I,I=N(M)===M&&v(M)!==M)}return E},d=(E,v)=>(t.lastIndex=0,E.replace(t,N=>v(N))),h=(E,v)=>(l.lastIndex=0,c.lastIndex=0,E.replace(l,(N,k)=>v(k)).replace(c,N=>v(N))),b=(E,v)=>{if(!(typeof E=="string"||Array.isArray(E)))throw new TypeError("Expected the input to be `string | string[]`");if(v={pascalCase:!1,preserveConsecutiveUppercase:!1,...v},Array.isArray(E)?E=E.map(L=>L.trim()).filter(L=>L.length).join("-"):E=E.trim(),E.length===0)return"";const N=v.locale===!1?L=>L.toLowerCase():L=>L.toLocaleLowerCase(v.locale),k=v.locale===!1?L=>L.toUpperCase():L=>L.toLocaleUpperCase(v.locale);return E.length===1?v.pascalCase?k(E):N(E):(E!==N(E)&&(E=f(E,N,k)),E=E.replace(o,""),v.preserveConsecutiveUppercase?E=d(E,N):E=N(E),v.pascalCase&&(E=k(E.charAt(0))+E.slice(1)),h(E,k))};return Ah.exports=b,Ah.exports.default=b,Ah.exports}var Z9=J9();const X9=ss(Z9);var nf={},Ze={},o2;function s2(){if(o2)return Ze;o2=1;class n{constructor(B,A){if(!Number.isInteger(B))throw new TypeError("span must be an integer");this.span=B,this.property=A}makeDestinationObject(){return{}}decode(B,A){throw new Error("Layout is abstract")}encode(B,A,y){throw new Error("Layout is abstract")}getSpan(B,A){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(B){const A=Object.create(this.constructor.prototype);return Object.assign(A,this),A.property=B,A}fromArray(B){}}Ze.Layout=n;function e(K,B){return B.property?K+"["+B.property+"]":K}Ze.nameWithProperty=e;function t(K,B){if(typeof K!="function")throw new TypeError("Class must be constructor");if(K.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(B&&B instanceof n))throw new TypeError("layout must be a Layout");if(B.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");K.layout_=B,B.boundConstructor_=K,B.makeDestinationObject=(()=>new K),Object.defineProperty(K.prototype,"encode",{value:function(A,y){return B.encode(this,A,y)},writable:!0}),Object.defineProperty(K,"decode",{value:function(A,y){return B.decode(A,y)},writable:!0})}Ze.bindConstructorLayout=t;class r extends n{isCount(){throw new Error("ExternalLayout is abstract")}}class i extends r{constructor(B,A){if(B===void 0&&(B=1),!Number.isInteger(B)||0>=B)throw new TypeError("elementSpan must be a (positive) integer");super(-1,A),this.elementSpan=B}isCount(){return!0}decode(B,A){A===void 0&&(A=0);const y=B.length-A;return Math.floor(y/this.elementSpan)}encode(B,A,y){return 0}}class o extends r{constructor(B,A,y){if(!(B instanceof n))throw new TypeError("layout must be a Layout");if(A===void 0)A=0;else if(!Number.isInteger(A))throw new TypeError("offset must be integer or undefined");super(B.span,y||B.property),this.layout=B,this.offset=A}isCount(){return this.layout instanceof l||this.layout instanceof c}decode(B,A){return A===void 0&&(A=0),this.layout.decode(B,A+this.offset)}encode(B,A,y){return y===void 0&&(y=0),this.layout.encode(B,A,y+this.offset)}}class l extends n{constructor(B,A){if(super(B,A),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(B,A){return A===void 0&&(A=0),B.readUIntLE(A,this.span)}encode(B,A,y){return y===void 0&&(y=0),A.writeUIntLE(B,y,this.span),this.span}}class c extends n{constructor(B,A){if(super(B,A),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(B,A){return A===void 0&&(A=0),B.readUIntBE(A,this.span)}encode(B,A,y){return y===void 0&&(y=0),A.writeUIntBE(B,y,this.span),this.span}}class f extends n{constructor(B,A){if(super(B,A),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(B,A){return A===void 0&&(A=0),B.readIntLE(A,this.span)}encode(B,A,y){return y===void 0&&(y=0),A.writeIntLE(B,y,this.span),this.span}}class d extends n{constructor(B,A){if(super(B,A),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(B,A){return A===void 0&&(A=0),B.readIntBE(A,this.span)}encode(B,A,y){return y===void 0&&(y=0),A.writeIntBE(B,y,this.span),this.span}}const h=Math.pow(2,32);function b(K){const B=Math.floor(K/h),A=K-B*h;return{hi32:B,lo32:A}}function E(K,B){return K*h+B}class v extends n{constructor(B){super(8,B)}decode(B,A){A===void 0&&(A=0);const y=B.readUInt32LE(A),R=B.readUInt32LE(A+4);return E(R,y)}encode(B,A,y){y===void 0&&(y=0);const R=b(B);return A.writeUInt32LE(R.lo32,y),A.writeUInt32LE(R.hi32,y+4),8}}class N extends n{constructor(B){super(8,B)}decode(B,A){A===void 0&&(A=0);const y=B.readUInt32BE(A),R=B.readUInt32BE(A+4);return E(y,R)}encode(B,A,y){y===void 0&&(y=0);const R=b(B);return A.writeUInt32BE(R.hi32,y),A.writeUInt32BE(R.lo32,y+4),8}}class k extends n{constructor(B){super(8,B)}decode(B,A){A===void 0&&(A=0);const y=B.readUInt32LE(A),R=B.readInt32LE(A+4);return E(R,y)}encode(B,A,y){y===void 0&&(y=0);const R=b(B);return A.writeUInt32LE(R.lo32,y),A.writeInt32LE(R.hi32,y+4),8}}class I extends n{constructor(B){super(8,B)}decode(B,A){A===void 0&&(A=0);const y=B.readInt32BE(A),R=B.readUInt32BE(A+4);return E(y,R)}encode(B,A,y){y===void 0&&(y=0);const R=b(B);return A.writeInt32BE(R.hi32,y),A.writeUInt32BE(R.lo32,y+4),8}}class L extends n{constructor(B){super(4,B)}decode(B,A){return A===void 0&&(A=0),B.readFloatLE(A)}encode(B,A,y){return y===void 0&&(y=0),A.writeFloatLE(B,y),4}}class F extends n{constructor(B){super(4,B)}decode(B,A){return A===void 0&&(A=0),B.readFloatBE(A)}encode(B,A,y){return y===void 0&&(y=0),A.writeFloatBE(B,y),4}}class M extends n{constructor(B){super(8,B)}decode(B,A){return A===void 0&&(A=0),B.readDoubleLE(A)}encode(B,A,y){return y===void 0&&(y=0),A.writeDoubleLE(B,y),8}}class Y extends n{constructor(B){super(8,B)}decode(B,A){return A===void 0&&(A=0),B.readDoubleBE(A)}encode(B,A,y){return y===void 0&&(y=0),A.writeDoubleBE(B,y),8}}class ie extends n{constructor(B,A,y){if(!(B instanceof n))throw new TypeError("elementLayout must be a Layout");if(!(A instanceof r&&A.isCount()||Number.isInteger(A)&&0<=A))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let R=-1;!(A instanceof r)&&0<B.span&&(R=A*B.span),super(R,y),this.elementLayout=B,this.count=A}getSpan(B,A){if(0<=this.span)return this.span;A===void 0&&(A=0);let y=0,R=this.count;if(R instanceof r&&(R=R.decode(B,A)),0<this.elementLayout.span)y=R*this.elementLayout.span;else{let G=0;for(;G<R;)y+=this.elementLayout.getSpan(B,A+y),++G}return y}decode(B,A){A===void 0&&(A=0);const y=[];let R=0,G=this.count;for(G instanceof r&&(G=G.decode(B,A));R<G;)y.push(this.elementLayout.decode(B,A)),A+=this.elementLayout.getSpan(B,A),R+=1;return y}encode(B,A,y){y===void 0&&(y=0);const R=this.elementLayout,G=B.reduce((X,ue)=>X+R.encode(ue,A,y+X),0);return this.count instanceof r&&this.count.encode(B.length,A,y),G}}class se extends n{constructor(B,A,y){if(!(Array.isArray(B)&&B.reduce((G,X)=>G&&X instanceof n,!0)))throw new TypeError("fields must be array of Layout instances");typeof A=="boolean"&&y===void 0&&(y=A,A=void 0);for(const G of B)if(0>G.span&&G.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let R=-1;try{R=B.reduce((G,X)=>G+X.getSpan(),0)}catch{}super(R,A),this.fields=B,this.decodePrefixes=!!y}getSpan(B,A){if(0<=this.span)return this.span;A===void 0&&(A=0);let y=0;try{y=this.fields.reduce((R,G)=>{const X=G.getSpan(B,A);return A+=X,R+X},0)}catch{throw new RangeError("indeterminate span")}return y}decode(B,A){A===void 0&&(A=0);const y=this.makeDestinationObject();for(const R of this.fields)if(R.property!==void 0&&(y[R.property]=R.decode(B,A)),A+=R.getSpan(B,A),this.decodePrefixes&&B.length===A)break;return y}encode(B,A,y){y===void 0&&(y=0);const R=y;let G=0,X=0;for(const ue of this.fields){let be=ue.span;if(X=0<be?be:0,ue.property!==void 0){const De=B[ue.property];De!==void 0&&(X=ue.encode(De,A,y),0>be&&(be=ue.getSpan(A,y)))}G=y,y+=be}return G+X-R}fromArray(B){const A=this.makeDestinationObject();for(const y of this.fields)y.property!==void 0&&0<B.length&&(A[y.property]=B.shift());return A}layoutFor(B){if(typeof B!="string")throw new TypeError("property must be string");for(const A of this.fields)if(A.property===B)return A}offsetOf(B){if(typeof B!="string")throw new TypeError("property must be string");let A=0;for(const y of this.fields){if(y.property===B)return A;0>y.span?A=-1:0<=A&&(A+=y.span)}}}class re{constructor(B){this.property=B}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class ae extends re{constructor(B,A){if(!(B instanceof r&&B.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(A||B.property||"variant"),this.layout=B}decode(B,A){return this.layout.decode(B,A)}encode(B,A,y){return this.layout.encode(B,A,y)}}class J extends n{constructor(B,A,y){const R=B instanceof l||B instanceof c;if(R)B=new ae(new o(B));else if(B instanceof r&&B.isCount())B=new ae(B);else if(!(B instanceof re))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(A===void 0&&(A=null),!(A===null||A instanceof n))throw new TypeError("defaultLayout must be null or a Layout");if(A!==null){if(0>A.span)throw new Error("defaultLayout must have constant span");A.property===void 0&&(A=A.replicate("content"))}let G=-1;A&&(G=A.span,0<=G&&R&&(G+=B.layout.span)),super(G,y),this.discriminator=B,this.usesPrefixDiscriminator=R,this.defaultLayout=A,this.registry={};let X=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(ue){return X(ue)},this.configGetSourceVariant=function(ue){X=ue.bind(this)}}getSpan(B,A){if(0<=this.span)return this.span;A===void 0&&(A=0);const y=this.getVariant(B,A);if(!y)throw new Error("unable to determine span for unrecognized variant");return y.getSpan(B,A)}defaultGetSourceVariant(B){if(B.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&B.hasOwnProperty(this.defaultLayout.property))return;const A=this.registry[B[this.discriminator.property]];if(A&&(!A.layout||B.hasOwnProperty(A.property)))return A}else for(const A in this.registry){const y=this.registry[A];if(B.hasOwnProperty(y.property))return y}throw new Error("unable to infer src variant")}decode(B,A){A===void 0&&(A=0);let y;const R=this.discriminator,G=R.decode(B,A);let X=this.registry[G];if(X===void 0){let ue=0;X=this.defaultLayout,this.usesPrefixDiscriminator&&(ue=R.layout.span),y=this.makeDestinationObject(),y[R.property]=G,y[X.property]=this.defaultLayout.decode(B,A+ue)}else y=X.decode(B,A);return y}encode(B,A,y){y===void 0&&(y=0);const R=this.getSourceVariant(B);if(R===void 0){const G=this.discriminator,X=this.defaultLayout;let ue=0;return this.usesPrefixDiscriminator&&(ue=G.layout.span),G.encode(B[G.property],A,y),ue+X.encode(B[X.property],A,y+ue)}return R.encode(B,A,y)}addVariant(B,A,y){const R=new Q(this,B,A,y);return this.registry[B]=R,R}getVariant(B,A){let y=B;return ft.isBuffer(B)&&(A===void 0&&(A=0),y=this.discriminator.decode(B,A)),this.registry[y]}}class Q extends n{constructor(B,A,y,R){if(!(B instanceof J))throw new TypeError("union must be a Union");if(!Number.isInteger(A)||0>A)throw new TypeError("variant must be a (non-negative) integer");if(typeof y=="string"&&R===void 0&&(R=y,y=null),y){if(!(y instanceof n))throw new TypeError("layout must be a Layout");if(B.defaultLayout!==null&&0<=y.span&&y.span>B.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof R!="string")throw new TypeError("variant must have a String property")}let G=B.span;0>B.span&&(G=y?y.span:0,0<=G&&B.usesPrefixDiscriminator&&(G+=B.discriminator.layout.span)),super(G,R),this.union=B,this.variant=A,this.layout=y||null}getSpan(B,A){if(0<=this.span)return this.span;A===void 0&&(A=0);let y=0;return this.union.usesPrefixDiscriminator&&(y=this.union.discriminator.layout.span),y+this.layout.getSpan(B,A+y)}decode(B,A){const y=this.makeDestinationObject();if(A===void 0&&(A=0),this!==this.union.getVariant(B,A))throw new Error("variant mismatch");let R=0;return this.union.usesPrefixDiscriminator&&(R=this.union.discriminator.layout.span),this.layout?y[this.property]=this.layout.decode(B,A+R):this.property?y[this.property]=!0:this.union.usesPrefixDiscriminator&&(y[this.union.discriminator.property]=this.variant),y}encode(B,A,y){y===void 0&&(y=0);let R=0;if(this.union.usesPrefixDiscriminator&&(R=this.union.discriminator.layout.span),this.layout&&!B.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,A,y);let G=R;if(this.layout&&(this.layout.encode(B[this.property],A,y+R),G+=this.layout.getSpan(A,y+R),0<=this.union.span&&G>this.union.span))throw new Error("encoded variant overruns containing union");return G}fromArray(B){if(this.layout)return this.layout.fromArray(B)}}function Z(K){return 0>K&&(K+=4294967296),K}class W extends n{constructor(B,A,y){if(!(B instanceof l||B instanceof c))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof A=="string"&&y===void 0&&(y=A,A=void 0),4<B.span)throw new RangeError("word cannot exceed 32 bits");super(B.span,y),this.word=B,this.msb=!!A,this.fields=[];let R=0;this._packedSetValue=function(G){return R=Z(G),this},this._packedGetValue=function(){return R}}decode(B,A){const y=this.makeDestinationObject();A===void 0&&(A=0);const R=this.word.decode(B,A);this._packedSetValue(R);for(const G of this.fields)G.property!==void 0&&(y[G.property]=G.decode(R));return y}encode(B,A,y){y===void 0&&(y=0);const R=this.word.decode(A,y);this._packedSetValue(R);for(const G of this.fields)if(G.property!==void 0){const X=B[G.property];X!==void 0&&G.encode(X)}return this.word.encode(this._packedGetValue(),A,y)}addField(B,A){const y=new O(this,B,A);return this.fields.push(y),y}addBoolean(B){const A=new g(this,B);return this.fields.push(A),A}fieldFor(B){if(typeof B!="string")throw new TypeError("property must be string");for(const A of this.fields)if(A.property===B)return A}}class O{constructor(B,A,y){if(!(B instanceof W))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(A)||0>=A)throw new TypeError("bits must be positive integer");const R=8*B.span,G=B.fields.reduce((X,ue)=>X+ue.bits,0);if(A+G>R)throw new Error("bits too long for span remainder ("+(R-G)+" of "+R+" remain)");this.container=B,this.bits=A,this.valueMask=(1<<A)-1,A===32&&(this.valueMask=4294967295),this.start=G,this.container.msb&&(this.start=R-G-A),this.wordMask=Z(this.valueMask<<this.start),this.property=y}decode(){const B=this.container._packedGetValue();return Z(B&this.wordMask)>>>this.start}encode(B){if(!Number.isInteger(B)||B!==Z(B&this.valueMask))throw new TypeError(e("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const A=this.container._packedGetValue(),y=Z(B<<this.start);this.container._packedSetValue(Z(A&~this.wordMask)|y)}}class g extends O{constructor(B,A){super(B,1,A)}decode(B,A){return!!O.prototype.decode.call(this,B,A)}encode(B){return typeof B=="boolean"&&(B=+B),O.prototype.encode.call(this,B)}}class T extends n{constructor(B,A){if(!(B instanceof r&&B.isCount()||Number.isInteger(B)&&0<=B))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let y=-1;B instanceof r||(y=B),super(y,A),this.length=B}getSpan(B,A){let y=this.span;return 0>y&&(y=this.length.decode(B,A)),y}decode(B,A){A===void 0&&(A=0);let y=this.span;return 0>y&&(y=this.length.decode(B,A)),B.slice(A,A+y)}encode(B,A,y){let R=this.length;if(this.length instanceof r&&(R=B.length),!(ft.isBuffer(B)&&R===B.length))throw new TypeError(e("Blob.encode",this)+" requires (length "+R+") Buffer as src");if(y+R>A.length)throw new RangeError("encoding overruns Buffer");return A.write(B.toString("hex"),y,R,"hex"),this.length instanceof r&&this.length.encode(R,A,y),R}}class C extends n{constructor(B){super(-1,B)}getSpan(B,A){if(!ft.isBuffer(B))throw new TypeError("b must be a Buffer");A===void 0&&(A=0);let y=A;for(;y<B.length&&B[y]!==0;)y+=1;return 1+y-A}decode(B,A,y){A===void 0&&(A=0);let R=this.getSpan(B,A);return B.slice(A,A+R-1).toString("utf-8")}encode(B,A,y){y===void 0&&(y=0),typeof B!="string"&&(B=B.toString());const R=new ft(B,"utf8"),G=R.length;if(y+G>A.length)throw new RangeError("encoding overruns Buffer");return R.copy(A,y),A[y+G]=0,G+1}}class q extends n{constructor(B,A){if(typeof B=="string"&&A===void 0&&(A=B,B=void 0),B===void 0)B=-1;else if(!Number.isInteger(B))throw new TypeError("maxSpan must be an integer");super(-1,A),this.maxSpan=B}getSpan(B,A){if(!ft.isBuffer(B))throw new TypeError("b must be a Buffer");return A===void 0&&(A=0),B.length-A}decode(B,A,y){A===void 0&&(A=0);let R=this.getSpan(B,A);if(0<=this.maxSpan&&this.maxSpan<R)throw new RangeError("text length exceeds maxSpan");return B.slice(A,A+R).toString("utf-8")}encode(B,A,y){y===void 0&&(y=0),typeof B!="string"&&(B=B.toString());const R=new ft(B,"utf8"),G=R.length;if(0<=this.maxSpan&&this.maxSpan<G)throw new RangeError("text length exceeds maxSpan");if(y+G>A.length)throw new RangeError("encoding overruns Buffer");return R.copy(A,y),G}}class j extends n{constructor(B,A){super(0,A),this.value=B}decode(B,A,y){return this.value}encode(B,A,y){return 0}}return Ze.ExternalLayout=r,Ze.GreedyCount=i,Ze.OffsetLayout=o,Ze.UInt=l,Ze.UIntBE=c,Ze.Int=f,Ze.IntBE=d,Ze.Float=L,Ze.FloatBE=F,Ze.Double=M,Ze.DoubleBE=Y,Ze.Sequence=ie,Ze.Structure=se,Ze.UnionDiscriminator=re,Ze.UnionLayoutDiscriminator=ae,Ze.Union=J,Ze.VariantLayout=Q,Ze.BitStructure=W,Ze.BitField=O,Ze.Boolean=g,Ze.Blob=T,Ze.CString=C,Ze.UTF8=q,Ze.Constant=j,Ze.greedy=((K,B)=>new i(K,B)),Ze.offset=((K,B,A)=>new o(K,B,A)),Ze.u8=(K=>new l(1,K)),Ze.u16=(K=>new l(2,K)),Ze.u24=(K=>new l(3,K)),Ze.u32=(K=>new l(4,K)),Ze.u40=(K=>new l(5,K)),Ze.u48=(K=>new l(6,K)),Ze.nu64=(K=>new v(K)),Ze.u16be=(K=>new c(2,K)),Ze.u24be=(K=>new c(3,K)),Ze.u32be=(K=>new c(4,K)),Ze.u40be=(K=>new c(5,K)),Ze.u48be=(K=>new c(6,K)),Ze.nu64be=(K=>new N(K)),Ze.s8=(K=>new f(1,K)),Ze.s16=(K=>new f(2,K)),Ze.s24=(K=>new f(3,K)),Ze.s32=(K=>new f(4,K)),Ze.s40=(K=>new f(5,K)),Ze.s48=(K=>new f(6,K)),Ze.ns64=(K=>new k(K)),Ze.s16be=(K=>new d(2,K)),Ze.s24be=(K=>new d(3,K)),Ze.s32be=(K=>new d(4,K)),Ze.s40be=(K=>new d(5,K)),Ze.s48be=(K=>new d(6,K)),Ze.ns64be=(K=>new I(K)),Ze.f32=(K=>new L(K)),Ze.f32be=(K=>new F(K)),Ze.f64=(K=>new M(K)),Ze.f64be=(K=>new Y(K)),Ze.struct=((K,B,A)=>new se(K,B,A)),Ze.bits=((K,B,A)=>new W(K,B,A)),Ze.seq=((K,B,A)=>new ie(K,B,A)),Ze.union=((K,B,A)=>new J(K,B,A)),Ze.unionLayoutDiscriminator=((K,B)=>new ae(K,B)),Ze.blob=((K,B)=>new T(K,B)),Ze.cstr=(K=>new C(K)),Ze.utf8=((K,B)=>new q(K,B)),Ze.const=((K,B)=>new j(K,B)),Ze}const Q9=Y1(EP);var a2;function eF(){return a2||(a2=1,(function(n){var e=nf&&nf.__importDefault||function(W){return W&&W.__esModule?W:{default:W}};Object.defineProperty(n,"__esModule",{value:!0}),n.map=n.array=n.rustEnum=n.str=n.vecU8=n.tagged=n.vec=n.bool=n.option=n.publicKey=n.i256=n.u256=n.i128=n.u128=n.i64=n.u64=n.struct=n.f64=n.f32=n.i32=n.u32=n.i16=n.u16=n.i8=n.u8=void 0;const t=s2(),r=Q9,i=e(db());var o=s2();Object.defineProperty(n,"u8",{enumerable:!0,get:function(){return o.u8}}),Object.defineProperty(n,"i8",{enumerable:!0,get:function(){return o.s8}}),Object.defineProperty(n,"u16",{enumerable:!0,get:function(){return o.u16}}),Object.defineProperty(n,"i16",{enumerable:!0,get:function(){return o.s16}}),Object.defineProperty(n,"u32",{enumerable:!0,get:function(){return o.u32}}),Object.defineProperty(n,"i32",{enumerable:!0,get:function(){return o.s32}}),Object.defineProperty(n,"f32",{enumerable:!0,get:function(){return o.f32}}),Object.defineProperty(n,"f64",{enumerable:!0,get:function(){return o.f64}}),Object.defineProperty(n,"struct",{enumerable:!0,get:function(){return o.struct}});class l extends t.Layout{constructor(O,g,T){super(O,T),this.blob=(0,t.blob)(O),this.signed=g}decode(O,g=0){const T=new i.default(this.blob.decode(O,g),10,"le");return this.signed?T.fromTwos(this.span*8).clone():T}encode(O,g,T=0){return this.signed&&(O=O.toTwos(this.span*8)),this.blob.encode(O.toArrayLike(ft,"le",this.span),g,T)}}function c(W){return new l(8,!1,W)}n.u64=c;function f(W){return new l(8,!0,W)}n.i64=f;function d(W){return new l(16,!1,W)}n.u128=d;function h(W){return new l(16,!0,W)}n.i128=h;function b(W){return new l(32,!1,W)}n.u256=b;function E(W){return new l(32,!0,W)}n.i256=E;class v extends t.Layout{constructor(O,g,T,C){super(O.span,C),this.layout=O,this.decoder=g,this.encoder=T}decode(O,g){return this.decoder(this.layout.decode(O,g))}encode(O,g,T){return this.layout.encode(this.encoder(O),g,T)}getSpan(O,g){return this.layout.getSpan(O,g)}}function N(W){return new v((0,t.blob)(32),O=>new r.PublicKey(O),O=>O.toBuffer(),W)}n.publicKey=N;class k extends t.Layout{constructor(O,g){super(-1,g),this.layout=O,this.discriminator=(0,t.u8)()}encode(O,g,T=0){return O==null?this.discriminator.encode(0,g,T):(this.discriminator.encode(1,g,T),this.layout.encode(O,g,T+1)+1)}decode(O,g=0){const T=this.discriminator.decode(O,g);if(T===0)return null;if(T===1)return this.layout.decode(O,g+1);throw new Error("Invalid option "+this.property)}getSpan(O,g=0){const T=this.discriminator.decode(O,g);if(T===0)return 1;if(T===1)return this.layout.getSpan(O,g+1)+1;throw new Error("Invalid option "+this.property)}}function I(W,O){return new k(W,O)}n.option=I;function L(W){return new v((0,t.u8)(),F,M,W)}n.bool=L;function F(W){if(W===0)return!1;if(W===1)return!0;throw new Error("Invalid bool: "+W)}function M(W){return W?1:0}function Y(W,O){const g=(0,t.u32)("length"),T=(0,t.struct)([g,(0,t.seq)(W,(0,t.offset)(g,-g.span),"values")]);return new v(T,({values:C})=>C,C=>({values:C}),O)}n.vec=Y;function ie(W,O,g){const T=(0,t.struct)([c("tag"),O.replicate("data")]);function C({tag:q,data:j}){if(!q.eq(W))throw new Error("Invalid tag, expected: "+W.toString("hex")+", got: "+q.toString("hex"));return j}return new v(T,C,q=>({tag:W,data:q}),g)}n.tagged=ie;function se(W){const O=(0,t.u32)("length"),g=(0,t.struct)([O,(0,t.blob)((0,t.offset)(O,-O.span),"data")]);return new v(g,({data:T})=>T,T=>({data:T}),W)}n.vecU8=se;function re(W){return new v(se(),O=>O.toString("utf-8"),O=>ft.from(O,"utf-8"),W)}n.str=re;function ae(W,O,g){const T=(0,t.union)(g??(0,t.u8)(),O);return W.forEach((C,q)=>T.addVariant(q,C,C.property)),T}n.rustEnum=ae;function J(W,O,g){const T=(0,t.struct)([(0,t.seq)(W,O,"values")]);return new v(T,({values:C})=>C,C=>({values:C}),g)}n.array=J;class Q extends t.Layout{constructor(O,g,T){super(O.span+g.span,T),this.keyLayout=O,this.valueLayout=g}decode(O,g){g=g||0;const T=this.keyLayout.decode(O,g),C=this.valueLayout.decode(O,g+this.keyLayout.getSpan(O,g));return[T,C]}encode(O,g,T){T=T||0;const C=this.keyLayout.encode(O[0],g,T),q=this.valueLayout.encode(O[1],g,T+C);return C+q}getSpan(O,g){return this.keyLayout.getSpan(O,g)+this.valueLayout.getSpan(O,g)}}function Z(W,O,g){const T=(0,t.u32)("length"),C=(0,t.struct)([T,(0,t.seq)(new Q(W,O),(0,t.offset)(T,-T.span),"values")]);return new v(C,({values:q})=>new Map(q),q=>({values:Array.from(q.entries())}),g)}n.map=Z})(nf)),nf}var Tt=eF();function tu(n){let e=n.length;for(;--e>=0;)n[e]=0}const tF=3,nF=258,HI=29,rF=256,iF=rF+1+HI,zI=30,oF=512,sF=new Array((iF+2)*2);tu(sF);const aF=new Array(zI*2);tu(aF);const lF=new Array(oF);tu(lF);const cF=new Array(nF-tF+1);tu(cF);const uF=new Array(HI);tu(uF);const fF=new Array(zI);tu(fF);const dF=(n,e,t,r)=>{let i=n&65535|0,o=n>>>16&65535|0,l=0;for(;t!==0;){l=t>2e3?2e3:t,t-=l;do i=i+e[r++]|0,o=o+i|0;while(--l);i%=65521,o%=65521}return i|o<<16|0};var m1=dF;const hF=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},pF=new Uint32Array(hF()),mF=(n,e,t,r)=>{const i=pF,o=r+t;n^=-1;for(let l=r;l<o;l++)n=n>>>8^i[(n^e[l])&255];return n^-1};var Ki=mF,g1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},GI={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const gF=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var yF=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)gF(t,r)&&(n[r]=t[r])}}return n},wF=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,o=n.length;r<o;r++){let l=n[r];t.set(l,i),i+=l.length}return t},qI={assign:yF,flattenChunks:wF};let VI=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{VI=!1}const Df=new Uint8Array(256);for(let n=0;n<256;n++)Df[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Df[254]=Df[254]=1;var bF=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,o,l=n.length,c=0;for(i=0;i<l;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<l&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),o=0,i=0;o<c;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<l&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const vF=(n,e)=>{if(e<65534&&n.subarray&&VI)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var EF=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i;const o=new Array(t*2);for(i=0,r=0;r<t;){let l=n[r++];if(l<128){o[i++]=l;continue}let c=Df[l];if(c>4){o[i++]=65533,r+=c-1;continue}for(l&=c===2?31:c===3?15:7;c>1&&r<t;)l=l<<6|n[r++]&63,c--;if(c>1){o[i++]=65533;continue}l<65536?o[i++]=l:(l-=65536,o[i++]=55296|l>>10&1023,o[i++]=56320|l&1023)}return vF(o,i)},_F=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+Df[n[t]]>e?t:e},y1={string2buf:bF,buf2string:EF,utf8border:_F};function xF(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var AF=xF;const Sh=16209,SF=16191;var TF=function(e,t){let r,i,o,l,c,f,d,h,b,E,v,N,k,I,L,F,M,Y,ie,se,re,ae,J,Q;const Z=e.state;r=e.next_in,J=e.input,i=r+(e.avail_in-5),o=e.next_out,Q=e.output,l=o-(t-e.avail_out),c=o+(e.avail_out-257),f=Z.dmax,d=Z.wsize,h=Z.whave,b=Z.wnext,E=Z.window,v=Z.hold,N=Z.bits,k=Z.lencode,I=Z.distcode,L=(1<<Z.lenbits)-1,F=(1<<Z.distbits)-1;e:do{N<15&&(v+=J[r++]<<N,N+=8,v+=J[r++]<<N,N+=8),M=k[v&L];t:for(;;){if(Y=M>>>24,v>>>=Y,N-=Y,Y=M>>>16&255,Y===0)Q[o++]=M&65535;else if(Y&16){ie=M&65535,Y&=15,Y&&(N<Y&&(v+=J[r++]<<N,N+=8),ie+=v&(1<<Y)-1,v>>>=Y,N-=Y),N<15&&(v+=J[r++]<<N,N+=8,v+=J[r++]<<N,N+=8),M=I[v&F];n:for(;;){if(Y=M>>>24,v>>>=Y,N-=Y,Y=M>>>16&255,Y&16){if(se=M&65535,Y&=15,N<Y&&(v+=J[r++]<<N,N+=8,N<Y&&(v+=J[r++]<<N,N+=8)),se+=v&(1<<Y)-1,se>f){e.msg="invalid distance too far back",Z.mode=Sh;break e}if(v>>>=Y,N-=Y,Y=o-l,se>Y){if(Y=se-Y,Y>h&&Z.sane){e.msg="invalid distance too far back",Z.mode=Sh;break e}if(re=0,ae=E,b===0){if(re+=d-Y,Y<ie){ie-=Y;do Q[o++]=E[re++];while(--Y);re=o-se,ae=Q}}else if(b<Y){if(re+=d+b-Y,Y-=b,Y<ie){ie-=Y;do Q[o++]=E[re++];while(--Y);if(re=0,b<ie){Y=b,ie-=Y;do Q[o++]=E[re++];while(--Y);re=o-se,ae=Q}}}else if(re+=b-Y,Y<ie){ie-=Y;do Q[o++]=E[re++];while(--Y);re=o-se,ae=Q}for(;ie>2;)Q[o++]=ae[re++],Q[o++]=ae[re++],Q[o++]=ae[re++],ie-=3;ie&&(Q[o++]=ae[re++],ie>1&&(Q[o++]=ae[re++]))}else{re=o-se;do Q[o++]=Q[re++],Q[o++]=Q[re++],Q[o++]=Q[re++],ie-=3;while(ie>2);ie&&(Q[o++]=Q[re++],ie>1&&(Q[o++]=Q[re++]))}}else if((Y&64)===0){M=I[(M&65535)+(v&(1<<Y)-1)];continue n}else{e.msg="invalid distance code",Z.mode=Sh;break e}break}}else if((Y&64)===0){M=k[(M&65535)+(v&(1<<Y)-1)];continue t}else if(Y&32){Z.mode=SF;break e}else{e.msg="invalid literal/length code",Z.mode=Sh;break e}break}}while(r<i&&o<c);ie=N>>3,r-=ie,N-=ie<<3,v&=(1<<N)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=o<c?257+(c-o):257-(o-c),Z.hold=v,Z.bits=N};const cc=15,l2=852,c2=592,u2=0,$y=1,f2=2,RF=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),NF=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),CF=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),IF=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),kF=(n,e,t,r,i,o,l,c)=>{const f=c.bits;let d=0,h=0,b=0,E=0,v=0,N=0,k=0,I=0,L=0,F=0,M,Y,ie,se,re,ae=null,J;const Q=new Uint16Array(cc+1),Z=new Uint16Array(cc+1);let W=null,O,g,T;for(d=0;d<=cc;d++)Q[d]=0;for(h=0;h<r;h++)Q[e[t+h]]++;for(v=f,E=cc;E>=1&&Q[E]===0;E--);if(v>E&&(v=E),E===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,c.bits=1,0;for(b=1;b<E&&Q[b]===0;b++);for(v<b&&(v=b),I=1,d=1;d<=cc;d++)if(I<<=1,I-=Q[d],I<0)return-1;if(I>0&&(n===u2||E!==1))return-1;for(Z[1]=0,d=1;d<cc;d++)Z[d+1]=Z[d]+Q[d];for(h=0;h<r;h++)e[t+h]!==0&&(l[Z[e[t+h]]++]=h);if(n===u2?(ae=W=l,J=20):n===$y?(ae=RF,W=NF,J=257):(ae=CF,W=IF,J=0),F=0,h=0,d=b,re=o,N=v,k=0,ie=-1,L=1<<v,se=L-1,n===$y&&L>l2||n===f2&&L>c2)return 1;for(;;){O=d-k,l[h]+1<J?(g=0,T=l[h]):l[h]>=J?(g=W[l[h]-J],T=ae[l[h]-J]):(g=96,T=0),M=1<<d-k,Y=1<<N,b=Y;do Y-=M,i[re+(F>>k)+Y]=O<<24|g<<16|T|0;while(Y!==0);for(M=1<<d-1;F&M;)M>>=1;if(M!==0?(F&=M-1,F+=M):F=0,h++,--Q[d]===0){if(d===E)break;d=e[t+l[h]]}if(d>v&&(F&se)!==ie){for(k===0&&(k=v),re+=b,N=d-k,I=1<<N;N+k<E&&(I-=Q[N+k],!(I<=0));)N++,I<<=1;if(L+=1<<N,n===$y&&L>l2||n===f2&&L>c2)return 1;ie=F&se,i[ie]=v<<24|N<<16|re-o|0}}return F!==0&&(i[re+F]=d-k<<24|64<<16|0),c.bits=v,0};var Sf=kF;const MF=0,KI=1,WI=2,{Z_FINISH:d2,Z_BLOCK:OF,Z_TREES:Th,Z_OK:ll,Z_STREAM_END:BF,Z_NEED_DICT:LF,Z_STREAM_ERROR:bi,Z_DATA_ERROR:$I,Z_MEM_ERROR:jI,Z_BUF_ERROR:UF,Z_DEFLATED:h2}=GI,pm=16180,p2=16181,m2=16182,g2=16183,y2=16184,w2=16185,b2=16186,v2=16187,E2=16188,_2=16189,Dp=16190,Do=16191,jy=16192,x2=16193,Yy=16194,A2=16195,S2=16196,T2=16197,R2=16198,Rh=16199,Nh=16200,N2=16201,C2=16202,I2=16203,k2=16204,M2=16205,Jy=16206,O2=16207,B2=16208,xn=16209,YI=16210,JI=16211,DF=852,PF=592,FF=15,HF=FF,L2=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function zF(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const yl=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<pm||e.mode>JI?1:0},ZI=n=>{if(yl(n))return bi;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=pm,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(DF),e.distcode=e.distdyn=new Int32Array(PF),e.sane=1,e.back=-1,ll},XI=n=>{if(yl(n))return bi;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,ZI(n)},QI=(n,e)=>{let t;if(yl(n))return bi;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?bi:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,XI(n))},ek=(n,e)=>{if(!n)return bi;const t=new zF;n.state=t,t.strm=n,t.window=null,t.mode=pm;const r=QI(n,e);return r!==ll&&(n.state=null),r},GF=n=>ek(n,HF);let U2=!0,Zy,Xy;const qF=n=>{if(U2){Zy=new Int32Array(512),Xy=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Sf(KI,n.lens,0,288,Zy,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Sf(WI,n.lens,0,32,Xy,0,n.work,{bits:5}),U2=!1}n.lencode=Zy,n.lenbits=9,n.distcode=Xy,n.distbits=5},tk=(n,e,t,r)=>{let i;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(t-r,t-r+i),o.wnext),r-=i,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},VF=(n,e)=>{let t,r,i,o,l,c,f,d,h,b,E,v,N,k,I=0,L,F,M,Y,ie,se,re,ae;const J=new Uint8Array(4);let Q,Z;const W=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(yl(n)||!n.output||!n.input&&n.avail_in!==0)return bi;t=n.state,t.mode===Do&&(t.mode=jy),l=n.next_out,i=n.output,f=n.avail_out,o=n.next_in,r=n.input,c=n.avail_in,d=t.hold,h=t.bits,b=c,E=f,ae=ll;e:for(;;)switch(t.mode){case pm:if(t.wrap===0){t.mode=jy;break}for(;h<16;){if(c===0)break e;c--,d+=r[o++]<<h,h+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,J[0]=d&255,J[1]=d>>>8&255,t.check=Ki(t.check,J,2,0),d=0,h=0,t.mode=p2;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",t.mode=xn;break}if((d&15)!==h2){n.msg="unknown compression method",t.mode=xn;break}if(d>>>=4,h-=4,re=(d&15)+8,t.wbits===0&&(t.wbits=re),re>15||re>t.wbits){n.msg="invalid window size",t.mode=xn;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=d&512?_2:Do,d=0,h=0;break;case p2:for(;h<16;){if(c===0)break e;c--,d+=r[o++]<<h,h+=8}if(t.flags=d,(t.flags&255)!==h2){n.msg="unknown compression method",t.mode=xn;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=xn;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(J[0]=d&255,J[1]=d>>>8&255,t.check=Ki(t.check,J,2,0)),d=0,h=0,t.mode=m2;case m2:for(;h<32;){if(c===0)break e;c--,d+=r[o++]<<h,h+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(J[0]=d&255,J[1]=d>>>8&255,J[2]=d>>>16&255,J[3]=d>>>24&255,t.check=Ki(t.check,J,4,0)),d=0,h=0,t.mode=g2;case g2:for(;h<16;){if(c===0)break e;c--,d+=r[o++]<<h,h+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(J[0]=d&255,J[1]=d>>>8&255,t.check=Ki(t.check,J,2,0)),d=0,h=0,t.mode=y2;case y2:if(t.flags&1024){for(;h<16;){if(c===0)break e;c--,d+=r[o++]<<h,h+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(J[0]=d&255,J[1]=d>>>8&255,t.check=Ki(t.check,J,2,0)),d=0,h=0}else t.head&&(t.head.extra=null);t.mode=w2;case w2:if(t.flags&1024&&(v=t.length,v>c&&(v=c),v&&(t.head&&(re=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+v),re)),t.flags&512&&t.wrap&4&&(t.check=Ki(t.check,r,v,o)),c-=v,o+=v,t.length-=v),t.length))break e;t.length=0,t.mode=b2;case b2:if(t.flags&2048){if(c===0)break e;v=0;do re=r[o+v++],t.head&&re&&t.length<65536&&(t.head.name+=String.fromCharCode(re));while(re&&v<c);if(t.flags&512&&t.wrap&4&&(t.check=Ki(t.check,r,v,o)),c-=v,o+=v,re)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=v2;case v2:if(t.flags&4096){if(c===0)break e;v=0;do re=r[o+v++],t.head&&re&&t.length<65536&&(t.head.comment+=String.fromCharCode(re));while(re&&v<c);if(t.flags&512&&t.wrap&4&&(t.check=Ki(t.check,r,v,o)),c-=v,o+=v,re)break e}else t.head&&(t.head.comment=null);t.mode=E2;case E2:if(t.flags&512){for(;h<16;){if(c===0)break e;c--,d+=r[o++]<<h,h+=8}if(t.wrap&4&&d!==(t.check&65535)){n.msg="header crc mismatch",t.mode=xn;break}d=0,h=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Do;break;case _2:for(;h<32;){if(c===0)break e;c--,d+=r[o++]<<h,h+=8}n.adler=t.check=L2(d),d=0,h=0,t.mode=Dp;case Dp:if(t.havedict===0)return n.next_out=l,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=h,LF;n.adler=t.check=1,t.mode=Do;case Do:if(e===OF||e===Th)break e;case jy:if(t.last){d>>>=h&7,h-=h&7,t.mode=Jy;break}for(;h<3;){if(c===0)break e;c--,d+=r[o++]<<h,h+=8}switch(t.last=d&1,d>>>=1,h-=1,d&3){case 0:t.mode=x2;break;case 1:if(qF(t),t.mode=Rh,e===Th){d>>>=2,h-=2;break e}break;case 2:t.mode=S2;break;case 3:n.msg="invalid block type",t.mode=xn}d>>>=2,h-=2;break;case x2:for(d>>>=h&7,h-=h&7;h<32;){if(c===0)break e;c--,d+=r[o++]<<h,h+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",t.mode=xn;break}if(t.length=d&65535,d=0,h=0,t.mode=Yy,e===Th)break e;case Yy:t.mode=A2;case A2:if(v=t.length,v){if(v>c&&(v=c),v>f&&(v=f),v===0)break e;i.set(r.subarray(o,o+v),l),c-=v,o+=v,f-=v,l+=v,t.length-=v;break}t.mode=Do;break;case S2:for(;h<14;){if(c===0)break e;c--,d+=r[o++]<<h,h+=8}if(t.nlen=(d&31)+257,d>>>=5,h-=5,t.ndist=(d&31)+1,d>>>=5,h-=5,t.ncode=(d&15)+4,d>>>=4,h-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=xn;break}t.have=0,t.mode=T2;case T2:for(;t.have<t.ncode;){for(;h<3;){if(c===0)break e;c--,d+=r[o++]<<h,h+=8}t.lens[W[t.have++]]=d&7,d>>>=3,h-=3}for(;t.have<19;)t.lens[W[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,Q={bits:t.lenbits},ae=Sf(MF,t.lens,0,19,t.lencode,0,t.work,Q),t.lenbits=Q.bits,ae){n.msg="invalid code lengths set",t.mode=xn;break}t.have=0,t.mode=R2;case R2:for(;t.have<t.nlen+t.ndist;){for(;I=t.lencode[d&(1<<t.lenbits)-1],L=I>>>24,F=I>>>16&255,M=I&65535,!(L<=h);){if(c===0)break e;c--,d+=r[o++]<<h,h+=8}if(M<16)d>>>=L,h-=L,t.lens[t.have++]=M;else{if(M===16){for(Z=L+2;h<Z;){if(c===0)break e;c--,d+=r[o++]<<h,h+=8}if(d>>>=L,h-=L,t.have===0){n.msg="invalid bit length repeat",t.mode=xn;break}re=t.lens[t.have-1],v=3+(d&3),d>>>=2,h-=2}else if(M===17){for(Z=L+3;h<Z;){if(c===0)break e;c--,d+=r[o++]<<h,h+=8}d>>>=L,h-=L,re=0,v=3+(d&7),d>>>=3,h-=3}else{for(Z=L+7;h<Z;){if(c===0)break e;c--,d+=r[o++]<<h,h+=8}d>>>=L,h-=L,re=0,v=11+(d&127),d>>>=7,h-=7}if(t.have+v>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=xn;break}for(;v--;)t.lens[t.have++]=re}}if(t.mode===xn)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=xn;break}if(t.lenbits=9,Q={bits:t.lenbits},ae=Sf(KI,t.lens,0,t.nlen,t.lencode,0,t.work,Q),t.lenbits=Q.bits,ae){n.msg="invalid literal/lengths set",t.mode=xn;break}if(t.distbits=6,t.distcode=t.distdyn,Q={bits:t.distbits},ae=Sf(WI,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,Q),t.distbits=Q.bits,ae){n.msg="invalid distances set",t.mode=xn;break}if(t.mode=Rh,e===Th)break e;case Rh:t.mode=Nh;case Nh:if(c>=6&&f>=258){n.next_out=l,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=h,TF(n,E),l=n.next_out,i=n.output,f=n.avail_out,o=n.next_in,r=n.input,c=n.avail_in,d=t.hold,h=t.bits,t.mode===Do&&(t.back=-1);break}for(t.back=0;I=t.lencode[d&(1<<t.lenbits)-1],L=I>>>24,F=I>>>16&255,M=I&65535,!(L<=h);){if(c===0)break e;c--,d+=r[o++]<<h,h+=8}if(F&&(F&240)===0){for(Y=L,ie=F,se=M;I=t.lencode[se+((d&(1<<Y+ie)-1)>>Y)],L=I>>>24,F=I>>>16&255,M=I&65535,!(Y+L<=h);){if(c===0)break e;c--,d+=r[o++]<<h,h+=8}d>>>=Y,h-=Y,t.back+=Y}if(d>>>=L,h-=L,t.back+=L,t.length=M,F===0){t.mode=M2;break}if(F&32){t.back=-1,t.mode=Do;break}if(F&64){n.msg="invalid literal/length code",t.mode=xn;break}t.extra=F&15,t.mode=N2;case N2:if(t.extra){for(Z=t.extra;h<Z;){if(c===0)break e;c--,d+=r[o++]<<h,h+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,h-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=C2;case C2:for(;I=t.distcode[d&(1<<t.distbits)-1],L=I>>>24,F=I>>>16&255,M=I&65535,!(L<=h);){if(c===0)break e;c--,d+=r[o++]<<h,h+=8}if((F&240)===0){for(Y=L,ie=F,se=M;I=t.distcode[se+((d&(1<<Y+ie)-1)>>Y)],L=I>>>24,F=I>>>16&255,M=I&65535,!(Y+L<=h);){if(c===0)break e;c--,d+=r[o++]<<h,h+=8}d>>>=Y,h-=Y,t.back+=Y}if(d>>>=L,h-=L,t.back+=L,F&64){n.msg="invalid distance code",t.mode=xn;break}t.offset=M,t.extra=F&15,t.mode=I2;case I2:if(t.extra){for(Z=t.extra;h<Z;){if(c===0)break e;c--,d+=r[o++]<<h,h+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,h-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=xn;break}t.mode=k2;case k2:if(f===0)break e;if(v=E-f,t.offset>v){if(v=t.offset-v,v>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=xn;break}v>t.wnext?(v-=t.wnext,N=t.wsize-v):N=t.wnext-v,v>t.length&&(v=t.length),k=t.window}else k=i,N=l-t.offset,v=t.length;v>f&&(v=f),f-=v,t.length-=v;do i[l++]=k[N++];while(--v);t.length===0&&(t.mode=Nh);break;case M2:if(f===0)break e;i[l++]=t.length,f--,t.mode=Nh;break;case Jy:if(t.wrap){for(;h<32;){if(c===0)break e;c--,d|=r[o++]<<h,h+=8}if(E-=f,n.total_out+=E,t.total+=E,t.wrap&4&&E&&(n.adler=t.check=t.flags?Ki(t.check,i,E,l-E):m1(t.check,i,E,l-E)),E=f,t.wrap&4&&(t.flags?d:L2(d))!==t.check){n.msg="incorrect data check",t.mode=xn;break}d=0,h=0}t.mode=O2;case O2:if(t.wrap&&t.flags){for(;h<32;){if(c===0)break e;c--,d+=r[o++]<<h,h+=8}if(t.wrap&4&&d!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=xn;break}d=0,h=0}t.mode=B2;case B2:ae=BF;break e;case xn:ae=$I;break e;case YI:return jI;case JI:default:return bi}return n.next_out=l,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=h,(t.wsize||E!==n.avail_out&&t.mode<xn&&(t.mode<Jy||e!==d2))&&tk(n,n.output,n.next_out,E-n.avail_out),b-=n.avail_in,E-=n.avail_out,n.total_in+=b,n.total_out+=E,t.total+=E,t.wrap&4&&E&&(n.adler=t.check=t.flags?Ki(t.check,i,E,n.next_out-E):m1(t.check,i,E,n.next_out-E)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Do?128:0)+(t.mode===Rh||t.mode===Yy?256:0),(b===0&&E===0||e===d2)&&ae===ll&&(ae=UF),ae},KF=n=>{if(yl(n))return bi;let e=n.state;return e.window&&(e.window=null),n.state=null,ll},WF=(n,e)=>{if(yl(n))return bi;const t=n.state;return(t.wrap&2)===0?bi:(t.head=e,e.done=!1,ll)},$F=(n,e)=>{const t=e.length;let r,i,o;return yl(n)||(r=n.state,r.wrap!==0&&r.mode!==Dp)?bi:r.mode===Dp&&(i=1,i=m1(i,e,t,0),i!==r.check)?$I:(o=tk(n,e,t,t),o?(r.mode=YI,jI):(r.havedict=1,ll))};var jF=XI,YF=QI,JF=ZI,ZF=GF,XF=ek,QF=VF,eH=KF,tH=WF,nH=$F,rH="pako inflate (from Nodeca project)",Vo={inflateReset:jF,inflateReset2:YF,inflateResetKeep:JF,inflateInit:ZF,inflateInit2:XF,inflate:QF,inflateEnd:eH,inflateGetHeader:tH,inflateSetDictionary:nH,inflateInfo:rH};function iH(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var oH=iH;const nk=Object.prototype.toString,{Z_NO_FLUSH:sH,Z_FINISH:aH,Z_OK:Pf,Z_STREAM_END:Qy,Z_NEED_DICT:ew,Z_STREAM_ERROR:lH,Z_DATA_ERROR:D2,Z_MEM_ERROR:cH}=GI;function mm(n){this.options=qI.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new AF,this.strm.avail_out=0;let t=Vo.inflateInit2(this.strm,e.windowBits);if(t!==Pf)throw new Error(g1[t]);if(this.header=new oH,Vo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=y1.string2buf(e.dictionary):nk.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Vo.inflateSetDictionary(this.strm,e.dictionary),t!==Pf)))throw new Error(g1[t])}mm.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,l,c;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?aH:sH,nk.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=Vo.inflate(t,l),o===ew&&i&&(o=Vo.inflateSetDictionary(t,i),o===Pf?o=Vo.inflate(t,l):o===D2&&(o=ew));t.avail_in>0&&o===Qy&&t.state.wrap>0&&n[t.next_in]!==0;)Vo.inflateReset(t),o=Vo.inflate(t,l);switch(o){case lH:case D2:case ew:case cH:return this.onEnd(o),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||o===Qy))if(this.options.to==="string"){let f=y1.utf8border(t.output,t.next_out),d=t.next_out-f,h=y1.buf2string(t.output,f);t.next_out=d,t.avail_out=r-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(h)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Pf&&c===0)){if(o===Qy)return o=Vo.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};mm.prototype.onData=function(n){this.chunks.push(n)};mm.prototype.onEnd=function(n){n===Pf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=qI.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function uH(n,e){const t=new mm(e);if(t.push(n),t.err)throw t.msg||g1[t.err];return t.result}var fH=uH,dH={inflate:fH};const{inflate:hH}=dH;var pH=hH,tw={exports:{}},P2;function mH(){return P2||(P2=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(f,d,h){this.fn=f,this.context=d,this.once=h||!1}function o(f,d,h,b,E){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new i(h,b||f,E),N=t?t+d:d;return f._events[N]?f._events[N].fn?f._events[N]=[f._events[N],v]:f._events[N].push(v):(f._events[N]=v,f._eventsCount++),f}function l(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],h,b;if(this._eventsCount===0)return d;for(b in h=this._events)e.call(h,b)&&d.push(t?b.slice(1):b);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},c.prototype.listeners=function(d){var h=t?t+d:d,b=this._events[h];if(!b)return[];if(b.fn)return[b.fn];for(var E=0,v=b.length,N=new Array(v);E<v;E++)N[E]=b[E].fn;return N},c.prototype.listenerCount=function(d){var h=t?t+d:d,b=this._events[h];return b?b.fn?1:b.length:0},c.prototype.emit=function(d,h,b,E,v,N){var k=t?t+d:d;if(!this._events[k])return!1;var I=this._events[k],L=arguments.length,F,M;if(I.fn){switch(I.once&&this.removeListener(d,I.fn,void 0,!0),L){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,h),!0;case 3:return I.fn.call(I.context,h,b),!0;case 4:return I.fn.call(I.context,h,b,E),!0;case 5:return I.fn.call(I.context,h,b,E,v),!0;case 6:return I.fn.call(I.context,h,b,E,v,N),!0}for(M=1,F=new Array(L-1);M<L;M++)F[M-1]=arguments[M];I.fn.apply(I.context,F)}else{var Y=I.length,ie;for(M=0;M<Y;M++)switch(I[M].once&&this.removeListener(d,I[M].fn,void 0,!0),L){case 1:I[M].fn.call(I[M].context);break;case 2:I[M].fn.call(I[M].context,h);break;case 3:I[M].fn.call(I[M].context,h,b);break;case 4:I[M].fn.call(I[M].context,h,b,E);break;default:if(!F)for(ie=1,F=new Array(L-1);ie<L;ie++)F[ie-1]=arguments[ie];I[M].fn.apply(I[M].context,F)}}return!0},c.prototype.on=function(d,h,b){return o(this,d,h,b,!1)},c.prototype.once=function(d,h,b){return o(this,d,h,b,!0)},c.prototype.removeListener=function(d,h,b,E){var v=t?t+d:d;if(!this._events[v])return this;if(!h)return l(this,v),this;var N=this._events[v];if(N.fn)N.fn===h&&(!E||N.once)&&(!b||N.context===b)&&l(this,v);else{for(var k=0,I=[],L=N.length;k<L;k++)(N[k].fn!==h||E&&!N[k].once||b&&N[k].context!==b)&&I.push(N[k]);I.length?this._events[v]=I.length===1?I[0]:I:l(this,v)}return this},c.prototype.removeAllListeners=function(d){var h;return d?(h=t?t+d:d,this._events[h]&&l(this,h)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=t,c.EventEmitter=c,n.exports=c})(tw)),tw.exports}var gH=mH();const yH=ss(gH);function wH(n,e){return Array.apply(0,new Array(Math.ceil(n.length/e))).map((t,r)=>n.slice(r*e,(r+1)*e))}const Oa=n=>"version"in n;function bH(n){return new TextDecoder("utf-8").decode(n)}function F2(n){return Un.encode(n)}function H2(n){return n.toString("base64")}function rk(n){return nt.from(n,"base64")}function Tc(n){return"accounts"in n}async function vH(n){const e=(await we.findProgramAddress([],n))[0];return await we.createWithSeed(e,EH(),n)}function EH(){return"anchor:idl"}const _H=Tt.struct([Tt.publicKey("authority"),Tt.vecU8("data")]);function xH(n){return _H.decode(n)}function AH(n){const e=["name","path","account","relations","generic"],t=o=>o.split(".").map(X9).join("."),r=o=>{for(const l in o){const c=o[l];e.includes(l)?o[l]=Array.isArray(c)?c.map(t):t(c):typeof c=="object"&&r(c)}},i=structuredClone(n);return r(i),i}function Rc(n,e,t,r){return n!=null&&n.length?n[0].name?t(n):r(n):e()}function SH(n){const e=new Map;return n.errors&&n.errors.forEach(t=>{var r;let i=(r=t.msg)!==null&&r!==void 0?r:t.name;e.set(t.code,i)}),e}function TH(n,...e){if(n.args.length!=e.length)throw new Error("Invalid argument length");const t={};let r=0;return n.args.forEach(i=>{t[i.name]=e[r],r+=1}),t}function ik(n,e={}){n.forEach(t=>{if(Tc(t))ik(t.accounts,e[t.name]);else if(!e[t.name])throw new Error(`Account \`${t.name}\` not provided.`)})}function Ci(n){return n instanceof we?n:new we(n)}class RH extends TypeError{constructor(e,t){let r;const{message:i,...o}=e,{path:l}=e,c=l.length===0?i:"At path: "+l.join(".")+" -- "+i;super(c),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var f;return(f=r)!=null?f:r=[e,...t()]}}}function NH(n){return Dc(n)&&typeof n[Symbol.iterator]=="function"}function Dc(n){return typeof n=="object"&&n!=null}function da(n){return typeof n=="string"?JSON.stringify(n):""+n}function CH(n){const{done:e,value:t}=n.next();return e?void 0:t}function IH(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:i,branch:o}=e,{type:l}=t,{refinement:c,message:f="Expected a value of type `"+l+"`"+(c?" with refinement `"+c+"`":"")+", but received: `"+da(r)+"`"}=n;return{value:r,type:l,refinement:c,key:i[i.length-1],path:i,branch:o,...n,message:f}}function*z2(n,e,t,r){NH(n)||(n=[n]);for(const i of n){const o=IH(i,e,t,r);o&&(yield o)}}function*Fb(n,e,t){t===void 0&&(t={});const{path:r=[],branch:i=[n],coerce:o=!1,mask:l=!1}=t,c={path:r,branch:i};if(o&&(n=e.coercer(n,c),l&&e.type!=="type"&&Dc(e.schema)&&Dc(n)&&!Array.isArray(n)))for(const d in n)e.schema[d]===void 0&&delete n[d];let f=!0;for(const d of e.validator(n,c))f=!1,yield[d,void 0];for(let[d,h,b]of e.entries(n,c)){const E=Fb(h,b,{path:d===void 0?r:[...r,d],branch:d===void 0?i:[...i,h],coerce:o,mask:l});for(const v of E)v[0]?(f=!1,yield[v[0],void 0]):o&&(h=v[1],d===void 0?n=h:n instanceof Map?n.set(d,h):n instanceof Set?n.add(h):Dc(n)&&(n[d]=h))}if(f)for(const d of e.refiner(n,c))f=!1,yield[d,void 0];f&&(yield[void 0,n])}class pa{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:t,schema:r,validator:i,refiner:o,coercer:l=f=>f,entries:c=function*(){}}=e;this.type=t,this.schema=r,this.entries=c,this.coercer=l,i?this.validator=(f,d)=>{const h=i(f,d);return z2(h,d,this,f)}:this.validator=()=>[],o?this.refiner=(f,d)=>{const h=o(f,d);return z2(h,d,this,f)}:this.refiner=()=>[]}assert(e){return kH(e,this)}create(e){return Hb(e,this)}is(e){return ok(e,this)}mask(e){return MH(e,this)}validate(e,t){return t===void 0&&(t={}),Xf(e,this,t)}}function kH(n,e){const t=Xf(n,e);if(t[0])throw t[0]}function Hb(n,e){const t=Xf(n,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function MH(n,e){const t=Xf(n,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function ok(n,e){return!Xf(n,e)[0]}function Xf(n,e,t){t===void 0&&(t={});const r=Fb(n,e,t),i=CH(r);return i[0]?[new RH(i[0],function*(){for(const l of r)l[0]&&(yield l[0])}),void 0]:[void 0,i[1]]}function Qf(n,e){return new pa({type:n,schema:null,validator:e})}function OH(){return Qf("any",()=>!0)}function nw(n){return new pa({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+da(e)}})}function BH(){return Qf("boolean",n=>typeof n=="boolean")}function G2(n){const e=da(n);return new pa({type:"literal",schema:n,validator(t){return t===n||"Expected the literal `"+e+"`, but received: "+da(t)}})}function Ch(n){return new pa({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function up(){return Qf("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+da(n))}function fp(n){return new pa({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function Qa(){return Qf("string",n=>typeof n=="string"||"Expected a string, but received: "+da(n))}function ca(n){const e=Object.keys(n);return new pa({type:"type",schema:n,*entries(t){if(Dc(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return Dc(t)||"Expected an object, but received: "+da(t)}})}function sk(n){const e=n.map(t=>t.type).join(" | ");return new pa({type:"union",schema:null,coercer(t,r){return(n.find(o=>{const[l]=o.validate(t,{coerce:!0});return!l})||zb()).coercer(t,r)},validator(t,r){const i=[];for(const o of n){const[...l]=Fb(t,o,r),[c]=l;if(c[0])for(const[f]of l)f&&i.push(f);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+da(t),...i]}})}function zb(){return Qf("unknown",()=>!0)}function LH(n,e,t){return new pa({...n,coercer:(r,i)=>ok(r,e)?n.coercer(t(r,i),i):n.coercer(r,i)})}const q2=99;async function UH(n,e,t){if(e.length<=q2)return await V2(n,e,t);{const r=wH(e,q2);return(await Promise.all(r.map(o=>V2(n,o,t)))).flat()}}async function V2(n,e,t){const r=t??n.commitment,{value:i,context:o}=await n.getMultipleAccountsInfoAndContext(e,r);return i.map((c,f)=>c===null?null:{publicKey:e[f],account:c,context:o})}async function DH(n,e,t,r,i){var o;t&&t.length>0&&e.sign(...t);const l=e._compile(),c=l.serialize(),d=e._serialize(c).toString("base64"),h={encoding:"base64",commitment:r??n.commitment};if(i){const N=(Array.isArray(i)?i:l.nonProgramIds()).map(k=>k.toBase58());h.accounts={encoding:"base64",addresses:N}}t&&t.length>0&&(h.sigVerify=!0);const b=[d,h],E=await n._rpcRequest("simulateTransaction",b),v=Hb(E,zH);if("error"in v){let N;if("data"in v.error&&(N=(o=v.error.data)===null||o===void 0?void 0:o.logs,N&&Array.isArray(N))){const k=`
    `,I=k+N.join(k);console.error(v.error.message,I)}throw new fa("failed to simulate transaction: "+v.error.message,N)}return v.result}function PH(n){return LH(ak(n),FH,e=>"error"in e?e:{...e,result:Hb(e.result,n)})}const FH=ak(zb());function ak(n){return sk([ca({jsonrpc:G2("2.0"),id:Qa(),result:n}),ca({jsonrpc:G2("2.0"),id:Qa(),error:ca({code:zb(),message:Qa(),data:fp(OH())})})])}function HH(n){return PH(ca({context:ca({slot:up()}),value:n}))}const zH=HH(ca({err:Ch(sk([ca({}),Qa()])),logs:Ch(nw(Qa())),accounts:fp(Ch(nw(Ch(ca({executable:BH(),owner:Qa(),lamports:up(),data:nw(Qa()),rentEpoch:fp(up())}))))),unitsConsumed:fp(up())}));class jc{constructor(e,t,r=jc.defaultOptions()){this.connection=e,this.wallet=t,this.opts=r,this.publicKey=t==null?void 0:t.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t=jc.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,t,r){var i,o,l,c;if(r===void 0&&(r=this.opts),Oa(e))t&&e.sign(t);else if(e.feePayer=(i=e.feePayer)!==null&&i!==void 0?i:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash,t)for(const d of t)e.partialSign(d);e=await this.wallet.signTransaction(e);const f=e.serialize();try{return await K2(this.connection,f,r)}catch(d){if(d instanceof w1){const h=F2(Oa(e)?((o=e.signatures)===null||o===void 0?void 0:o[0])||new Uint8Array:(l=e.signature)!==null&&l!==void 0?l:new Uint8Array),b=Oa(e)?0:void 0,E=await this.connection.getTransaction(h,{commitment:"confirmed",maxSupportedTransactionVersion:b});if(E){const v=(c=E.meta)===null||c===void 0?void 0:c.logMessages;throw v?new fa(d.message,v):d}else throw d}else throw d}}async sendAll(e,t){var r,i,o;t===void 0&&(t=this.opts);const l=(await this.connection.getLatestBlockhash(t.preflightCommitment)).blockhash;let c=e.map(h=>{var b,E;if(Oa(h.tx)){let v=h.tx;return h.signers&&v.sign(h.signers),v}else{let v=h.tx,N=(b=h.signers)!==null&&b!==void 0?b:[];return v.feePayer=(E=v.feePayer)!==null&&E!==void 0?E:this.wallet.publicKey,v.recentBlockhash=l,N.forEach(k=>{v.partialSign(k)}),v}});const f=await this.wallet.signAllTransactions(c),d=[];for(let h=0;h<c.length;h+=1){const b=f[h],E=b.serialize();try{d.push(await K2(this.connection,E,t))}catch(v){if(v instanceof w1){const N=F2(Oa(b)?((r=b.signatures)===null||r===void 0?void 0:r[0])||new Uint8Array:(i=b.signature)!==null&&i!==void 0?i:new Uint8Array),k=Oa(b)?0:void 0,I=await this.connection.getTransaction(N,{commitment:"confirmed",maxSupportedTransactionVersion:k});if(I){const L=(o=I.meta)===null||o===void 0?void 0:o.logMessages;throw L?new fa(v.message,L):v}else throw v}else throw v}}return d}async simulate(e,t,r,i){let o=(await this.connection.getLatestBlockhash(r??this.connection.commitment)).blockhash,l;if(Oa(e)?(t&&t.length>0&&(e.sign(t),e=await this.wallet.signTransaction(e)),l=await this.connection.simulateTransaction(e,{commitment:r})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=o,t&&t.length>0&&(e=await this.wallet.signTransaction(e)),l=await DH(this.connection,e,t,r,i)),l.value.err)throw new GH(l.value);return l.value}}class GH extends Error{constructor(e,t){super(t),this.simulationResponse=e}}async function K2(n,e,t){const r=t&&{skipPreflight:t.skipPreflight,preflightCommitment:t.preflightCommitment||t.commitment},i=await n.sendRawTransaction(e,r),o=(await n.confirmTransaction(i,t&&t.commitment)).value;if(o.err)throw new w1(`Raw transaction ${i} failed (${JSON.stringify(o)})`);return i}class w1 extends Error{constructor(e){super(e)}}function b1(){return jc.local()}var qH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof bp<"u"?bp:typeof self<"u"?self:{},Ne={};Object.defineProperty(Ne,"__esModule",{value:!0});var lk=Ne.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=iM=Ne.ANCHOR_ERROR__REQUIRE_VIOLATED=rM=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=nM=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=tM=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=eM=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=Qk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=Xk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=Zk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=Jk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=Yk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=jk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=$k=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=Wk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=Kk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=Vk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=qk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=Gk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=zk=Ne.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=Hk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=Fk=Ne.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=Pk=Ne.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=Dk=Ne.ANCHOR_ERROR__CONSTRAINT_SPACE=Uk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=Lk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=Bk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=Ok=Ne.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=Mk=Ne.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=kk=Ne.ANCHOR_ERROR__CONSTRAINT_ZERO=Ik=Ne.ANCHOR_ERROR__CONSTRAINT_ADDRESS=Ck=Ne.ANCHOR_ERROR__CONSTRAINT_CLOSE=Nk=Ne.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=Rk=Ne.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=Tk=Ne.ANCHOR_ERROR__CONSTRAINT_STATE=Sk=Ne.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=Ak=Ne.ANCHOR_ERROR__CONSTRAINT_SEEDS=xk=Ne.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=_k=Ne.ANCHOR_ERROR__CONSTRAINT_OWNER=Ek=Ne.ANCHOR_ERROR__CONSTRAINT_RAW=vk=Ne.ANCHOR_ERROR__CONSTRAINT_SIGNER=bk=Ne.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=wk=Ne.ANCHOR_ERROR__CONSTRAINT_MUT=yk=Ne.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=gk=Ne.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=mk=Ne.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=pk=Ne.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=hk=Ne.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=dk=Ne.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=fk=Ne.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=uk=Ne.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,ck=Ne.ANCHOR_ERROR__DEPRECATED=IM=Ne.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=CM=Ne.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=NM=Ne.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=RM=Ne.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=TM=Ne.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=SM=Ne.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=AM=Ne.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=xM=Ne.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=_M=Ne.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=EM=Ne.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=vM=Ne.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=bM=Ne.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=wM=Ne.ANCHOR_ERROR__INVALID_PROGRAM_ID=yM=Ne.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=gM=Ne.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=mM=Ne.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=pM=Ne.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=hM=Ne.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=dM=Ne.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=fM=Ne.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=uM=Ne.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=cM=Ne.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=lM=Ne.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=aM=Ne.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=sM=Ne.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=oM=Ne.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,uk=Ne.ANCHOR_ERROR__INSTRUCTION_MISSING=100,fk=Ne.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,dk=Ne.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,hk=Ne.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,pk=Ne.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,mk=Ne.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,gk=Ne.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,yk=Ne.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,wk=Ne.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,bk=Ne.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,vk=Ne.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,Ek=Ne.ANCHOR_ERROR__CONSTRAINT_RAW=2003,_k=Ne.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,xk=Ne.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,Ak=Ne.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,Sk=Ne.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,Tk=Ne.ANCHOR_ERROR__CONSTRAINT_STATE=2008,Rk=Ne.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,Nk=Ne.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,Ck=Ne.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,Ik=Ne.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,kk=Ne.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,Mk=Ne.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,Ok=Ne.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,Bk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,Lk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,Uk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,Dk=Ne.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,Pk=Ne.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,Fk=Ne.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,Hk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,zk=Ne.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,Gk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,qk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,Vk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,Kk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,Wk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,$k=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,jk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,Yk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,Jk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,Zk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,Xk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,Qk=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,eM=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,tM=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,nM=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,rM=Ne.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,iM=Ne.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;lk=Ne.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var oM=Ne.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,sM=Ne.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,aM=Ne.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,lM=Ne.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,cM=Ne.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,uM=Ne.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,fM=Ne.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,dM=Ne.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,hM=Ne.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,pM=Ne.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,mM=Ne.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,gM=Ne.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,yM=Ne.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,wM=Ne.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,bM=Ne.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,vM=Ne.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,EM=Ne.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,_M=Ne.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,xM=Ne.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,AM=Ne.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,SM=Ne.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,TM=Ne.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,RM=Ne.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,NM=Ne.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,CM=Ne.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,IM=Ne.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;ck=Ne.ANCHOR_ERROR__DEPRECATED=5e3;const VH=new Map;function kM(n){return VH.get(n)!==void 0}class Js extends Error{constructor(e){super(e),this.name="IdlError"}}class ed{constructor(e){this.stack=e}static parse(e){var t;const r=/^Program (\w*) invoke/,i=/^Program \w* success/,o=[];for(let l=0;l<e.length;l++){if(i.exec(e[l])){o.pop();continue}const c=(t=r.exec(e[l]))===null||t===void 0?void 0:t[1];c&&o.push(new we(c))}return new ed(o)}}class Tf extends Error{constructor(e,t,r,i,o,l){super(r.join(`
`).replace("Program log: ","")),this.errorLogs=r,this.logs=i,this.error={errorCode:e,errorMessage:t,comparedValues:l,origin:o},this._programErrorStack=ed.parse(i)}static parse(e){if(!e)return null;const t=e.findIndex(E=>E.startsWith("Program log: AnchorError"));if(t===-1)return null;const r=e[t],i=[r];let o;if(t+1<e.length){if(e[t+1]==="Program log: Left:"){const E=/^Program log: (.*)$/,v=E.exec(e[t+2])[1],N=E.exec(e[t+4])[1];o=[new we(v),new we(N)],i.push(...e.slice(t+1,t+5))}else if(e[t+1].startsWith("Program log: Left:")){const E=/^Program log: (Left|Right): (.*)$/,v=E.exec(e[t+1])[2],N=E.exec(e[t+2])[2];i.push(...e.slice(t+1,t+3)),o=[v,N]}}const c=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),d=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),b=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r);if(c){const[E,v,N]=c.slice(1,4),k={code:E,number:parseInt(v)};return new Tf(k,N,i,e,void 0,o)}else if(d){const[E,v,N,k,I]=d.slice(1,6),L={code:N,number:parseInt(k)},F={file:E,line:parseInt(v)};return new Tf(L,I,i,e,F,o)}else if(b){const[E,v,N,k]=b.slice(1,5),I=E,L={code:v,number:parseInt(N)};return new Tf(L,k,i,e,I,o)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class Pp extends Error{constructor(e,t,r){super(),this.code=e,this.msg=t,this.logs=r,r&&(this._programErrorStack=ed.parse(r))}static parse(e,t){const r=e.toString();let i;if(r.includes("custom program error:")){let c=r.split("custom program error: ");if(c.length!==2)return null;i=c[1]}else{const c=r.match(/"Custom":([0-9]+)}/g);if(!c||c.length>1)return null;i=c[0].match(/([0-9]+)/g)[0]}let o;try{o=parseInt(i)}catch{return null}let l=t.get(o);return l!==void 0?new Pp(o,l,e.logs):(l=KH.get(o),l!==void 0?new Pp(o,l,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function MM(n,e){kM("debug-logs")&&console.log("Translating error:",n);const t=Tf.parse(n.logs);if(t)return t;const r=Pp.parse(n,e);if(r)return r;if(n.logs){const i={get:function(o,l){return l==="programErrorStack"?o.programErrorStack.stack:l==="program"?o.programErrorStack.stack[n.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return n.programErrorStack=ed.parse(n.logs),new Proxy(n,i)}return n}const We={InstructionMissing:uk,InstructionFallbackNotFound:fk,InstructionDidNotDeserialize:dk,InstructionDidNotSerialize:hk,IdlInstructionStub:pk,IdlInstructionInvalidProgram:mk,IdlAccountNotEmpty:gk,EventInstructionStub:yk,ConstraintMut:wk,ConstraintHasOne:bk,ConstraintSigner:vk,ConstraintRaw:Ek,ConstraintOwner:_k,ConstraintRentExempt:xk,ConstraintSeeds:Ak,ConstraintExecutable:Sk,ConstraintState:Tk,ConstraintAssociated:Rk,ConstraintAssociatedInit:Nk,ConstraintClose:Ck,ConstraintAddress:Ik,ConstraintZero:kk,ConstraintTokenMint:Mk,ConstraintTokenOwner:Ok,ConstraintMintMintAuthority:Bk,ConstraintMintFreezeAuthority:Lk,ConstraintMintDecimals:Uk,ConstraintSpace:Dk,ConstraintAccountIsNone:Pk,ConstraintTokenTokenProgram:Fk,ConstraintMintTokenProgram:Hk,ConstraintAssociatedTokenTokenProgram:zk,ConstraintMintGroupPointerExtension:Gk,ConstraintMintGroupPointerExtensionAuthority:qk,ConstraintMintGroupPointerExtensionGroupAddress:Vk,ConstraintMintGroupMemberPointerExtension:Kk,ConstraintMintGroupMemberPointerExtensionAuthority:Wk,ConstraintMintGroupMemberPointerExtensionMemberAddress:$k,ConstraintMintMetadataPointerExtension:jk,ConstraintMintMetadataPointerExtensionAuthority:Yk,ConstraintMintMetadataPointerExtensionMetadataAddress:Jk,ConstraintMintCloseAuthorityExtension:Zk,ConstraintMintCloseAuthorityExtensionAuthority:Xk,ConstraintMintPermanentDelegateExtension:Qk,ConstraintMintPermanentDelegateExtensionDelegate:eM,ConstraintMintTransferHookExtension:tM,ConstraintMintTransferHookExtensionAuthority:nM,ConstraintMintTransferHookExtensionProgramId:rM,RequireViolated:iM,RequireEqViolated:lk,RequireKeysEqViolated:oM,RequireNeqViolated:sM,RequireKeysNeqViolated:aM,RequireGtViolated:lM,RequireGteViolated:cM,AccountDiscriminatorAlreadySet:uM,AccountDiscriminatorNotFound:fM,AccountDiscriminatorMismatch:dM,AccountDidNotDeserialize:hM,AccountDidNotSerialize:pM,AccountNotEnoughKeys:mM,AccountNotMutable:gM,AccountOwnedByWrongProgram:yM,InvalidProgramId:wM,InvalidProgramExecutable:bM,AccountNotSigner:vM,AccountNotSystemOwned:EM,AccountNotInitialized:_M,AccountNotProgramData:xM,AccountNotAssociatedTokenAccount:AM,AccountSysvarMismatch:SM,AccountReallocExceedsLimit:TM,AccountDuplicateReallocs:RM,DeclaredProgramIdMismatch:NM,TryingToInitPayerAsProgramAccount:CM,InvalidNumericConversion:IM,Deprecated:ck},KH=new Map([[We.InstructionMissing,"8 byte instruction identifier not provided"],[We.InstructionFallbackNotFound,"Fallback functions are not supported"],[We.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[We.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[We.IdlInstructionStub,"The program was compiled without idl instructions"],[We.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[We.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[We.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[We.ConstraintMut,"A mut constraint was violated"],[We.ConstraintHasOne,"A has one constraint was violated"],[We.ConstraintSigner,"A signer constraint was violated"],[We.ConstraintRaw,"A raw constraint was violated"],[We.ConstraintOwner,"An owner constraint was violated"],[We.ConstraintRentExempt,"A rent exemption constraint was violated"],[We.ConstraintSeeds,"A seeds constraint was violated"],[We.ConstraintExecutable,"An executable constraint was violated"],[We.ConstraintState,"Deprecated Error, feel free to replace with something else"],[We.ConstraintAssociated,"An associated constraint was violated"],[We.ConstraintAssociatedInit,"An associated init constraint was violated"],[We.ConstraintClose,"A close constraint was violated"],[We.ConstraintAddress,"An address constraint was violated"],[We.ConstraintZero,"Expected zero account discriminant"],[We.ConstraintTokenMint,"A token mint constraint was violated"],[We.ConstraintTokenOwner,"A token owner constraint was violated"],[We.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[We.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[We.ConstraintMintDecimals,"A mint decimals constraint was violated"],[We.ConstraintSpace,"A space constraint was violated"],[We.ConstraintAccountIsNone,"A required account for the constraint is None"],[We.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[We.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[We.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[We.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[We.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[We.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[We.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[We.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[We.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[We.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[We.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[We.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[We.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[We.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[We.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[We.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[We.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[We.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[We.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[We.RequireViolated,"A require expression was violated"],[We.RequireEqViolated,"A require_eq expression was violated"],[We.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[We.RequireNeqViolated,"A require_neq expression was violated"],[We.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[We.RequireGtViolated,"A require_gt expression was violated"],[We.RequireGteViolated,"A require_gte expression was violated"],[We.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[We.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[We.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[We.AccountDidNotDeserialize,"Failed to deserialize the account"],[We.AccountDidNotSerialize,"Failed to serialize the account"],[We.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[We.AccountNotMutable,"The given account is not mutable"],[We.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[We.InvalidProgramId,"Program ID was not as expected"],[We.InvalidProgramExecutable,"Program account is not executable"],[We.AccountNotSigner,"The given account did not sign"],[We.AccountNotSystemOwned,"The given account is not owned by the system program"],[We.AccountNotInitialized,"The program expected this account to be already initialized"],[We.AccountNotProgramData,"The given account is not a program data account"],[We.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[We.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[We.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[We.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[We.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[We.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[We.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[We.Deprecated,"The API being used is deprecated and should no longer be used"]]);class Gt{static fieldLayout(e,t=[],r){const i=e.name;switch(e.type){case"bool":return Tt.bool(i);case"u8":return Tt.u8(i);case"i8":return Tt.i8(i);case"u16":return Tt.u16(i);case"i16":return Tt.i16(i);case"u32":return Tt.u32(i);case"i32":return Tt.i32(i);case"f32":return Tt.f32(i);case"u64":return Tt.u64(i);case"i64":return Tt.i64(i);case"f64":return Tt.f64(i);case"u128":return Tt.u128(i);case"i128":return Tt.i128(i);case"u256":return Tt.u256(i);case"i256":return Tt.i256(i);case"bytes":return Tt.vecU8(i);case"string":return Tt.str(i);case"pubkey":return Tt.publicKey(i);default:{if("option"in e.type)return Tt.option(Gt.fieldLayout({type:e.type.option},t,r),i);if("vec"in e.type)return Tt.vec(Gt.fieldLayout({type:e.type.vec},t,r),i);if("array"in e.type){let[o,l]=e.type.array;return l=Gt.resolveArrayLen(l,r),Tt.array(Gt.fieldLayout({type:o},t,r),l,i)}if("defined"in e.type){if(!t)throw new Js("User defined types not provided");const o=e.type.defined.name,l=t.find(c=>c.name===o);if(!l)throw new Js(`Type not found: ${e.name}`);return Gt.typeDefLayout({typeDef:l,types:t,genericArgs:r??e.type.defined.generics,name:i})}if("generic"in e.type){const o=r==null?void 0:r.at(0);if((o==null?void 0:o.kind)!=="type")throw new Js(`Invalid generic field: ${e.name}`);return Gt.fieldLayout({...e,type:o.type},t)}throw new Js(`Not yet implemented: ${JSON.stringify(e.type)}`)}}}static typeDefLayout({typeDef:e,types:t,name:r,genericArgs:i}){switch(e.type.kind){case"struct":{const o=Rc(e.type.fields,()=>[],l=>l.map(c=>{const f=i&&Gt.resolveGenericArgs({type:c.type,typeDef:e,genericArgs:i});return Gt.fieldLayout(c,t,f)}),l=>l.map((c,f)=>{const d=i&&Gt.resolveGenericArgs({type:c,typeDef:e,genericArgs:i});return Gt.fieldLayout({name:f.toString(),type:c},t,d)}));return Tt.struct(o,r)}case"enum":{const o=e.type.variants.map(l=>{const c=Rc(l.fields,()=>[],f=>f.map(d=>{const h=i&&Gt.resolveGenericArgs({type:d.type,typeDef:e,genericArgs:i});return Gt.fieldLayout(d,t,h)}),f=>f.map((d,h)=>{const b=i&&Gt.resolveGenericArgs({type:d,typeDef:e,genericArgs:i});return Gt.fieldLayout({name:h.toString(),type:d},t,b)}));return Tt.struct(c,l.name)});return r!==void 0?Tt.rustEnum(o).replicate(r):Tt.rustEnum(o,r)}case"type":return Gt.fieldLayout({type:e.type.alias,name:r},t)}}static typeSize(e,t,r){var i;switch(e){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"pubkey":return 32;default:if("option"in e)return 1+Gt.typeSize(e.option,t,r);if("coption"in e)return 4+Gt.typeSize(e.coption,t,r);if("vec"in e)return 1;if("array"in e){let[o,l]=e.array;return l=Gt.resolveArrayLen(l,r),Gt.typeSize(o,t,r)*l}if("defined"in e){const o=(i=t.types)===null||i===void 0?void 0:i.find(c=>c.name===e.defined.name);if(!o)throw new Js(`Type not found: ${JSON.stringify(e)}`);const l=c=>{const f=r??e.defined.generics,d=f&&Gt.resolveGenericArgs({type:c,typeDef:o,genericArgs:f});return Gt.typeSize(c,t,d)};switch(o.type.kind){case"struct":return Rc(o.type.fields,()=>[0],c=>c.map(f=>l(f.type)),c=>c.map(f=>l(f))).reduce((c,f)=>c+f,0);case"enum":{const c=o.type.variants.map(f=>Rc(f.fields,()=>[0],d=>d.map(h=>l(h.type)),d=>d.map(h=>l(h))).reduce((d,h)=>d+h,0));return Math.max(...c)+1}case"type":return Gt.typeSize(o.type.alias,t,r)}}if("generic"in e){const o=r==null?void 0:r.at(0);if((o==null?void 0:o.kind)!=="type")throw new Js(`Invalid generic: ${e.generic}`);return Gt.typeSize(o.type,t,r)}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}static resolveArrayLen(e,t){if(typeof e=="number")return e;if(t){const r=t.find(i=>i.kind==="const");(r==null?void 0:r.kind)==="const"&&(e=+r.value)}if(typeof e!="number")throw new Js("Generic array length did not resolve");return e}static resolveGenericArgs({type:e,typeDef:t,genericArgs:r,isDefined:i}){if(typeof e!="object")return null;for(const o in t.generics){const l=t.generics[o];if("generic"in e&&l.name===e.generic)return[r[o]];if("option"in e){const c=Gt.resolveGenericArgs({type:e.option,typeDef:t,genericArgs:r,isDefined:i});if(!c||!i)return c;if(c[0].kind==="type")return[{kind:"type",type:{option:c[0].type}}]}if("vec"in e){const c=Gt.resolveGenericArgs({type:e.vec,typeDef:t,genericArgs:r,isDefined:i});if(!c||!i)return c;if(c[0].kind==="type")return[{kind:"type",type:{vec:c[0].type}}]}if("array"in e){const[c,f]=e.array,d=typeof f=="object",h=Gt.resolveGenericArgs({type:c,typeDef:t,genericArgs:r,isDefined:i});if(h){for(const b in t.generics.slice(+o)){const E=+o+ +b;d&&t.generics[E].name===f.generic&&h.push(r[E])}if(!i)return h;if(h[0].kind==="type"&&h[1].kind==="const")return[{kind:"type",type:{array:[h[0].type,+h[1].value]}}]}if(d&&l.name===f.generic){const b=r[o];return i?[{kind:"type",type:{array:[c,+b.value]}}]:[b]}return null}if("defined"in e)return e.defined.generics?e.defined.generics.flatMap(c=>{switch(c.kind){case"type":return Gt.resolveGenericArgs({type:c.type,typeDef:t,genericArgs:r,isDefined:!0});case"const":return[c]}}).filter(c=>c!==null):null}return null}}class WH{constructor(e){this.idl=e;const t=e.instructions.map(i=>{const o=i.name,l=i.args.map(f=>Gt.fieldLayout(f,e.types)),c=Tt.struct(l,o);return[o,{discriminator:i.discriminator,layout:c}]});this.ixLayouts=new Map(t);const r=t.map(([i,{discriminator:o,layout:l}])=>[Un.encode(o),{name:i,layout:l}]);this.sighashLayouts=new Map(r)}encode(e,t){const r=nt.alloc(1e3),i=this.ixLayouts.get(e);if(!i)throw new Error(`Unknown method: ${e}`);const o=i.layout.encode(t,r),l=r.slice(0,o);return nt.concat([nt.from(i.discriminator),l])}decode(e,t="hex"){typeof e=="string"&&(e=t==="hex"?nt.from(e,"hex"):Un.decode(e));const r=e.slice(0,Nc),i=e.slice(Nc),o=this.sighashLayouts.get(Un.encode(r));return o?{name:o.name,data:o.layout.decode(i)}:null}format(e,t){return ei.format(e,t,this.idl)}}class ei{static format(e,t,r){const i=r.instructions.find(f=>e.name===f.name);if(!i)return console.error("Invalid instruction given"),null;const o=i.args.map(f=>({name:f.name,type:ei.formatIdlType(f.type),data:ei.formatIdlData(f,e.data[f.name],r.types)})),l=ei.flattenIdlAccounts(i.accounts),c=t.map((f,d)=>d<l.length?{name:l[d].name,...f}:{name:void 0,...f});return{args:o,accounts:c}}static formatIdlType(e){if(typeof e=="string")return e;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("coption"in e)return`COption<${this.formatIdlType(e.coption)}>`;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;if("defined"in e){const t=e.defined.name;if(e.defined.generics){const r=e.defined.generics.map(i=>{switch(i.kind){case"type":return ei.formatIdlType(i.type);case"const":return i.value}}).join(", ");return`${t}<${r}>`}return t}throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,r){if(typeof e.type=="string")return t.toString();if("vec"in e.type)return"["+t.map(i=>this.formatIdlData({name:"",type:e.type.vec},i,r)).join(", ")+"]";if("option"in e.type)return t===null?"null":this.formatIdlData({name:"",type:e.type.option},t,r);if("defined"in e.type){if(!r)throw new Error("User defined types not provided");const i=e.type.defined.name,o=r.find(l=>l.name===i);if(!o)throw new Error(`Type not found: ${i}`);return ei.formatIdlDataDefined(o,t,r)}return"unknown"}static formatIdlDataDefined(e,t,r){switch(e.type.kind){case"struct":return"{ "+Rc(e.type.fields,()=>"",i=>Object.entries(t).map(([o,l])=>{const c=i.find(f=>f.name===o);if(!c)throw new Error(`Field not found: ${o}`);return o+": "+ei.formatIdlData(c,l,r)}).join(", "),i=>Object.entries(t).map(([o,l])=>o+": "+ei.formatIdlData({name:"",type:i[o]},l,r)).join(", "))+" }";case"enum":{const i=Object.keys(t)[0],o=e.type.variants.find(c=>c.name===i);if(!o)throw new Error(`Unable to find variant: ${i}`);const l=t[i];return Rc(o.fields,()=>i,c=>{const f=Object.keys(l).map(d=>{const h=l[d],b=c.find(E=>E.name===d);if(!b)throw new Error(`Field not found: ${d}`);return d+": "+ei.formatIdlData(b,h,r)}).join(", ");return`${i} { ${f} }`},c=>{const f=Object.entries(l).map(([d,h])=>d+": "+ei.formatIdlData({name:"",type:c[d]},h,r)).join(", ");return`${i} { ${f} }`})}case"type":return ei.formatIdlType(e.type.alias)}}static flattenIdlAccounts(e,t){return e.map(r=>{const i=$H(r.name);if(r.hasOwnProperty("accounts")){const o=t?`${t} > ${i}`:i;return ei.flattenIdlAccounts(r.accounts,o)}else return{...r,name:t?`${t} > ${i}`:i}}).flat()}}function $H(n){const e=n.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}const Nc=8;class jH{constructor(e){if(this.idl=e,!e.accounts){this.accountLayouts=new Map;return}const t=e.types;if(!t)throw new Error("Accounts require `idl.types`");const r=e.accounts.map(i=>{const o=t.find(l=>l.name===i.name);if(!o)throw new Error(`Account not found: ${i.name}`);return[i.name,Gt.typeDefLayout({typeDef:o,types:t})]});this.accountLayouts=new Map(r)}async encode(e,t){const r=nt.alloc(1e3),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);const o=i.encode(t,r),l=r.slice(0,o),c=this.accountDiscriminator(e);return nt.concat([c,l])}decode(e,t){if(this.accountDiscriminator(e).compare(t.slice(0,Nc)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeAny(e){const t=e.slice(0,Nc),r=Array.from(this.accountLayouts.keys()).find(i=>this.accountDiscriminator(i).equals(t));if(!r)throw new Error("Account not found");return this.decodeUnchecked(r,e)}decodeUnchecked(e,t){const r=t.subarray(Nc),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);return i.decode(r)}memcmp(e,t){const r=this.accountDiscriminator(e);return{offset:0,bytes:Un.encode(t?nt.concat([r,t]):r)}}size(e){return Nc+Gt.typeSize({defined:{name:e}},this.idl)}accountDiscriminator(e){var t;const r=(t=this.idl.accounts)===null||t===void 0?void 0:t.find(i=>i.name===e);if(!r)throw new Error(`Account not found: ${e}`);return nt.from(r.discriminator)}}class YH{constructor(e){var t;if(!e.events){this.layouts=new Map;return}const r=e.types;if(!r)throw new Error("Events require `idl.types`");const i=e.events.map(o=>{const l=r.find(c=>c.name===o.name);if(!l)throw new Error(`Event not found: ${o.name}`);return[o.name,Gt.typeDefLayout({typeDef:l,types:r})]});this.layouts=new Map(i),this.discriminators=new Map(((t=e.events)!==null&&t!==void 0?t:[]).map(o=>[H2(nt.from(o.discriminator)),o.name]))}decode(e){let t;try{t=rk(e)}catch{return null}const r=H2(t.slice(0,8)),i=this.discriminators.get(r);if(!i)return null;const o=this.layouts.get(i);if(!o)throw new Error(`Unknown event: ${i}`);return{data:o.decode(t.slice(8)),name:i}}}class JH{constructor(e){const t=e.types;if(!t){this.typeLayouts=new Map;return}const r=t.filter(i=>!i.generics).map(i=>[i.name,Gt.typeDefLayout({typeDef:i,types:t})]);this.typeLayouts=new Map(r)}encode(e,t){const r=nt.alloc(1e3),i=this.typeLayouts.get(e);if(!i)throw new Error(`Unknown type: ${e}`);const o=i.encode(t,r);return r.slice(0,o)}decode(e,t){const r=this.typeLayouts.get(e);if(!r)throw new Error(`Unknown type: ${e}`);return r.decode(t)}}class OM{constructor(e){this.instruction=new WH(e),this.accounts=new jH(e),this.events=new YH(e),this.types=new JH(e)}}class Kr{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var gm=Kr;function ZH(n,e){return e.property?n+"["+e.property+"]":n}class el extends Kr{isCount(){throw new Error("ExternalLayout is abstract")}}class BM extends el{constructor(e,t,r){if(!(e instanceof Kr))throw new TypeError("layout must be a Layout");if(t===void 0)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof ym||this.layout instanceof LM}decode(e,t){return t===void 0&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return r===void 0&&(r=0),this.layout.encode(e,t,r+this.offset)}}class ym extends Kr{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class LM extends Kr{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntBE(e,r,this.span),this.span}}const v1=Math.pow(2,32);function UM(n){const e=Math.floor(n/v1),t=n-e*v1;return{hi32:e,lo32:t}}function DM(n,e){return n*v1+e}class XH extends Kr{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t),i=e.readUInt32LE(t+4);return DM(i,r)}encode(e,t,r){r===void 0&&(r=0);const i=UM(e);return t.writeUInt32LE(i.lo32,r),t.writeUInt32LE(i.hi32,r+4),8}}class QH extends Kr{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t),i=e.readInt32LE(t+4);return DM(i,r)}encode(e,t,r){r===void 0&&(r=0);const i=UM(e);return t.writeUInt32LE(i.lo32,r),t.writeInt32LE(i.hi32,r+4),8}}class ez extends Kr{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((o,l)=>o&&l instanceof Kr,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,l)=>o+l.getSpan(),0)}catch{}super(i,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;try{r=this.fields.reduce((i,o)=>{const l=o.getSpan(e,t);return t+=l,i+l},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t){t===void 0&&(t=0);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){r===void 0&&(r=0);const i=r;let o=0,l=0;for(const c of this.fields){let f=c.span;if(l=0<f?f:0,c.property!==void 0){const d=e[c.property];d!==void 0&&(l=c.encode(d,t,r),0>f&&(f=c.getSpan(t,r)))}o=r,r+=f}return o+l-i}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class PM{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class W2 extends PM{constructor(e,t){if(!(e instanceof el&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class FM extends Kr{constructor(e,t,r){const i=e instanceof ym||e instanceof LM;if(i)e=new W2(new BM(e));else if(e instanceof el&&e.isCount())e=new W2(e);else if(!(e instanceof PM))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Kr))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let o=-1;t&&(o=t.span,0<=o&&i&&(o+=e.layout.span)),super(o,r),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=t,this.registry={};let l=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return l(c)},this.configGetSourceVariant=function(c){l=c.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,t){t===void 0&&(t=0);let r;const i=this.discriminator,o=i.decode(e,t);let l=this.registry[o];if(l===void 0){let c=0;l=this.defaultLayout,this.usesPrefixDiscriminator&&(c=i.layout.span),r=this.makeDestinationObject(),r[i.property]=o,r[l.property]=this.defaultLayout.decode(e,t+c)}else r=l.decode(e,t);return r}encode(e,t,r){r===void 0&&(r=0);const i=this.getSourceVariant(e);if(i===void 0){const o=this.discriminator,l=this.defaultLayout;let c=0;return this.usesPrefixDiscriminator&&(c=o.layout.span),o.encode(e[o.property],t,r),c+l.encode(e[l.property],t,r+c)}return i.encode(e,t,r)}addVariant(e,t,r){const i=new tz(this,e,t,r);return this.registry[e]=i,i}getVariant(e,t){let r=e;return ft.isBuffer(e)&&(t===void 0&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}}class tz extends Kr{constructor(e,t,r,i){if(!(e instanceof FM))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Kr))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){const r=this.makeDestinationObject();if(t===void 0&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){r===void 0&&(r=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let o=i;if(this.layout&&(this.layout.encode(e[this.property],t,r+i),o+=this.layout.getSpan(t,r+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class nz extends Kr{constructor(e,t){if(!(e instanceof el&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof el||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){t===void 0&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let i=this.length;if(this.length instanceof el&&(i=e.length),!(ft.isBuffer(e)&&i===e.length))throw new TypeError(ZH("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,i,"hex"),this.length instanceof el&&this.length.encode(i,t,r),i}}var rz=((n,e,t)=>new BM(n,e,t)),iz=(n=>new ym(1,n)),jo=(n=>new ym(4,n)),oz=(n=>new XH(n)),is=(n=>new QH(n)),nr=((n,e,t)=>new ez(n,e,t)),HM=((n,e,t)=>new FM(n,e,t)),td=((n,e)=>new nz(n,e));class sz extends gm{constructor(e){super(-1,e),this.property=e,this.layout=nr([jo("length"),jo("lengthPadding"),td(rz(jo(),-8),"chars")],this.property)}encode(e,t,r=0){if(e==null)return this.layout.span;const i={chars:ft.from(e,"utf8")};return this.layout.encode(i,t,r)}decode(e,t=0){return this.layout.decode(e,t).chars.toString()}getSpan(e,t=0){return jo().span+jo().span+new Hr(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}function wm(n){return new sz(n)}function vi(n){return td(32,n)}const ii=HM(jo("instruction"));ii.addVariant(0,nr([is("lamports"),is("space"),vi("owner")]),"createAccount");ii.addVariant(1,nr([vi("owner")]),"assign");ii.addVariant(2,nr([is("lamports")]),"transfer");ii.addVariant(3,nr([vi("base"),wm("seed"),is("lamports"),is("space"),vi("owner")]),"createAccountWithSeed");ii.addVariant(4,nr([vi("authorized")]),"advanceNonceAccount");ii.addVariant(5,nr([is("lamports")]),"withdrawNonceAccount");ii.addVariant(6,nr([vi("authorized")]),"initializeNonceAccount");ii.addVariant(7,nr([vi("authorized")]),"authorizeNonceAccount");ii.addVariant(8,nr([is("space")]),"allocate");ii.addVariant(9,nr([vi("base"),wm("seed"),is("space"),vi("owner")]),"allocateWithSeed");ii.addVariant(10,nr([vi("base"),wm("seed"),vi("owner")]),"assignWithSeed");ii.addVariant(11,nr([is("lamports"),wm("seed"),vi("owner")]),"transferWithSeed");Math.max(...Object.values(ii.registry).map(n=>n.span));class az extends gm{constructor(e,t,r,i){super(e.span,i),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}function $2(n){return new az(td(32),e=>new we(e),e=>e.toBuffer(),n)}nr([jo("version"),jo("state"),$2("authorizedPubkey"),$2("nonce"),nr([oz("lamportsPerSignature")],"feeCalculator")]);new we("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new we("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var j2={exports:{}};(function(n,e){var t=typeof self<"u"?self:qH,r=(function(){function o(){this.fetch=!1,this.DOMException=t.DOMException}return o.prototype=t,new o})();(function(o){(function(l){var c={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function f(g){return g&&DataView.prototype.isPrototypeOf(g)}if(c.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(g){return g&&d.indexOf(Object.prototype.toString.call(g))>-1};function b(g){if(typeof g!="string"&&(g=String(g)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(g))throw new TypeError("Invalid character in header field name");return g.toLowerCase()}function E(g){return typeof g!="string"&&(g=String(g)),g}function v(g){var T={next:function(){var C=g.shift();return{done:C===void 0,value:C}}};return c.iterable&&(T[Symbol.iterator]=function(){return T}),T}function N(g){this.map={},g instanceof N?g.forEach(function(T,C){this.append(C,T)},this):Array.isArray(g)?g.forEach(function(T){this.append(T[0],T[1])},this):g&&Object.getOwnPropertyNames(g).forEach(function(T){this.append(T,g[T])},this)}N.prototype.append=function(g,T){g=b(g),T=E(T);var C=this.map[g];this.map[g]=C?C+", "+T:T},N.prototype.delete=function(g){delete this.map[b(g)]},N.prototype.get=function(g){return g=b(g),this.has(g)?this.map[g]:null},N.prototype.has=function(g){return this.map.hasOwnProperty(b(g))},N.prototype.set=function(g,T){this.map[b(g)]=E(T)},N.prototype.forEach=function(g,T){for(var C in this.map)this.map.hasOwnProperty(C)&&g.call(T,this.map[C],C,this)},N.prototype.keys=function(){var g=[];return this.forEach(function(T,C){g.push(C)}),v(g)},N.prototype.values=function(){var g=[];return this.forEach(function(T){g.push(T)}),v(g)},N.prototype.entries=function(){var g=[];return this.forEach(function(T,C){g.push([C,T])}),v(g)},c.iterable&&(N.prototype[Symbol.iterator]=N.prototype.entries);function k(g){if(g.bodyUsed)return Promise.reject(new TypeError("Already read"));g.bodyUsed=!0}function I(g){return new Promise(function(T,C){g.onload=function(){T(g.result)},g.onerror=function(){C(g.error)}})}function L(g){var T=new FileReader,C=I(T);return T.readAsArrayBuffer(g),C}function F(g){var T=new FileReader,C=I(T);return T.readAsText(g),C}function M(g){for(var T=new Uint8Array(g),C=new Array(T.length),q=0;q<T.length;q++)C[q]=String.fromCharCode(T[q]);return C.join("")}function Y(g){if(g.slice)return g.slice(0);var T=new Uint8Array(g.byteLength);return T.set(new Uint8Array(g)),T.buffer}function ie(){return this.bodyUsed=!1,this._initBody=function(g){this._bodyInit=g,g?typeof g=="string"?this._bodyText=g:c.blob&&Blob.prototype.isPrototypeOf(g)?this._bodyBlob=g:c.formData&&FormData.prototype.isPrototypeOf(g)?this._bodyFormData=g:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)?this._bodyText=g.toString():c.arrayBuffer&&c.blob&&f(g)?(this._bodyArrayBuffer=Y(g.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(g)||h(g))?this._bodyArrayBuffer=Y(g):this._bodyText=g=Object.prototype.toString.call(g):this._bodyText="",this.headers.get("content-type")||(typeof g=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var g=k(this);if(g)return g;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?k(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(L)}),this.text=function(){var g=k(this);if(g)return g;if(this._bodyBlob)return F(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(M(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(J)}),this.json=function(){return this.text().then(JSON.parse)},this}var se=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function re(g){var T=g.toUpperCase();return se.indexOf(T)>-1?T:g}function ae(g,T){T=T||{};var C=T.body;if(g instanceof ae){if(g.bodyUsed)throw new TypeError("Already read");this.url=g.url,this.credentials=g.credentials,T.headers||(this.headers=new N(g.headers)),this.method=g.method,this.mode=g.mode,this.signal=g.signal,!C&&g._bodyInit!=null&&(C=g._bodyInit,g.bodyUsed=!0)}else this.url=String(g);if(this.credentials=T.credentials||this.credentials||"same-origin",(T.headers||!this.headers)&&(this.headers=new N(T.headers)),this.method=re(T.method||this.method||"GET"),this.mode=T.mode||this.mode||null,this.signal=T.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&C)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(C)}ae.prototype.clone=function(){return new ae(this,{body:this._bodyInit})};function J(g){var T=new FormData;return g.trim().split("&").forEach(function(C){if(C){var q=C.split("="),j=q.shift().replace(/\+/g," "),K=q.join("=").replace(/\+/g," ");T.append(decodeURIComponent(j),decodeURIComponent(K))}}),T}function Q(g){var T=new N,C=g.replace(/\r?\n[\t ]+/g," ");return C.split(/\r?\n/).forEach(function(q){var j=q.split(":"),K=j.shift().trim();if(K){var B=j.join(":").trim();T.append(K,B)}}),T}ie.call(ae.prototype);function Z(g,T){T||(T={}),this.type="default",this.status=T.status===void 0?200:T.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in T?T.statusText:"OK",this.headers=new N(T.headers),this.url=T.url||"",this._initBody(g)}ie.call(Z.prototype),Z.prototype.clone=function(){return new Z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new N(this.headers),url:this.url})},Z.error=function(){var g=new Z(null,{status:0,statusText:""});return g.type="error",g};var W=[301,302,303,307,308];Z.redirect=function(g,T){if(W.indexOf(T)===-1)throw new RangeError("Invalid status code");return new Z(null,{status:T,headers:{location:g}})},l.DOMException=o.DOMException;try{new l.DOMException}catch{l.DOMException=function(T,C){this.message=T,this.name=C;var q=Error(T);this.stack=q.stack},l.DOMException.prototype=Object.create(Error.prototype),l.DOMException.prototype.constructor=l.DOMException}function O(g,T){return new Promise(function(C,q){var j=new ae(g,T);if(j.signal&&j.signal.aborted)return q(new l.DOMException("Aborted","AbortError"));var K=new XMLHttpRequest;function B(){K.abort()}K.onload=function(){var A={status:K.status,statusText:K.statusText,headers:Q(K.getAllResponseHeaders()||"")};A.url="responseURL"in K?K.responseURL:A.headers.get("X-Request-URL");var y="response"in K?K.response:K.responseText;C(new Z(y,A))},K.onerror=function(){q(new TypeError("Network request failed"))},K.ontimeout=function(){q(new TypeError("Network request failed"))},K.onabort=function(){q(new l.DOMException("Aborted","AbortError"))},K.open(j.method,j.url,!0),j.credentials==="include"?K.withCredentials=!0:j.credentials==="omit"&&(K.withCredentials=!1),"responseType"in K&&c.blob&&(K.responseType="blob"),j.headers.forEach(function(A,y){K.setRequestHeader(y,A)}),j.signal&&(j.signal.addEventListener("abort",B),K.onreadystatechange=function(){K.readyState===4&&j.signal.removeEventListener("abort",B)}),K.send(typeof j._bodyInit>"u"?null:j._bodyInit)})}return O.polyfill=!0,o.fetch||(o.fetch=O,o.Headers=N,o.Request=ae,o.Response=Z),l.Headers=N,l.Request=ae,l.Response=Z,l.fetch=O,Object.defineProperty(l,"__esModule",{value:!0}),l})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,n.exports=e})(j2,j2.exports);Tt.rustEnum([Tt.struct([],"uninitialized"),Tt.struct([Tt.option(Tt.publicKey(),"authorityAddress")],"buffer"),Tt.struct([Tt.publicKey("programdataAddress")],"program"),Tt.struct([Tt.u64("slot"),Tt.option(Tt.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,Tt.u32());function bm(n,e){var t,r;let i={};const o=n.args?n.args.length:0;if(e.length>o){if(e.length!==o+1)throw new Error(`provided too many arguments ${e} to instruction ${n==null?void 0:n.name} expecting: ${(r=(t=n.args)===null||t===void 0?void 0:t.map(l=>l.name))!==null&&r!==void 0?r:[]}`);i=e.pop()}return[e,i]}class Fp{static build(e,t,r){if(e.name==="_inner")throw new Js("the _inner name is reserved");const i=(...o)=>{const[l,c]=bm(e,[...o]);ik(e.accounts,c.accounts),lz(e,...o);const f=i.accounts(c.accounts);return c.remainingAccounts!==void 0&&f.push(...c.remainingAccounts),kM("debug-logs")&&console.log("Outgoing account metas:",f),new sn({keys:f,programId:r,data:t(e.name,TH(e,...l))})};return i.accounts=o=>Fp.accountsArray(o,e.accounts,r,e.name),i}static accountsArray(e,t,r,i){return e?t.map(o=>{if(Tc(o)){const h=e[o.name];return Fp.accountsArray(h,o.accounts,r,i).flat()}let l;try{l=Ci(e[o.name])}catch{throw new Error(`Wrong input type for account "${o.name}" in the instruction accounts object${i!==void 0?' for instruction "'+i+'"':""}. Expected PublicKey or string.`)}const c=o.optional&&l.equals(r),f=!!(o.writable&&!c),d=!!(o.signer&&!c);return{pubkey:l,isWritable:f,isSigner:d}}).flat():[]}}function lz(n,...e){}class cz{static build(e,t){return(...i)=>{var o,l,c;const[,f]=bm(e,[...i]),d=new Lt;if(f.preInstructions&&f.instructions)throw new Error("instructions is deprecated, use preInstructions");return(o=f.preInstructions)===null||o===void 0||o.forEach(h=>d.add(h)),(l=f.instructions)===null||l===void 0||l.forEach(h=>d.add(h)),d.add(t(...i)),(c=f.postInstructions)===null||c===void 0||c.forEach(h=>d.add(h)),d}}}class uz{static build(e,t,r,i){return async(...l)=>{var c;const f=t(...l),[,d]=bm(e,[...l]);if(i.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await i.sendAndConfirm(f,(c=d.signers)!==null&&c!==void 0?c:[],d.options)}catch(h){throw MM(h,r)}}}}class fz{static build(e,t,r,i){var o;return((o=e.accounts)!==null&&o!==void 0?o:[]).reduce((l,c)=>(l[c.name]=new dz(e,c,r,i,t),l),{})}}class dz{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(e,t,r,i,o){this._idlAccount=t,this._programId=r,this._provider=i??b1(),this._coder=o??new OM(e),this._size=this._coder.accounts.size(t.name)}async fetchNullable(e,t){const{data:r}=await this.fetchNullableAndContext(e,t);return r}async fetchNullableAndContext(e,t){const r=await this.getAccountInfoAndContext(e,t),{value:i,context:o}=r;return{data:i&&i.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,i.data):null,context:o}}async fetch(e,t){const{data:r}=await this.fetchNullableAndContext(e,t);if(r===null)throw new Error(`Account does not exist or has no data ${e.toString()}`);return r}async fetchAndContext(e,t){const{data:r,context:i}=await this.fetchNullableAndContext(e,t);if(r===null)throw new Error(`Account does not exist ${e.toString()}`);return{data:r,context:i}}async fetchMultiple(e,t){return(await this.fetchMultipleAndContext(e,t)).map(i=>i?i.data:null)}async fetchMultipleAndContext(e,t){return(await UH(this._provider.connection,e.map(i=>Ci(i)),t)).map(i=>{if(i==null)return null;const{account:o,context:l}=i;return{data:this._coder.accounts.decode(this._idlAccount.name,o.data),context:l}})}async all(e){const t=this.coder.accounts.memcmp(this._idlAccount.name,e instanceof ft?e:void 0),r=[];return(t==null?void 0:t.offset)!=null&&(t==null?void 0:t.bytes)!=null&&r.push({memcmp:{offset:t.offset,bytes:t.bytes}}),(t==null?void 0:t.dataSize)!=null&&r.push({dataSize:t.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...r,...Array.isArray(e)?e:[]]})).map(({pubkey:o,account:l})=>({publicKey:o,account:this._coder.accounts.decode(this._idlAccount.name,l.data)}))}subscribe(e,t){const r=rf.get(e.toString());if(r)return r.ee;const i=new yH;e=Ci(e);const o=this._provider.connection.onAccountChange(e,l=>{const c=this._coder.accounts.decode(this._idlAccount.name,l.data);i.emit("change",c)},t);return rf.set(e.toString(),{ee:i,listener:o}),i}async unsubscribe(e){let t=rf.get(e.toString());if(!t){console.warn("Address is not subscribed");return}rf&&await this._provider.connection.removeAccountChangeListener(t.listener).then(()=>{rf.delete(e.toString())}).catch(console.error)}async createInstruction(e,t){const r=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return vn.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:e.publicKey,space:t??r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(t??r),programId:this._programId})}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(Ci(e),t)}async getAccountInfoAndContext(e,t){return await this._provider.connection.getAccountInfoAndContext(Ci(e),t)}}const rf=new Map,E1="Program log: ",zM="Program data: ",hz=E1.length,pz=zM.length;class mz{constructor(e,t,r){this._programId=e,this._provider=t,this._eventParser=new GM(e,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t){var r;let i=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(e)||this._eventListeners.set(e,[]),this._eventListeners.set(e,((r=this._eventListeners.get(e))!==null&&r!==void 0?r:[]).concat(i)),this._eventCallbacks.set(i,[e,t]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(o,l)=>{if(!o.err)for(const c of this._eventParser.parseLogs(o.logs)){const f=this._eventListeners.get(c.name);f&&f.forEach(d=>{const h=this._eventCallbacks.get(d);if(h){const[,b]=h;b(c.data,l.slot,o.signature)}})}})),i}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[r]=t;let i=this._eventListeners.get(r);if(!i)throw new Error(`Event listeners don't exist for ${r}!`);if(this._eventCallbacks.delete(e),i=i.filter(o=>o!==e),this._eventListeners.set(r,i),i.length===0&&this._eventListeners.delete(r),this._eventCallbacks.size===0){if(this._eventListeners.size!==0)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class GM{constructor(e,t){this.coder=t,this.programId=e}*parseLogs(e,t=!1){const r=new yz(e),i=new gz;let o=r.next();for(;o!==null;){let[l,c,f]=this.handleLog(i,o,t);l&&(yield l),c&&i.push(c),f&&i.pop(),o=r.next()}}handleLog(e,t,r){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t,r):[null,...this.handleSystemLog(t)]}handleProgramLog(e,t){if(e.startsWith(E1)||e.startsWith(zM)){const r=e.startsWith(E1)?e.slice(hz):e.slice(pz),i=this.coder.events.decode(r);if(t&&i===null)throw new Error(`Unable to decode event ${r}`);return[i,null,!1]}else return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return t.match(/^Program (.*) success/g)!==null?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class gz{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class yz{constructor(e){this.logs=e}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}class wz{static build(e,t,r,i,o,l,c){return async(...d)=>{var h;const b=t(...d),[,E]=bm(e,[...d]);let v;if(i.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{v=await i.simulate(b,E.signers,(h=E.options)===null||h===void 0?void 0:h.commitment)}catch(I){throw MM(I,r)}if(v===void 0)throw new Error("Unable to simulate transaction");const N=v.logs;if(!N)throw new Error("Simulated logs not found");const k=[];if(c.events){let I=new GM(l,o);for(const L of I.parseLogs(N))k.push(L)}return{events:k,raw:N}}}}function rw(n){return new qM(td(8),e=>vz.fromBuffer(e),e=>e.toBuffer(),n)}function Ih(n){return new qM(td(32),e=>new we(e),e=>e.toBuffer(),n)}function iw(n,e){return new bz(n,e)}class qM extends gm{constructor(e,t,r,i){super(e.span,i),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}class bz extends gm{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=jo()}encode(e,t,r=0){return e==null?this.layout.span+this.discriminator.encode(0,t,r):(this.discriminator.encode(1,t,r),this.layout.encode(e,t,r+4)+4)}decode(e,t=0){const r=this.discriminator.decode(e,t);if(r===0)return null;if(r===1)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.layout.getSpan(e,t+4)+4}}let vz=class VM extends Hr{toBuffer(){const e=super.toArray().reverse(),t=ft.from(e);if(t.length===8)return t;if(t.length>=8)throw new Error("u64 too large");const r=ft.alloc(8);return t.copy(r),r}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new VM([...e].reverse().map(t=>`00${t.toString(16)}`.slice(-2)).join(""),16)}};const Ez=nr([Ih("mint"),Ih("owner"),rw("amount"),iw(Ih(),"delegate"),(n=>{const e=HM(iz("discriminator"),null,n);return e.addVariant(0,nr([]),"uninitialized"),e.addVariant(1,nr([]),"initialized"),e.addVariant(2,nr([]),"frozen"),e})("state"),iw(rw(),"isNative"),rw("delegatedAmount"),iw(Ih(),"closeAuthority")]);function _z(n){return Ez.decode(n)}class xz{constructor(e,t,r,i,o,l,c,f){this._args=e,this._accounts=t,this._provider=r,this._programId=i,this._idlIx=o,this._idlTypes=c,this._customResolver=f,this._accountStore=new Az(r,l,i)}args(e){this._args=e}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let e=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(e++,e===16)throw new Error("Reached maximum depth for account resolution")}resolveOptionals(e){Object.assign(this._accounts,this.resolveOptionalsHelper(e,this._idlIx.accounts))}get(e){const t=e.reduce((r,i)=>r&&r[i],this._accounts);if(t&&t.toBase58)return t}set(e,t){let r=this._accounts;e.forEach((i,o)=>{var l;o===e.length-1&&(r[i]=t),r[i]=(l=r[i])!==null&&l!==void 0?l:{},r=r[i]})}resolveOptionalsHelper(e,t){const r={};for(const i of t){const o=i.name,l=e[o];l!==void 0&&(KM(l)?Tc(i)?r[o]=this.resolveOptionalsHelper(l,i.accounts):r[o]=WM(l):l!==null?r[o]=Ci(l):i.optional&&(r[o]=this._programId))}return r}async resolveCustom(){if(this._customResolver){const{accounts:e,resolved:t}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=e,t}return 0}resolveEventCpi(e,t=[]){for(const r in e){const i=e[r];Tc(i)&&this.resolveEventCpi(i.accounts,[...t,i.name]);const o=+r+1;if(o===e.length)return;const l=e[r].name,c=e[o].name;if(l==="eventAuthority"&&c==="program"){const f=[...t,l],d=[...t,c];this.get(f)||this.set(f,we.findProgramAddressSync([ft.from("__event_authority")],this._programId)[0]),this.get(d)||this.set(d,this._programId);return}}}resolveConst(e,t=[]){for(const r of e){const i=r.name;if(Tc(r))this.resolveConst(r.accounts,[...t,i]);else{const o=r;if((o.signer||o.address)&&!this.get([...t,i])){if(o.signer){if(!this._provider.wallet)throw new Error("This function requires the `Provider` interface implementor to have a `wallet` field.");this.set([...t,i],this._provider.wallet.publicKey)}o.address&&this.set([...t,i],Ci(o.address))}}}}async resolvePdasAndRelations(e,t=[]){let r=0;for(const i of e){const o=i.name;if(Tc(i))r+=await this.resolvePdasAndRelations(i.accounts,[...t,o]);else{const l=i;if((l.pda||l.relations)&&!this.get([...t,o])){r++;try{if(l.pda){const c=await Promise.all(l.pda.seeds.map(h=>this.toBuffer(h,t)));if(c.some(h=>!h))continue;const f=await this.parseProgramId(l,t),[d]=we.findProgramAddressSync(c,f);this.set([...t,o],d)}}catch{}try{if(l.relations){const c=this.get([...t,l.relations[0]]);if(c){const f=await this._accountStore.fetchAccount({publicKey:c});this.set([...t,o],f[o])}}}catch{}}}}return r}async parseProgramId(e,t=[]){var r;if(!(!((r=e.pda)===null||r===void 0)&&r.program))return this._programId;const i=await this.toBuffer(e.pda.program,t);if(!i)throw new Error(`Program seed not resolved: ${e.name}`);return new we(i)}async toBuffer(e,t=[]){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e,t);default:throw new Error(`Unexpected seed: ${e}`)}}toBufferConst(e){return this.toBufferValue("bytes",e.value)}async toBufferArg(e){const[t,...r]=e.path.split("."),i=this._idlIx.args.findIndex(c=>c.name===t);if(i===-1)throw new Error(`Unable to find argument for seed: ${t}`);const o=r.reduce((c,f)=>(c??{})[f],this._args[i]);if(o===void 0)return;const l=this.getType(this._idlIx.args[i].type,r);return this.toBufferValue(l,o)}async toBufferAccount(e,t=[]){const[r,...i]=e.path.split("."),o=this.get([...t,r]);if(!o)return;if(!i.length)return this.toBufferValue("pubkey",o);if(!e.account)throw new Error(`Seed account is required in order to resolve type: ${e.path}`);let c=await this._accountStore.fetchAccount({publicKey:o,name:e.account}),f=i;for(;f.length>0;)c=c[f[0]],f=f.slice(1);if(c===void 0)return;const d=this.getType({defined:{name:e.account}},i);return this.toBufferValue(d,c)}toBufferValue(e,t){switch(e){case"u8":case"i8":return ft.from([t]);case"u16":case"i16":return new Hr(t).toArrayLike(ft,"le",2);case"u32":case"i32":return new Hr(t).toArrayLike(ft,"le",4);case"u64":case"i64":return new Hr(t).toArrayLike(ft,"le",8);case"u128":case"i128":return new Hr(t).toArrayLike(ft,"le",16);case"u256":case"i256":return new Hr(t).toArrayLike(ft,"le",32);case"string":return ft.from(t);case"pubkey":return t.toBuffer();case"bytes":return ft.from(t);default:if(e!=null&&e.array)return ft.from(t);throw new Error(`Unexpected seed type: ${e}`)}}getType(e,t=[]){var r;const i=(r=e==null?void 0:e.defined)===null||r===void 0?void 0:r.name;if(i){if(i==="tokenAccount")switch(t.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error(`Unknown token account path: ${t}`)}const o=this._idlTypes.find(h=>h.name===i);if(!o)throw new Error(`Type not found: ${i}`);const[l,...c]=t,d=o.type.fields.find(h=>h.name===l);if(!d)throw new Error(`Field not found: ${l}`);return this.getType(d.type,c)}return e}}class Az{constructor(e,t,r){this._provider=e,this._cache=new Map,this._idls={},this._idls[r.toBase58()]=t}async fetchAccount({publicKey:e,name:t}){const r=e.toBase58();if(!this._cache.has(r)){const i=await this._provider.connection.getAccountInfo(e);if(i===null)throw new Error(`Account not found: ${r}`);if(t==="tokenAccount"){const o=_z(i.data);this._cache.set(r,o)}else{const o=await this.getAccountsNs(i.owner);if(o){const l=Object.values(o)[0];if(l){const c=l.coder.accounts.decodeAny(i.data);this._cache.set(r,c)}}}}return this._cache.get(r)}async getAccountsNs(e){const t=e.toBase58();if(!this._idls[t]){const r=await cl.fetchIdl(e,this._provider);if(r){const i=new cl(r,this._provider);this._idls[t]=i.account}}return this._idls[t]}}class Sz{static build(e,t,r,i,o,l,c,f,d,h,b){return(...E)=>new Tz(E,i,o,l,c,f,e,t,r,d,h,b)}}function KM(n){return typeof n=="object"&&n!==null&&!("_bn"in n)}function WM(n,e){const t={};for(const r in n){const i=n[r];if(i===null)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");t[r]=KM(i)?WM(i):Ci(i)}return t}class Tz{constructor(e,t,r,i,o,l,c,f,d,h,b,E){this._args=e,this._ixFn=t,this._txFn=r,this._rpcFn=i,this._simulateFn=o,this._viewFn=l,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new xz(e,this._accounts,c,f,d,h,b,E)}args(e){this._args=e,this._accountsResolver.args(e)}accounts(e){return this.accountsPartial(e)}accountsPartial(e){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(e),this}accountsStrict(e){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e,t=!1){return t?this._preInstructions=e.concat(this._preInstructions):this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async rpc(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpcAndKeys(e){return{pubkeys:await this.pubkeys(),signature:await this.rpc(e)}}async view(e){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async prepare(){return{instruction:await this.instruction(),pubkeys:await this.pubkeys(),signers:this._signers}}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class Rz{static build(e,t,r,i){const o=t.accounts.find(f=>f.writable),l=!!t.returns;return o||!l?void 0:async(...f)=>{let d=await r(...f);const h=`Program return: ${e} `;let b=d.raw.find(k=>k.startsWith(h));if(!b)throw new Error("View expected return log");let E=rk(b.slice(h.length)),v=t.returns;if(!v)throw new Error("View expected return type");return Gt.fieldLayout({type:v},i.types).decode(E)}}}class Nz{static build(e,t,r,i,o){const l={},c={},f={},d={},h={},b={},E=SH(e),v=e.accounts?fz.build(e,t,r,i):{};return e.instructions.forEach(N=>{const k=Fp.build(N,(se,re)=>t.instruction.encode(se,re),r),I=cz.build(N,k),L=uz.build(N,I,E,i),F=wz.build(N,I,E,i,t,r,e),M=Rz.build(r,N,F,e),Y=Sz.build(i,r,N,k,I,L,F,M,v,e.types||[],o==null?void 0:o(N)),ie=N.name;c[ie]=k,f[ie]=I,l[ie]=L,d[ie]=F,h[ie]=Y,M&&(b[ie]=M)}),[l,c,f,v,d,h,b]}}class cl{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(e,t=b1(),r,i){const o=AH(e);this._idl=o,this._rawIdl=e,this._provider=t,this._programId=Ci(e.address),this._coder=r??new OM(o),this._events=new mz(this._programId,t,this._coder);const[l,c,f,d,h,b,E]=Nz.build(o,this._coder,this._programId,t,i);this.rpc=l,this.instruction=c,this.transaction=f,this.account=d,this.simulate=h,this.methods=b,this.views=E}static async at(e,t){const r=Ci(e),i=await cl.fetchIdl(r,t);if(!i)throw new Error(`IDL not found for program: ${e.toString()}`);return new cl(i,t)}static async fetchIdl(e,t){t=t??b1();const r=Ci(e),i=await vH(r),o=await t.connection.getAccountInfo(i);if(!o)return null;let l=xH(o.data.slice(8));const c=pH(l.data);return JSON.parse(bH(c))}addEventListener(e,t){return this._events.addEventListener(e,t)}async removeEventListener(e){return await this._events.removeEventListener(e)}}new we("11111111111111111111111111111111");const Cz="FreEcfZtek5atZJCJ1ER8kGLXB1C17WKWXqsVcsn1kPq",Iz={name:"gorbagana_bridge",version:"0.1.0",spec:"0.1.0",description:"Gorbagana Bridge - P2P OTC sGOR/gGOR swap program"},kz=["Direction 0 = Maker sells sGOR (SPL), wants gGOR (native) in return","Direction 1 = Maker sells gGOR (native), wants sGOR (SPL) in return"],Mz=[{name:"cancel_order",discriminator:[95,129,237,240,8,49,223,132],accounts:[{name:"maker",writable:!0,signer:!0,relations:["order"]},{name:"order",writable:!0,pda:{seeds:[{kind:"const",value:[111,114,100,101,114]},{kind:"account",path:"order.maker",account:"Order"},{kind:"account",path:"order.amount",account:"Order"}]}},{name:"escrow_token_account",docs:["Escrow sGOR token account (direction 0 only)"],writable:!0,optional:!0},{name:"maker_token_account",docs:["Maker's sGOR token account to receive refund (direction 0 only)"],writable:!0,optional:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"create_order",docs:["Creates an escrow order. The maker deposits funds into the escrow:","- Direction 0 (sGORgGOR): maker deposits sGOR via SPL transfer","- Direction 1 (gGORsGOR): maker deposits gGOR via system transfer"],discriminator:[141,54,37,207,237,210,250,215],accounts:[{name:"maker",writable:!0,signer:!0},{name:"order",docs:["Order PDA  deterministic from maker + amount"],writable:!0,pda:{seeds:[{kind:"const",value:[111,114,100,101,114]},{kind:"account",path:"maker"},{kind:"arg",path:"amount"}]}},{name:"escrow_token_account",docs:["Escrow token account for sGOR (only needed for direction 0)","Initialized with the order PDA as authority"],writable:!0,optional:!0,pda:{seeds:[{kind:"const",value:[101,115,99,114,111,119]},{kind:"account",path:"maker"},{kind:"arg",path:"amount"}]}},{name:"maker_token_account",docs:["Maker's sGOR token account (only needed for direction 0)"],writable:!0,optional:!0},{name:"sgor_mint",docs:["sGOR mint account (needed for escrow_token_account init)"],optional:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"rent",address:"SysvarRent111111111111111111111111111111111"}],args:[{name:"amount",type:"u64"},{name:"direction",type:"u8"},{name:"expiration_slot",type:"u64"}]},{name:"fill_order",docs:["Fills an existing order. The taker provides what the maker wants,","and receives what the maker escrowed.","","Direction 0 (maker sold sGOR):","Taker sends gGOR (native)  Maker","Escrow releases sGOR (SPL)  Taker","","Direction 1 (maker sold gGOR):","Taker sends sGOR (SPL)  Maker","Escrow releases gGOR (native)  Taker"],discriminator:[232,122,115,25,199,143,136,162],accounts:[{name:"taker",writable:!0,signer:!0},{name:"maker",writable:!0},{name:"order",writable:!0,pda:{seeds:[{kind:"const",value:[111,114,100,101,114]},{kind:"account",path:"order.maker",account:"Order"},{kind:"account",path:"order.amount",account:"Order"}]}},{name:"escrow_token_account",docs:["Escrow sGOR token account (direction 0)"],writable:!0,optional:!0},{name:"taker_token_account",docs:["Taker's sGOR token account to send FROM (direction 1)"],writable:!0,optional:!0},{name:"taker_receive_token_account",docs:["Taker's sGOR token account to receive INTO (direction 0)"],writable:!0,optional:!0},{name:"maker_receive_token_account",docs:["Maker's sGOR token account to receive INTO (direction 1)"],writable:!0,optional:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]}],Oz=[{name:"Order",discriminator:[134,173,223,185,77,86,28,51]}],Bz=[{name:"OrderCancelled",discriminator:[108,56,128,68,168,113,168,239]},{name:"OrderCreated",discriminator:[224,1,229,63,254,60,190,159]},{name:"OrderFilled",discriminator:[120,124,109,66,249,116,174,30]}],Lz=[{code:6e3,name:"InvalidAmount",msg:"Amount must be >= minimum order size."},{code:6001,name:"InvalidDirection",msg:"Invalid direction. Must be 0 (sGORgGOR) or 1 (gGORsGOR)."},{code:6002,name:"InvalidMint",msg:"Invalid token mint for this direction."},{code:6003,name:"OrderExpired",msg:"Order has expired."},{code:6004,name:"OrderAlreadyFilled",msg:"Order has already been filled."},{code:6005,name:"InsufficientFunds",msg:"Insufficient funds for swap."},{code:6006,name:"Unauthorized",msg:"Unauthorized  only the maker can perform this action."},{code:6007,name:"ExpirationInPast",msg:"Expiration slot is in the past."},{code:6008,name:"ExpirationTooFar",msg:"Expiration too far in the future (max ~24 hours)."},{code:6009,name:"MissingEscrowTokenAccount",msg:"Missing escrow token account (required for SPL direction)."},{code:6010,name:"MissingMakerTokenAccount",msg:"Missing maker token account (required for SPL direction)."},{code:6011,name:"MissingTakerTokenAccount",msg:"Missing taker token account."},{code:6012,name:"MissingTakerReceiveTokenAccount",msg:"Missing taker receive token account."},{code:6013,name:"MissingMakerReceiveTokenAccount",msg:"Missing maker receive token account."}],Uz=[{name:"Order",type:{kind:"struct",fields:[{name:"maker",type:"pubkey"},{name:"amount",type:"u64"},{name:"direction",type:"u8"},{name:"expiration_slot",type:"u64"},{name:"is_filled",type:"bool"},{name:"bump",type:"u8"}]}},{name:"OrderCancelled",type:{kind:"struct",fields:[{name:"order_key",type:"pubkey"},{name:"maker",type:"pubkey"},{name:"amount",type:"u64"},{name:"direction",type:"u8"}]}},{name:"OrderCreated",type:{kind:"struct",fields:[{name:"order_key",type:"pubkey"},{name:"maker",type:"pubkey"},{name:"amount",type:"u64"},{name:"direction",type:"u8"},{name:"expiration_slot",type:"u64"}]}},{name:"OrderFilled",type:{kind:"struct",fields:[{name:"order_key",type:"pubkey"},{name:"maker",type:"pubkey"},{name:"taker",type:"pubkey"},{name:"amount",type:"u64"},{name:"direction",type:"u8"}]}}],Dz={address:Cz,metadata:Iz,docs:kz,instructions:Mz,accounts:Oz,events:Bz,errors:Lz,types:Uz},Pz="66xqiDYSQZh7A3wyS3n2962Fx1aU8N3nbHjaZUCrXq6M",Fz={name:"solana_bridge",version:"0.1.0",spec:"0.1.0",description:"Solana-side sGOR escrow bridge for Gorbagana cross-chain trading"},Hz=["Direction for this program (Solana side - handles sGOR only)","This program ONLY handles sGOR escrow. gGOR is handled by Gorbagana program.","","When someone wants to trade sGOR  gGOR:","1. They create an order HERE (Solana) locking sGOR","2. Counterparty fills on Gorbagana network","","When someone wants to trade gGOR  sGOR:","1. They create order on Gorbagana locking gGOR","2. Counterparty fills HERE (Solana) sending sGOR"],zz=[{name:"cancel_order",discriminator:[95,129,237,240,8,49,223,132],accounts:[{name:"maker",writable:!0,signer:!0,relations:["order"]},{name:"order",writable:!0,pda:{seeds:[{kind:"const",value:[111,114,100,101,114]},{kind:"account",path:"order.maker",account:"Order"},{kind:"account",path:"order.amount",account:"Order"}]}},{name:"escrow_token_account",docs:["Escrow sGOR token account"],writable:!0},{name:"maker_token_account",docs:["Maker's sGOR token account (receives refund)"],writable:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"create_order",docs:["Creates an sGOR escrow order on Solana.","Maker deposits sGOR into escrow, expecting gGOR on Gorbagana in return."],discriminator:[141,54,37,207,237,210,250,215],accounts:[{name:"maker",writable:!0,signer:!0},{name:"order",docs:["Order PDA  deterministic from maker + amount"],writable:!0,pda:{seeds:[{kind:"const",value:[111,114,100,101,114]},{kind:"account",path:"maker"},{kind:"arg",path:"amount"}]}},{name:"escrow_token_account",docs:["Escrow token account for sGOR","Initialized with the order PDA as authority"],writable:!0,pda:{seeds:[{kind:"const",value:[101,115,99,114,111,119]},{kind:"account",path:"maker"},{kind:"arg",path:"amount"}]}},{name:"maker_token_account",docs:["Maker's sGOR token account (source of deposit)"],writable:!0},{name:"sgor_mint",docs:["sGOR mint account"]},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"rent",address:"SysvarRent111111111111111111111111111111111"}],args:[{name:"amount",type:"u64"},{name:"expiration_slot",type:"u64"},{name:"gorbagana_recipient",type:"pubkey"}]},{name:"fill_order",docs:["Fills an sGOR order.","This is called when a Gorbagana order is being filled - the taker","sends sGOR on Solana to the maker.","","Flow:","1. Gorbagana maker locked gGOR there","2. Taker sends sGOR HERE to the Gorbagana maker","3. Taker then claims gGOR on Gorbagana"],discriminator:[232,122,115,25,199,143,136,162],accounts:[{name:"taker",writable:!0,signer:!0},{name:"maker",docs:["Validated via order.maker constraint."],writable:!0},{name:"order",writable:!0,pda:{seeds:[{kind:"const",value:[111,114,100,101,114]},{kind:"account",path:"order.maker",account:"Order"},{kind:"account",path:"order.amount",account:"Order"}]}},{name:"escrow_token_account",docs:["Escrow sGOR token account (holds maker's escrowed sGOR)"],writable:!0},{name:"taker_token_account",docs:["Taker's sGOR token account (receives escrowed sGOR)"],writable:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]}],Gz=[{name:"Order",discriminator:[134,173,223,185,77,86,28,51]}],qz=[{name:"OrderCancelled",discriminator:[108,56,128,68,168,113,168,239]},{name:"OrderCreated",discriminator:[224,1,229,63,254,60,190,159]},{name:"OrderFilled",discriminator:[120,124,109,66,249,116,174,30]}],Vz=[{code:6e3,name:"InvalidAmount",msg:"Amount must be >= minimum order size."},{code:6001,name:"InvalidMint",msg:"Invalid token mint. Must be sGOR."},{code:6002,name:"OrderExpired",msg:"Order has expired."},{code:6003,name:"OrderAlreadyFilled",msg:"Order has already been filled."},{code:6004,name:"Unauthorized",msg:"Unauthorized  only the maker can perform this action."},{code:6005,name:"ExpirationInPast",msg:"Expiration slot is in the past."},{code:6006,name:"ExpirationTooFar",msg:"Expiration too far in the future (max ~24 hours)."}],Kz=[{name:"Order",type:{kind:"struct",fields:[{name:"maker",type:"pubkey"},{name:"amount",type:"u64"},{name:"gorbagana_recipient",type:"pubkey"},{name:"expiration_slot",type:"u64"},{name:"is_filled",type:"bool"},{name:"bump",type:"u8"}]}},{name:"OrderCancelled",type:{kind:"struct",fields:[{name:"order_key",type:"pubkey"},{name:"maker",type:"pubkey"},{name:"amount",type:"u64"}]}},{name:"OrderCreated",type:{kind:"struct",fields:[{name:"order_key",type:"pubkey"},{name:"maker",type:"pubkey"},{name:"amount",type:"u64"},{name:"gorbagana_recipient",type:"pubkey"},{name:"expiration_slot",type:"u64"}]}},{name:"OrderFilled",type:{kind:"struct",fields:[{name:"order_key",type:"pubkey"},{name:"maker",type:"pubkey"},{name:"taker",type:"pubkey"},{name:"amount",type:"u64"}]}}],Wz={address:Pz,metadata:Fz,docs:Hz,instructions:zz,accounts:Gz,events:qz,errors:Vz,types:Kz},_1=new we("FreEcfZtek5atZJCJ1ER8kGLXB1C17WKWXqsVcsn1kPq"),x1=new we("71Jvq4Epe2FCJ7JFSF7jLXdNk1Wy4Bhqd9iL6bEFELvg"),$z="https://rpc.trashscan.io";new we("66xqiDYSQZh7A3wyS3n2962Fx1aU8N3nbHjaZUCrXq6M");new we("5b2P7TQTDQG4nUzrUUSAuv92NT85Ka4oBFXWcTs9A5zk");const $M=fe.createContext({program:null,solanaProgram:null,provider:null,gorbaganaProvider:null,programId:_1,sgorMint:x1}),jz=({children:n})=>{const e=eu(),{connection:t}=Ob(),r=fe.useMemo(()=>{try{const i=new jc(t,e,{commitment:"confirmed",preflightCommitment:"processed",skipPreflight:!1}),o=new cm($z,"confirmed"),l=new jc(o,e,{commitment:"confirmed",preflightCommitment:"processed",skipPreflight:!1}),c=new cl(Dz,l),f=new cl(Wz,i);return{program:c,solanaProgram:f,provider:i,gorbaganaProvider:l,programId:_1,sgorMint:x1}}catch(i){return console.warn("AnchorContext: Failed to initialize program:",i),{program:null,solanaProgram:null,provider:null,gorbaganaProvider:null,programId:_1,sgorMint:x1}}},[t,e]);return x.jsx($M.Provider,{value:r,children:n})},jM=()=>fe.useContext($M),Yz=({children:n,wallets:e})=>{const{rpcEndpoint:t,currentNetwork:r}=fo(),i=fe.useMemo(()=>t,[t]);return fe.useMemo(()=>{switch(r){case"SOLANA_DEVNET":return _f.Devnet;case"SOLANA_MAINNET":return _f.Mainnet;case"GORBAGANA":default:return _f.Mainnet}},[r]),x.jsx(_P,{endpoint:i,children:x.jsx(D9,{wallets:e,autoConnect:!0,children:x.jsx(jz,{children:n})})})};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zz=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),Y2=n=>{const e=Zz(n);return e.charAt(0).toUpperCase()+e.slice(1)},YM=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),Xz=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=fe.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...c},f)=>fe.createElement("svg",{ref:f,...Qz,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:YM("lucide",i),...!o&&!Xz(c)&&{"aria-hidden":"true"},...c},[...l.map(([d,h])=>fe.createElement(d,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=(n,e)=>{const t=fe.forwardRef(({className:r,...i},o)=>fe.createElement(eG,{ref:o,iconNode:e,className:YM(`lucide-${Jz(Y2(n))}`,`lucide-${n}`,r),...i}));return t.displayName=Y2(n),t};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],nd=kt("activity",tG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],rG=kt("arrow-down-right",nG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],oG=kt("arrow-left-right",iG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],JM=kt("arrow-right",sG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],lG=kt("arrow-up-right",aG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],kh=kt("beaker",cG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ZM=kt("check",uG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],XM=kt("chevron-down",fG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hG=kt("clock",dG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],mG=kt("copy",pG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],A1=kt("download",gG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ow=kt("external-link",yG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],J2=kt("funnel",wG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],sw=kt("globe",bG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],EG=kt("hash",vG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],xG=kt("image",_G);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],SG=kt("info",AG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],RG=kt("layout-template",TG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],CG=kt("menu",NG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],kG=kt("palette",IG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],OG=kt("plus",MG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],LG=kt("radio",BG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],QM=kt("refresh-cw",UG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Hp=kt("search",DG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],S1=kt("shopping-cart",PG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],HG=kt("sliders-horizontal",FG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],GG=kt("sparkles",zG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Gs=kt("tag",qG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],e3=kt("terminal",VG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Z2=kt("trash-2",KG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],$G=kt("trending-up",WG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],YG=kt("triangle-alert",jG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],ZG=kt("type",JG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],X2=kt("user",XG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],eq=kt("wallet",QG);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],nq=kt("wand-sparkles",tq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],t3=kt("x",rq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],zp=kt("zap",iq),oq=()=>{const[n,e]=fe.useState(!1),[t,r]=fe.useState(!1),[i,o]=fe.useState(7842),[l,c]=fe.useState(null),[f,d]=fe.useState("unknown"),h=ha(),{networkName:b,tpsLabel:E,accentColor:v,explorerUrl:N,currentNetwork:k,setNetwork:I,isDevnet:L}=fo(),{connected:F,publicKey:M,disconnect:Y,wallet:ie}=eu(),{setVisible:se}=YN(),{connection:re}=Ob(),ae=g=>!g||g.length<8?g:`${g.slice(0,4)}...${g.slice(-4)}`,J=(M==null?void 0:M.toBase58())||null;fe.useEffect(()=>{if(!M||!re){c(null);return}let g=!1;const T=async()=>{try{const q=await re.getBalance(M);g||c(q/mI)}catch(q){console.error("Failed to fetch balance:",q),g||c(null)}};T();const C=setInterval(T,3e4);return()=>{g=!0,clearInterval(C)}},[M,re]),fe.useEffect(()=>{if(!re)return;let g=!1;return(async()=>{try{re.rpcEndpoint===al.rpcEndpoint?g||d("gorbagana"):g||d("solana")}catch(C){console.error("Failed to detect network:",C),g||d("unknown")}})(),()=>{g=!0}},[re]),fe.useEffect(()=>{const g=setInterval(()=>{o(T=>{const C=Math.floor(Math.random()*400)-200;let q=T+C;return q>9500&&(q=9e3),q<6e3&&(q=6500),Math.max(6e3,q)})},800);return()=>clearInterval(g)},[]);const Z=(g=>g>8e3?{label:"DUMPING",color:"text-magic-green",bg:"bg-magic-green"}:g>7e3?{label:"FLOWING",color:"text-yellow-500",bg:"bg-yellow-500"}:{label:"CLOGGED",color:"text-magic-red",bg:"bg-magic-red"})(i),W=()=>{F?Y():se(!0)},O=[{name:"Collections",path:"/"},{name:"GorID",path:"/gorid"},{name:"Launchpad",path:"/launchpad"},{name:"Bridge",path:"/bridge"},{name:"Faucet",path:"/faucet"},{name:"Docs / Brand",path:"/docs"}];return x.jsx(x.Fragment,{children:x.jsxs("nav",{className:"sticky top-0 z-50 bg-magic-dark border-b border-white/20",children:[x.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8",children:x.jsxs("div",{className:"flex items-center justify-between h-16",children:[x.jsx("div",{className:"flex-shrink-0 flex items-center gap-2",children:x.jsxs(Ii,{to:"/",className:"flex items-center gap-2 group",children:[x.jsx("div",{className:"bg-magic-green text-black p-1 transition-colors duration-500",children:x.jsx(Z2,{className:"h-6 w-6"})}),x.jsxs("span",{className:"text-xl font-bold text-white tracking-tighter group-hover:text-magic-green transition-colors",children:["TRASHMARKET",x.jsx("span",{className:"text-magic-green",children:".FUN"})]})]})}),x.jsx("div",{className:"hidden lg:flex flex-1 max-w-lg mx-8",children:x.jsxs("div",{className:"relative w-full group",children:[x.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:x.jsx(Hp,{className:"h-4 w-4 text-gray-500 group-hover:text-magic-green"})}),x.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-white/20 leading-5 bg-black text-white placeholder-gray-600 focus:outline-none focus:border-magic-green focus:ring-1 focus:ring-magic-green sm:text-sm transition-all duration-150 font-mono uppercase focus:text-magic-green",placeholder:"SEARCH_TRASH..."})]})}),x.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[x.jsx("div",{className:"hidden xl:flex items-center gap-6 mr-4",children:O.map(g=>x.jsx(Ii,{to:g.path,className:`text-sm font-bold uppercase tracking-wide transition-colors hover:text-magic-green ${h.pathname===g.path?"text-magic-green underline decoration-2 underline-offset-4":"text-gray-400"}`,children:g.name},g.name))}),x.jsxs("a",{href:N,target:"_blank",rel:"noopener noreferrer",className:"hidden lg:flex items-center gap-3 px-4 py-1 border-l border-r border-white/10 cursor-pointer hover:bg-white/5 transition-colors group",title:"View on Trashscan",children:[x.jsxs("div",{className:"flex flex-col items-end",children:[x.jsx("span",{className:"text-[9px] text-gray-500 uppercase tracking-widest font-mono mb-0.5 group-hover:text-white transition-colors",children:b}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${Z.bg} animate-pulse`}),x.jsx("span",{className:`text-[10px] font-bold ${Z.color} font-mono`,children:Z.label})]})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("div",{className:"text-[9px] text-gray-500 uppercase tracking-widest font-mono mb-0.5",children:E}),x.jsxs("div",{className:"text-xs font-bold text-white font-mono flex items-center gap-1",children:[i.toLocaleString()," ",x.jsx(nd,{className:"w-3 h-3 text-gray-600"})]})]})]}),L&&x.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 border border-blue-500 bg-blue-500/10 animate-pulse",children:[x.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400"}),x.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-blue-400 font-mono",children:" DEVNET MODE"})]}),x.jsxs("div",{className:"relative",children:[x.jsxs("button",{onClick:()=>r(!t),className:`flex items-center gap-2 px-4 py-2 border transition-colors ${L?"border-blue-500 bg-blue-500/10 hover:bg-blue-500/20":"border-white/20 bg-black hover:bg-white/5"}`,children:[x.jsx(sw,{className:"w-4 h-4"}),x.jsx("span",{className:`text-xs font-bold uppercase tracking-wider font-mono ${k==="GORBAGANA"?"text-magic-green":L?"text-blue-400":"text-purple-400"}`,children:k==="GORBAGANA"?" GOR":L?" SOL-DEV":" SOL"}),x.jsx(XM,{className:`w-3 h-3 text-gray-500 transition-transform ${t?"rotate-180":""}`})]}),t&&x.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-magic-dark border border-white/20 shadow-lg z-50",children:x.jsxs("div",{className:"p-2",children:[x.jsxs("button",{onClick:()=>{I("GORBAGANA"),r(!1)},className:`w-full flex items-center justify-between px-3 py-2 text-left text-sm hover:bg-white/5 transition-colors ${k==="GORBAGANA"?"bg-magic-green/10 border border-magic-green/30":"border border-transparent"}`,children:[x.jsxs("span",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-magic-green font-bold",children:""}),x.jsx("span",{className:"text-white font-mono",children:"Gorbagana"})]}),k==="GORBAGANA"&&x.jsx("span",{className:"w-2 h-2 rounded-full bg-magic-green animate-pulse"})]}),x.jsxs("button",{onClick:()=>{I("SOLANA_DEVNET"),r(!1)},className:`w-full flex items-center justify-between px-3 py-2 text-left text-sm hover:bg-white/5 transition-colors ${k==="SOLANA_DEVNET"?"bg-blue-500/10 border border-blue-500/30":"border border-transparent"}`,children:[x.jsxs("span",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-blue-400 font-bold",children:""}),x.jsx("span",{className:"text-white font-mono",children:"Solana Devnet"}),x.jsx("span",{className:"text-[9px] text-blue-400 bg-blue-500/20 px-1 py-0.5 uppercase",children:"test"})]}),k==="SOLANA_DEVNET"&&x.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-400 animate-pulse"})]}),x.jsx("button",{onClick:()=>{alert("Solana mainnet bridge requires deployment (2 SOL). Currently testing on devnet."),r(!1)},disabled:!0,className:"w-full flex items-center justify-between px-3 py-2 text-left text-sm opacity-50 cursor-not-allowed border border-transparent",children:x.jsxs("span",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-purple-400 font-bold",children:""}),x.jsx("span",{className:"text-gray-400 font-mono",children:"Solana Mainnet"}),x.jsx("span",{className:"text-[9px] text-yellow-500 bg-yellow-500/20 px-1 py-0.5 uppercase",children:"soon"})]})})]})})]}),F&&x.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 border border-white/10 bg-black/50",children:[x.jsx(sw,{className:"w-3 h-3"}),x.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest font-mono ${f==="gorbagana"?"text-magic-green":f==="solana"?"text-purple-400":"text-gray-500"}`,children:f==="gorbagana"?" GORBAGANA":f==="solana"?" SOLANA":"DETECTING..."}),x.jsx("span",{className:`w-1.5 h-1.5 rounded-full animate-pulse ${f==="gorbagana"?"bg-magic-green":f==="solana"?"bg-purple-400":"bg-gray-500"}`})]}),x.jsxs("button",{onClick:W,className:`flex items-center gap-2 px-6 py-2 border font-bold text-sm transition-all duration-200 uppercase tracking-wider ${F?"bg-black border-magic-green text-magic-green hover:bg-white/10":"bg-magic-green border-magic-green text-black hover:bg-black hover:text-magic-green"}`,children:[x.jsx(eq,{className:"w-4 h-4"}),F&&J?x.jsxs("span",{className:"flex items-center gap-2",children:[ae(J),l!==null&&x.jsxs("span",{className:"text-xs opacity-70",children:["(",l.toFixed(2)," G)"]})]}):"CONNECT"]})]}),x.jsx("div",{className:"md:hidden flex items-center",children:x.jsx("button",{onClick:()=>e(!n),className:"inline-flex items-center justify-center p-2 text-magic-green hover:text-white hover:bg-white/10 focus:outline-none",children:n?x.jsx(t3,{className:"h-6 w-6"}):x.jsx(CG,{className:"h-6 w-6"})})})]})}),n&&x.jsx("div",{className:"md:hidden bg-black border-b border-white/20 animate-in slide-in-from-top-5 duration-200",children:x.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[x.jsxs("a",{href:N,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between px-3 py-3 border-b border-white/10 mb-2 bg-white/5 active:bg-white/10",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Z2,{className:"w-4 h-4 text-magic-green"}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("span",{className:"text-xs font-mono text-gray-400 uppercase",children:"Network"}),x.jsx("span",{className:"text-[10px] font-bold uppercase text-magic-green",children:b})]})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsxs("div",{className:"flex items-center gap-1.5",children:[x.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${Z.bg} animate-pulse`}),x.jsx("span",{className:`text-xs font-bold ${Z.color} font-mono`,children:Z.label})]}),x.jsxs("span",{className:"text-xs font-bold text-white font-mono border-l border-white/20 pl-3",children:[i.toLocaleString()," ",E]})]})]}),O.map(g=>x.jsx(Ii,{to:g.path,onClick:()=>e(!1),className:"block px-3 py-2 text-base font-bold text-gray-300 hover:text-magic-green hover:bg-white/5 uppercase font-mono",children:g.name},g.name)),F&&x.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-black border border-white/10 mt-2",children:[x.jsx(sw,{className:"w-4 h-4"}),x.jsx("span",{className:`text-xs font-bold uppercase tracking-widest font-mono ${f==="gorbagana"?"text-magic-green":f==="solana"?"text-purple-400":"text-gray-500"}`,children:f==="gorbagana"?" GORBAGANA":f==="solana"?" SOLANA":"DETECTING..."}),x.jsx("span",{className:`w-1.5 h-1.5 rounded-full animate-pulse ${f==="gorbagana"?"bg-magic-green":f==="solana"?"bg-purple-400":"bg-gray-500"}`})]}),x.jsx("button",{onClick:()=>{e(!1),W()},className:"w-full text-left mt-4 block px-3 py-2 text-base font-bold bg-magic-green text-black uppercase font-mono",children:F&&J?ae(J):"Connect Wallet"})]})})]})})},sq="https://gorapi.trashscan.io",aq=async()=>{try{const n=await fetch(`${sq}/api/tokens`);if(!n.ok)throw new Error(`Failed to fetch tokens: ${n.status}`);const t=(await n.json()).data||[];if(!Array.isArray(t))throw new Error("Invalid API response format");return t.filter(r=>{var i,o,l;return((i=r.price)==null?void 0:i.native)>0&&((o=r.marketData)==null?void 0:o.liquidity)>0&&((l=r.metadata)==null?void 0:l.symbol)}).map(r=>{var i,o,l,c,f,d,h,b,E,v,N;return{symbol:((i=r.metadata)==null?void 0:i.symbol)||"UNKNOWN",name:((o=r.metadata)==null?void 0:o.name)||((l=r.metadata)==null?void 0:l.symbol)||"Unknown Token",price:parseFloat(((c=r.price)==null?void 0:c.native)||"0"),priceUsd:parseFloat(((f=r.price)==null?void 0:f.usd)||"0"),change24h:parseFloat(((d=r.price)==null?void 0:d.change24h)||"0"),volume24h:parseFloat(((h=r.marketData)==null?void 0:h.volume24h)||"0"),marketCap:parseFloat(((b=r.marketData)==null?void 0:b.marketCap)||"0"),holders:parseInt(((E=r.marketData)==null?void 0:E.holderCount)||"0"),contractAddress:r.mint,logoUrl:(v=r.metadata)==null?void 0:v.logo,decimals:((N=r.metadata)==null?void 0:N.decimals)||6}}).sort((r,i)=>i.marketCap-r.marketCap).slice(0,20)}catch(n){throw console.error("Error fetching tokens:",n),n}},lq=n=>n.map(e=>{const t=e.change24h>=0,r=e.change24h!==0?`${t?"+":""}${e.change24h.toFixed(1)}%`:"0%";let i;return e.price>=1e3?i=`${(e.price/1e3).toFixed(1)}k`:e.price>=1?i=e.price.toFixed(2):e.price>=.001?i=e.price.toFixed(4):i=e.price.toExponential(2),{label:e.symbol,value:`G ${i}`,change:r,color:t?"text-magic-green":"text-magic-red"}}),T1=()=>[{label:"GOR",value:"G 1.00",change:"0%",color:"text-magic-green"},{label:"TRASH",value:"G 0.0042",change:"+69.4%",color:"text-magic-green"},{label:"GORBAG",value:"G 0.15",change:"+12.3%",color:"text-magic-green"},{label:"DUMP",value:"G 0.0001",change:"-5.2%",color:"text-magic-red"},{label:"RECYCLE",value:"G 0.025",change:"+8.1%",color:"text-magic-green"},{label:"WASTE",value:"G 0.0088",change:"+2.4%",color:"text-magic-green"},{label:"COMPOST",value:"G 0.033",change:"-1.8%",color:"text-magic-red"},{label:"LANDFILL",value:"G 0.0005",change:"+420%",color:"text-magic-green"},{label:"SCRAPS",value:"G 0.012",change:"+5.5%",color:"text-magic-green"},{label:"JUNK",value:"G 0.0022",change:"-3.1%",color:"text-magic-red"},{label:"DEBRIS",value:"G 0.045",change:"+15.2%",color:"text-magic-green"},{label:"REFUSE",value:"G 0.008",change:"+1.9%",color:"text-magic-green"},{label:"GPS",value:"4,200",change:"LIVE",color:"text-yellow-400"},{label:"GAS",value:"0.001 G",change:"LOW",color:"text-blue-400"},{label:"TVL",value:"G 1.2M",change:"+24h",color:"text-white"}],cq=async()=>{try{console.log("Fetching live token data from Trashscan API...");const n=await aq();if(!n||n.length===0)return console.warn("No tokens received from API, using mock data"),T1();console.log(`Successfully fetched ${n.length} verified tokens from Trashscan`);const e=lq(n);return e.push({label:"GPS",value:"4,200",change:"LIVE",color:"text-yellow-400"},{label:"GAS",value:"0.001 G",change:"LOW",color:"text-blue-400"}),e}catch(n){return console.error("Failed to fetch market metrics from API:",n),console.warn("Falling back to mock token data"),T1()}},Q2=({children:n,reverse:e=!1,className:t=""})=>x.jsxs("div",{className:`flex overflow-hidden relative w-full select-none ${t}`,children:[x.jsx("div",{className:`flex shrink-0 ${e?"animate-marquee-reverse":"animate-marquee"} min-w-full items-center gap-0`,children:n}),x.jsx("div",{className:`flex shrink-0 ${e?"animate-marquee-reverse":"animate-marquee"} min-w-full items-center gap-0`,children:n})]}),uq=()=>{const{currency:n,accentColor:e}=fo(),[t,r]=fe.useState(T1());fe.useEffect(()=>{const o=async()=>{try{const c=await cq();r(c)}catch(c){console.error("Failed to fetch market metrics:",c)}};o();const l=setInterval(o,3e4);return()=>clearInterval(l)},[]);const i=[{type:"SALE",text:`Mad Lads #2912 sold for 145.5 ${n}`,time:"1s"},{type:"LIST",text:`Tensorian #400 listed for 18.2 ${n}`,time:"1s"},{type:"SALE",text:`SMB Gen2 #441 sold for 24.5 ${n}`,time:"2s"},{type:"OFFER",text:`Offer of 45.0 ${n} on DeGods #3321`,time:"2s"},{type:"SWEEP",text:`Whale swept 5x Claynos (Floor 9.5 ${n})`,time:"3s"},{type:"SALE",text:`Foxes #551 sold for 4.2 ${n}`,time:"4s"},{type:"MINT",text:"Galactic Geckos #999 minted",time:"4s"},{type:"SALE",text:`Okay Bears #881 sold for 12.0 ${n}`,time:"5s"},{type:"LIST",text:`Retardio #12 listed for 5.5 ${n}`,time:"5s"},{type:"SALE",text:`Sharx #302 sold for 7.8 ${n}`,time:"6s"},{type:"VOL",text:"Famous Fox Fed vol spike > 500%",time:"6s"},{type:"SALE",text:`Froganas #221 sold for 1.2 ${n}`,time:"7s"}];return x.jsxs("div",{className:"border-b border-white/20 bg-[#050505] overflow-hidden relative flex flex-col py-2 gap-1 sticky top-16 z-30",children:[x.jsx("div",{className:"absolute top-0 left-0 w-24 h-full bg-gradient-to-r from-[#050505] to-transparent z-20 pointer-events-none"}),x.jsx("div",{className:"absolute top-0 right-0 w-24 h-full bg-gradient-to-l from-[#050505] to-transparent z-20 pointer-events-none"}),x.jsx("div",{className:"border-b border-white/5 bg-black/50 backdrop-blur-sm relative z-10",children:x.jsx(Q2,{reverse:!0,children:t.map((o,l)=>x.jsxs("div",{className:"flex items-center gap-3 mx-8 py-2 text-xs uppercase tracking-wider font-mono whitespace-nowrap",children:[x.jsx("span",{className:"text-gray-600 font-bold",children:o.label}),x.jsx("span",{className:`font-bold ${o.color}`,children:o.value}),x.jsx("span",{className:`text-[10px] ${o.change.startsWith("+")?"text-magic-green":o.change.startsWith("-")?"text-magic-red":"text-gray-400"}`,children:o.change}),x.jsx("span",{className:"text-gray-800 ml-4",children:"/"})]},`m-${l}`))})}),x.jsx("div",{className:"bg-black relative z-10",children:x.jsx(Q2,{reverse:!1,children:i.map((o,l)=>x.jsxs("div",{className:"flex items-center gap-2 mx-8 py-2 text-xs uppercase tracking-wider font-mono border-r border-white/10 pr-8 whitespace-nowrap",children:[x.jsx("div",{className:`w-1.5 h-1.5 ${o.type==="SALE"?e==="text-magic-purple"?"bg-magic-purple":"bg-magic-green":o.type==="SWEEP"?"bg-magic-pink":"bg-blue-400"}`}),x.jsxs("span",{className:"text-gray-500 font-bold",children:["[",o.type,"]"]}),x.jsx("span",{className:"text-gray-200",children:o.text}),x.jsx("span",{className:"text-gray-700 text-[10px]",children:o.time})]},`a-${l}`))})})]})},fq=()=>x.jsx("footer",{className:"bg-[#121212] border-t border-white/10 py-12",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-magic-green to-white bg-clip-text text-transparent mb-4 tracking-tighter",children:"TRASHMARKET.FUN"}),x.jsx("p",{className:"text-gray-500 text-sm font-mono",children:"The rawest NFT marketplace on Solana. No filler, just trash."})]}),x.jsxs("div",{children:[x.jsx("h4",{className:"text-white font-bold mb-4 uppercase tracking-widest text-xs",children:"Marketplace"}),x.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm font-mono",children:[x.jsx("li",{className:"hover:text-magic-green cursor-pointer transition-colors",children:"Trending"}),x.jsx("li",{className:"hover:text-magic-green cursor-pointer transition-colors",children:"New Trash"}),x.jsx("li",{className:"hover:text-magic-green cursor-pointer transition-colors",children:"Auctions"})]})]}),x.jsxs("div",{children:[x.jsx("h4",{className:"text-white font-bold mb-4 uppercase tracking-widest text-xs",children:"Resources"}),x.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm font-mono",children:[x.jsx("li",{className:"hover:text-magic-green cursor-pointer transition-colors",children:x.jsx(Ii,{to:"/docs",children:"Docs"})}),x.jsx("li",{className:"hover:text-magic-green cursor-pointer transition-colors",children:x.jsx(Ii,{to:"/docs",children:"Brand Kit"})}),x.jsx("li",{className:"hover:text-magic-green cursor-pointer transition-colors",children:x.jsx(Ii,{to:"/docs",children:"API"})})]})]}),x.jsxs("div",{children:[x.jsx("h4",{className:"text-white font-bold mb-4 uppercase tracking-widest text-xs",children:"Community"}),x.jsxs("div",{className:"flex gap-4",children:[x.jsx("div",{className:"w-8 h-8 bg-gray-900 border border-white/20 hover:border-magic-green hover:bg-magic-green/10 cursor-pointer transition-all"}),x.jsx("div",{className:"w-8 h-8 bg-gray-900 border border-white/20 hover:border-magic-green hover:bg-magic-green/10 cursor-pointer transition-all"}),x.jsx("div",{className:"w-8 h-8 bg-gray-900 border border-white/20 hover:border-magic-green hover:bg-magic-green/10 cursor-pointer transition-all"})]})]})]}),x.jsx("div",{className:"mt-12 pt-8 border-t border-white/5 text-center text-gray-600 text-xs font-mono uppercase tracking-widest",children:" 2024 trashmarket.fun. All rights reserved."})]})}),dq=async(n=5)=>{const e=await fetch(`https://api-mainnet.magiceden.dev/v2/collections?offset=0&limit=${n}&sortBy=volume24h`);if(!e.ok)throw new Error("Failed to fetch top collections");return(await e.json()).map(r=>{var i,o,l,c,f;return{id:r.symbol,name:r.name||"Unknown",description:r.description||"No description available",image:r.image,banner:r.bannerImage||r.image,floorPrice:parseFloat(((i=r.stats)==null?void 0:i.floorPrice)||"0")/1e9,totalVolume:parseFloat(((o=r.stats)==null?void 0:o.volume24h)||"0")/1e9,listedCount:((l=r.stats)==null?void 0:l.listedCount)||0,supply:((c=r.stats)==null?void 0:c.totalSupply)||0,isVerified:r.verified||!1,change24h:parseFloat(((f=r.stats)==null?void 0:f.priceChange24h24h)||"0")}})},Gb=n=>n?n.replace(/\s+/g," ").trim():"",qb=async()=>{try{const n=await fetch("/data/gorbagios_nfts_full.json");if(!n.ok)throw new Error(`Failed to fetch: ${n.status}`);const t=(await n.json()).map(r=>({solana_mint:r.mintAddress,gorbagana_mint:null,current_owner:r.owner,metadata:{mintAddress:r.mintAddress,supply:r.supply,collection:r.collection,collectionName:r.collectionName,name:r.name,updateAuthority:r.updateAuthority,primarySaleHappened:r.primarySaleHappened,sellerFeeBasisPoints:r.sellerFeeBasisPoints,image:r.image,attributes:r.attributes,listStatus:r.listStatus,price_SOL:r.price_SOL}}));return{success:!0,count:t.length,total:t.length,data:t}}catch(n){return console.error("Error fetching Gorbagios:",n),{success:!1,count:0,total:0,data:[]}}},n3=n=>{var e;return typeof n.total=="number"?n.total:typeof n.count=="number"?n.count:((e=n.data)==null?void 0:e.length)??0},r3=async(n,e)=>{var E,v;const t=n.data??[],r=t[0],i=n3(n),o=t.filter(N=>{var k;return((k=N.metadata)==null?void 0:k.listStatus)&&N.metadata.listStatus!=="unlisted"}).length,l=Gb(((E=r==null?void 0:r.metadata)==null?void 0:E.collectionName)||(e==null?void 0:e.name)||"Gorbagios")||"Gorbagios",c=((v=r==null?void 0:r.metadata)==null?void 0:v.image)||(e==null?void 0:e.image)||"",f=(e==null?void 0:e.banner)||c;let d=(e==null?void 0:e.floorPrice)??0,h=(e==null?void 0:e.totalVolume)??0,b=t.length?o:(e==null?void 0:e.listedCount)??0;try{const N=await fetch("/data/gorbagios_collection_stats.json");if(N.ok){const k=await N.json();d=k.floorPrice_SOL||d,h=k.volumeAll_SOL||h,b=k.listedCount||b}}catch{console.warn("Could not fetch collection stats, using fallback")}return{id:(e==null?void 0:e.id)||"gorbagios",name:l,description:(e==null?void 0:e.description)||"The Gorbagio collection - 4,444 unique NFTs on Solana.",image:c,banner:f,floorPrice:d,totalVolume:h,listedCount:b,supply:i||(e==null?void 0:e.supply)||4444,isVerified:(e==null?void 0:e.isVerified)??!0,change24h:(e==null?void 0:e.change24h)??0}},i3=(n,e)=>{const t=e.offset??0,r=e.limit??n.length,i=Number.isFinite(e.defaultPrice)?e.defaultPrice:0;return n.slice(t,t+r).map((o,l)=>{var d,h,b;const c=Gb((d=o.metadata)==null?void 0:d.name)||`${e.collectionName} #${t+l+1}`,f=((h=o.metadata)==null?void 0:h.price_SOL)??i;return{id:o.gorbagana_mint||o.solana_mint||`${e.collectionId}-${t+l}`,name:c,image:((b=o.metadata)==null?void 0:b.image)||"",price:typeof f=="number"?f:i,collectionId:e.collectionId}})},hq=async n=>{const e=await qb();return await r3(e,n)},pq=async n=>{var i,o;const t=(await qb()).data??[],r=Gb((o=(i=t[0])==null?void 0:i.metadata)==null?void 0:o.collectionName)||(n==null?void 0:n.collectionName)||"Gorbagios";return i3(t,{collectionId:(n==null?void 0:n.collectionId)||"gorbagios",collectionName:r,defaultPrice:(n==null?void 0:n.defaultPrice)??0,limit:n==null?void 0:n.limit,offset:n==null?void 0:n.offset})},mq=async n=>{const e=await qb(),t=await r3(e,n==null?void 0:n.collectionFallback),r=i3(e.data??[],{collectionId:t.id,collectionName:t.name,defaultPrice:(n==null?void 0:n.defaultPrice)??t.floorPrice,limit:n==null?void 0:n.limit,offset:n==null?void 0:n.offset});return{collection:t,nfts:r,total:n3(e)}},na=[{id:"galactic-geckos",name:"Galactic Geckos",description:"10,000 space-faring lizards ruling the Solana galaxy.",image:"https://picsum.photos/seed/gecko/400/400",banner:"https://picsum.photos/seed/geckobanner/1200/400",floorPrice:12.5,totalVolume:45e4,listedCount:432,supply:1e4,isVerified:!0,change24h:5.2},{id:"gorbagios",name:"Gorbagios",description:"Literal garbage bags living on the blockchain. Smells like alpha.",image:"https://picsum.photos/seed/gorbagios/400/400",banner:"https://picsum.photos/seed/gorbagiosbanner/1200/400",floorPrice:.05,totalVolume:69420,listedCount:999,supply:6969,isVerified:!0,change24h:420},{id:"cyber-samurai",name:"Cyber Samurai",description:"Honor and code in a dystopian future.",image:"https://picsum.photos/seed/samurai/400/400",banner:"https://picsum.photos/seed/samuraibanner/1200/400",floorPrice:5.2,totalVolume:12e4,listedCount:150,supply:5e3,isVerified:!0,change24h:-2.1},{id:"pixel-punks",name:"Solana Punks",description:"The OGs of the chain. Not affiliated with anyone.",image:"https://picsum.photos/seed/punk/400/400",banner:"https://picsum.photos/seed/punkbanner/1200/400",floorPrice:45,totalVolume:89e4,listedCount:89,supply:1e4,isVerified:!0,change24h:12.4},{id:"bubble-dragons",name:"Bubble Dragons",description:"Cute dragons trapped in bubbles. Pop them to release!",image:"https://picsum.photos/seed/dragon/400/400",banner:"https://picsum.photos/seed/dragonbanner/1200/400",floorPrice:1.8,totalVolume:4500,listedCount:1200,supply:8888,isVerified:!1,change24h:.5}],of=n=>Array.from({length:24}).map((e,t)=>({id:`${n.id}-${t}`,name:`${n.name} #${t+1240}`,image:`https://picsum.photos/seed/${n.id}${t}/500/500`,price:parseFloat((n.floorPrice+Math.random()*(t%5)).toFixed(2)),rank:Math.floor(Math.random()*5e3)+1,collectionId:n.id,description:`A unique item from the ${n.name} collection.`})),R1={"galactic-geckos":of(na[0]).sort((n,e)=>n.price-e.price),gorbagios:of(na[1]).sort((n,e)=>n.price-e.price),"cyber-samurai":of(na[2]).sort((n,e)=>n.price-e.price),"pixel-punks":of(na[3]).sort((n,e)=>n.price-e.price),"bubble-dragons":of(na[4]).sort((n,e)=>n.price-e.price)},gq=n=>{const e=[];let t=n*.8;const r=new Date;for(let i=30;i>=0;i--){const o=new Date(r);o.setDate(o.getDate()-i),t=t*(1+(Math.random()*.1-.04)),e.push({time:o.toLocaleDateString(void 0,{month:"short",day:"numeric"}),price:parseFloat(t.toFixed(2))})}return e},yq=n=>Array.from({length:15}).map((e,t)=>{const r=Math.random()>.3;return{id:`act-${t}`,type:r?"sale":"list",price:parseFloat((Math.random()*20).toFixed(2)),from:`8x...${Math.floor(Math.random()*999)}`,to:r?`4k...${Math.floor(Math.random()*999)}`:void 0,time:`${Math.floor(Math.random()*59)+1}m ago`,image:`https://picsum.photos/seed/${n}${t}/100/100`,name:`Item #${Math.floor(Math.random()*5e3)}`}}),wq=({children:n,reverse:e=!1,className:t=""})=>x.jsxs("div",{className:`flex overflow-hidden relative w-full select-none ${t}`,children:[x.jsx("div",{className:`flex shrink-0 ${e?"animate-marquee-reverse":"animate-marquee"} min-w-full items-center gap-0`,children:n}),x.jsx("div",{className:`flex shrink-0 ${e?"animate-marquee-reverse":"animate-marquee"} min-w-full items-center gap-0`,children:n})]}),bq=()=>{const{currency:n,accentColor:e}=fo(),[t,r]=fe.useState(null),[i,o]=fe.useState([]),[l,c]=fe.useState([]),[f,d]=fe.useState(!0);fe.useEffect(()=>{let v=!0;return(async()=>{var ie;d(!0);const k=18,I=na.find(se=>se.id==="gorbagios")||null,L=((ie=R1.gorbagios)==null?void 0:ie.slice(0,k))||[],[F,M,Y]=await Promise.allSettled([hq(I||void 0),dq(5),pq({limit:k,defaultPrice:(I==null?void 0:I.floorPrice)??0})]);if(v){if(F.status==="fulfilled"?r(F.value):(console.error("Error fetching Gorbagios:",F.reason),r(I)),M.status==="fulfilled"?c(M.value):console.error("Error fetching top collections:",M.reason),Y.status==="fulfilled"){const se=Y.value.filter(re=>re.image);o(se.length?se:L)}else console.error("Error fetching Gorbagio artwork:",Y.reason),o(L);d(!1)}})(),()=>{v=!1}},[]);const[h,b]=fe.useState(!1),E=i.filter(v=>v.image);return f?x.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:x.jsx("div",{className:"text-magic-green animate-pulse font-mono uppercase tracking-widest text-2xl",children:"LOADING MARKET DATA..."})}):x.jsxs("div",{className:"min-h-screen bg-black pb-20",onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),children:[t?x.jsxs("div",{className:"relative h-[450px] w-full overflow-hidden border-b border-white/20",children:[x.jsxs("div",{className:"absolute inset-0",children:[x.jsx("img",{src:t.banner||t.image,alt:"Hero",className:"w-full h-full object-cover opacity-20 grayscale contrast-150"}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/80 to-transparent"}),x.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"}),x.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(18,18,18,0.5)_1px,transparent_1px),linear-gradient(90deg,rgba(18,18,18,0.5)_1px,transparent_1px)] bg-[size:40px_40px] opacity-20"})]}),x.jsx("div",{className:"absolute bottom-0 left-0 w-full p-4 md:p-12 z-10",children:x.jsxs("div",{className:"max-w-[1600px] mx-auto flex flex-col gap-6",children:[x.jsxs("div",{className:"max-w-3xl w-full",children:[x.jsxs("div",{className:`flex items-center justify-between mb-2 w-full border-b ${e==="text-magic-purple"?"border-magic-purple/30":"border-magic-green/30"} pb-2`,children:[x.jsxs("div",{className:`inline-flex items-center gap-2 ${e} text-xs font-bold uppercase tracking-widest font-mono`,children:[x.jsx(e3,{className:"w-3 h-3"})," System_Spotlight :: ",t.id.toUpperCase()]}),x.jsxs("div",{className:"flex gap-4 items-center",children:[x.jsxs("span",{className:"text-[10px] font-mono uppercase tracking-widest flex items-center gap-2 text-gray-500",children:[x.jsx(LG,{className:`w-3 h-3 ${e} animate-pulse`}),"SYSTEM_ONLINE"]}),x.jsx(Ii,{to:"/launchpad",className:"text-[10px] text-gray-500 hover:text-white uppercase tracking-widest font-mono",children:"[ AI_LAUNCHPAD_ACTIVE ]"})]})]}),x.jsx("h1",{className:"text-5xl md:text-7xl font-black text-white mb-6 tracking-tighter uppercase leading-none",children:t.name}),x.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start md:items-center",children:[x.jsxs("div",{className:"flex items-center gap-8 text-sm text-gray-400 font-mono",children:[x.jsxs("div",{className:`flex flex-col border-l-2 ${e==="text-magic-purple"?"border-magic-purple":"border-magic-green"} pl-3`,children:[x.jsx("span",{className:"text-[10px] uppercase tracking-wider text-gray-500",children:"Floor_Price"}),x.jsxs("span",{className:"text-white text-xl font-bold",children:[n," ",t.floorPrice]})]}),x.jsxs("div",{className:"flex flex-col border-l-2 border-gray-800 pl-3",children:[x.jsx("span",{className:"text-[10px] uppercase tracking-wider text-gray-500",children:"24h_Volume"}),x.jsxs("span",{className:"text-white text-xl font-bold",children:[n," ",(t.totalVolume/1e3).toFixed(1),"k"]})]})]}),x.jsx(Ii,{to:`/collection/${t.id}`,className:`group relative px-8 py-3 bg-black border ${e==="text-magic-purple"?"border-magic-purple text-magic-purple hover:bg-magic-purple":"border-magic-green text-magic-green hover:bg-magic-green"} font-bold uppercase tracking-widest text-xs hover:text-black transition-all duration-200`,children:x.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:["Execute_View ",x.jsx(JM,{className:"w-3 h-3"})]})})]})]}),E.length>0&&x.jsxs("div",{className:"border-t border-white/10 pt-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest ${e}`,children:"Gorbagio_Art_Stream"}),x.jsx("span",{className:"text-[10px] font-mono uppercase tracking-widest text-gray-600",children:"Continuous_Carousel"})]}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute left-0 top-0 h-full w-16 bg-gradient-to-r from-black to-transparent z-10 pointer-events-none"}),x.jsx("div",{className:"absolute right-0 top-0 h-full w-16 bg-gradient-to-l from-black to-transparent z-10 pointer-events-none"}),x.jsx(wq,{className:"py-2",children:E.map((v,N)=>x.jsx("div",{className:"mx-2 md:mx-3",children:x.jsx("div",{className:`w-20 h-20 md:w-24 md:h-24 bg-black border ${e==="text-magic-purple"?"border-magic-purple/40":"border-magic-green/40"} overflow-hidden`,children:x.jsx("img",{src:v.image,alt:v.name,className:"w-full h-full object-cover grayscale hover:grayscale-0 transition-all duration-300",loading:"lazy"})})},`${v.id}-${N}`))})]})]})]})})]}):x.jsx("div",{className:"relative h-[450px] w-full overflow-hidden border-b border-white/20 flex items-center justify-center",children:x.jsx("div",{className:"text-magic-green animate-pulse font-mono uppercase tracking-widest text-xl",children:"LOADING SPOTLIGHT..."})}),x.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[x.jsxs("div",{className:"flex items-center justify-between mb-8",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(nd,{className:`w-5 h-5 ${e}`}),x.jsx("h2",{className:"text-xl font-bold text-white uppercase tracking-widest font-mono",children:"Market_Feed"})]}),x.jsxs("div",{className:"flex gap-px bg-white/10 border border-white/10",children:[x.jsx("button",{className:"px-4 py-1 bg-black text-gray-500 hover:text-white text-[10px] uppercase font-bold tracking-wider hover:bg-white/5",children:"1h"}),x.jsx("button",{className:`px-4 py-1 ${e==="text-magic-purple"?"bg-magic-purple":"bg-magic-green"} text-black text-[10px] uppercase font-bold tracking-wider`,children:"24h"}),x.jsx("button",{className:"px-4 py-1 bg-black text-gray-500 hover:text-white text-[10px] uppercase font-bold tracking-wider hover:bg-white/5",children:"7d"})]})]}),x.jsxs("div",{className:"border border-white/20 bg-black relative",children:[x.jsx("div",{className:`absolute -top-1 -left-1 w-2 h-2 border-t border-l ${e==="text-magic-purple"?"border-magic-purple":"border-magic-green"}`}),x.jsx("div",{className:`absolute -bottom-1 -right-1 w-2 h-2 border-b border-r ${e==="text-magic-purple"?"border-magic-purple":"border-magic-green"}`}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left border-collapse",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"border-b border-white/10 text-[10px] text-gray-500 uppercase font-mono tracking-widest bg-white/5",children:[x.jsx("th",{className:"p-4 font-bold",children:"Rank / Collection"}),x.jsx("th",{className:"p-4 font-bold text-right",children:"Floor"}),x.jsx("th",{className:"p-4 font-bold text-right",children:"24h %"}),x.jsx("th",{className:"p-4 font-bold text-right",children:"24h Vol"}),x.jsx("th",{className:"p-4 font-bold text-right",children:"Sales"}),x.jsx("th",{className:"p-4 font-bold text-right",children:"Supply"})]})}),x.jsx("tbody",{className:"divide-y divide-white/5",children:l.map((v,N)=>x.jsxs("tr",{className:"group hover:bg-white/5 transition-colors",children:[x.jsx("td",{className:"p-4",children:x.jsxs(Ii,{to:`/collection/${v.id}`,className:"flex items-center gap-4",children:[x.jsxs("span",{className:"text-gray-700 font-mono text-sm w-4 text-center group-hover:text-white transition-colors",children:["0",N+1]}),x.jsx("div",{className:`w-8 h-8 border border-white/20 overflow-hidden bg-gray-900 group-hover:border-${e==="text-magic-purple"?"magic-purple":"magic-green"} transition-colors`,children:x.jsx("img",{src:v.image,alt:"",className:"w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-500"})}),x.jsx("div",{children:x.jsxs("div",{className:"font-bold text-gray-300 group-hover:text-white flex items-center gap-2 uppercase tracking-tight text-sm transition-colors",children:[v.name,v.isVerified&&x.jsx(zp,{className:`w-3 h-3 ${e} fill-current`})]})})]})}),x.jsxs("td",{className:`p-4 text-right font-mono font-bold text-gray-300 group-hover:${e} transition-colors`,children:[n," ",v.floorPrice]}),x.jsx("td",{className:`p-4 text-right font-mono font-bold text-xs ${v.change24h>=0?"text-magic-green":"text-magic-red"}`,children:x.jsxs("div",{className:"flex items-center justify-end gap-1",children:[v.change24h>=0?x.jsx(lG,{className:"w-3 h-3"}):x.jsx(rG,{className:"w-3 h-3"}),Math.abs(v.change24h),"%"]})}),x.jsxs("td",{className:"p-4 text-right font-mono text-gray-500 text-xs",children:[n," ",(v.totalVolume/1e3).toFixed(1),"k"]}),x.jsx("td",{className:"p-4 text-right font-mono text-gray-500 text-xs",children:v.listedCount*2}),x.jsx("td",{className:"p-4 text-right font-mono text-gray-600 text-xs",children:v.supply})]},v.id))})]})}),x.jsx("div",{className:"p-3 border-t border-white/10 text-center bg-black hover:bg-white/5 cursor-pointer transition-colors",children:x.jsx("button",{className:"text-[10px] text-gray-400 font-bold flex items-center justify-center gap-2 w-full uppercase tracking-widest hover:text-white",children:"[ LOAD_MORE_DATA ]"})})]})]})]})},vq=({nft:n,collectionName:e,isSelected:t,onToggle:r})=>{const{currency:i,accentColor:o}=fo(),l=o==="text-magic-purple"?"border-magic-purple":"border-magic-green",c=o==="text-magic-purple"?"ring-magic-purple":"ring-magic-green",f=o==="text-magic-purple"?"bg-magic-purple":"bg-magic-green",d=o==="text-magic-purple"?"hover:shadow-[0_0_20px_rgba(153,69,255,0.15)]":"hover:shadow-[0_0_20px_rgba(173,255,2,0.15)]";return x.jsxs("div",{onClick:r,className:`group relative bg-magic-card cursor-pointer border transition-all duration-200 ease-out hover:scale-[1.02] ${d} hover:z-20 ${t?`${l} ring-2 ${c} ring-offset-2 ring-offset-black z-10`:`border-white/10 hover:${l}/50`}`,children:[t&&x.jsx("div",{className:`absolute top-0 right-0 z-10 ${f} text-black p-1 shadow-none border-b border-l border-black`,children:x.jsx(ZM,{className:"w-4 h-4"})}),x.jsxs("div",{className:"aspect-square overflow-hidden bg-gray-900 relative",children:[x.jsx("img",{src:n.image,alt:n.name,className:`w-full h-full object-cover transition-all duration-300 ${t?"opacity-80 grayscale-0":"grayscale group-hover:grayscale-0"}`,loading:"lazy"}),!t&&x.jsx("div",{className:"absolute bottom-0 left-0 w-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:x.jsx("div",{className:`${f} text-black text-center text-xs font-bold py-2 uppercase tracking-widest`,children:"Quick Buy"})})]}),x.jsxs("div",{className:"p-3 bg-black",children:[x.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[x.jsxs("span",{className:`text-sm font-bold font-mono ${t?o:"text-white"}`,children:[i,n.price]}),n.rank&&x.jsxs("span",{className:"text-[10px] text-gray-600 font-mono",children:["#",n.rank]})]}),x.jsx("p",{className:"text-[10px] text-gray-500 truncate font-medium uppercase tracking-wide group-hover:text-gray-300 transition-colors",children:n.name})]})]})},Eq=({data:n,color:e="#adff02",height:t=250})=>{if(n.length===0)return null;const r=n.map(h=>h.price),i=Math.min(...r)*.95,l=Math.max(...r)*1.05-i,c=1e3,f=n.map((h,b)=>{const E=b/(n.length-1)*c,v=t-(h.price-i)/l*t;return`${E},${v}`}).join(" "),d=`${f} ${c},${t} 0,${t}`;return x.jsxs("div",{className:"w-full h-full relative group bg-black/50",children:[x.jsxs("svg",{width:"100%",height:"100%",viewBox:`0 0 ${c} ${t}`,preserveAspectRatio:"none",className:"overflow-visible",children:[x.jsx("defs",{children:x.jsxs("linearGradient",{id:"chartGradient",x1:"0",x2:"0",y1:"0",y2:"1",children:[x.jsx("stop",{offset:"0%",stopColor:e,stopOpacity:"0.1"}),x.jsx("stop",{offset:"100%",stopColor:e,stopOpacity:"0"})]})}),x.jsx("line",{x1:"0",y1:t*.25,x2:c,y2:t*.25,stroke:"#333",strokeWidth:"1",strokeDasharray:"4 4"}),x.jsx("line",{x1:"0",y1:t*.5,x2:c,y2:t*.5,stroke:"#333",strokeWidth:"1",strokeDasharray:"4 4"}),x.jsx("line",{x1:"0",y1:t*.75,x2:c,y2:t*.75,stroke:"#333",strokeWidth:"1",strokeDasharray:"4 4"}),x.jsx("path",{d,fill:"url(#chartGradient)"}),x.jsx("polyline",{points:f,fill:"none",stroke:e,strokeWidth:"2",vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:"1000",cy:t-(r[r.length-1]-i)/l*t,r:"4",fill:e,className:"animate-pulse"})]}),x.jsxs("div",{className:"absolute top-2 right-2 bg-black border border-magic-green px-2 py-1 text-xs text-magic-green font-mono font-bold opacity-0 group-hover:opacity-100 transition-opacity z-20",children:["LAST: ",r[r.length-1]]})]})},_q=()=>{const{id:n}=b5(),[e,t]=fe.useState(""),[r,i]=fe.useState("items"),[o,l]=fe.useState(0),[c,f]=fe.useState(!1),{currency:d,accentColor:h}=fo(),[b,E]=fe.useState(()=>n&&na.find(Z=>Z.id===n)||null),[v,N]=fe.useState(()=>n?R1[n]||[]:[]),[k,I]=fe.useState(!1),[L,F]=fe.useState(null);fe.useEffect(()=>{if(!n)return;const Z=na.find(g=>g.id===n)||null,W=n?R1[n]||[]:[];if(E(Z),N(W),F(null),n!=="gorbagios"){I(!1);return}let O=!0;return I(!0),mq({collectionFallback:Z||void 0,defaultPrice:(Z==null?void 0:Z.floorPrice)??0,limit:120}).then(({collection:g,nfts:T})=>{O&&(E(g),N(T))}).catch(g=>{O&&(console.error("Error fetching Gorbagios:",g),F("Failed to load Gorbagios. Using fallback data."))}).finally(()=>{O&&I(!1)}),()=>{O=!1}},[n]);const M=fe.useMemo(()=>b?gq(b.floorPrice):[],[b]),Y=fe.useMemo(()=>n?yq(n):[],[n]),ie=v==null?void 0:v.filter(Z=>Z.name.toLowerCase().includes(e.toLowerCase())),se=fe.useMemo(()=>o===0?new Set:new Set(ie==null?void 0:ie.slice(0,o).map(Z=>Z.id)),[o,ie]),re=fe.useMemo(()=>{let Z=0;return ie==null||ie.slice(0,o).forEach(W=>Z+=W.price),Z.toFixed(2)},[o,ie]),ae=h==="text-magic-purple"?"bg-magic-purple text-white hover:bg-white hover:text-magic-purple":"bg-magic-green text-black hover:bg-white hover:text-black",J=h==="text-magic-purple"?"focus:border-magic-purple":"focus:border-magic-green";if(!b)return x.jsx("div",{className:"p-20 text-center font-mono text-red-500 uppercase",children:"Error: Collection_Not_Found"});const Q=()=>x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs font-bold text-gray-500 mb-3 uppercase tracking-wider",children:"Status"}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("label",{className:"flex items-center gap-3 text-sm text-gray-300 cursor-pointer group",children:[x.jsx("div",{className:`w-4 h-4 border border-white/40 flex items-center justify-center group-hover:border-${h==="text-magic-purple"?"magic-purple":"magic-green"}`,children:x.jsx("div",{className:`w-2 h-2 ${h==="text-magic-purple"?"bg-magic-purple":"bg-magic-green"} opacity-100`})}),x.jsx("span",{className:"group-hover:text-white",children:"Buy Now"})]}),x.jsxs("label",{className:"flex items-center gap-3 text-sm text-gray-300 cursor-pointer group",children:[x.jsx("div",{className:`w-4 h-4 border border-white/40 flex items-center justify-center group-hover:border-${h==="text-magic-purple"?"magic-purple":"magic-green"}`}),x.jsx("span",{className:"group-hover:text-white",children:"Auction"})]})]})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-xs font-bold text-gray-500 mb-3 uppercase tracking-wider",children:["Price Range (",d,")"]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"number",placeholder:"Min",className:`w-1/2 bg-black border border-white/20 p-2 text-sm text-white font-mono placeholder-gray-700 ${J} outline-none`}),x.jsx("input",{type:"number",placeholder:"Max",className:`w-1/2 bg-black border border-white/20 p-2 text-sm text-white font-mono placeholder-gray-700 ${J} outline-none`})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs font-bold text-gray-500 mb-3 uppercase tracking-wider",children:"Attributes"}),["Background","Skin","Clothing","Eyes","Mouth","Headwear"].map(Z=>x.jsxs("div",{className:"py-2 border-t border-white/10 flex justify-between items-center text-sm text-gray-400 cursor-pointer hover:text-white group",children:[x.jsx("span",{className:`group-hover:${h} transition-colors`,children:Z}),x.jsx("span",{className:"text-xs text-gray-600",children:"+"})]},Z))]})]});return x.jsxs("div",{className:"min-h-screen bg-black flex flex-col",children:[L&&x.jsx("div",{className:"bg-yellow-500/20 border-b border-yellow-500/40 px-4 py-2 text-center",children:x.jsx("p",{className:"text-yellow-500 text-xs font-mono uppercase",children:L})}),c&&x.jsxs("div",{className:"fixed inset-0 z-50 flex lg:hidden",children:[x.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>f(!1)}),x.jsxs("div",{className:"relative w-[85%] max-w-sm bg-black border-r border-white/20 h-full flex flex-col animate-in slide-in-from-left duration-200",children:[x.jsxs("div",{className:"p-4 border-b border-white/20 flex items-center justify-between",children:[x.jsxs("div",{className:`flex items-center gap-2 ${h} font-bold uppercase tracking-wider`,children:[x.jsx(J2,{className:"w-4 h-4"})," Filters"]}),x.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-white",children:x.jsx(t3,{className:"w-6 h-6"})})]}),x.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:x.jsx(Q,{})}),x.jsx("div",{className:"p-4 border-t border-white/20 bg-magic-card",children:x.jsx("button",{onClick:()=>f(!1),className:`w-full ${ae} font-bold py-3 uppercase tracking-widest transition-colors`,children:"Show Results"})})]})]}),x.jsx("div",{className:"bg-black border-b border-white/20",children:x.jsx("div",{className:"max-w-[1600px] mx-auto",children:x.jsxs("div",{className:"flex flex-col lg:flex-row border-l border-r border-white/20",children:[x.jsxs("div",{className:"lg:w-1/3 p-4 md:p-6 border-b lg:border-b-0 lg:border-r border-white/20",children:[x.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[x.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-gray-900 border-2 border-white grayscale flex-shrink-0",children:x.jsx("img",{src:b.image,className:"w-full h-full object-cover",alt:b.name})}),x.jsxs("div",{className:"min-w-0",children:[x.jsxs("h1",{className:"text-xl md:text-2xl font-black text-white flex items-center gap-2 uppercase tracking-tight truncate",children:[b.name,b.isVerified&&x.jsx(zp,{className:`w-4 h-4 md:w-5 md:h-5 ${h} fill-current flex-shrink-0`})]}),x.jsx("p",{className:"text-gray-500 text-[10px] md:text-xs font-mono mt-1 line-clamp-2",children:b.description}),k&&x.jsx("div",{className:"text-[9px] font-mono uppercase tracking-widest text-gray-600 mt-2",children:"Syncing Gorbagio API..."})]})]}),x.jsxs("div",{className:"grid grid-cols-3 gap-px bg-white/20 border border-white/20",children:[x.jsxs("div",{className:"bg-black p-2 md:p-3 hover:bg-white/5 transition-colors",children:[x.jsx("div",{className:"text-gray-500 text-[9px] md:text-[10px] uppercase font-bold mb-1",children:"Floor"}),x.jsxs("div",{className:`${h} font-mono font-bold text-base md:text-lg`,children:[d," ",b.floorPrice]})]}),x.jsxs("div",{className:"bg-black p-2 md:p-3 hover:bg-white/5 transition-colors",children:[x.jsx("div",{className:"text-gray-500 text-[9px] md:text-[10px] uppercase font-bold mb-1",children:"Vol (24h)"}),x.jsxs("div",{className:"text-white font-mono font-bold text-base md:text-lg",children:[(b.totalVolume/1e3).toFixed(1),"k"]})]}),x.jsxs("div",{className:"bg-black p-2 md:p-3 hover:bg-white/5 transition-colors",children:[x.jsx("div",{className:"text-gray-500 text-[9px] md:text-[10px] uppercase font-bold mb-1",children:"Listed"}),x.jsx("div",{className:"text-white font-mono font-bold text-base md:text-lg",children:b.listedCount})]})]})]}),x.jsxs("div",{className:"lg:w-2/3 h-[200px] md:h-[250px] bg-black p-4 relative group overflow-hidden",children:[x.jsxs("div",{className:"absolute top-4 left-4 z-10 flex gap-4 text-[10px] md:text-xs font-bold font-mono pointer-events-none",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:`w-2 h-2 ${h==="text-magic-purple"?"bg-magic-purple":"bg-magic-green"}`}),x.jsx("span",{className:"text-white",children:"FLOOR_PRICE"})]}),x.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[x.jsx("div",{className:"w-2 h-2 bg-gray-700"}),x.jsx("span",{children:"AVG_PRICE"})]})]}),x.jsx(Eq,{data:M,color:h==="text-magic-purple"?"#9945ff":"#adff02"})]})]})})}),x.jsxs("div",{className:"flex-grow flex flex-col lg:flex-row max-w-[1600px] w-full mx-auto border-l border-r border-white/20",children:[x.jsxs("div",{className:"hidden lg:block w-72 border-r border-white/20 p-4 sticky top-16 h-[calc(100vh-64px)] overflow-y-auto bg-black",children:[x.jsxs("div",{className:"flex items-center justify-between text-white font-bold mb-6 pb-4 border-b border-white/20",children:[x.jsxs("span",{className:"flex items-center gap-2 uppercase tracking-wider text-sm",children:[x.jsx(J2,{className:`w-4 h-4 ${h}`})," Filters"]}),x.jsx(XM,{className:"w-4 h-4"})]}),x.jsx(Q,{})]}),x.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-black",children:[x.jsx("div",{className:"sticky top-16 z-30 bg-black/95 backdrop-blur border-b border-white/20 p-3",children:x.jsxs("div",{className:"flex flex-col gap-3",children:[x.jsxs("div",{className:"flex items-center justify-between gap-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{onClick:()=>f(!0),className:`lg:hidden p-2 text-white border border-white/20 hover:border-current hover:${h} transition-colors`,children:x.jsx(HG,{className:"w-4 h-4"})}),x.jsxs("div",{className:"flex",children:[x.jsx("button",{onClick:()=>i("items"),className:`px-3 md:px-4 py-2 text-[10px] md:text-xs font-bold uppercase tracking-widest border transition-colors ${r==="items"?"bg-white text-black border-white":"text-gray-400 border-white/10 hover:border-white/40 hover:text-white"}`,children:"Items"}),x.jsx("button",{onClick:()=>i("activity"),className:`px-3 md:px-4 py-2 text-[10px] md:text-xs font-bold uppercase tracking-widest border border-l-0 transition-colors ${r==="activity"?"bg-white text-black border-white":"text-gray-400 border-white/10 hover:border-white/40 hover:text-white"}`,children:"Activity"})]}),x.jsx("button",{className:`p-2 text-gray-500 hover:${h} transition-colors hidden sm:block`,children:x.jsx(QM,{className:"w-4 h-4"})})]}),x.jsxs("div",{className:"relative hidden md:block",children:[x.jsx("input",{type:"text",placeholder:"SEARCH ID",value:e,onChange:Z=>t(Z.target.value),className:`bg-black border border-white/20 pl-8 pr-4 py-2 text-xs text-white ${J} outline-none w-48 placeholder-gray-700 font-mono transition-all`}),x.jsx(Hp,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 text-gray-600 w-3 h-3"})]})]}),x.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[x.jsxs("div",{className:"flex-1 flex items-center gap-2 md:gap-3 bg-white/5 px-3 py-2 border border-white/10",children:[x.jsx("span",{className:`text-[10px] md:text-xs font-bold ${h} whitespace-nowrap uppercase tracking-wider`,children:"SWEEP"}),x.jsx("input",{type:"range",min:"0",max:"10",step:"1",value:o,onChange:Z=>l(parseInt(Z.target.value)),className:"w-full h-1 bg-gray-800 rounded-none appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:bg-white"}),x.jsx("span",{className:"text-xs md:text-sm font-mono font-bold w-6 text-center text-white",children:o})]}),x.jsx("div",{className:"relative md:hidden w-1/3",children:x.jsx("input",{type:"text",placeholder:"ID#",value:e,onChange:Z=>t(Z.target.value),className:`w-full bg-black border border-white/20 px-2 py-2 text-xs text-white ${J} outline-none placeholder-gray-700 font-mono text-center`})})]})]})}),x.jsx("div",{className:"p-2 md:p-4 bg-black min-h-screen",children:r==="items"?x.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-2 md:gap-4",children:ie==null?void 0:ie.map(Z=>x.jsx(vq,{nft:Z,collectionName:b.name,isSelected:se.has(Z.id),onToggle:()=>{}},Z.id))}):x.jsx("div",{className:"border border-white/20 bg-black overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left min-w-[500px]",children:[x.jsx("thead",{className:"bg-white/5 text-gray-500 font-mono text-xs uppercase",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-3",children:"Item"}),x.jsx("th",{className:"p-3 text-right",children:"Price"}),x.jsx("th",{className:"p-3 text-right",children:"From"}),x.jsx("th",{className:"p-3 text-right",children:"To"}),x.jsx("th",{className:"p-3 text-right",children:"Time"})]})}),x.jsx("tbody",{className:"divide-y divide-white/10 font-mono text-xs md:text-sm",children:Y.map(Z=>x.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[x.jsxs("td",{className:"p-3 flex items-center gap-3",children:[x.jsx("img",{src:Z.image,className:"w-8 h-8 object-cover border border-white/20",alt:""}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("span",{className:"font-bold text-white",children:Z.name}),x.jsx("span",{className:`text-[9px] w-fit px-1 border ${Z.type==="sale"?`${h} border-current`:"border-blue-500 text-blue-500"} uppercase`,children:Z.type})]})]}),x.jsxs("td",{className:"p-3 text-right text-white font-bold",children:[d," ",Z.price]}),x.jsx("td",{className:"p-3 text-right text-gray-400 truncate max-w-[80px]",children:Z.from}),x.jsx("td",{className:"p-3 text-right text-gray-500 truncate max-w-[80px]",children:Z.to||"-"}),x.jsx("td",{className:"p-3 text-right text-gray-600",children:Z.time})]},Z.id))})]})})})]}),x.jsxs("div",{className:"hidden xl:block w-80 border-l border-white/20 p-0 sticky top-16 h-[calc(100vh-64px)] overflow-y-auto bg-black",children:[x.jsx("div",{className:"p-4 border-b border-white/20 bg-white/5",children:x.jsxs("h3",{className:"text-xs font-bold text-white uppercase tracking-widest flex items-center gap-2",children:[x.jsx(nd,{className:`w-3 h-3 ${h}`})," Live Feed"]})}),x.jsx("div",{className:"divide-y divide-white/10",children:Y.filter(Z=>Z.type==="sale").map(Z=>x.jsxs("div",{className:"p-3 flex gap-3 items-start hover:bg-white/5 transition-colors group cursor-pointer",children:[x.jsx("div",{className:"w-10 h-10 bg-gray-800 border border-white/20 flex-shrink-0",children:x.jsx("img",{src:Z.image,className:"w-full h-full object-cover grayscale group-hover:grayscale-0",alt:""})}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[x.jsx("span",{className:"text-xs font-bold text-white truncate",children:Z.name}),x.jsxs("span",{className:`text-sm font-mono ${h}`,children:[d,Z.price]})]}),x.jsxs("div",{className:"flex justify-between text-[10px] text-gray-500 font-mono",children:[x.jsx("span",{children:Z.time}),x.jsx("span",{className:"text-gray-600",children:"SALE"})]})]})]},Z.id))})]})]}),o>0&&x.jsx("div",{className:`fixed bottom-0 left-0 w-full ${h==="text-magic-purple"?"bg-magic-purple":"bg-magic-green"} text-black border-t-2 border-white z-50 animate-slide-up shadow-[0_-5px_20px_rgba(0,0,0,0.5)]`,children:x.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 md:px-6 py-3 md:py-4 flex flex-col sm:flex-row items-center justify-between gap-3",children:[x.jsxs("div",{className:"flex items-center gap-8 w-full sm:w-auto justify-between sm:justify-start",children:[x.jsxs("div",{className:"flex flex-col",children:[x.jsx("span",{className:"text-[9px] uppercase font-bold text-black/60 tracking-widest",children:"Quantity"}),x.jsxs("span",{className:"text-lg md:text-xl font-black",children:[o," ITEMS"]})]}),x.jsx("div",{className:"w-px h-8 bg-black/20 hidden sm:block"}),x.jsxs("div",{className:"flex flex-col text-right sm:text-left",children:[x.jsx("span",{className:"text-[9px] uppercase font-bold text-black/60 tracking-widest",children:"Total"}),x.jsxs("span",{className:"text-lg md:text-xl font-black font-mono",children:[d," ",re]})]})]}),x.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[x.jsx("button",{onClick:()=>l(0),className:"flex-1 sm:flex-none px-4 py-3 font-bold uppercase hover:bg-black/10 transition-colors text-xs border border-black/10",children:"Cancel"}),x.jsxs("button",{className:"flex-[2] sm:flex-none bg-black text-white px-6 py-3 font-bold uppercase tracking-widest hover:bg-white hover:text-black border border-black transition-colors flex items-center justify-center gap-2 text-xs md:text-sm",children:[x.jsx(S1,{className:"w-4 h-4"}),x.jsx("span",{className:"truncate",children:"Buy Now"})]})]})]})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let xq,Aq;function Sq(){return{geminiUrl:xq,vertexUrl:Aq}}function Tq(n,e,t,r){var i,o;if(!(n!=null&&n.baseUrl)){const l=Sq();return e?(i=l.vertexUrl)!==null&&i!==void 0?i:t:(o=l.geminiUrl)!==null&&o!==void 0?o:r}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ls{}function Je(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function w(n,e,t){for(let o=0;o<e.length-1;o++){const l=e[o];if(l.endsWith("[]")){const c=l.slice(0,-2);if(!(c in n))if(Array.isArray(t))n[c]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(n[c])){const f=n[c];if(Array.isArray(t))for(let d=0;d<f.length;d++){const h=f[d];w(h,e.slice(o+1),t[d])}else for(const d of f)w(d,e.slice(o+1),t)}return}else if(l.endsWith("[0]")){const c=l.slice(0,-3);c in n||(n[c]=[{}]);const f=n[c];w(f[0],e.slice(o+1),t);return}(!n[l]||typeof n[l]!="object")&&(n[l]={}),n=n[l]}const r=e[e.length-1],i=n[r];if(i!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===i)return;if(typeof i=="object"&&typeof t=="object"&&i!==null&&t!==null)Object.assign(i,t);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[r]=t}function m(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let r=0;r<e.length;r++){if(typeof n!="object"||n===null)return t;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in n){const l=n[o];return Array.isArray(l)?l.map(c=>m(c,e.slice(r+1),t)):t}else return t}else n=n[i]}return n}catch(r){if(r instanceof TypeError)return t;throw r}}function Rq(n,e){for(const[t,r]of Object.entries(e)){const i=t.split("."),o=r.split("."),l=new Set;let c=-1;for(let f=0;f<i.length;f++)if(i[f]==="*"){c=f;break}if(c!==-1&&o.length>c)for(let f=c;f<o.length;f++){const d=o[f];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}N1(n,i,o,0,l)}}function N1(n,e,t,r,i){if(r>=e.length||typeof n!="object"||n===null)return;const o=e[r];if(o.endsWith("[]")){const l=o.slice(0,-2),c=n;if(l in c&&Array.isArray(c[l]))for(const f of c[l])N1(f,e,t,r+1,i)}else if(o==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const l=n,c=Object.keys(l).filter(d=>!d.startsWith("_")&&!i.has(d)),f={};for(const d of c)f[d]=l[d];for(const[d,h]of Object.entries(f)){const b=[];for(const E of t.slice(r))E==="*"?b.push(d):b.push(E);w(l,b,h)}for(const d of c)delete l[d]}}else{const l=n;o in l&&N1(l[o],e,t,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vb(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nq(n){const e={},t=m(n,["operationName"]);t!=null&&w(e,["operationName"],t);const r=m(n,["resourceName"]);return r!=null&&w(e,["_url","resourceName"],r),e}function Cq(n){const e={},t=m(n,["name"]);t!=null&&w(e,["name"],t);const r=m(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=m(n,["done"]);i!=null&&w(e,["done"],i);const o=m(n,["error"]);o!=null&&w(e,["error"],o);const l=m(n,["response","generateVideoResponse"]);return l!=null&&w(e,["response"],kq(l)),e}function Iq(n){const e={},t=m(n,["name"]);t!=null&&w(e,["name"],t);const r=m(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=m(n,["done"]);i!=null&&w(e,["done"],i);const o=m(n,["error"]);o!=null&&w(e,["error"],o);const l=m(n,["response"]);return l!=null&&w(e,["response"],Mq(l)),e}function kq(n){const e={},t=m(n,["generatedSamples"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(l=>Oq(l))),w(e,["generatedVideos"],o)}const r=m(n,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=m(n,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function Mq(n){const e={},t=m(n,["videos"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(l=>Bq(l))),w(e,["generatedVideos"],o)}const r=m(n,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=m(n,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function Oq(n){const e={},t=m(n,["video"]);return t!=null&&w(e,["video"],Hq(t)),e}function Bq(n){const e={},t=m(n,["_self"]);return t!=null&&w(e,["video"],zq(t)),e}function Lq(n){const e={},t=m(n,["operationName"]);return t!=null&&w(e,["_url","operationName"],t),e}function Uq(n){const e={},t=m(n,["operationName"]);return t!=null&&w(e,["_url","operationName"],t),e}function Dq(n){const e={},t=m(n,["name"]);t!=null&&w(e,["name"],t);const r=m(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=m(n,["done"]);i!=null&&w(e,["done"],i);const o=m(n,["error"]);o!=null&&w(e,["error"],o);const l=m(n,["response"]);return l!=null&&w(e,["response"],Pq(l)),e}function Pq(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=m(n,["parent"]);r!=null&&w(e,["parent"],r);const i=m(n,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function o3(n){const e={},t=m(n,["name"]);t!=null&&w(e,["name"],t);const r=m(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=m(n,["done"]);i!=null&&w(e,["done"],i);const o=m(n,["error"]);o!=null&&w(e,["error"],o);const l=m(n,["response"]);return l!=null&&w(e,["response"],Fq(l)),e}function Fq(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=m(n,["parent"]);r!=null&&w(e,["parent"],r);const i=m(n,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function Hq(n){const e={},t=m(n,["uri"]);t!=null&&w(e,["uri"],t);const r=m(n,["encodedVideo"]);r!=null&&w(e,["videoBytes"],Vb(r));const i=m(n,["encoding"]);return i!=null&&w(e,["mimeType"],i),e}function zq(n){const e={},t=m(n,["gcsUri"]);t!=null&&w(e,["uri"],t);const r=m(n,["bytesBase64Encoded"]);r!=null&&w(e,["videoBytes"],Vb(r));const i=m(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var eT;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(eT||(eT={}));var tT;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(tT||(tT={}));var nT;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(nT||(nT={}));var sa;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(sa||(sa={}));var rT;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(rT||(rT={}));var iT;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(iT||(iT={}));var oT;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(oT||(oT={}));var sT;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(sT||(sT={}));var aT;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(aT||(aT={}));var lT;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(lT||(lT={}));var cT;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(cT||(cT={}));var uT;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(uT||(uT={}));var fT;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(fT||(fT={}));var dT;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(dT||(dT={}));var hT;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(hT||(hT={}));var pT;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(pT||(pT={}));var mT;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(mT||(mT={}));var gT;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(gT||(gT={}));var yT;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(yT||(yT={}));var Gp;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Gp||(Gp={}));var wT;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(wT||(wT={}));var bT;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(bT||(bT={}));var vT;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(vT||(vT={}));var C1;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(C1||(C1={}));var ET;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(ET||(ET={}));var _T;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(_T||(_T={}));var xT;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(xT||(xT={}));var AT;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(AT||(AT={}));var ST;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(ST||(ST={}));var TT;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(TT||(TT={}));var RT;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(RT||(RT={}));var NT;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(NT||(NT={}));var CT;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(CT||(CT={}));var IT;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(IT||(IT={}));var kT;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(kT||(kT={}));var MT;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(MT||(MT={}));var OT;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(OT||(OT={}));var BT;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(BT||(BT={}));var LT;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(LT||(LT={}));var UT;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(UT||(UT={}));var DT;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(DT||(DT={}));var PT;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(PT||(PT={}));var FT;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(FT||(FT={}));var HT;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(HT||(HT={}));var zT;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(zT||(zT={}));var GT;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(GT||(GT={}));var qT;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(qT||(qT={}));var VT;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(VT||(VT={}));var KT;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(KT||(KT={}));var WT;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(WT||(WT={}));var $T;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})($T||($T={}));var jT;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(jT||(jT={}));var YT;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(YT||(YT={}));var JT;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(JT||(JT={}));var Cc;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Cc||(Cc={}));class I1{constructor(e){const t={};for(const r of e.headers.entries())t[r[0]]=r[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class sf{get text(){var e,t,r,i,o,l,c,f;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const b=[];for(const E of(f=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[v,N]of Object.entries(E))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(N!==null||N!==void 0)&&b.push(v);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;h=!0,d+=E.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var e,t,r,i,o,l,c,f;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const b of(f=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[E,v]of Object.entries(b))E!=="inlineData"&&(v!==null||v!==void 0)&&h.push(E);b.inlineData&&typeof b.inlineData.data=="string"&&(d+=atob(b.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,t,r,i,o,l,c,f;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,t,r,i,o,l,c,f,d;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(f=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,t,r,i,o,l,c,f,d;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(f=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class ZT{}class XT{}class Gq{}class qq{}class Vq{}class Kq{}class QT{}class eR{}class tR{}class Wq{}class qp{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new qp;let i;const o=e;return t?i=Iq(o):i=Cq(o),Object.assign(r,i),r}}class nR{}class rR{}class iR{}class $q{}class jq{}class Yq{}class Kb{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new Kb,o=Dq(e);return Object.assign(r,o),r}}class Jq{}class Zq{}class Xq{}class oR{}class Qq{get text(){var e,t,r;let i="",o=!1;const l=[];for(const c of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[f,d]of Object.entries(c))f!=="text"&&f!=="thought"&&d!==null&&l.push(f);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;o=!0,i+=c.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,t,r;let i="";const o=[];for(const l of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(l))c!=="inlineData"&&f!==null&&o.push(c);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class eV{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Wb{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new Wb,o=o3(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jt(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function s3(n,e){const t=Jt(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function a3(n){return Array.isArray(n)?n.map(e=>Vp(e)):[Vp(n)]}function Vp(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function l3(n){const e=Vp(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function c3(n){const e=Vp(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function sR(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function u3(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>sR(e)):[sR(n)]}function k1(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function aR(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function lR(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Sr(n){if(n==null)throw new Error("ContentUnion is required");return k1(n)?n:{role:"user",parts:u3(n)}}function $b(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const r=Sr(t);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(n.isVertexAI()){const t=Sr(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Sr(t)):[Sr(e)]}function yi(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(aR(n)||lR(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Sr(n)]}const e=[],t=[],r=k1(n[0]);for(const i of n){const o=k1(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(aR(i)||lR(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(i)}}return r||e.push({role:"user",parts:u3(t)}),e}function tV(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(r=>r!=="null");if(t.length===1)e.type=Object.values(sa).includes(t[0].toUpperCase())?t[0].toUpperCase():sa.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of t)e.anyOf.push({type:Object.values(sa).includes(r.toUpperCase())?r.toUpperCase():sa.TYPE_UNSPECIFIED})}}function Pc(n){const e={},t=["items"],r=["anyOf"],i=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=n.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,n=o[1]):o[1].type==="null"&&(e.nullable=!0,n=o[0])),n.type instanceof Array&&tV(n.type,e);for(const[l,c]of Object.entries(n))if(c!=null)if(l=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(sa).includes(c.toUpperCase())?c.toUpperCase():sa.TYPE_UNSPECIFIED}else if(t.includes(l))e[l]=Pc(c);else if(r.includes(l)){const f=[];for(const d of c){if(d.type=="null"){e.nullable=!0;continue}f.push(Pc(d))}e[l]=f}else if(i.includes(l)){const f={};for(const[d,h]of Object.entries(c))f[d]=Pc(h);e[l]=f}else{if(l==="additionalProperties")continue;e[l]=c}return e}function jb(n){return Pc(n)}function Yb(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Jb(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function nu(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Pc(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Pc(e.response));return n}function ru(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function nV(n,e,t,r=1){const i=!e.startsWith(`${t}/`)&&e.split("/").length===r;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:i?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:i?`${t}/${e}`:e}function cs(n,e){if(typeof e!="string")throw new Error("name must be a string");return nV(n,e,"cachedContents")}function f3(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function ma(n){return Vb(n)}function rV(n){return n!=null&&typeof n=="object"&&"name"in n}function iV(n){return n!=null&&typeof n=="object"&&"video"in n}function oV(n){return n!=null&&typeof n=="object"&&"uri"in n}function d3(n){var e;let t;if(rV(n)&&(t=n.name),!(oV(n)&&(t=n.uri,t===void 0))&&!(iV(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const i=t.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${t}`);t=i[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function h3(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function p3(n){for(const e of["models","tunedModels","publisherModels"])if(sV(n,e))return n[e];return[]}function sV(n,e){return n!==null&&typeof n=="object"&&e in n}function aV(n,e={}){const t=n,r={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(r.responseJsonSchema=t.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function lV(n,e={}){const t=[],r=new Set;for(const i of n){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const l=aV(i,e);l.functionDeclarations&&t.push(...l.functionDeclarations)}return{functionDeclarations:t}}function m3(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const r=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,i=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function cV(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function g3(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const i=t.inlinedResponses;if(!Array.isArray(i)||i.length===0)return n;let o=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const f=l.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function iu(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function y3(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uV(n){const e={},t=m(n,["responsesFile"]);t!=null&&w(e,["fileName"],t);const r=m(n,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>VV(l))),w(e,["inlinedResponses"],o)}const i=m(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),w(e,["inlinedEmbedContentResponses"],o)}return e}function fV(n){const e={},t=m(n,["predictionsFormat"]);t!=null&&w(e,["format"],t);const r=m(n,["gcsDestination","outputUriPrefix"]);r!=null&&w(e,["gcsUri"],r);const i=m(n,["bigqueryDestination","outputUri"]);return i!=null&&w(e,["bigqueryUri"],i),e}function dV(n){const e={},t=m(n,["format"]);t!=null&&w(e,["predictionsFormat"],t);const r=m(n,["gcsUri"]);r!=null&&w(e,["gcsDestination","outputUriPrefix"],r);const i=m(n,["bigqueryUri"]);if(i!=null&&w(e,["bigqueryDestination","outputUri"],i),m(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(m(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function dp(n){const e={},t=m(n,["name"]);t!=null&&w(e,["name"],t);const r=m(n,["metadata","displayName"]);r!=null&&w(e,["displayName"],r);const i=m(n,["metadata","state"]);i!=null&&w(e,["state"],y3(i));const o=m(n,["metadata","createTime"]);o!=null&&w(e,["createTime"],o);const l=m(n,["metadata","endTime"]);l!=null&&w(e,["endTime"],l);const c=m(n,["metadata","updateTime"]);c!=null&&w(e,["updateTime"],c);const f=m(n,["metadata","model"]);f!=null&&w(e,["model"],f);const d=m(n,["metadata","output"]);return d!=null&&w(e,["dest"],uV(g3(d))),e}function M1(n){const e={},t=m(n,["name"]);t!=null&&w(e,["name"],t);const r=m(n,["displayName"]);r!=null&&w(e,["displayName"],r);const i=m(n,["state"]);i!=null&&w(e,["state"],y3(i));const o=m(n,["error"]);o!=null&&w(e,["error"],o);const l=m(n,["createTime"]);l!=null&&w(e,["createTime"],l);const c=m(n,["startTime"]);c!=null&&w(e,["startTime"],c);const f=m(n,["endTime"]);f!=null&&w(e,["endTime"],f);const d=m(n,["updateTime"]);d!=null&&w(e,["updateTime"],d);const h=m(n,["model"]);h!=null&&w(e,["model"],h);const b=m(n,["inputConfig"]);b!=null&&w(e,["src"],hV(b));const E=m(n,["outputConfig"]);E!=null&&w(e,["dest"],fV(g3(E)));const v=m(n,["completionStats"]);return v!=null&&w(e,["completionStats"],v),e}function hV(n){const e={},t=m(n,["instancesFormat"]);t!=null&&w(e,["format"],t);const r=m(n,["gcsSource","uris"]);r!=null&&w(e,["gcsUri"],r);const i=m(n,["bigquerySource","inputUri"]);return i!=null&&w(e,["bigqueryUri"],i),e}function pV(n,e){const t={};if(m(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=m(e,["fileName"]);r!=null&&w(t,["fileName"],r);const i=m(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>qV(n,l))),w(t,["requests","requests"],o)}return t}function mV(n){const e={},t=m(n,["format"]);t!=null&&w(e,["instancesFormat"],t);const r=m(n,["gcsUri"]);r!=null&&w(e,["gcsSource","uris"],r);const i=m(n,["bigqueryUri"]);if(i!=null&&w(e,["bigquerySource","inputUri"],i),m(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function gV(n){const e={},t=m(n,["data"]);if(t!=null&&w(e,["data"],t),m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function yV(n,e){const t={},r=m(e,["name"]);return r!=null&&w(t,["_url","name"],iu(n,r)),t}function wV(n,e){const t={},r=m(e,["name"]);return r!=null&&w(t,["_url","name"],iu(n,r)),t}function bV(n){const e={},t=m(n,["content"]);t!=null&&w(e,["content"],t);const r=m(n,["citationMetadata"]);r!=null&&w(e,["citationMetadata"],vV(r));const i=m(n,["tokenCount"]);i!=null&&w(e,["tokenCount"],i);const o=m(n,["finishReason"]);o!=null&&w(e,["finishReason"],o);const l=m(n,["avgLogprobs"]);l!=null&&w(e,["avgLogprobs"],l);const c=m(n,["groundingMetadata"]);c!=null&&w(e,["groundingMetadata"],c);const f=m(n,["index"]);f!=null&&w(e,["index"],f);const d=m(n,["logprobsResult"]);d!=null&&w(e,["logprobsResult"],d);const h=m(n,["safetyRatings"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(v=>v)),w(e,["safetyRatings"],E)}const b=m(n,["urlContextMetadata"]);return b!=null&&w(e,["urlContextMetadata"],b),e}function vV(n){const e={},t=m(n,["citationSources"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["citations"],r)}return e}function w3(n){const e={},t=m(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>ZV(o))),w(e,["parts"],i)}const r=m(n,["role"]);return r!=null&&w(e,["role"],r),e}function EV(n,e){const t={},r=m(n,["displayName"]);if(e!==void 0&&r!=null&&w(e,["batch","displayName"],r),m(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function _V(n,e){const t={},r=m(n,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=m(n,["dest"]);return e!==void 0&&i!=null&&w(e,["outputConfig"],dV(cV(i))),t}function cR(n,e){const t={},r=m(e,["model"]);r!=null&&w(t,["_url","model"],Jt(n,r));const i=m(e,["src"]);i!=null&&w(t,["batch","inputConfig"],pV(n,m3(n,i)));const o=m(e,["config"]);return o!=null&&EV(o,t),t}function xV(n,e){const t={},r=m(e,["model"]);r!=null&&w(t,["model"],Jt(n,r));const i=m(e,["src"]);i!=null&&w(t,["inputConfig"],mV(m3(n,i)));const o=m(e,["config"]);return o!=null&&_V(o,t),t}function AV(n,e){const t={},r=m(n,["displayName"]);return e!==void 0&&r!=null&&w(e,["batch","displayName"],r),t}function SV(n,e){const t={},r=m(e,["model"]);r!=null&&w(t,["_url","model"],Jt(n,r));const i=m(e,["src"]);i!=null&&w(t,["batch","inputConfig"],MV(n,i));const o=m(e,["config"]);return o!=null&&AV(o,t),t}function TV(n,e){const t={},r=m(e,["name"]);return r!=null&&w(t,["_url","name"],iu(n,r)),t}function RV(n,e){const t={},r=m(e,["name"]);return r!=null&&w(t,["_url","name"],iu(n,r)),t}function NV(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=m(n,["name"]);r!=null&&w(e,["name"],r);const i=m(n,["done"]);i!=null&&w(e,["done"],i);const o=m(n,["error"]);return o!=null&&w(e,["error"],o),e}function CV(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=m(n,["name"]);r!=null&&w(e,["name"],r);const i=m(n,["done"]);i!=null&&w(e,["done"],i);const o=m(n,["error"]);return o!=null&&w(e,["error"],o),e}function IV(n,e){const t={},r=m(e,["contents"]);if(r!=null){let o=$b(n,r);Array.isArray(o)&&(o=o.map(l=>l)),w(t,["requests[]","request","content"],o)}const i=m(e,["config"]);return i!=null&&(w(t,["_self"],kV(i,t)),Rq(t,{"requests[].*":"requests[].request.*"})),t}function kV(n,e){const t={},r=m(n,["taskType"]);e!==void 0&&r!=null&&w(e,["requests[]","taskType"],r);const i=m(n,["title"]);e!==void 0&&i!=null&&w(e,["requests[]","title"],i);const o=m(n,["outputDimensionality"]);if(e!==void 0&&o!=null&&w(e,["requests[]","outputDimensionality"],o),m(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function MV(n,e){const t={},r=m(e,["fileName"]);r!=null&&w(t,["file_name"],r);const i=m(e,["inlinedRequests"]);return i!=null&&w(t,["requests"],IV(n,i)),t}function OV(n){const e={};if(m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=m(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=m(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function BV(n){const e={},t=m(n,["id"]);t!=null&&w(e,["id"],t);const r=m(n,["args"]);r!=null&&w(e,["args"],r);const i=m(n,["name"]);if(i!=null&&w(e,["name"],i),m(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function LV(n){const e={},t=m(n,["mode"]);t!=null&&w(e,["mode"],t);const r=m(n,["allowedFunctionNames"]);if(r!=null&&w(e,["allowedFunctionNames"],r),m(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function UV(n,e,t){const r={},i=m(e,["systemInstruction"]);t!==void 0&&i!=null&&w(t,["systemInstruction"],w3(Sr(i)));const o=m(e,["temperature"]);o!=null&&w(r,["temperature"],o);const l=m(e,["topP"]);l!=null&&w(r,["topP"],l);const c=m(e,["topK"]);c!=null&&w(r,["topK"],c);const f=m(e,["candidateCount"]);f!=null&&w(r,["candidateCount"],f);const d=m(e,["maxOutputTokens"]);d!=null&&w(r,["maxOutputTokens"],d);const h=m(e,["stopSequences"]);h!=null&&w(r,["stopSequences"],h);const b=m(e,["responseLogprobs"]);b!=null&&w(r,["responseLogprobs"],b);const E=m(e,["logprobs"]);E!=null&&w(r,["logprobs"],E);const v=m(e,["presencePenalty"]);v!=null&&w(r,["presencePenalty"],v);const N=m(e,["frequencyPenalty"]);N!=null&&w(r,["frequencyPenalty"],N);const k=m(e,["seed"]);k!=null&&w(r,["seed"],k);const I=m(e,["responseMimeType"]);I!=null&&w(r,["responseMimeType"],I);const L=m(e,["responseSchema"]);L!=null&&w(r,["responseSchema"],jb(L));const F=m(e,["responseJsonSchema"]);if(F!=null&&w(r,["responseJsonSchema"],F),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=m(e,["safetySettings"]);if(t!==void 0&&M!=null){let W=M;Array.isArray(W)&&(W=W.map(O=>XV(O))),w(t,["safetySettings"],W)}const Y=m(e,["tools"]);if(t!==void 0&&Y!=null){let W=ru(Y);Array.isArray(W)&&(W=W.map(O=>eK(nu(O)))),w(t,["tools"],W)}const ie=m(e,["toolConfig"]);if(t!==void 0&&ie!=null&&w(t,["toolConfig"],QV(ie)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const se=m(e,["cachedContent"]);t!==void 0&&se!=null&&w(t,["cachedContent"],cs(n,se));const re=m(e,["responseModalities"]);re!=null&&w(r,["responseModalities"],re);const ae=m(e,["mediaResolution"]);ae!=null&&w(r,["mediaResolution"],ae);const J=m(e,["speechConfig"]);if(J!=null&&w(r,["speechConfig"],Yb(J)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Q=m(e,["thinkingConfig"]);Q!=null&&w(r,["thinkingConfig"],Q);const Z=m(e,["imageConfig"]);return Z!=null&&w(r,["imageConfig"],GV(Z)),r}function DV(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=m(n,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>bV(d))),w(e,["candidates"],f)}const i=m(n,["modelVersion"]);i!=null&&w(e,["modelVersion"],i);const o=m(n,["promptFeedback"]);o!=null&&w(e,["promptFeedback"],o);const l=m(n,["responseId"]);l!=null&&w(e,["responseId"],l);const c=m(n,["usageMetadata"]);return c!=null&&w(e,["usageMetadata"],c),e}function PV(n,e){const t={},r=m(e,["name"]);return r!=null&&w(t,["_url","name"],iu(n,r)),t}function FV(n,e){const t={},r=m(e,["name"]);return r!=null&&w(t,["_url","name"],iu(n,r)),t}function HV(n){const e={};if(m(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=m(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function zV(n){const e={};if(m(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=m(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function GV(n){const e={},t=m(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const r=m(n,["imageSize"]);if(r!=null&&w(e,["imageSize"],r),m(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function qV(n,e){const t={},r=m(e,["model"]);r!=null&&w(t,["request","model"],Jt(n,r));const i=m(e,["contents"]);if(i!=null){let c=yi(i);Array.isArray(c)&&(c=c.map(f=>w3(f))),w(t,["request","contents"],c)}const o=m(e,["metadata"]);o!=null&&w(t,["metadata"],o);const l=m(e,["config"]);return l!=null&&w(t,["request","generationConfig"],UV(n,l,m(t,["request"],{}))),t}function VV(n){const e={},t=m(n,["response"]);t!=null&&w(e,["response"],DV(t));const r=m(n,["error"]);return r!=null&&w(e,["error"],r),e}function KV(n,e){const t={},r=m(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=m(n,["pageToken"]);if(e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),m(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function WV(n,e){const t={},r=m(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=m(n,["pageToken"]);e!==void 0&&i!=null&&w(e,["_query","pageToken"],i);const o=m(n,["filter"]);return e!==void 0&&o!=null&&w(e,["_query","filter"],o),t}function $V(n){const e={},t=m(n,["config"]);return t!=null&&KV(t,e),e}function jV(n){const e={},t=m(n,["config"]);return t!=null&&WV(t,e),e}function YV(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=m(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=m(n,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>dp(l))),w(e,["batchJobs"],o)}return e}function JV(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=m(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=m(n,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>M1(l))),w(e,["batchJobs"],o)}return e}function ZV(n){const e={},t=m(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=m(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=m(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const o=m(n,["fileData"]);o!=null&&w(e,["fileData"],OV(o));const l=m(n,["functionCall"]);l!=null&&w(e,["functionCall"],BV(l));const c=m(n,["functionResponse"]);c!=null&&w(e,["functionResponse"],c);const f=m(n,["inlineData"]);f!=null&&w(e,["inlineData"],gV(f));const d=m(n,["text"]);d!=null&&w(e,["text"],d);const h=m(n,["thought"]);h!=null&&w(e,["thought"],h);const b=m(n,["thoughtSignature"]);b!=null&&w(e,["thoughtSignature"],b);const E=m(n,["videoMetadata"]);return E!=null&&w(e,["videoMetadata"],E),e}function XV(n){const e={},t=m(n,["category"]);if(t!=null&&w(e,["category"],t),m(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(n,["threshold"]);return r!=null&&w(e,["threshold"],r),e}function QV(n){const e={},t=m(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],LV(t));const r=m(n,["retrievalConfig"]);return r!=null&&w(e,["retrievalConfig"],r),e}function eK(n){const e={},t=m(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(b=>b)),w(e,["functionDeclarations"],h)}if(m(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=m(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const o=m(n,["fileSearch"]);o!=null&&w(e,["fileSearch"],o);const l=m(n,["codeExecution"]);if(l!=null&&w(e,["codeExecution"],l),m(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=m(n,["googleMaps"]);c!=null&&w(e,["googleMaps"],HV(c));const f=m(n,["googleSearch"]);f!=null&&w(e,["googleSearch"],zV(f));const d=m(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var os;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(os||(os={}));class wl{constructor(e,t,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,r,i)}init(e,t,r){var i,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=t.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tK extends ls{constructor(e){super(),this.apiClient=e,this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)},this.list=async(t={})=>new wl(os.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(t),t)}createInlinedGenerateContentRequest(e){const t=cR(this.apiClient,e),r=t._url,i=Je("{model}:batchGenerateContent",r),c=t.batch.inputConfig.requests,f=c.requests,d=[];for(const h of f){const b=Object.assign({},h);if(b.systemInstruction){const E=b.systemInstruction;delete b.systemInstruction;const v=b.request;v.systemInstruction=E,b.request=v}d.push(b)}return c.requests=d,delete t.config,delete t._url,delete t._query,{path:i,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const r=t?Object.assign({},t):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),l=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var t,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=xV(this.apiClient,e);return c=Je("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>M1(h))}else{const d=cR(this.apiClient,e);return c=Je("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>dp(h))}}async createEmbeddingsInternal(e){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=SV(this.apiClient,e);return o=Je("{model}:asyncBatchEmbedContent",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>dp(f))}}async get(e){var t,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=FV(this.apiClient,e);return c=Je("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>M1(h))}else{const d=PV(this.apiClient,e);return c=Je("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>dp(h))}}async cancel(e){var t,r,i,o;let l="",c={};if(this.apiClient.isVertexAI()){const f=wV(this.apiClient,e);l=Je("batchPredictionJobs/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=yV(this.apiClient,e);l=Je("batches/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var t,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=jV(e);return c=Je("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:h.headers},E})),l.then(h=>{const b=JV(h),E=new oR;return Object.assign(E,b),E})}else{const d=$V(e);return c=Je("batches",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:h.headers},E})),l.then(h=>{const b=YV(h),E=new oR;return Object.assign(E,b),E})}}async delete(e){var t,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=RV(this.apiClient,e);return c=Je("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:h.headers},E})),l.then(h=>CV(h))}else{const d=TV(this.apiClient,e);return c=Je("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:h.headers},E})),l.then(h=>NV(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nK(n){const e={},t=m(n,["data"]);if(t!=null&&w(e,["data"],t),m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function uR(n){const e={},t=m(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>SK(o))),w(e,["parts"],i)}const r=m(n,["role"]);return r!=null&&w(e,["role"],r),e}function rK(n,e){const t={},r=m(n,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=m(n,["expireTime"]);e!==void 0&&i!=null&&w(e,["expireTime"],i);const o=m(n,["displayName"]);e!==void 0&&o!=null&&w(e,["displayName"],o);const l=m(n,["contents"]);if(e!==void 0&&l!=null){let h=yi(l);Array.isArray(h)&&(h=h.map(b=>uR(b))),w(e,["contents"],h)}const c=m(n,["systemInstruction"]);e!==void 0&&c!=null&&w(e,["systemInstruction"],uR(Sr(c)));const f=m(n,["tools"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(b=>RK(b))),w(e,["tools"],h)}const d=m(n,["toolConfig"]);if(e!==void 0&&d!=null&&w(e,["toolConfig"],TK(d)),m(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function iK(n,e){const t={},r=m(n,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=m(n,["expireTime"]);e!==void 0&&i!=null&&w(e,["expireTime"],i);const o=m(n,["displayName"]);e!==void 0&&o!=null&&w(e,["displayName"],o);const l=m(n,["contents"]);if(e!==void 0&&l!=null){let b=yi(l);Array.isArray(b)&&(b=b.map(E=>E)),w(e,["contents"],b)}const c=m(n,["systemInstruction"]);e!==void 0&&c!=null&&w(e,["systemInstruction"],Sr(c));const f=m(n,["tools"]);if(e!==void 0&&f!=null){let b=f;Array.isArray(b)&&(b=b.map(E=>NK(E))),w(e,["tools"],b)}const d=m(n,["toolConfig"]);e!==void 0&&d!=null&&w(e,["toolConfig"],d);const h=m(n,["kmsKeyName"]);return e!==void 0&&h!=null&&w(e,["encryption_spec","kmsKeyName"],h),t}function oK(n,e){const t={},r=m(e,["model"]);r!=null&&w(t,["model"],s3(n,r));const i=m(e,["config"]);return i!=null&&rK(i,t),t}function sK(n,e){const t={},r=m(e,["model"]);r!=null&&w(t,["model"],s3(n,r));const i=m(e,["config"]);return i!=null&&iK(i,t),t}function aK(n,e){const t={},r=m(e,["name"]);return r!=null&&w(t,["_url","name"],cs(n,r)),t}function lK(n,e){const t={},r=m(e,["name"]);return r!=null&&w(t,["_url","name"],cs(n,r)),t}function cK(n){const e={},t=m(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function uK(n){const e={},t=m(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function fK(n){const e={};if(m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=m(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=m(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function dK(n){const e={},t=m(n,["id"]);t!=null&&w(e,["id"],t);const r=m(n,["args"]);r!=null&&w(e,["args"],r);const i=m(n,["name"]);if(i!=null&&w(e,["name"],i),m(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function hK(n){const e={},t=m(n,["mode"]);t!=null&&w(e,["mode"],t);const r=m(n,["allowedFunctionNames"]);if(r!=null&&w(e,["allowedFunctionNames"],r),m(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function pK(n){const e={};if(m(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=m(n,["description"]);t!=null&&w(e,["description"],t);const r=m(n,["name"]);r!=null&&w(e,["name"],r);const i=m(n,["parameters"]);i!=null&&w(e,["parameters"],i);const o=m(n,["parametersJsonSchema"]);o!=null&&w(e,["parametersJsonSchema"],o);const l=m(n,["response"]);l!=null&&w(e,["response"],l);const c=m(n,["responseJsonSchema"]);return c!=null&&w(e,["responseJsonSchema"],c),e}function mK(n,e){const t={},r=m(e,["name"]);return r!=null&&w(t,["_url","name"],cs(n,r)),t}function gK(n,e){const t={},r=m(e,["name"]);return r!=null&&w(t,["_url","name"],cs(n,r)),t}function yK(n){const e={};if(m(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=m(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function wK(n){const e={};if(m(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=m(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function bK(n,e){const t={},r=m(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=m(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function vK(n,e){const t={},r=m(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=m(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function EK(n){const e={},t=m(n,["config"]);return t!=null&&bK(t,e),e}function _K(n){const e={},t=m(n,["config"]);return t!=null&&vK(t,e),e}function xK(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=m(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=m(n,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),w(e,["cachedContents"],o)}return e}function AK(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=m(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=m(n,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),w(e,["cachedContents"],o)}return e}function SK(n){const e={},t=m(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=m(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=m(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const o=m(n,["fileData"]);o!=null&&w(e,["fileData"],fK(o));const l=m(n,["functionCall"]);l!=null&&w(e,["functionCall"],dK(l));const c=m(n,["functionResponse"]);c!=null&&w(e,["functionResponse"],c);const f=m(n,["inlineData"]);f!=null&&w(e,["inlineData"],nK(f));const d=m(n,["text"]);d!=null&&w(e,["text"],d);const h=m(n,["thought"]);h!=null&&w(e,["thought"],h);const b=m(n,["thoughtSignature"]);b!=null&&w(e,["thoughtSignature"],b);const E=m(n,["videoMetadata"]);return E!=null&&w(e,["videoMetadata"],E),e}function TK(n){const e={},t=m(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],hK(t));const r=m(n,["retrievalConfig"]);return r!=null&&w(e,["retrievalConfig"],r),e}function RK(n){const e={},t=m(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(b=>b)),w(e,["functionDeclarations"],h)}if(m(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=m(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const o=m(n,["fileSearch"]);o!=null&&w(e,["fileSearch"],o);const l=m(n,["codeExecution"]);if(l!=null&&w(e,["codeExecution"],l),m(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=m(n,["googleMaps"]);c!=null&&w(e,["googleMaps"],yK(c));const f=m(n,["googleSearch"]);f!=null&&w(e,["googleSearch"],wK(f));const d=m(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function NK(n){const e={},t=m(n,["functionDeclarations"]);if(t!=null){let b=t;Array.isArray(b)&&(b=b.map(E=>pK(E))),w(e,["functionDeclarations"],b)}const r=m(n,["retrieval"]);r!=null&&w(e,["retrieval"],r);const i=m(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const o=m(n,["computerUse"]);if(o!=null&&w(e,["computerUse"],o),m(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=m(n,["codeExecution"]);l!=null&&w(e,["codeExecution"],l);const c=m(n,["enterpriseWebSearch"]);c!=null&&w(e,["enterpriseWebSearch"],c);const f=m(n,["googleMaps"]);f!=null&&w(e,["googleMaps"],f);const d=m(n,["googleSearch"]);d!=null&&w(e,["googleSearch"],d);const h=m(n,["urlContext"]);return h!=null&&w(e,["urlContext"],h),e}function CK(n,e){const t={},r=m(n,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=m(n,["expireTime"]);return e!==void 0&&i!=null&&w(e,["expireTime"],i),t}function IK(n,e){const t={},r=m(n,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=m(n,["expireTime"]);return e!==void 0&&i!=null&&w(e,["expireTime"],i),t}function kK(n,e){const t={},r=m(e,["name"]);r!=null&&w(t,["_url","name"],cs(n,r));const i=m(e,["config"]);return i!=null&&CK(i,t),t}function MK(n,e){const t={},r=m(e,["name"]);r!=null&&w(t,["_url","name"],cs(n,r));const i=m(e,["config"]);return i!=null&&IK(i,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OK extends ls{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new wl(os.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(t),t)}async create(e){var t,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=sK(this.apiClient,e);return c=Je("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=oK(this.apiClient,e);return c=Je("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async get(e){var t,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=gK(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=mK(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async delete(e){var t,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=lK(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:h.headers},E})),l.then(h=>{const b=uK(h),E=new rR;return Object.assign(E,b),E})}else{const d=aK(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:h.headers},E})),l.then(h=>{const b=cK(h),E=new rR;return Object.assign(E,b),E})}}async update(e){var t,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=MK(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=kK(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async listInternal(e){var t,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=_K(e);return c=Je("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:h.headers},E})),l.then(h=>{const b=AK(h),E=new iR;return Object.assign(E,b),E})}else{const d=EK(e);return c=Je("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:h.headers},E})),l.then(h=>{const b=xK(h),E=new iR;return Object.assign(E,b),E})}}}function fR(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bn(n){return this instanceof bn?(this.v=n,this):new bn(n)}function Fc(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(v){return function(N){return Promise.resolve(N).then(v,b)}}function c(v,N){r[v]&&(i[v]=function(k){return new Promise(function(I,L){o.push([v,k,I,L])>1||f(v,k)})},N&&(i[v]=N(i[v])))}function f(v,N){try{d(r[v](N))}catch(k){E(o[0][3],k)}}function d(v){v.value instanceof bn?Promise.resolve(v.value.v).then(h,b):E(o[0][2],v)}function h(v){f("next",v)}function b(v){f("throw",v)}function E(v,N){v(N),o.shift(),o.length&&f(o[0][0],o[0][1])}}function Rf(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof fR=="function"?fR(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(l){return new Promise(function(c,f){l=n[o](l),i(c,f,l.done,l.value)})}}function i(o,l,c,f){Promise.resolve(f).then(function(d){o({value:d,done:c})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BK(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:b3(t)}function b3(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function LK(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function dR(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let r=0;for(;r<t;)if(n[r].role==="user")e.push(n[r]),r++;else{const i=[];let o=!0;for(;r<t&&n[r].role==="model";)i.push(n[r]),o&&!b3(n[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class UK{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new DK(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class DK{constructor(e,t,r,i={},o=[]){this.apiClient=e,this.modelsModule=t,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),LK(o)}async sendMessage(e){var t;await this.sendPromise;const r=Sr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var o,l,c;const f=await i,d=(l=(o=f.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,h=f.automaticFunctionCallingHistory,b=this.getHistory(!0).length;let E=[];h!=null&&(E=(c=h.slice(b))!==null&&c!==void 0?c:[]);const v=d?[d]:[];this.recordHistory(r,v,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var t;await this.sendPromise;const r=Sr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const t=e?dR(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var r,i;return Fc(this,arguments,function*(){var l,c,f,d;const h=[];try{for(var b=!0,E=Rf(e),v;v=yield bn(E.next()),l=v.done,!l;b=!0){d=v.value,b=!1;const N=d;if(BK(N)){const k=(i=(r=N.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;k!==void 0&&h.push(k)}yield yield bn(N)}}catch(N){c={error:N}}finally{try{!b&&!l&&(f=E.return)&&(yield bn(f.call(E)))}finally{if(c)throw c.error}}this.recordHistory(t,h)})}recordHistory(e,t,r){let i=[];t.length>0&&t.every(o=>o.role!==void 0)?i=t:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...dR(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vm extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,vm.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PK(n){const e={},t=m(n,["file"]);return t!=null&&w(e,["file"],t),e}function FK(n){const e={},t=m(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function HK(n){const e={},t=m(n,["name"]);return t!=null&&w(e,["_url","file"],d3(t)),e}function zK(n){const e={},t=m(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function GK(n){const e={},t=m(n,["name"]);return t!=null&&w(e,["_url","file"],d3(t)),e}function qK(n,e){const t={},r=m(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=m(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function VK(n){const e={},t=m(n,["config"]);return t!=null&&qK(t,e),e}function KK(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=m(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=m(n,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),w(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WK extends ls{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new wl(os.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=VK(e);return o=Je("files",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=KK(f),h=new Jq;return Object.assign(h,d),h})}}async createInternal(e){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=PK(e);return o=Je("upload/v1beta/files",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=FK(f),h=new Zq;return Object.assign(h,d),h})}}async get(e){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=GK(e);return o=Je("files/{file}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=HK(e);return o=Je("files/{file}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=zK(f),h=new Xq;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hp(n){const e={},t=m(n,["data"]);if(t!=null&&w(e,["data"],t),m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function $K(n){const e={},t=m(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>cW(o))),w(e,["parts"],i)}const r=m(n,["role"]);return r!=null&&w(e,["role"],r),e}function jK(n){const e={};if(m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=m(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=m(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function YK(n){const e={},t=m(n,["id"]);t!=null&&w(e,["id"],t);const r=m(n,["args"]);r!=null&&w(e,["args"],r);const i=m(n,["name"]);if(i!=null&&w(e,["name"],i),m(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function JK(n){const e={};if(m(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=m(n,["description"]);t!=null&&w(e,["description"],t);const r=m(n,["name"]);r!=null&&w(e,["name"],r);const i=m(n,["parameters"]);i!=null&&w(e,["parameters"],i);const o=m(n,["parametersJsonSchema"]);o!=null&&w(e,["parametersJsonSchema"],o);const l=m(n,["response"]);l!=null&&w(e,["response"],l);const c=m(n,["responseJsonSchema"]);return c!=null&&w(e,["responseJsonSchema"],c),e}function ZK(n){const e={},t=m(n,["modelSelectionConfig"]);t!=null&&w(e,["modelConfig"],t);const r=m(n,["responseJsonSchema"]);r!=null&&w(e,["responseJsonSchema"],r);const i=m(n,["audioTimestamp"]);i!=null&&w(e,["audioTimestamp"],i);const o=m(n,["candidateCount"]);o!=null&&w(e,["candidateCount"],o);const l=m(n,["enableAffectiveDialog"]);l!=null&&w(e,["enableAffectiveDialog"],l);const c=m(n,["frequencyPenalty"]);c!=null&&w(e,["frequencyPenalty"],c);const f=m(n,["logprobs"]);f!=null&&w(e,["logprobs"],f);const d=m(n,["maxOutputTokens"]);d!=null&&w(e,["maxOutputTokens"],d);const h=m(n,["mediaResolution"]);h!=null&&w(e,["mediaResolution"],h);const b=m(n,["presencePenalty"]);b!=null&&w(e,["presencePenalty"],b);const E=m(n,["responseLogprobs"]);E!=null&&w(e,["responseLogprobs"],E);const v=m(n,["responseMimeType"]);v!=null&&w(e,["responseMimeType"],v);const N=m(n,["responseModalities"]);N!=null&&w(e,["responseModalities"],N);const k=m(n,["responseSchema"]);k!=null&&w(e,["responseSchema"],k);const I=m(n,["routingConfig"]);I!=null&&w(e,["routingConfig"],I);const L=m(n,["seed"]);L!=null&&w(e,["seed"],L);const F=m(n,["speechConfig"]);F!=null&&w(e,["speechConfig"],v3(F));const M=m(n,["stopSequences"]);M!=null&&w(e,["stopSequences"],M);const Y=m(n,["temperature"]);Y!=null&&w(e,["temperature"],Y);const ie=m(n,["thinkingConfig"]);ie!=null&&w(e,["thinkingConfig"],ie);const se=m(n,["topK"]);se!=null&&w(e,["topK"],se);const re=m(n,["topP"]);if(re!=null&&w(e,["topP"],re),m(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function XK(n){const e={};if(m(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=m(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function QK(n){const e={};if(m(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=m(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function eW(n,e){const t={},r=m(n,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],r);const i=m(n,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const o=m(n,["temperature"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","temperature"],o);const l=m(n,["topP"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","topP"],l);const c=m(n,["topK"]);e!==void 0&&c!=null&&w(e,["setup","generationConfig","topK"],c);const f=m(n,["maxOutputTokens"]);e!==void 0&&f!=null&&w(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(n,["mediaResolution"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","mediaResolution"],d);const h=m(n,["seed"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","seed"],h);const b=m(n,["speechConfig"]);e!==void 0&&b!=null&&w(e,["setup","generationConfig","speechConfig"],Jb(b));const E=m(n,["thinkingConfig"]);e!==void 0&&E!=null&&w(e,["setup","generationConfig","thinkingConfig"],E);const v=m(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const N=m(n,["systemInstruction"]);e!==void 0&&N!=null&&w(e,["setup","systemInstruction"],$K(Sr(N)));const k=m(n,["tools"]);if(e!==void 0&&k!=null){let se=ru(k);Array.isArray(se)&&(se=se.map(re=>fW(nu(re)))),w(e,["setup","tools"],se)}const I=m(n,["sessionResumption"]);e!==void 0&&I!=null&&w(e,["setup","sessionResumption"],uW(I));const L=m(n,["inputAudioTranscription"]);e!==void 0&&L!=null&&w(e,["setup","inputAudioTranscription"],L);const F=m(n,["outputAudioTranscription"]);e!==void 0&&F!=null&&w(e,["setup","outputAudioTranscription"],F);const M=m(n,["realtimeInputConfig"]);e!==void 0&&M!=null&&w(e,["setup","realtimeInputConfig"],M);const Y=m(n,["contextWindowCompression"]);e!==void 0&&Y!=null&&w(e,["setup","contextWindowCompression"],Y);const ie=m(n,["proactivity"]);return e!==void 0&&ie!=null&&w(e,["setup","proactivity"],ie),t}function tW(n,e){const t={},r=m(n,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],ZK(r));const i=m(n,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const o=m(n,["temperature"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","temperature"],o);const l=m(n,["topP"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","topP"],l);const c=m(n,["topK"]);e!==void 0&&c!=null&&w(e,["setup","generationConfig","topK"],c);const f=m(n,["maxOutputTokens"]);e!==void 0&&f!=null&&w(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(n,["mediaResolution"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","mediaResolution"],d);const h=m(n,["seed"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","seed"],h);const b=m(n,["speechConfig"]);e!==void 0&&b!=null&&w(e,["setup","generationConfig","speechConfig"],v3(Jb(b)));const E=m(n,["thinkingConfig"]);e!==void 0&&E!=null&&w(e,["setup","generationConfig","thinkingConfig"],E);const v=m(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const N=m(n,["systemInstruction"]);e!==void 0&&N!=null&&w(e,["setup","systemInstruction"],Sr(N));const k=m(n,["tools"]);if(e!==void 0&&k!=null){let se=ru(k);Array.isArray(se)&&(se=se.map(re=>dW(nu(re)))),w(e,["setup","tools"],se)}const I=m(n,["sessionResumption"]);e!==void 0&&I!=null&&w(e,["setup","sessionResumption"],I);const L=m(n,["inputAudioTranscription"]);e!==void 0&&L!=null&&w(e,["setup","inputAudioTranscription"],L);const F=m(n,["outputAudioTranscription"]);e!==void 0&&F!=null&&w(e,["setup","outputAudioTranscription"],F);const M=m(n,["realtimeInputConfig"]);e!==void 0&&M!=null&&w(e,["setup","realtimeInputConfig"],M);const Y=m(n,["contextWindowCompression"]);e!==void 0&&Y!=null&&w(e,["setup","contextWindowCompression"],Y);const ie=m(n,["proactivity"]);return e!==void 0&&ie!=null&&w(e,["setup","proactivity"],ie),t}function nW(n,e){const t={},r=m(e,["model"]);r!=null&&w(t,["setup","model"],Jt(n,r));const i=m(e,["config"]);return i!=null&&w(t,["config"],eW(i,t)),t}function rW(n,e){const t={},r=m(e,["model"]);r!=null&&w(t,["setup","model"],Jt(n,r));const i=m(e,["config"]);return i!=null&&w(t,["config"],tW(i,t)),t}function iW(n){const e={},t=m(n,["musicGenerationConfig"]);return t!=null&&w(e,["musicGenerationConfig"],t),e}function oW(n){const e={},t=m(n,["weightedPrompts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["weightedPrompts"],r)}return e}function sW(n){const e={},t=m(n,["media"]);if(t!=null){let d=a3(t);Array.isArray(d)&&(d=d.map(h=>hp(h))),w(e,["mediaChunks"],d)}const r=m(n,["audio"]);r!=null&&w(e,["audio"],hp(c3(r)));const i=m(n,["audioStreamEnd"]);i!=null&&w(e,["audioStreamEnd"],i);const o=m(n,["video"]);o!=null&&w(e,["video"],hp(l3(o)));const l=m(n,["text"]);l!=null&&w(e,["text"],l);const c=m(n,["activityStart"]);c!=null&&w(e,["activityStart"],c);const f=m(n,["activityEnd"]);return f!=null&&w(e,["activityEnd"],f),e}function aW(n){const e={},t=m(n,["media"]);if(t!=null){let d=a3(t);Array.isArray(d)&&(d=d.map(h=>h)),w(e,["mediaChunks"],d)}const r=m(n,["audio"]);r!=null&&w(e,["audio"],c3(r));const i=m(n,["audioStreamEnd"]);i!=null&&w(e,["audioStreamEnd"],i);const o=m(n,["video"]);o!=null&&w(e,["video"],l3(o));const l=m(n,["text"]);l!=null&&w(e,["text"],l);const c=m(n,["activityStart"]);c!=null&&w(e,["activityStart"],c);const f=m(n,["activityEnd"]);return f!=null&&w(e,["activityEnd"],f),e}function lW(n){const e={},t=m(n,["setupComplete"]);t!=null&&w(e,["setupComplete"],t);const r=m(n,["serverContent"]);r!=null&&w(e,["serverContent"],r);const i=m(n,["toolCall"]);i!=null&&w(e,["toolCall"],i);const o=m(n,["toolCallCancellation"]);o!=null&&w(e,["toolCallCancellation"],o);const l=m(n,["usageMetadata"]);l!=null&&w(e,["usageMetadata"],hW(l));const c=m(n,["goAway"]);c!=null&&w(e,["goAway"],c);const f=m(n,["sessionResumptionUpdate"]);return f!=null&&w(e,["sessionResumptionUpdate"],f),e}function cW(n){const e={},t=m(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=m(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=m(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const o=m(n,["fileData"]);o!=null&&w(e,["fileData"],jK(o));const l=m(n,["functionCall"]);l!=null&&w(e,["functionCall"],YK(l));const c=m(n,["functionResponse"]);c!=null&&w(e,["functionResponse"],c);const f=m(n,["inlineData"]);f!=null&&w(e,["inlineData"],hp(f));const d=m(n,["text"]);d!=null&&w(e,["text"],d);const h=m(n,["thought"]);h!=null&&w(e,["thought"],h);const b=m(n,["thoughtSignature"]);b!=null&&w(e,["thoughtSignature"],b);const E=m(n,["videoMetadata"]);return E!=null&&w(e,["videoMetadata"],E),e}function uW(n){const e={},t=m(n,["handle"]);if(t!=null&&w(e,["handle"],t),m(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function v3(n){const e={},t=m(n,["languageCode"]);t!=null&&w(e,["languageCode"],t);const r=m(n,["voiceConfig"]);if(r!=null&&w(e,["voiceConfig"],r),m(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function fW(n){const e={},t=m(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(b=>b)),w(e,["functionDeclarations"],h)}if(m(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=m(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const o=m(n,["fileSearch"]);o!=null&&w(e,["fileSearch"],o);const l=m(n,["codeExecution"]);if(l!=null&&w(e,["codeExecution"],l),m(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=m(n,["googleMaps"]);c!=null&&w(e,["googleMaps"],XK(c));const f=m(n,["googleSearch"]);f!=null&&w(e,["googleSearch"],QK(f));const d=m(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function dW(n){const e={},t=m(n,["functionDeclarations"]);if(t!=null){let b=t;Array.isArray(b)&&(b=b.map(E=>JK(E))),w(e,["functionDeclarations"],b)}const r=m(n,["retrieval"]);r!=null&&w(e,["retrieval"],r);const i=m(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const o=m(n,["computerUse"]);if(o!=null&&w(e,["computerUse"],o),m(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=m(n,["codeExecution"]);l!=null&&w(e,["codeExecution"],l);const c=m(n,["enterpriseWebSearch"]);c!=null&&w(e,["enterpriseWebSearch"],c);const f=m(n,["googleMaps"]);f!=null&&w(e,["googleMaps"],f);const d=m(n,["googleSearch"]);d!=null&&w(e,["googleSearch"],d);const h=m(n,["urlContext"]);return h!=null&&w(e,["urlContext"],h),e}function hW(n){const e={},t=m(n,["promptTokenCount"]);t!=null&&w(e,["promptTokenCount"],t);const r=m(n,["cachedContentTokenCount"]);r!=null&&w(e,["cachedContentTokenCount"],r);const i=m(n,["candidatesTokenCount"]);i!=null&&w(e,["responseTokenCount"],i);const o=m(n,["toolUsePromptTokenCount"]);o!=null&&w(e,["toolUsePromptTokenCount"],o);const l=m(n,["thoughtsTokenCount"]);l!=null&&w(e,["thoughtsTokenCount"],l);const c=m(n,["totalTokenCount"]);c!=null&&w(e,["totalTokenCount"],c);const f=m(n,["promptTokensDetails"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(N=>N)),w(e,["promptTokensDetails"],v)}const d=m(n,["cacheTokensDetails"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(N=>N)),w(e,["cacheTokensDetails"],v)}const h=m(n,["candidatesTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(N=>N)),w(e,["responseTokensDetails"],v)}const b=m(n,["toolUsePromptTokensDetails"]);if(b!=null){let v=b;Array.isArray(v)&&(v=v.map(N=>N)),w(e,["toolUsePromptTokensDetails"],v)}const E=m(n,["trafficType"]);return E!=null&&w(e,["trafficType"],E),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pW(n){const e={},t=m(n,["data"]);if(t!=null&&w(e,["data"],t),m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function mW(n){const e={},t=m(n,["content"]);t!=null&&w(e,["content"],t);const r=m(n,["citationMetadata"]);r!=null&&w(e,["citationMetadata"],gW(r));const i=m(n,["tokenCount"]);i!=null&&w(e,["tokenCount"],i);const o=m(n,["finishReason"]);o!=null&&w(e,["finishReason"],o);const l=m(n,["avgLogprobs"]);l!=null&&w(e,["avgLogprobs"],l);const c=m(n,["groundingMetadata"]);c!=null&&w(e,["groundingMetadata"],c);const f=m(n,["index"]);f!=null&&w(e,["index"],f);const d=m(n,["logprobsResult"]);d!=null&&w(e,["logprobsResult"],d);const h=m(n,["safetyRatings"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(v=>v)),w(e,["safetyRatings"],E)}const b=m(n,["urlContextMetadata"]);return b!=null&&w(e,["urlContextMetadata"],b),e}function gW(n){const e={},t=m(n,["citationSources"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["citations"],r)}return e}function yW(n,e){const t={},r=m(e,["model"]);r!=null&&w(t,["_url","model"],Jt(n,r));const i=m(e,["contents"]);if(i!=null){let o=yi(i);Array.isArray(o)&&(o=o.map(l=>l)),w(t,["contents"],o)}return t}function wW(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=m(n,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),w(e,["tokensInfo"],i)}return e}function bW(n){const e={},t=m(n,["values"]);t!=null&&w(e,["values"],t);const r=m(n,["statistics"]);return r!=null&&w(e,["statistics"],vW(r)),e}function vW(n){const e={},t=m(n,["truncated"]);t!=null&&w(e,["truncated"],t);const r=m(n,["token_count"]);return r!=null&&w(e,["tokenCount"],r),e}function Em(n){const e={},t=m(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>C$(o))),w(e,["parts"],i)}const r=m(n,["role"]);return r!=null&&w(e,["role"],r),e}function EW(n){const e={},t=m(n,["controlType"]);t!=null&&w(e,["controlType"],t);const r=m(n,["enableControlImageComputation"]);return r!=null&&w(e,["computeControl"],r),e}function _W(n){const e={};if(m(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function xW(n,e){const t={},r=m(n,["systemInstruction"]);e!==void 0&&r!=null&&w(e,["systemInstruction"],Sr(r));const i=m(n,["tools"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>S3(c))),w(e,["tools"],l)}const o=m(n,["generationConfig"]);return e!==void 0&&o!=null&&w(e,["generationConfig"],p$(o)),t}function AW(n,e){const t={},r=m(e,["model"]);r!=null&&w(t,["_url","model"],Jt(n,r));const i=m(e,["contents"]);if(i!=null){let l=yi(i);Array.isArray(l)&&(l=l.map(c=>Em(c))),w(t,["contents"],l)}const o=m(e,["config"]);return o!=null&&_W(o),t}function SW(n,e){const t={},r=m(e,["model"]);r!=null&&w(t,["_url","model"],Jt(n,r));const i=m(e,["contents"]);if(i!=null){let l=yi(i);Array.isArray(l)&&(l=l.map(c=>c)),w(t,["contents"],l)}const o=m(e,["config"]);return o!=null&&xW(o,t),t}function TW(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=m(n,["totalTokens"]);r!=null&&w(e,["totalTokens"],r);const i=m(n,["cachedContentTokenCount"]);return i!=null&&w(e,["cachedContentTokenCount"],i),e}function RW(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=m(n,["totalTokens"]);return r!=null&&w(e,["totalTokens"],r),e}function NW(n,e){const t={},r=m(e,["model"]);return r!=null&&w(t,["_url","name"],Jt(n,r)),t}function CW(n,e){const t={},r=m(e,["model"]);return r!=null&&w(t,["_url","name"],Jt(n,r)),t}function IW(n){const e={},t=m(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function kW(n){const e={},t=m(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function MW(n,e){const t={},r=m(n,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=m(n,["negativePrompt"]);e!==void 0&&i!=null&&w(e,["parameters","negativePrompt"],i);const o=m(n,["numberOfImages"]);e!==void 0&&o!=null&&w(e,["parameters","sampleCount"],o);const l=m(n,["aspectRatio"]);e!==void 0&&l!=null&&w(e,["parameters","aspectRatio"],l);const c=m(n,["guidanceScale"]);e!==void 0&&c!=null&&w(e,["parameters","guidanceScale"],c);const f=m(n,["seed"]);e!==void 0&&f!=null&&w(e,["parameters","seed"],f);const d=m(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&w(e,["parameters","safetySetting"],d);const h=m(n,["personGeneration"]);e!==void 0&&h!=null&&w(e,["parameters","personGeneration"],h);const b=m(n,["includeSafetyAttributes"]);e!==void 0&&b!=null&&w(e,["parameters","includeSafetyAttributes"],b);const E=m(n,["includeRaiReason"]);e!==void 0&&E!=null&&w(e,["parameters","includeRaiReason"],E);const v=m(n,["language"]);e!==void 0&&v!=null&&w(e,["parameters","language"],v);const N=m(n,["outputMimeType"]);e!==void 0&&N!=null&&w(e,["parameters","outputOptions","mimeType"],N);const k=m(n,["outputCompressionQuality"]);e!==void 0&&k!=null&&w(e,["parameters","outputOptions","compressionQuality"],k);const I=m(n,["addWatermark"]);e!==void 0&&I!=null&&w(e,["parameters","addWatermark"],I);const L=m(n,["labels"]);e!==void 0&&L!=null&&w(e,["labels"],L);const F=m(n,["editMode"]);e!==void 0&&F!=null&&w(e,["parameters","editMode"],F);const M=m(n,["baseSteps"]);return e!==void 0&&M!=null&&w(e,["parameters","editConfig","baseSteps"],M),t}function OW(n,e){const t={},r=m(e,["model"]);r!=null&&w(t,["_url","model"],Jt(n,r));const i=m(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const o=m(e,["referenceImages"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>L$(f))),w(t,["instances[0]","referenceImages"],c)}const l=m(e,["config"]);return l!=null&&MW(l,t),t}function BW(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=m(n,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>_m(o))),w(e,["generatedImages"],i)}return e}function LW(n,e){const t={},r=m(n,["taskType"]);e!==void 0&&r!=null&&w(e,["requests[]","taskType"],r);const i=m(n,["title"]);e!==void 0&&i!=null&&w(e,["requests[]","title"],i);const o=m(n,["outputDimensionality"]);if(e!==void 0&&o!=null&&w(e,["requests[]","outputDimensionality"],o),m(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function UW(n,e){const t={},r=m(n,["taskType"]);e!==void 0&&r!=null&&w(e,["instances[]","task_type"],r);const i=m(n,["title"]);e!==void 0&&i!=null&&w(e,["instances[]","title"],i);const o=m(n,["outputDimensionality"]);e!==void 0&&o!=null&&w(e,["parameters","outputDimensionality"],o);const l=m(n,["mimeType"]);e!==void 0&&l!=null&&w(e,["instances[]","mimeType"],l);const c=m(n,["autoTruncate"]);return e!==void 0&&c!=null&&w(e,["parameters","autoTruncate"],c),t}function DW(n,e){const t={},r=m(e,["model"]);r!=null&&w(t,["_url","model"],Jt(n,r));const i=m(e,["contents"]);if(i!=null){let c=$b(n,i);Array.isArray(c)&&(c=c.map(f=>f)),w(t,["requests[]","content"],c)}const o=m(e,["config"]);o!=null&&LW(o,t);const l=m(e,["model"]);return l!==void 0&&w(t,["requests[]","model"],Jt(n,l)),t}function PW(n,e){const t={},r=m(e,["model"]);r!=null&&w(t,["_url","model"],Jt(n,r));const i=m(e,["contents"]);if(i!=null){let l=$b(n,i);Array.isArray(l)&&(l=l.map(c=>c)),w(t,["instances[]","content"],l)}const o=m(e,["config"]);return o!=null&&UW(o,t),t}function FW(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=m(n,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),w(e,["embeddings"],o)}const i=m(n,["metadata"]);return i!=null&&w(e,["metadata"],i),e}function HW(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=m(n,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>bW(l))),w(e,["embeddings"],o)}const i=m(n,["metadata"]);return i!=null&&w(e,["metadata"],i),e}function zW(n){const e={},t=m(n,["endpoint"]);t!=null&&w(e,["name"],t);const r=m(n,["deployedModelId"]);return r!=null&&w(e,["deployedModelId"],r),e}function GW(n){const e={};if(m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=m(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=m(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function qW(n){const e={},t=m(n,["id"]);t!=null&&w(e,["id"],t);const r=m(n,["args"]);r!=null&&w(e,["args"],r);const i=m(n,["name"]);if(i!=null&&w(e,["name"],i),m(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function VW(n){const e={},t=m(n,["mode"]);t!=null&&w(e,["mode"],t);const r=m(n,["allowedFunctionNames"]);if(r!=null&&w(e,["allowedFunctionNames"],r),m(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function KW(n){const e={};if(m(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=m(n,["description"]);t!=null&&w(e,["description"],t);const r=m(n,["name"]);r!=null&&w(e,["name"],r);const i=m(n,["parameters"]);i!=null&&w(e,["parameters"],i);const o=m(n,["parametersJsonSchema"]);o!=null&&w(e,["parametersJsonSchema"],o);const l=m(n,["response"]);l!=null&&w(e,["response"],l);const c=m(n,["responseJsonSchema"]);return c!=null&&w(e,["responseJsonSchema"],c),e}function WW(n,e,t){const r={},i=m(e,["systemInstruction"]);t!==void 0&&i!=null&&w(t,["systemInstruction"],Em(Sr(i)));const o=m(e,["temperature"]);o!=null&&w(r,["temperature"],o);const l=m(e,["topP"]);l!=null&&w(r,["topP"],l);const c=m(e,["topK"]);c!=null&&w(r,["topK"],c);const f=m(e,["candidateCount"]);f!=null&&w(r,["candidateCount"],f);const d=m(e,["maxOutputTokens"]);d!=null&&w(r,["maxOutputTokens"],d);const h=m(e,["stopSequences"]);h!=null&&w(r,["stopSequences"],h);const b=m(e,["responseLogprobs"]);b!=null&&w(r,["responseLogprobs"],b);const E=m(e,["logprobs"]);E!=null&&w(r,["logprobs"],E);const v=m(e,["presencePenalty"]);v!=null&&w(r,["presencePenalty"],v);const N=m(e,["frequencyPenalty"]);N!=null&&w(r,["frequencyPenalty"],N);const k=m(e,["seed"]);k!=null&&w(r,["seed"],k);const I=m(e,["responseMimeType"]);I!=null&&w(r,["responseMimeType"],I);const L=m(e,["responseSchema"]);L!=null&&w(r,["responseSchema"],jb(L));const F=m(e,["responseJsonSchema"]);if(F!=null&&w(r,["responseJsonSchema"],F),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=m(e,["safetySettings"]);if(t!==void 0&&M!=null){let W=M;Array.isArray(W)&&(W=W.map(O=>U$(O))),w(t,["safetySettings"],W)}const Y=m(e,["tools"]);if(t!==void 0&&Y!=null){let W=ru(Y);Array.isArray(W)&&(W=W.map(O=>q$(nu(O)))),w(t,["tools"],W)}const ie=m(e,["toolConfig"]);if(t!==void 0&&ie!=null&&w(t,["toolConfig"],G$(ie)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const se=m(e,["cachedContent"]);t!==void 0&&se!=null&&w(t,["cachedContent"],cs(n,se));const re=m(e,["responseModalities"]);re!=null&&w(r,["responseModalities"],re);const ae=m(e,["mediaResolution"]);ae!=null&&w(r,["mediaResolution"],ae);const J=m(e,["speechConfig"]);if(J!=null&&w(r,["speechConfig"],Yb(J)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Q=m(e,["thinkingConfig"]);Q!=null&&w(r,["thinkingConfig"],Q);const Z=m(e,["imageConfig"]);return Z!=null&&w(r,["imageConfig"],b$(Z)),r}function $W(n,e,t){const r={},i=m(e,["systemInstruction"]);t!==void 0&&i!=null&&w(t,["systemInstruction"],Sr(i));const o=m(e,["temperature"]);o!=null&&w(r,["temperature"],o);const l=m(e,["topP"]);l!=null&&w(r,["topP"],l);const c=m(e,["topK"]);c!=null&&w(r,["topK"],c);const f=m(e,["candidateCount"]);f!=null&&w(r,["candidateCount"],f);const d=m(e,["maxOutputTokens"]);d!=null&&w(r,["maxOutputTokens"],d);const h=m(e,["stopSequences"]);h!=null&&w(r,["stopSequences"],h);const b=m(e,["responseLogprobs"]);b!=null&&w(r,["responseLogprobs"],b);const E=m(e,["logprobs"]);E!=null&&w(r,["logprobs"],E);const v=m(e,["presencePenalty"]);v!=null&&w(r,["presencePenalty"],v);const N=m(e,["frequencyPenalty"]);N!=null&&w(r,["frequencyPenalty"],N);const k=m(e,["seed"]);k!=null&&w(r,["seed"],k);const I=m(e,["responseMimeType"]);I!=null&&w(r,["responseMimeType"],I);const L=m(e,["responseSchema"]);L!=null&&w(r,["responseSchema"],jb(L));const F=m(e,["responseJsonSchema"]);F!=null&&w(r,["responseJsonSchema"],F);const M=m(e,["routingConfig"]);M!=null&&w(r,["routingConfig"],M);const Y=m(e,["modelSelectionConfig"]);Y!=null&&w(r,["modelConfig"],Y);const ie=m(e,["safetySettings"]);if(t!==void 0&&ie!=null){let C=ie;Array.isArray(C)&&(C=C.map(q=>q)),w(t,["safetySettings"],C)}const se=m(e,["tools"]);if(t!==void 0&&se!=null){let C=ru(se);Array.isArray(C)&&(C=C.map(q=>S3(nu(q)))),w(t,["tools"],C)}const re=m(e,["toolConfig"]);t!==void 0&&re!=null&&w(t,["toolConfig"],re);const ae=m(e,["labels"]);t!==void 0&&ae!=null&&w(t,["labels"],ae);const J=m(e,["cachedContent"]);t!==void 0&&J!=null&&w(t,["cachedContent"],cs(n,J));const Q=m(e,["responseModalities"]);Q!=null&&w(r,["responseModalities"],Q);const Z=m(e,["mediaResolution"]);Z!=null&&w(r,["mediaResolution"],Z);const W=m(e,["speechConfig"]);W!=null&&w(r,["speechConfig"],A3(Yb(W)));const O=m(e,["audioTimestamp"]);O!=null&&w(r,["audioTimestamp"],O);const g=m(e,["thinkingConfig"]);g!=null&&w(r,["thinkingConfig"],g);const T=m(e,["imageConfig"]);return T!=null&&w(r,["imageConfig"],v$(T)),r}function hR(n,e){const t={},r=m(e,["model"]);r!=null&&w(t,["_url","model"],Jt(n,r));const i=m(e,["contents"]);if(i!=null){let l=yi(i);Array.isArray(l)&&(l=l.map(c=>Em(c))),w(t,["contents"],l)}const o=m(e,["config"]);return o!=null&&w(t,["generationConfig"],WW(n,o,t)),t}function pR(n,e){const t={},r=m(e,["model"]);r!=null&&w(t,["_url","model"],Jt(n,r));const i=m(e,["contents"]);if(i!=null){let l=yi(i);Array.isArray(l)&&(l=l.map(c=>c)),w(t,["contents"],l)}const o=m(e,["config"]);return o!=null&&w(t,["generationConfig"],$W(n,o,t)),t}function mR(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=m(n,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>mW(d))),w(e,["candidates"],f)}const i=m(n,["modelVersion"]);i!=null&&w(e,["modelVersion"],i);const o=m(n,["promptFeedback"]);o!=null&&w(e,["promptFeedback"],o);const l=m(n,["responseId"]);l!=null&&w(e,["responseId"],l);const c=m(n,["usageMetadata"]);return c!=null&&w(e,["usageMetadata"],c),e}function gR(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=m(n,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["candidates"],d)}const i=m(n,["createTime"]);i!=null&&w(e,["createTime"],i);const o=m(n,["modelVersion"]);o!=null&&w(e,["modelVersion"],o);const l=m(n,["promptFeedback"]);l!=null&&w(e,["promptFeedback"],l);const c=m(n,["responseId"]);c!=null&&w(e,["responseId"],c);const f=m(n,["usageMetadata"]);return f!=null&&w(e,["usageMetadata"],f),e}function jW(n,e){const t={};if(m(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=m(n,["numberOfImages"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=m(n,["aspectRatio"]);e!==void 0&&i!=null&&w(e,["parameters","aspectRatio"],i);const o=m(n,["guidanceScale"]);if(e!==void 0&&o!=null&&w(e,["parameters","guidanceScale"],o),m(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=m(n,["safetyFilterLevel"]);e!==void 0&&l!=null&&w(e,["parameters","safetySetting"],l);const c=m(n,["personGeneration"]);e!==void 0&&c!=null&&w(e,["parameters","personGeneration"],c);const f=m(n,["includeSafetyAttributes"]);e!==void 0&&f!=null&&w(e,["parameters","includeSafetyAttributes"],f);const d=m(n,["includeRaiReason"]);e!==void 0&&d!=null&&w(e,["parameters","includeRaiReason"],d);const h=m(n,["language"]);e!==void 0&&h!=null&&w(e,["parameters","language"],h);const b=m(n,["outputMimeType"]);e!==void 0&&b!=null&&w(e,["parameters","outputOptions","mimeType"],b);const E=m(n,["outputCompressionQuality"]);if(e!==void 0&&E!=null&&w(e,["parameters","outputOptions","compressionQuality"],E),m(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=m(n,["imageSize"]);if(e!==void 0&&v!=null&&w(e,["parameters","sampleImageSize"],v),m(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function YW(n,e){const t={},r=m(n,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=m(n,["negativePrompt"]);e!==void 0&&i!=null&&w(e,["parameters","negativePrompt"],i);const o=m(n,["numberOfImages"]);e!==void 0&&o!=null&&w(e,["parameters","sampleCount"],o);const l=m(n,["aspectRatio"]);e!==void 0&&l!=null&&w(e,["parameters","aspectRatio"],l);const c=m(n,["guidanceScale"]);e!==void 0&&c!=null&&w(e,["parameters","guidanceScale"],c);const f=m(n,["seed"]);e!==void 0&&f!=null&&w(e,["parameters","seed"],f);const d=m(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&w(e,["parameters","safetySetting"],d);const h=m(n,["personGeneration"]);e!==void 0&&h!=null&&w(e,["parameters","personGeneration"],h);const b=m(n,["includeSafetyAttributes"]);e!==void 0&&b!=null&&w(e,["parameters","includeSafetyAttributes"],b);const E=m(n,["includeRaiReason"]);e!==void 0&&E!=null&&w(e,["parameters","includeRaiReason"],E);const v=m(n,["language"]);e!==void 0&&v!=null&&w(e,["parameters","language"],v);const N=m(n,["outputMimeType"]);e!==void 0&&N!=null&&w(e,["parameters","outputOptions","mimeType"],N);const k=m(n,["outputCompressionQuality"]);e!==void 0&&k!=null&&w(e,["parameters","outputOptions","compressionQuality"],k);const I=m(n,["addWatermark"]);e!==void 0&&I!=null&&w(e,["parameters","addWatermark"],I);const L=m(n,["labels"]);e!==void 0&&L!=null&&w(e,["labels"],L);const F=m(n,["imageSize"]);e!==void 0&&F!=null&&w(e,["parameters","sampleImageSize"],F);const M=m(n,["enhancePrompt"]);return e!==void 0&&M!=null&&w(e,["parameters","enhancePrompt"],M),t}function JW(n,e){const t={},r=m(e,["model"]);r!=null&&w(t,["_url","model"],Jt(n,r));const i=m(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const o=m(e,["config"]);return o!=null&&jW(o,t),t}function ZW(n,e){const t={},r=m(e,["model"]);r!=null&&w(t,["_url","model"],Jt(n,r));const i=m(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const o=m(e,["config"]);return o!=null&&YW(o,t),t}function XW(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=m(n,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>u$(l))),w(e,["generatedImages"],o)}const i=m(n,["positivePromptSafetyAttributes"]);return i!=null&&w(e,["positivePromptSafetyAttributes"],_3(i)),e}function QW(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=m(n,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>_m(l))),w(e,["generatedImages"],o)}const i=m(n,["positivePromptSafetyAttributes"]);return i!=null&&w(e,["positivePromptSafetyAttributes"],x3(i)),e}function e$(n,e){const t={},r=m(n,["numberOfVideos"]);if(e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r),m(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=m(n,["durationSeconds"]);if(e!==void 0&&i!=null&&w(e,["parameters","durationSeconds"],i),m(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=m(n,["aspectRatio"]);e!==void 0&&o!=null&&w(e,["parameters","aspectRatio"],o);const l=m(n,["resolution"]);e!==void 0&&l!=null&&w(e,["parameters","resolution"],l);const c=m(n,["personGeneration"]);if(e!==void 0&&c!=null&&w(e,["parameters","personGeneration"],c),m(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=m(n,["negativePrompt"]);e!==void 0&&f!=null&&w(e,["parameters","negativePrompt"],f);const d=m(n,["enhancePrompt"]);if(e!==void 0&&d!=null&&w(e,["parameters","enhancePrompt"],d),m(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=m(n,["lastFrame"]);e!==void 0&&h!=null&&w(e,["instances[0]","lastFrame"],xm(h));const b=m(n,["referenceImages"]);if(e!==void 0&&b!=null){let E=b;Array.isArray(E)&&(E=E.map(v=>nj(v))),w(e,["instances[0]","referenceImages"],E)}if(m(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(m(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function t$(n,e){const t={},r=m(n,["numberOfVideos"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=m(n,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const o=m(n,["fps"]);e!==void 0&&o!=null&&w(e,["parameters","fps"],o);const l=m(n,["durationSeconds"]);e!==void 0&&l!=null&&w(e,["parameters","durationSeconds"],l);const c=m(n,["seed"]);e!==void 0&&c!=null&&w(e,["parameters","seed"],c);const f=m(n,["aspectRatio"]);e!==void 0&&f!=null&&w(e,["parameters","aspectRatio"],f);const d=m(n,["resolution"]);e!==void 0&&d!=null&&w(e,["parameters","resolution"],d);const h=m(n,["personGeneration"]);e!==void 0&&h!=null&&w(e,["parameters","personGeneration"],h);const b=m(n,["pubsubTopic"]);e!==void 0&&b!=null&&w(e,["parameters","pubsubTopic"],b);const E=m(n,["negativePrompt"]);e!==void 0&&E!=null&&w(e,["parameters","negativePrompt"],E);const v=m(n,["enhancePrompt"]);e!==void 0&&v!=null&&w(e,["parameters","enhancePrompt"],v);const N=m(n,["generateAudio"]);e!==void 0&&N!=null&&w(e,["parameters","generateAudio"],N);const k=m(n,["lastFrame"]);e!==void 0&&k!=null&&w(e,["instances[0]","lastFrame"],Bi(k));const I=m(n,["referenceImages"]);if(e!==void 0&&I!=null){let M=I;Array.isArray(M)&&(M=M.map(Y=>rj(Y))),w(e,["instances[0]","referenceImages"],M)}const L=m(n,["mask"]);e!==void 0&&L!=null&&w(e,["instances[0]","mask"],tj(L));const F=m(n,["compressionQuality"]);return e!==void 0&&F!=null&&w(e,["parameters","compressionQuality"],F),t}function n$(n){const e={},t=m(n,["name"]);t!=null&&w(e,["name"],t);const r=m(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=m(n,["done"]);i!=null&&w(e,["done"],i);const o=m(n,["error"]);o!=null&&w(e,["error"],o);const l=m(n,["response","generateVideoResponse"]);return l!=null&&w(e,["response"],s$(l)),e}function r$(n){const e={},t=m(n,["name"]);t!=null&&w(e,["name"],t);const r=m(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=m(n,["done"]);i!=null&&w(e,["done"],i);const o=m(n,["error"]);o!=null&&w(e,["error"],o);const l=m(n,["response"]);return l!=null&&w(e,["response"],a$(l)),e}function i$(n,e){const t={},r=m(e,["model"]);r!=null&&w(t,["_url","model"],Jt(n,r));const i=m(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const o=m(e,["image"]);o!=null&&w(t,["instances[0]","image"],xm(o));const l=m(e,["video"]);l!=null&&w(t,["instances[0]","video"],T3(l));const c=m(e,["source"]);c!=null&&l$(c,t);const f=m(e,["config"]);return f!=null&&e$(f,t),t}function o$(n,e){const t={},r=m(e,["model"]);r!=null&&w(t,["_url","model"],Jt(n,r));const i=m(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const o=m(e,["image"]);o!=null&&w(t,["instances[0]","image"],Bi(o));const l=m(e,["video"]);l!=null&&w(t,["instances[0]","video"],R3(l));const c=m(e,["source"]);c!=null&&c$(c,t);const f=m(e,["config"]);return f!=null&&t$(f,t),t}function s$(n){const e={},t=m(n,["generatedSamples"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(l=>d$(l))),w(e,["generatedVideos"],o)}const r=m(n,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=m(n,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function a$(n){const e={},t=m(n,["videos"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(l=>h$(l))),w(e,["generatedVideos"],o)}const r=m(n,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=m(n,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function l$(n,e){const t={},r=m(n,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=m(n,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],xm(i));const o=m(n,["video"]);return e!==void 0&&o!=null&&w(e,["instances[0]","video"],T3(o)),t}function c$(n,e){const t={},r=m(n,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=m(n,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],Bi(i));const o=m(n,["video"]);return e!==void 0&&o!=null&&w(e,["instances[0]","video"],R3(o)),t}function u$(n){const e={},t=m(n,["_self"]);t!=null&&w(e,["image"],E$(t));const r=m(n,["raiFilteredReason"]);r!=null&&w(e,["raiFilteredReason"],r);const i=m(n,["_self"]);return i!=null&&w(e,["safetyAttributes"],_3(i)),e}function _m(n){const e={},t=m(n,["_self"]);t!=null&&w(e,["image"],E3(t));const r=m(n,["raiFilteredReason"]);r!=null&&w(e,["raiFilteredReason"],r);const i=m(n,["_self"]);i!=null&&w(e,["safetyAttributes"],x3(i));const o=m(n,["prompt"]);return o!=null&&w(e,["enhancedPrompt"],o),e}function f$(n){const e={},t=m(n,["_self"]);t!=null&&w(e,["mask"],E3(t));const r=m(n,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),w(e,["labels"],i)}return e}function d$(n){const e={},t=m(n,["video"]);return t!=null&&w(e,["video"],Q$(t)),e}function h$(n){const e={},t=m(n,["_self"]);return t!=null&&w(e,["video"],ej(t)),e}function p$(n){const e={},t=m(n,["modelSelectionConfig"]);t!=null&&w(e,["modelConfig"],t);const r=m(n,["responseJsonSchema"]);r!=null&&w(e,["responseJsonSchema"],r);const i=m(n,["audioTimestamp"]);i!=null&&w(e,["audioTimestamp"],i);const o=m(n,["candidateCount"]);o!=null&&w(e,["candidateCount"],o);const l=m(n,["enableAffectiveDialog"]);l!=null&&w(e,["enableAffectiveDialog"],l);const c=m(n,["frequencyPenalty"]);c!=null&&w(e,["frequencyPenalty"],c);const f=m(n,["logprobs"]);f!=null&&w(e,["logprobs"],f);const d=m(n,["maxOutputTokens"]);d!=null&&w(e,["maxOutputTokens"],d);const h=m(n,["mediaResolution"]);h!=null&&w(e,["mediaResolution"],h);const b=m(n,["presencePenalty"]);b!=null&&w(e,["presencePenalty"],b);const E=m(n,["responseLogprobs"]);E!=null&&w(e,["responseLogprobs"],E);const v=m(n,["responseMimeType"]);v!=null&&w(e,["responseMimeType"],v);const N=m(n,["responseModalities"]);N!=null&&w(e,["responseModalities"],N);const k=m(n,["responseSchema"]);k!=null&&w(e,["responseSchema"],k);const I=m(n,["routingConfig"]);I!=null&&w(e,["routingConfig"],I);const L=m(n,["seed"]);L!=null&&w(e,["seed"],L);const F=m(n,["speechConfig"]);F!=null&&w(e,["speechConfig"],A3(F));const M=m(n,["stopSequences"]);M!=null&&w(e,["stopSequences"],M);const Y=m(n,["temperature"]);Y!=null&&w(e,["temperature"],Y);const ie=m(n,["thinkingConfig"]);ie!=null&&w(e,["thinkingConfig"],ie);const se=m(n,["topK"]);se!=null&&w(e,["topK"],se);const re=m(n,["topP"]);if(re!=null&&w(e,["topP"],re),m(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function m$(n,e){const t={},r=m(e,["model"]);return r!=null&&w(t,["_url","name"],Jt(n,r)),t}function g$(n,e){const t={},r=m(e,["model"]);return r!=null&&w(t,["_url","name"],Jt(n,r)),t}function y$(n){const e={};if(m(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=m(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function w$(n){const e={};if(m(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=m(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function b$(n){const e={},t=m(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const r=m(n,["imageSize"]);if(r!=null&&w(e,["imageSize"],r),m(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function v$(n){const e={},t=m(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const r=m(n,["imageSize"]);r!=null&&w(e,["imageSize"],r);const i=m(n,["outputMimeType"]);i!=null&&w(e,["imageOutputOptions","mimeType"],i);const o=m(n,["outputCompressionQuality"]);return o!=null&&w(e,["imageOutputOptions","compressionQuality"],o),e}function E$(n){const e={},t=m(n,["bytesBase64Encoded"]);t!=null&&w(e,["imageBytes"],ma(t));const r=m(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function E3(n){const e={},t=m(n,["gcsUri"]);t!=null&&w(e,["gcsUri"],t);const r=m(n,["bytesBase64Encoded"]);r!=null&&w(e,["imageBytes"],ma(r));const i=m(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function xm(n){const e={};if(m(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=m(n,["imageBytes"]);t!=null&&w(e,["bytesBase64Encoded"],ma(t));const r=m(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Bi(n){const e={},t=m(n,["gcsUri"]);t!=null&&w(e,["gcsUri"],t);const r=m(n,["imageBytes"]);r!=null&&w(e,["bytesBase64Encoded"],ma(r));const i=m(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function _$(n,e,t){const r={},i=m(e,["pageSize"]);t!==void 0&&i!=null&&w(t,["_query","pageSize"],i);const o=m(e,["pageToken"]);t!==void 0&&o!=null&&w(t,["_query","pageToken"],o);const l=m(e,["filter"]);t!==void 0&&l!=null&&w(t,["_query","filter"],l);const c=m(e,["queryBase"]);return t!==void 0&&c!=null&&w(t,["_url","models_url"],h3(n,c)),r}function x$(n,e,t){const r={},i=m(e,["pageSize"]);t!==void 0&&i!=null&&w(t,["_query","pageSize"],i);const o=m(e,["pageToken"]);t!==void 0&&o!=null&&w(t,["_query","pageToken"],o);const l=m(e,["filter"]);t!==void 0&&l!=null&&w(t,["_query","filter"],l);const c=m(e,["queryBase"]);return t!==void 0&&c!=null&&w(t,["_url","models_url"],h3(n,c)),r}function A$(n,e){const t={},r=m(e,["config"]);return r!=null&&_$(n,r,t),t}function S$(n,e){const t={},r=m(e,["config"]);return r!=null&&x$(n,r,t),t}function T$(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=m(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=m(n,["_self"]);if(i!=null){let o=p3(i);Array.isArray(o)&&(o=o.map(l=>O1(l))),w(e,["models"],o)}return e}function R$(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=m(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=m(n,["_self"]);if(i!=null){let o=p3(i);Array.isArray(o)&&(o=o.map(l=>B1(l))),w(e,["models"],o)}return e}function N$(n){const e={},t=m(n,["maskMode"]);t!=null&&w(e,["maskMode"],t);const r=m(n,["segmentationClasses"]);r!=null&&w(e,["maskClasses"],r);const i=m(n,["maskDilation"]);return i!=null&&w(e,["dilation"],i),e}function O1(n){const e={},t=m(n,["name"]);t!=null&&w(e,["name"],t);const r=m(n,["displayName"]);r!=null&&w(e,["displayName"],r);const i=m(n,["description"]);i!=null&&w(e,["description"],i);const o=m(n,["version"]);o!=null&&w(e,["version"],o);const l=m(n,["_self"]);l!=null&&w(e,["tunedModelInfo"],V$(l));const c=m(n,["inputTokenLimit"]);c!=null&&w(e,["inputTokenLimit"],c);const f=m(n,["outputTokenLimit"]);f!=null&&w(e,["outputTokenLimit"],f);const d=m(n,["supportedGenerationMethods"]);d!=null&&w(e,["supportedActions"],d);const h=m(n,["temperature"]);h!=null&&w(e,["temperature"],h);const b=m(n,["maxTemperature"]);b!=null&&w(e,["maxTemperature"],b);const E=m(n,["topP"]);E!=null&&w(e,["topP"],E);const v=m(n,["topK"]);v!=null&&w(e,["topK"],v);const N=m(n,["thinking"]);return N!=null&&w(e,["thinking"],N),e}function B1(n){const e={},t=m(n,["name"]);t!=null&&w(e,["name"],t);const r=m(n,["displayName"]);r!=null&&w(e,["displayName"],r);const i=m(n,["description"]);i!=null&&w(e,["description"],i);const o=m(n,["versionId"]);o!=null&&w(e,["version"],o);const l=m(n,["deployedModels"]);if(l!=null){let b=l;Array.isArray(b)&&(b=b.map(E=>zW(E))),w(e,["endpoints"],b)}const c=m(n,["labels"]);c!=null&&w(e,["labels"],c);const f=m(n,["_self"]);f!=null&&w(e,["tunedModelInfo"],K$(f));const d=m(n,["defaultCheckpointId"]);d!=null&&w(e,["defaultCheckpointId"],d);const h=m(n,["checkpoints"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(E=>E)),w(e,["checkpoints"],b)}return e}function C$(n){const e={},t=m(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=m(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=m(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const o=m(n,["fileData"]);o!=null&&w(e,["fileData"],GW(o));const l=m(n,["functionCall"]);l!=null&&w(e,["functionCall"],qW(l));const c=m(n,["functionResponse"]);c!=null&&w(e,["functionResponse"],c);const f=m(n,["inlineData"]);f!=null&&w(e,["inlineData"],pW(f));const d=m(n,["text"]);d!=null&&w(e,["text"],d);const h=m(n,["thought"]);h!=null&&w(e,["thought"],h);const b=m(n,["thoughtSignature"]);b!=null&&w(e,["thoughtSignature"],b);const E=m(n,["videoMetadata"]);return E!=null&&w(e,["videoMetadata"],E),e}function I$(n){const e={},t=m(n,["productImage"]);return t!=null&&w(e,["image"],Bi(t)),e}function k$(n,e){const t={},r=m(n,["numberOfImages"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=m(n,["baseSteps"]);e!==void 0&&i!=null&&w(e,["parameters","baseSteps"],i);const o=m(n,["outputGcsUri"]);e!==void 0&&o!=null&&w(e,["parameters","storageUri"],o);const l=m(n,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const c=m(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&w(e,["parameters","safetySetting"],c);const f=m(n,["personGeneration"]);e!==void 0&&f!=null&&w(e,["parameters","personGeneration"],f);const d=m(n,["addWatermark"]);e!==void 0&&d!=null&&w(e,["parameters","addWatermark"],d);const h=m(n,["outputMimeType"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","mimeType"],h);const b=m(n,["outputCompressionQuality"]);e!==void 0&&b!=null&&w(e,["parameters","outputOptions","compressionQuality"],b);const E=m(n,["enhancePrompt"]);e!==void 0&&E!=null&&w(e,["parameters","enhancePrompt"],E);const v=m(n,["labels"]);return e!==void 0&&v!=null&&w(e,["labels"],v),t}function M$(n,e){const t={},r=m(e,["model"]);r!=null&&w(t,["_url","model"],Jt(n,r));const i=m(e,["source"]);i!=null&&B$(i,t);const o=m(e,["config"]);return o!=null&&k$(o,t),t}function O$(n){const e={},t=m(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>_m(i))),w(e,["generatedImages"],r)}return e}function B$(n,e){const t={},r=m(n,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=m(n,["personImage"]);e!==void 0&&i!=null&&w(e,["instances[0]","personImage","image"],Bi(i));const o=m(n,["productImages"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>I$(c))),w(e,["instances[0]","productImages"],l)}return t}function L$(n){const e={},t=m(n,["referenceImage"]);t!=null&&w(e,["referenceImage"],Bi(t));const r=m(n,["referenceId"]);r!=null&&w(e,["referenceId"],r);const i=m(n,["referenceType"]);i!=null&&w(e,["referenceType"],i);const o=m(n,["maskImageConfig"]);o!=null&&w(e,["maskImageConfig"],N$(o));const l=m(n,["controlImageConfig"]);l!=null&&w(e,["controlImageConfig"],EW(l));const c=m(n,["styleImageConfig"]);c!=null&&w(e,["styleImageConfig"],c);const f=m(n,["subjectImageConfig"]);return f!=null&&w(e,["subjectImageConfig"],f),e}function _3(n){const e={},t=m(n,["safetyAttributes","categories"]);t!=null&&w(e,["categories"],t);const r=m(n,["safetyAttributes","scores"]);r!=null&&w(e,["scores"],r);const i=m(n,["contentType"]);return i!=null&&w(e,["contentType"],i),e}function x3(n){const e={},t=m(n,["safetyAttributes","categories"]);t!=null&&w(e,["categories"],t);const r=m(n,["safetyAttributes","scores"]);r!=null&&w(e,["scores"],r);const i=m(n,["contentType"]);return i!=null&&w(e,["contentType"],i),e}function U$(n){const e={},t=m(n,["category"]);if(t!=null&&w(e,["category"],t),m(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(n,["threshold"]);return r!=null&&w(e,["threshold"],r),e}function D$(n){const e={},t=m(n,["image"]);return t!=null&&w(e,["image"],Bi(t)),e}function P$(n,e){const t={},r=m(n,["mode"]);e!==void 0&&r!=null&&w(e,["parameters","mode"],r);const i=m(n,["maxPredictions"]);e!==void 0&&i!=null&&w(e,["parameters","maxPredictions"],i);const o=m(n,["confidenceThreshold"]);e!==void 0&&o!=null&&w(e,["parameters","confidenceThreshold"],o);const l=m(n,["maskDilation"]);e!==void 0&&l!=null&&w(e,["parameters","maskDilation"],l);const c=m(n,["binaryColorThreshold"]);e!==void 0&&c!=null&&w(e,["parameters","binaryColorThreshold"],c);const f=m(n,["labels"]);return e!==void 0&&f!=null&&w(e,["labels"],f),t}function F$(n,e){const t={},r=m(e,["model"]);r!=null&&w(t,["_url","model"],Jt(n,r));const i=m(e,["source"]);i!=null&&z$(i,t);const o=m(e,["config"]);return o!=null&&P$(o,t),t}function H$(n){const e={},t=m(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>f$(i))),w(e,["generatedMasks"],r)}return e}function z$(n,e){const t={},r=m(n,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=m(n,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],Bi(i));const o=m(n,["scribbleImage"]);return e!==void 0&&o!=null&&w(e,["instances[0]","scribble"],D$(o)),t}function A3(n){const e={},t=m(n,["languageCode"]);t!=null&&w(e,["languageCode"],t);const r=m(n,["voiceConfig"]);if(r!=null&&w(e,["voiceConfig"],r),m(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function G$(n){const e={},t=m(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],VW(t));const r=m(n,["retrievalConfig"]);return r!=null&&w(e,["retrievalConfig"],r),e}function q$(n){const e={},t=m(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(b=>b)),w(e,["functionDeclarations"],h)}if(m(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=m(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const o=m(n,["fileSearch"]);o!=null&&w(e,["fileSearch"],o);const l=m(n,["codeExecution"]);if(l!=null&&w(e,["codeExecution"],l),m(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=m(n,["googleMaps"]);c!=null&&w(e,["googleMaps"],y$(c));const f=m(n,["googleSearch"]);f!=null&&w(e,["googleSearch"],w$(f));const d=m(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function S3(n){const e={},t=m(n,["functionDeclarations"]);if(t!=null){let b=t;Array.isArray(b)&&(b=b.map(E=>KW(E))),w(e,["functionDeclarations"],b)}const r=m(n,["retrieval"]);r!=null&&w(e,["retrieval"],r);const i=m(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const o=m(n,["computerUse"]);if(o!=null&&w(e,["computerUse"],o),m(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=m(n,["codeExecution"]);l!=null&&w(e,["codeExecution"],l);const c=m(n,["enterpriseWebSearch"]);c!=null&&w(e,["enterpriseWebSearch"],c);const f=m(n,["googleMaps"]);f!=null&&w(e,["googleMaps"],f);const d=m(n,["googleSearch"]);d!=null&&w(e,["googleSearch"],d);const h=m(n,["urlContext"]);return h!=null&&w(e,["urlContext"],h),e}function V$(n){const e={},t=m(n,["baseModel"]);t!=null&&w(e,["baseModel"],t);const r=m(n,["createTime"]);r!=null&&w(e,["createTime"],r);const i=m(n,["updateTime"]);return i!=null&&w(e,["updateTime"],i),e}function K$(n){const e={},t=m(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&w(e,["baseModel"],t);const r=m(n,["createTime"]);r!=null&&w(e,["createTime"],r);const i=m(n,["updateTime"]);return i!=null&&w(e,["updateTime"],i),e}function W$(n,e){const t={},r=m(n,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=m(n,["description"]);e!==void 0&&i!=null&&w(e,["description"],i);const o=m(n,["defaultCheckpointId"]);return e!==void 0&&o!=null&&w(e,["defaultCheckpointId"],o),t}function $$(n,e){const t={},r=m(n,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=m(n,["description"]);e!==void 0&&i!=null&&w(e,["description"],i);const o=m(n,["defaultCheckpointId"]);return e!==void 0&&o!=null&&w(e,["defaultCheckpointId"],o),t}function j$(n,e){const t={},r=m(e,["model"]);r!=null&&w(t,["_url","name"],Jt(n,r));const i=m(e,["config"]);return i!=null&&W$(i,t),t}function Y$(n,e){const t={},r=m(e,["model"]);r!=null&&w(t,["_url","model"],Jt(n,r));const i=m(e,["config"]);return i!=null&&$$(i,t),t}function J$(n,e){const t={},r=m(n,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=m(n,["safetyFilterLevel"]);e!==void 0&&i!=null&&w(e,["parameters","safetySetting"],i);const o=m(n,["personGeneration"]);e!==void 0&&o!=null&&w(e,["parameters","personGeneration"],o);const l=m(n,["includeRaiReason"]);e!==void 0&&l!=null&&w(e,["parameters","includeRaiReason"],l);const c=m(n,["outputMimeType"]);e!==void 0&&c!=null&&w(e,["parameters","outputOptions","mimeType"],c);const f=m(n,["outputCompressionQuality"]);e!==void 0&&f!=null&&w(e,["parameters","outputOptions","compressionQuality"],f);const d=m(n,["enhanceInputImage"]);e!==void 0&&d!=null&&w(e,["parameters","upscaleConfig","enhanceInputImage"],d);const h=m(n,["imagePreservationFactor"]);e!==void 0&&h!=null&&w(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const b=m(n,["labels"]);e!==void 0&&b!=null&&w(e,["labels"],b);const E=m(n,["numberOfImages"]);e!==void 0&&E!=null&&w(e,["parameters","sampleCount"],E);const v=m(n,["mode"]);return e!==void 0&&v!=null&&w(e,["parameters","mode"],v),t}function Z$(n,e){const t={},r=m(e,["model"]);r!=null&&w(t,["_url","model"],Jt(n,r));const i=m(e,["image"]);i!=null&&w(t,["instances[0]","image"],Bi(i));const o=m(e,["upscaleFactor"]);o!=null&&w(t,["parameters","upscaleConfig","upscaleFactor"],o);const l=m(e,["config"]);return l!=null&&J$(l,t),t}function X$(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=m(n,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>_m(o))),w(e,["generatedImages"],i)}return e}function Q$(n){const e={},t=m(n,["uri"]);t!=null&&w(e,["uri"],t);const r=m(n,["encodedVideo"]);r!=null&&w(e,["videoBytes"],ma(r));const i=m(n,["encoding"]);return i!=null&&w(e,["mimeType"],i),e}function ej(n){const e={},t=m(n,["gcsUri"]);t!=null&&w(e,["uri"],t);const r=m(n,["bytesBase64Encoded"]);r!=null&&w(e,["videoBytes"],ma(r));const i=m(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function tj(n){const e={},t=m(n,["image"]);t!=null&&w(e,["_self"],Bi(t));const r=m(n,["maskMode"]);return r!=null&&w(e,["maskMode"],r),e}function nj(n){const e={},t=m(n,["image"]);t!=null&&w(e,["image"],xm(t));const r=m(n,["referenceType"]);return r!=null&&w(e,["referenceType"],r),e}function rj(n){const e={},t=m(n,["image"]);t!=null&&w(e,["image"],Bi(t));const r=m(n,["referenceType"]);return r!=null&&w(e,["referenceType"],r),e}function T3(n){const e={},t=m(n,["uri"]);t!=null&&w(e,["uri"],t);const r=m(n,["videoBytes"]);r!=null&&w(e,["encodedVideo"],ma(r));const i=m(n,["mimeType"]);return i!=null&&w(e,["encoding"],i),e}function R3(n){const e={},t=m(n,["uri"]);t!=null&&w(e,["gcsUri"],t);const r=m(n,["videoBytes"]);r!=null&&w(e,["bytesBase64Encoded"],ma(r));const i=m(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ij="Content-Type",oj="X-Server-Timeout",sj="User-Agent",L1="x-goog-api-client",aj="1.30.0",lj=`google-genai-sdk/${aj}`,cj="v1beta1",uj="v1beta",yR=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class fj{constructor(e){var t,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:cj,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:uj,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,r){const i=[this.getRequestUrlInternal(t)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,r);if(e.queryParams)for(const[l,c]of Object.entries(e.queryParams))i.searchParams.append(l,String(c));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,t,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,t){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(t))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,t,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,r,i){if(t&&t.timeout||i){const o=new AbortController,l=o.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const c=setTimeout(()=>o.abort(),t.timeout);c&&typeof c.unref=="function"&&c.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=l}return t&&t.extraBody!==null&&dj(e,t.extraBody),e.headers=await this.getHeadersInternal(t,r),e}async unaryApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async i=>(await wR(i),new I1(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async i=>(await wR(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var t;return Fc(this,arguments,function*(){const i=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";for(;;){const{done:c,value:f}=yield bn(i.read());if(c){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(f,{stream:!0});try{const b=JSON.parse(d);if("error"in b){const E=JSON.parse(JSON.stringify(b.error)),v=E.status,N=E.code,k=`got status: ${v}. ${JSON.stringify(b)}`;if(N>=400&&N<600)throw new vm({message:k,status:N})}}catch(b){if(b.name==="ApiError")throw b}l+=d;let h=l.match(yR);for(;h;){const b=h[1];try{const E=new Response(b,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield bn(new I1(E)),l=l.slice(h[0].length),h=l.match(yR)}catch(E){throw new Error(`exception parsing stream chunk ${b}. ${E}`)}}}}finally{i.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},t=lj+" "+this.clientOptions.userAgentExtra;return e[sj]=t,e[L1]=t,e[ij]="application/json",e}async getHeadersInternal(e,t){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(oj,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,t),r}getFileName(e){var t;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(t=r.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),r}async uploadFile(e,t){var r;const i={};t!=null&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,l=await o.stat(e);i.sizeBytes=String(l.size);const c=(r=t==null?void 0:t.mimeType)!==null&&r!==void 0?r:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=c;const f={file:i},d=this.getFileName(e),h=Je("upload/v1beta/files",f._url),b=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,d,f,t==null?void 0:t.httpOptions);return o.upload(e,b,this)}async uploadFileToFileSearchStore(e,t,r){var i;const o=this.clientOptions.uploader,l=await o.stat(t),c=String(l.size),f=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(t),b={};r!=null&&r.customMetadata&&(b.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(b.chunkingConfig=r.chunkingConfig);const E=await this.fetchUploadUrl(d,c,f,h,b,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(t,E,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,r,i,o,l){var c;let f={};l?f=l:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:f});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(c=d==null?void 0:d.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function wR(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let r;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await n.json():r={error:{message:await n.text(),code:n.status,status:n.statusText}};const i=JSON.stringify(r);throw t>=400&&t<600?new vm({message:i,status:t}):new Error(i)}}function dj(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const o=JSON.parse(n.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))t=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,l){const c=Object.assign({},o);for(const f in l)if(Object.prototype.hasOwnProperty.call(l,f)){const d=l[f],h=c[f];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?c[f]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),c[f]=d)}return c}const i=r(t,e);n.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hj="mcp_used/unknown";let pj=!1;function N3(n){for(const e of n)if(mj(e)||typeof e=="object"&&"inputSchema"in e)return!0;return pj}function C3(n){var e;const t=(e=n[L1])!==null&&e!==void 0?e:"";n[L1]=(t+` ${hj}`).trimStart()}function mj(n){return n!==null&&typeof n=="object"&&n instanceof Zb}function gj(n,e=100){return Fc(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield bn(n.listTools({cursor:r}));for(const l of o.tools)yield yield bn(l),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class Zb{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new Zb(e,t)}async initialize(){var e,t,r,i;if(this.mcpTools.length>0)return;const o={},l=[];for(const h of this.mcpClients)try{for(var c=!0,f=(t=void 0,Rf(gj(h))),d;d=await f.next(),e=d.done,!e;c=!0){i=d.value,c=!1;const b=i;l.push(b);const E=b.name;if(o[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);o[E]=h}}catch(b){t={error:b}}finally{try{!c&&!e&&(r=f.return)&&await r.call(f)}finally{if(t)throw t.error}}this.mcpTools=l,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),lV(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,o);t.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function yj(n,e,t){const r=new eV;let i;t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data),Object.assign(r,i),e(r)}class wj{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r}async connect(e){var t,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),l=Ej(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${c}`;let d=()=>{};const h=new Promise(M=>{d=M}),b=e.callbacks,E=function(){d({})},v=this.apiClient,N={onopen:E,onmessage:M=>{yj(v,b.onmessage,M)},onerror:(t=b==null?void 0:b.onerror)!==null&&t!==void 0?t:function(M){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(M){}},k=this.webSocketFactory.create(f,vj(l),N);k.connect(),await h;const F={setup:{model:Jt(this.apiClient,e.model)}};return k.send(JSON.stringify(F)),new bj(k,this.apiClient)}}class bj{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=oW(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=iW(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Cc.PLAY)}pause(){this.sendPlaybackControl(Cc.PAUSE)}stop(){this.sendPlaybackControl(Cc.STOP)}resetContext(){this.sendPlaybackControl(Cc.RESET_CONTEXT)}close(){this.conn.close()}}function vj(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function Ej(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _j="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function xj(n,e,t){const r=new Qq;let i;t.data instanceof Blob?i=await t.data.text():t.data instanceof ArrayBuffer?i=new TextDecoder().decode(t.data):i=t.data;const o=JSON.parse(i);if(n.isVertexAI()){const l=lW(o);Object.assign(r,l)}else Object.assign(r,o);e(r)}class Aj{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r,this.music=new wj(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,r,i,o,l,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const b=this.apiClient.getHeaders();e.config&&e.config.tools&&N3(e.config.tools)&&C3(b);const E=Nj(b);if(this.apiClient.isVertexAI())h=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,h);else{const J=this.apiClient.getApiKey();let Q="BidiGenerateContent",Z="key";J!=null&&J.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Q="BidiGenerateContentConstrained",Z="access_token"),h=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${Q}?${Z}=${J}`}let v=()=>{};const N=new Promise(J=>{v=J}),k=e.callbacks,I=function(){var J;(J=k==null?void 0:k.onopen)===null||J===void 0||J.call(k),v({})},L=this.apiClient,F={onopen:I,onmessage:J=>{xj(L,k.onmessage,J)},onerror:(t=k==null?void 0:k.onerror)!==null&&t!==void 0?t:function(J){},onclose:(r=k==null?void 0:k.onclose)!==null&&r!==void 0?r:function(J){}},M=this.webSocketFactory.create(h,Rj(E),F);M.connect(),await N;let Y=Jt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&Y.startsWith("publishers/")){const J=this.apiClient.getProject(),Q=this.apiClient.getLocation();Y=`projects/${J}/locations/${Q}/`+Y}let ie={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Gp.AUDIO]}:e.config.responseModalities=[Gp.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const se=(c=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[],re=[];for(const J of se)if(this.isCallableTool(J)){const Q=J;re.push(await Q.tool())}else re.push(J);re.length>0&&(e.config.tools=re);const ae={model:Y,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?ie=rW(this.apiClient,ae):ie=nW(this.apiClient,ae),delete ie.config,M.send(JSON.stringify(ie)),new Tj(M,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Sj={turnComplete:!0};class Tj{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let r=[];try{r=yi(t.turns),e.isVertexAI()||(r=r.map(i=>Em(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let r=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?r=t.functionResponses:r=[t.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(_j)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Sj),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:aW(e)}:t={realtimeInput:sW(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function Rj(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function Nj(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bR=10;function vR(n){var e,t,r;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const l of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Hc(l)){i=!0;break}if(!i)return!0;const o=(r=n==null?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Hc(n){return"callTool"in n&&typeof n.callTool=="function"}function Cj(n){var e,t,r;return(r=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>Hc(i)))!==null&&r!==void 0?r:!1}function ER(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((r,i)=>{if(Hc(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&t.push(i)}),t}function _R(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ij extends ls{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var r,i,o,l,c;const f=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!Cj(t)||vR(t.config))return await this.generateContentInternal(f);const d=ER(t);if(d.length>0){const k=d.map(I=>`tools[${I}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let h,b;const E=yi(f.contents),v=(o=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:bR;let N=0;for(;N<v&&(h=await this.generateContentInternal(f),!(!h.functionCalls||h.functionCalls.length===0));){const k=h.candidates[0].content,I=[];for(const L of(c=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[])if(Hc(L)){const M=await L.callTool(h.functionCalls);I.push(...M)}N++,b={role:"user",parts:I},f.contents=yi(f.contents),f.contents.push(k),f.contents.push(b),_R(f.config)&&(E.push(k),E.push(b))}return _R(f.config)&&(h.automaticFunctionCallingHistory=E),h},this.generateContentStream=async t=>{var r,i,o,l,c;if(this.maybeMoveToResponseJsonSchem(t),vR(t.config)){const b=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(b)}const f=ER(t);if(f.length>0){const b=f.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${b}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(o=(i=(r=t==null?void 0:t.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,h=(c=(l=t==null?void 0:t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(r=>{var i;let o;const l=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=f==null?void 0:f.safetyAttributes:l.push(f);let c;return o?c={generatedImages:l,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:c={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},c}),this.list=async t=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new wl(os.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(l),l)},this.editImage=async t=>{const r={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(r.referenceImages=t.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async t=>{let r={numberOfImages:1,mode:"upscale"};t.config&&(r=Object.assign(Object.assign({},r),t.config));const i={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async t=>{var r,i,o,l,c,f;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=t.video)===null||r===void 0)&&r.uri&&(!((i=t.video)===null||i===void 0)&&i.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((l=(o=t.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.uri&&(!((f=(c=t.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,r,i;const o=(t=e.config)===null||t===void 0?void 0:t.tools;if(!o)return e;const l=await Promise.all(o.map(async f=>Hc(f)?await f.tool():f)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(c.config.tools=l,e.config&&e.config.tools&&N3(e.config.tools)){const f=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),C3(d),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(e){var t,r,i;const o=new Map;for(const l of(r=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&r!==void 0?r:[])if(Hc(l)){const c=l,f=await c.tool();for(const d of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(o.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);o.set(d.name,c)}}return o}async processAfcStream(e){var t,r,i;const o=(i=(r=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:bR;let l=!1,c=0;const f=await this.initAfcToolsMap(e);return(function(d,h,b){var E,v;return Fc(this,arguments,function*(){for(var N,k,I,L;c<o;){l&&(c++,l=!1);const ie=yield bn(d.processParamsMaybeAddMcpUsage(b)),se=yield bn(d.generateContentStreamInternal(ie)),re=[],ae=[];try{for(var F=!0,M=(k=void 0,Rf(se)),Y;Y=yield bn(M.next()),N=Y.done,!N;F=!0){L=Y.value,F=!1;const J=L;if(yield yield bn(J),J.candidates&&(!((E=J.candidates[0])===null||E===void 0)&&E.content)){ae.push(J.candidates[0].content);for(const Q of(v=J.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(c<o&&Q.functionCall){if(!Q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(Q.functionCall.name)){const Z=yield bn(h.get(Q.functionCall.name).callTool([Q.functionCall]));re.push(...Z)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${Q.functionCall.name}`)}}}}catch(J){k={error:J}}finally{try{!F&&!N&&(I=M.return)&&(yield bn(I.call(M)))}finally{if(k)throw k.error}}if(re.length>0){l=!0;const J=new sf;J.candidates=[{content:{role:"user",parts:re}}],yield yield bn(J);const Q=[];Q.push(...ae),Q.push({role:"user",parts:re});const Z=yi(b.contents).concat(Q);b.contents=Z}else break}})})(this,f,e)}async generateContentInternal(e){var t,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=pR(this.apiClient,e);return c=Je("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:h.headers},E})),l.then(h=>{const b=gR(h),E=new sf;return Object.assign(E,b),E})}else{const d=hR(this.apiClient,e);return c=Je("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:h.headers},E})),l.then(h=>{const b=mR(h),E=new sf;return Object.assign(E,b),E})}}async generateContentStreamInternal(e){var t,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=pR(this.apiClient,e);return c=Je("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(b){return Fc(this,arguments,function*(){var E,v,N,k;try{for(var I=!0,L=Rf(b),F;F=yield bn(L.next()),E=F.done,!E;I=!0){k=F.value,I=!1;const M=k,Y=gR(yield bn(M.json()));Y.sdkHttpResponse={headers:M.headers};const ie=new sf;Object.assign(ie,Y),yield yield bn(ie)}}catch(M){v={error:M}}finally{try{!I&&!E&&(N=L.return)&&(yield bn(N.call(L)))}finally{if(v)throw v.error}}})})}else{const d=hR(this.apiClient,e);return c=Je("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(b){return Fc(this,arguments,function*(){var E,v,N,k;try{for(var I=!0,L=Rf(b),F;F=yield bn(L.next()),E=F.done,!E;I=!0){k=F.value,I=!1;const M=k,Y=mR(yield bn(M.json()));Y.sdkHttpResponse={headers:M.headers};const ie=new sf;Object.assign(ie,Y),yield yield bn(ie)}}catch(M){v={error:M}}finally{try{!I&&!E&&(N=L.return)&&(yield bn(N.call(L)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var t,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=PW(this.apiClient,e);return c=Je("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:h.headers},E})),l.then(h=>{const b=HW(h),E=new ZT;return Object.assign(E,b),E})}else{const d=DW(this.apiClient,e);return c=Je("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:h.headers},E})),l.then(h=>{const b=FW(h),E=new ZT;return Object.assign(E,b),E})}}async generateImagesInternal(e){var t,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=ZW(this.apiClient,e);return c=Je("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:h.headers},E})),l.then(h=>{const b=QW(h),E=new XT;return Object.assign(E,b),E})}else{const d=JW(this.apiClient,e);return c=Je("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:h.headers},E})),l.then(h=>{const b=XW(h),E=new XT;return Object.assign(E,b),E})}}async editImageInternal(e){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=OW(this.apiClient,e);return o=Je("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=BW(f),h=new Gq;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=Z$(this.apiClient,e);return o=Je("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=X$(f),h=new qq;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=M$(this.apiClient,e);return o=Je("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=O$(f),h=new Vq;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=F$(this.apiClient,e);return o=Je("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=H$(f),h=new Kq;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=g$(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>B1(h))}else{const d=m$(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>O1(h))}}async listInternal(e){var t,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=S$(this.apiClient,e);return c=Je("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:h.headers},E})),l.then(h=>{const b=R$(h),E=new QT;return Object.assign(E,b),E})}else{const d=A$(this.apiClient,e);return c=Je("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:h.headers},E})),l.then(h=>{const b=T$(h),E=new QT;return Object.assign(E,b),E})}}async update(e){var t,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=Y$(this.apiClient,e);return c=Je("{model}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>B1(h))}else{const d=j$(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>O1(h))}}async delete(e){var t,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=CW(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:h.headers},E})),l.then(h=>{const b=kW(h),E=new eR;return Object.assign(E,b),E})}else{const d=NW(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:h.headers},E})),l.then(h=>{const b=IW(h),E=new eR;return Object.assign(E,b),E})}}async countTokens(e){var t,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=SW(this.apiClient,e);return c=Je("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:h.headers},E})),l.then(h=>{const b=RW(h),E=new tR;return Object.assign(E,b),E})}else{const d=AW(this.apiClient,e);return c=Je("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:h.headers},E})),l.then(h=>{const b=TW(h),E=new tR;return Object.assign(E,b),E})}}async computeTokens(e){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=yW(this.apiClient,e);return o=Je("{model}:computeTokens",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=wW(f),h=new Wq;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=o$(this.apiClient,e);return c=Je("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>{const b=r$(h),E=new qp;return Object.assign(E,b),E})}else{const d=i$(this.apiClient,e);return c=Je("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>{const b=n$(h),E=new qp;return Object.assign(E,b),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kj extends ls{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:o}});return t._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:o}});return t._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=Uq(e);return c=Je("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l}else{const d=Lq(e);return c=Je("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l}}async fetchPredictVideosOperationInternal(e){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=Nq(e);return o=Je("{resourceName}:fetchPredictOperation",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mj(n){const e={},t=m(n,["data"]);if(t!=null&&w(e,["data"],t),m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Oj(n){const e={},t=m(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>Gj(o))),w(e,["parts"],i)}const r=m(n,["role"]);return r!=null&&w(e,["role"],r),e}function Bj(n,e,t){const r={},i=m(e,["expireTime"]);t!==void 0&&i!=null&&w(t,["expireTime"],i);const o=m(e,["newSessionExpireTime"]);t!==void 0&&o!=null&&w(t,["newSessionExpireTime"],o);const l=m(e,["uses"]);t!==void 0&&l!=null&&w(t,["uses"],l);const c=m(e,["liveConnectConstraints"]);t!==void 0&&c!=null&&w(t,["bidiGenerateContentSetup"],zj(n,c));const f=m(e,["lockAdditionalFields"]);return t!==void 0&&f!=null&&w(t,["fieldMask"],f),r}function Lj(n,e){const t={},r=m(e,["config"]);return r!=null&&w(t,["config"],Bj(n,r,t)),t}function Uj(n){const e={};if(m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=m(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=m(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Dj(n){const e={},t=m(n,["id"]);t!=null&&w(e,["id"],t);const r=m(n,["args"]);r!=null&&w(e,["args"],r);const i=m(n,["name"]);if(i!=null&&w(e,["name"],i),m(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Pj(n){const e={};if(m(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=m(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function Fj(n){const e={};if(m(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=m(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function Hj(n,e){const t={},r=m(n,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],r);const i=m(n,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const o=m(n,["temperature"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","temperature"],o);const l=m(n,["topP"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","topP"],l);const c=m(n,["topK"]);e!==void 0&&c!=null&&w(e,["setup","generationConfig","topK"],c);const f=m(n,["maxOutputTokens"]);e!==void 0&&f!=null&&w(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(n,["mediaResolution"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","mediaResolution"],d);const h=m(n,["seed"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","seed"],h);const b=m(n,["speechConfig"]);e!==void 0&&b!=null&&w(e,["setup","generationConfig","speechConfig"],Jb(b));const E=m(n,["thinkingConfig"]);e!==void 0&&E!=null&&w(e,["setup","generationConfig","thinkingConfig"],E);const v=m(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const N=m(n,["systemInstruction"]);e!==void 0&&N!=null&&w(e,["setup","systemInstruction"],Oj(Sr(N)));const k=m(n,["tools"]);if(e!==void 0&&k!=null){let se=ru(k);Array.isArray(se)&&(se=se.map(re=>Vj(nu(re)))),w(e,["setup","tools"],se)}const I=m(n,["sessionResumption"]);e!==void 0&&I!=null&&w(e,["setup","sessionResumption"],qj(I));const L=m(n,["inputAudioTranscription"]);e!==void 0&&L!=null&&w(e,["setup","inputAudioTranscription"],L);const F=m(n,["outputAudioTranscription"]);e!==void 0&&F!=null&&w(e,["setup","outputAudioTranscription"],F);const M=m(n,["realtimeInputConfig"]);e!==void 0&&M!=null&&w(e,["setup","realtimeInputConfig"],M);const Y=m(n,["contextWindowCompression"]);e!==void 0&&Y!=null&&w(e,["setup","contextWindowCompression"],Y);const ie=m(n,["proactivity"]);return e!==void 0&&ie!=null&&w(e,["setup","proactivity"],ie),t}function zj(n,e){const t={},r=m(e,["model"]);r!=null&&w(t,["setup","model"],Jt(n,r));const i=m(e,["config"]);return i!=null&&w(t,["config"],Hj(i,t)),t}function Gj(n){const e={},t=m(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=m(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=m(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const o=m(n,["fileData"]);o!=null&&w(e,["fileData"],Uj(o));const l=m(n,["functionCall"]);l!=null&&w(e,["functionCall"],Dj(l));const c=m(n,["functionResponse"]);c!=null&&w(e,["functionResponse"],c);const f=m(n,["inlineData"]);f!=null&&w(e,["inlineData"],Mj(f));const d=m(n,["text"]);d!=null&&w(e,["text"],d);const h=m(n,["thought"]);h!=null&&w(e,["thought"],h);const b=m(n,["thoughtSignature"]);b!=null&&w(e,["thoughtSignature"],b);const E=m(n,["videoMetadata"]);return E!=null&&w(e,["videoMetadata"],E),e}function qj(n){const e={},t=m(n,["handle"]);if(t!=null&&w(e,["handle"],t),m(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Vj(n){const e={},t=m(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(b=>b)),w(e,["functionDeclarations"],h)}if(m(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=m(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const o=m(n,["fileSearch"]);o!=null&&w(e,["fileSearch"],o);const l=m(n,["codeExecution"]);if(l!=null&&w(e,["codeExecution"],l),m(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=m(n,["googleMaps"]);c!=null&&w(e,["googleMaps"],Pj(c));const f=m(n,["googleSearch"]);f!=null&&w(e,["googleSearch"],Fj(f));const d=m(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kj(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const r=n[t];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${t}.${o}`);e.push(...i)}else e.push(t)}return e.join(",")}function Wj(n,e){let t=null;const r=n.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(n.bidiGenerateContentSetup=o,t=o):delete n.bidiGenerateContentSetup}else r!==void 0&&delete n.bidiGenerateContentSetup;const i=n.fieldMask;if(t){const o=Kj(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?n.fieldMask=o:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];i.length>0&&(c=i.map(d=>l.includes(d)?`generationConfig.${d}`:d));const f=[];o&&f.push(o),c.length>0&&f.push(...c),f.length>0?n.fieldMask=f.join(","):delete n.fieldMask}else delete n.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?n.fieldMask=i.join(","):delete n.fieldMask;return n}class $j extends ls{constructor(e){super(),this.apiClient=e}async create(e){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=Lj(this.apiClient,e);o=Je("auth_tokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const f=Wj(c,e.config);return i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jj(n,e){const t={},r=m(n,["displayName"]);return e!==void 0&&r!=null&&w(e,["displayName"],r),t}function Yj(n){const e={},t=m(n,["config"]);return t!=null&&jj(t,e),e}function Jj(n,e){const t={},r=m(n,["force"]);return e!==void 0&&r!=null&&w(e,["_query","force"],r),t}function Zj(n){const e={},t=m(n,["name"]);t!=null&&w(e,["_url","name"],t);const r=m(n,["config"]);return r!=null&&Jj(r,e),e}function Xj(n){const e={},t=m(n,["name"]);return t!=null&&w(e,["_url","name"],t),e}function Qj(n,e){const t={},r=m(n,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),w(e,["customMetadata"],o)}const i=m(n,["chunkingConfig"]);return e!==void 0&&i!=null&&w(e,["chunkingConfig"],i),t}function eY(n){const e={},t=m(n,["name"]);t!=null&&w(e,["name"],t);const r=m(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=m(n,["done"]);i!=null&&w(e,["done"],i);const o=m(n,["error"]);o!=null&&w(e,["error"],o);const l=m(n,["response"]);return l!=null&&w(e,["response"],nY(l)),e}function tY(n){const e={},t=m(n,["fileSearchStoreName"]);t!=null&&w(e,["_url","file_search_store_name"],t);const r=m(n,["fileName"]);r!=null&&w(e,["fileName"],r);const i=m(n,["config"]);return i!=null&&Qj(i,e),e}function nY(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=m(n,["parent"]);r!=null&&w(e,["parent"],r);const i=m(n,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function rY(n,e){const t={},r=m(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=m(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function iY(n){const e={},t=m(n,["config"]);return t!=null&&rY(t,e),e}function oY(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=m(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=m(n,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),w(e,["fileSearchStores"],o)}return e}function sY(n,e){const t={},r=m(n,["mimeType"]);e!==void 0&&r!=null&&w(e,["mimeType"],r);const i=m(n,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const o=m(n,["customMetadata"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),w(e,["customMetadata"],c)}const l=m(n,["chunkingConfig"]);return e!==void 0&&l!=null&&w(e,["chunkingConfig"],l),t}function aY(n){const e={},t=m(n,["fileSearchStoreName"]);t!=null&&w(e,["_url","file_search_store_name"],t);const r=m(n,["config"]);return r!=null&&sY(r,e),e}function lY(n){const e={},t=m(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cY(n,e){const t={},r=m(n,["force"]);return e!==void 0&&r!=null&&w(e,["_query","force"],r),t}function uY(n){const e={},t=m(n,["name"]);t!=null&&w(e,["_url","name"],t);const r=m(n,["config"]);return r!=null&&cY(r,e),e}function fY(n){const e={},t=m(n,["name"]);return t!=null&&w(e,["_url","name"],t),e}function dY(n,e){const t={},r=m(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=m(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function hY(n){const e={},t=m(n,["parent"]);t!=null&&w(e,["_url","parent"],t);const r=m(n,["config"]);return r!=null&&dY(r,e),e}function pY(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=m(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=m(n,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),w(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mY extends ls{constructor(e){super(),this.apiClient=e,this.list=async t=>new wl(os.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:t.parent,config:r.config}),await this.listInternal(t),t)}async get(e){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=fY(e);return o=Je("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var t,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=uY(e);i=Je("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=hY(e);return o=Je("{parent}/documents",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=pY(f),h=new $q;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gY extends ls{constructor(e,t=new mY(e)){super(),this.apiClient=e,this.documents=t,this.list=async(r={})=>new wl(os.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Yj(e);return o=Je("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async get(e){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Xj(e);return o=Je("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var t,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Zj(e);i=Je("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=iY(e);return o=Je("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=oY(f),h=new jq;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(e){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=aY(e);return o=Je("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=lY(f),h=new Yq;return Object.assign(h,d),h})}}async importFile(e){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=tY(e);return o=Je("{file_search_store_name}:importFile",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=eY(f),h=new Kb;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yY(n,e){const t={},r=m(n,["name"]);return r!=null&&w(t,["_url","name"],r),t}function wY(n,e){const t={},r=m(n,["name"]);return r!=null&&w(t,["_url","name"],r),t}function bY(n,e,t){const r={};if(m(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=m(n,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&w(e,["displayName"],i),m(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=m(n,["epochCount"]);e!==void 0&&o!=null&&w(e,["tuningTask","hyperparameters","epochCount"],o);const l=m(n,["learningRateMultiplier"]);if(l!=null&&w(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),m(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(m(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=m(n,["batchSize"]);e!==void 0&&c!=null&&w(e,["tuningTask","hyperparameters","batchSize"],c);const f=m(n,["learningRate"]);if(e!==void 0&&f!=null&&w(e,["tuningTask","hyperparameters","learningRate"],f),m(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(m(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function vY(n,e,t){const r={};let i=m(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const v=m(n,["validationDataset"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec"],xR(v))}else if(i==="PREFERENCE_TUNING"){const v=m(n,["validationDataset"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec"],xR(v))}const o=m(n,["tunedModelDisplayName"]);e!==void 0&&o!=null&&w(e,["tunedModelDisplayName"],o);const l=m(n,["description"]);e!==void 0&&l!=null&&w(e,["description"],l);let c=m(t,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const v=m(n,["epochCount"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(c==="PREFERENCE_TUNING"){const v=m(n,["epochCount"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let f=m(t,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const v=m(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(f==="PREFERENCE_TUNING"){const v=m(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let d=m(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const v=m(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(d==="PREFERENCE_TUNING"){const v=m(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let h=m(t,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const v=m(n,["adapterSize"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(h==="PREFERENCE_TUNING"){const v=m(n,["adapterSize"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(m(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(m(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const b=m(n,["labels"]);e!==void 0&&b!=null&&w(e,["labels"],b);const E=m(n,["beta"]);return e!==void 0&&E!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","beta"],E),r}function EY(n,e){const t={},r=m(n,["baseModel"]);r!=null&&w(t,["baseModel"],r);const i=m(n,["preTunedModel"]);i!=null&&w(t,["preTunedModel"],i);const o=m(n,["trainingDataset"]);o!=null&&MY(o);const l=m(n,["config"]);return l!=null&&bY(l,t),t}function _Y(n,e){const t={},r=m(n,["baseModel"]);r!=null&&w(t,["baseModel"],r);const i=m(n,["preTunedModel"]);i!=null&&w(t,["preTunedModel"],i);const o=m(n,["trainingDataset"]);o!=null&&OY(o,t,e);const l=m(n,["config"]);return l!=null&&vY(l,t,e),t}function xY(n,e){const t={},r=m(n,["name"]);return r!=null&&w(t,["_url","name"],r),t}function AY(n,e){const t={},r=m(n,["name"]);return r!=null&&w(t,["_url","name"],r),t}function SY(n,e,t){const r={},i=m(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const o=m(n,["pageToken"]);e!==void 0&&o!=null&&w(e,["_query","pageToken"],o);const l=m(n,["filter"]);return e!==void 0&&l!=null&&w(e,["_query","filter"],l),r}function TY(n,e,t){const r={},i=m(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const o=m(n,["pageToken"]);e!==void 0&&o!=null&&w(e,["_query","pageToken"],o);const l=m(n,["filter"]);return e!==void 0&&l!=null&&w(e,["_query","filter"],l),r}function RY(n,e){const t={},r=m(n,["config"]);return r!=null&&SY(r,t),t}function NY(n,e){const t={},r=m(n,["config"]);return r!=null&&TY(r,t),t}function CY(n,e){const t={},r=m(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=m(n,["nextPageToken"]);i!=null&&w(t,["nextPageToken"],i);const o=m(n,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>I3(c))),w(t,["tuningJobs"],l)}return t}function IY(n,e){const t={},r=m(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=m(n,["nextPageToken"]);i!=null&&w(t,["nextPageToken"],i);const o=m(n,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>U1(c))),w(t,["tuningJobs"],l)}return t}function kY(n,e){const t={},r=m(n,["name"]);r!=null&&w(t,["model"],r);const i=m(n,["name"]);return i!=null&&w(t,["endpoint"],i),t}function MY(n,e){const t={};if(m(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=m(n,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),w(t,["examples","examples"],i)}return t}function OY(n,e,t){const r={};let i=m(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=m(n,["gcsUri"]);e!==void 0&&l!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=m(n,["gcsUri"]);e!==void 0&&l!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let o=m(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=m(n,["vertexDatasetResource"]);e!==void 0&&l!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=m(n,["vertexDatasetResource"]);e!==void 0&&l!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(m(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function I3(n,e){const t={},r=m(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=m(n,["name"]);i!=null&&w(t,["name"],i);const o=m(n,["state"]);o!=null&&w(t,["state"],f3(o));const l=m(n,["createTime"]);l!=null&&w(t,["createTime"],l);const c=m(n,["tuningTask","startTime"]);c!=null&&w(t,["startTime"],c);const f=m(n,["tuningTask","completeTime"]);f!=null&&w(t,["endTime"],f);const d=m(n,["updateTime"]);d!=null&&w(t,["updateTime"],d);const h=m(n,["description"]);h!=null&&w(t,["description"],h);const b=m(n,["baseModel"]);b!=null&&w(t,["baseModel"],b);const E=m(n,["_self"]);return E!=null&&w(t,["tunedModel"],kY(E)),t}function U1(n,e){const t={},r=m(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=m(n,["name"]);i!=null&&w(t,["name"],i);const o=m(n,["state"]);o!=null&&w(t,["state"],f3(o));const l=m(n,["createTime"]);l!=null&&w(t,["createTime"],l);const c=m(n,["startTime"]);c!=null&&w(t,["startTime"],c);const f=m(n,["endTime"]);f!=null&&w(t,["endTime"],f);const d=m(n,["updateTime"]);d!=null&&w(t,["updateTime"],d);const h=m(n,["error"]);h!=null&&w(t,["error"],h);const b=m(n,["description"]);b!=null&&w(t,["description"],b);const E=m(n,["baseModel"]);E!=null&&w(t,["baseModel"],E);const v=m(n,["tunedModel"]);v!=null&&w(t,["tunedModel"],v);const N=m(n,["preTunedModel"]);N!=null&&w(t,["preTunedModel"],N);const k=m(n,["supervisedTuningSpec"]);k!=null&&w(t,["supervisedTuningSpec"],k);const I=m(n,["preferenceOptimizationSpec"]);I!=null&&w(t,["preferenceOptimizationSpec"],I);const L=m(n,["tuningDataStats"]);L!=null&&w(t,["tuningDataStats"],L);const F=m(n,["encryptionSpec"]);F!=null&&w(t,["encryptionSpec"],F);const M=m(n,["partnerModelTuningSpec"]);M!=null&&w(t,["partnerModelTuningSpec"],M);const Y=m(n,["customBaseModel"]);Y!=null&&w(t,["customBaseModel"],Y);const ie=m(n,["experiment"]);ie!=null&&w(t,["experiment"],ie);const se=m(n,["labels"]);se!=null&&w(t,["labels"],se);const re=m(n,["outputUri"]);re!=null&&w(t,["outputUri"],re);const ae=m(n,["pipelineJob"]);ae!=null&&w(t,["pipelineJob"],ae);const J=m(n,["serviceAccount"]);J!=null&&w(t,["serviceAccount"],J);const Q=m(n,["tunedModelDisplayName"]);Q!=null&&w(t,["tunedModelDisplayName"],Q);const Z=m(n,["veoTuningSpec"]);return Z!=null&&w(t,["veoTuningSpec"],Z),t}function BY(n,e){const t={},r=m(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=m(n,["name"]);i!=null&&w(t,["name"],i);const o=m(n,["metadata"]);o!=null&&w(t,["metadata"],o);const l=m(n,["done"]);l!=null&&w(t,["done"],l);const c=m(n,["error"]);return c!=null&&w(t,["error"],c),t}function xR(n,e){const t={},r=m(n,["gcsUri"]);r!=null&&w(t,["validationDatasetUri"],r);const i=m(n,["vertexDatasetResource"]);return i!=null&&w(t,["validationDatasetUri"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LY extends ls{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new wl(os.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(t),t),this.tune=async t=>{var r;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const i={tunedModelName:t.baseModel};!((r=t.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=t.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},t),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},t);return await this.tuneInternal(i)}else{const i=Object.assign({},t),o=await this.tuneMldevInternal(i);let l="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?l=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(l=o.name.split("/operations/")[0]),{name:l,state:C1.JOB_STATE_QUEUED}}}}async getInternal(e){var t,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=AY(e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:h.headers},E})),l.then(h=>U1(h))}else{const d=xY(e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:h.headers},E})),l.then(h=>I3(h))}}async listInternal(e){var t,r,i,o;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=NY(e);return c=Je("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:h.headers},E})),l.then(h=>{const b=IY(h),E=new nR;return Object.assign(E,b),E})}else{const d=RY(e);return c=Je("tunedModels",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:h.headers},E})),l.then(h=>{const b=CY(h),E=new nR;return Object.assign(E,b),E})}}async cancel(e){var t,r,i,o;let l="",c={};if(this.apiClient.isVertexAI()){const f=wY(e);l=Je("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=yY(e);l=Je("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=_Y(e,e);return o=Je("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>U1(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=EY(e);return o=Je("tunedModels",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>BY(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UY{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const DY=1024*1024*8,PY=3,FY=1e3,HY=2,Kp="x-goog-upload-status";async function zY(n,e,t){var r;const i=await k3(n,e,t),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Kp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function GY(n,e,t){var r;const i=await k3(n,e,t),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Kp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=o3(o),c=new Wb;return Object.assign(c,l),c}async function k3(n,e,t){var r,i;let o=0,l=0,c=new I1(new Response),f="upload";for(o=n.size;l<o;){const d=Math.min(DY,o-l),h=n.slice(l,l+d);l+d>=o&&(f+=", finalize");let b=0,E=FY;for(;b<PY&&(c=await t.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((r=c==null?void 0:c.headers)===null||r===void 0)&&r[Kp]));)b++,await VY(E),E=E*HY;if(l+=d,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[Kp])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function qY(n){return{size:n.size,type:n.type}}function VY(n){return new Promise(e=>setTimeout(e,n))}class KY{async upload(e,t,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await zY(e,t,r)}async uploadToFileSearchStore(e,t,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await GY(e,t,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await qY(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WY{create(e,t,r){return new $Y(e,t,r)}}class $Y{constructor(e,t,r){this.url=e,this.headers=t,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AR="x-goog-api-key";class jY{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(AR)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(AR,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YY="gl-node/";class JY{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const r=Tq(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new jY(this.apiKey);this.apiClient=new fj({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:YY+"web",uploader:new KY,downloader:new UY}),this.models=new Ij(this.apiClient),this.live=new Aj(this.apiClient,i,new WY),this.batches=new tK(this.apiClient),this.chats=new UK(this.models,this.apiClient),this.caches=new OK(this.apiClient),this.files=new WK(this.apiClient),this.operations=new kj(this.apiClient),this.authTokens=new $j(this.apiClient),this.tunings=new LY(this.apiClient),this.fileSearchStores=new gY(this.apiClient)}}const ZY=()=>new JY({apiKey:""}),XY=async n=>{var e,t,r;try{const o=await ZY().models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{text:n}]},config:{imageConfig:{aspectRatio:"1:1"}}});for(const l of((r=(t=(e=o.candidates)==null?void 0:e[0])==null?void 0:t.content)==null?void 0:r.parts)||[])if(l.inlineData)return`data:image/png;base64,${l.inlineData.data}`;return null}catch(i){return console.error("AI Generation Error:",i),null}};var Ti=(n=>(n[n.IDLE=0]="IDLE",n[n.GENERATING=1]="GENERATING",n[n.SUCCESS=2]="SUCCESS",n[n.ERROR=3]="ERROR",n))(Ti||{});const QY=()=>{const[n,e]=fe.useState(""),[t,r]=fe.useState(Ti.IDLE),[i,o]=fe.useState(null),l=async()=>{if(!n.trim())return;r(Ti.GENERATING),o(null);const c=await XY(n);c?(o(c),r(Ti.SUCCESS)):r(Ti.ERROR)};return x.jsx("div",{className:"min-h-screen bg-[#0c0c0c] pt-12 pb-20",children:x.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-black border border-magic-green/30 text-magic-green text-xs font-bold uppercase tracking-widest mb-4",children:[x.jsx(GG,{className:"w-3 h-3"})," TRASH_AI_GENERATOR"]}),x.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white mb-4 uppercase tracking-tighter",children:"TRASH_LAUNCHPAD"}),x.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto font-mono",children:"Generate pure garbage (art) for your next collection."})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[x.jsxs("div",{className:"bg-[#1c1c24] p-6 border border-white/10 h-fit relative group",children:[x.jsx("div",{className:"absolute -top-1 -left-1 w-2 h-2 border-t border-l border-white/50"}),x.jsx("div",{className:"absolute -bottom-1 -right-1 w-2 h-2 border-b border-r border-white/50"}),x.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2 uppercase tracking-wider",children:"Prompt_Input"}),x.jsx("textarea",{value:n,onChange:c=>e(c.target.value),placeholder:"E.g. A pixelated trash can burning in space...",className:"w-full h-40 bg-black border border-white/20 p-4 text-white placeholder-gray-700 focus:outline-none focus:border-magic-green resize-none mb-6 text-sm font-mono"}),x.jsx("button",{onClick:l,disabled:t===Ti.GENERATING||!n.trim(),className:`w-full py-4 font-bold text-sm uppercase tracking-widest flex items-center justify-center gap-2 transition-all border ${t===Ti.GENERATING?"bg-gray-900 border-gray-800 text-gray-600 cursor-not-allowed":"bg-magic-green text-black border-magic-green hover:bg-black hover:text-magic-green"}`,children:t===Ti.GENERATING?x.jsxs(x.Fragment,{children:[x.jsx(QM,{className:"w-4 h-4 animate-spin"})," PROCESSING..."]}):x.jsxs(x.Fragment,{children:[x.jsx(nq,{className:"w-4 h-4"})," GENERATE_ASSET"]})})]}),x.jsxs("div",{className:"bg-[#1c1c24] p-6 border border-white/10 flex flex-col items-center justify-center min-h-[400px] relative",children:[x.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[x.jsx("div",{className:"w-1 h-1 bg-gray-600 rounded-full"}),x.jsx("div",{className:"w-1 h-1 bg-gray-600 rounded-full"}),x.jsx("div",{className:"w-1 h-1 bg-gray-600 rounded-full"})]}),t===Ti.SUCCESS&&i?x.jsxs("div",{className:"w-full animate-fade-in",children:[x.jsxs("div",{className:"aspect-square w-full overflow-hidden mb-4 border border-magic-green relative group bg-black",children:[x.jsx("img",{src:i,alt:"Generated",className:"w-full h-full object-cover"}),x.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:x.jsxs("a",{href:i,download:"trash-nft.png",className:"bg-white text-black px-6 py-2 font-bold uppercase text-xs flex items-center gap-2 hover:bg-magic-green hover:text-black transition-colors",children:[x.jsx(A1,{className:"w-4 h-4"})," Save_Asset"]})})]}),x.jsxs("div",{className:"flex justify-between items-center text-xs font-mono uppercase",children:[x.jsx("span",{className:"text-magic-green",children:"Status: READY_TO_MINT"}),x.jsx("span",{className:"text-gray-500",children:"100% Unique"})]})]}):t===Ti.GENERATING?x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-16 h-16 border-2 border-magic-green border-t-transparent animate-spin mx-auto mb-4 rounded-full"}),x.jsx("p",{className:"text-magic-green font-mono text-xs animate-pulse",children:"HALLUCINATING..."})]}):t===Ti.ERROR?x.jsxs("div",{className:"text-center text-magic-red font-mono",children:[x.jsx("p",{className:"mb-2 uppercase font-bold",children:"Generation Failed"}),x.jsx("p",{className:"text-xs opacity-70",children:"Try a different prompt."})]}):x.jsxs("div",{className:"text-center text-gray-700",children:[x.jsx(xG,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),x.jsx("p",{className:"font-mono text-xs uppercase",children:"Output_Preview"})]})]})]})]})})},eJ=[{name:"Magic Green",hex:"#adff02",class:"bg-magic-green text-black"},{name:"Magic Pink",hex:"#ff00ff",class:"bg-magic-pink text-white"},{name:"Magic Red",hex:"#ff2222",class:"bg-magic-red text-white"},{name:"Magic Purple",hex:"#9945ff",class:"bg-magic-purple text-white"},{name:"Void Black",hex:"#000000",class:"bg-black text-white border border-white/20"},{name:"Card Surface",hex:"#080808",class:"bg-[#080808] text-white border border-white/20"}],tJ=[{id:"brand",label:"Identity_Kit"},{id:"manifesto",label:"Manifesto"},{id:"ui",label:"UI_Components"},{id:"api",label:"Dev_API"}],nJ=()=>{const[n,e]=fe.useState("brand"),[t,r]=fe.useState(null),i=o=>{navigator.clipboard.writeText(o),r(o),setTimeout(()=>r(null),2e3)};return x.jsxs("div",{className:"min-h-screen bg-black flex flex-col md:flex-row max-w-[1600px] mx-auto border-l border-r border-white/10",children:[x.jsxs("aside",{className:"w-full md:w-64 border-b md:border-b-0 md:border-r border-white/10 sticky top-16 h-auto md:h-[calc(100vh-64px)] bg-black z-20 overflow-y-auto",children:[x.jsxs("div",{className:"p-6",children:[x.jsxs("h2",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-6 flex items-center gap-2",children:[x.jsx(EG,{className:"w-3 h-3"})," Documentation"]}),x.jsx("nav",{className:"space-y-1",children:tJ.map(o=>x.jsx("button",{onClick:()=>e(o.id),className:`w-full text-left px-4 py-3 text-xs font-bold font-mono uppercase tracking-wider border-l-2 transition-all ${n===o.id?"border-magic-green text-white bg-white/5":"border-transparent text-gray-500 hover:text-white hover:border-gray-700"}`,children:o.label},o.id))})]}),x.jsx("div",{className:"p-6 mt-auto border-t border-white/10",children:x.jsxs("div",{className:"bg-[#111] p-3 border border-white/10",children:[x.jsx("div",{className:"text-[10px] text-gray-500 mb-2 uppercase",children:"Current Version"}),x.jsx("div",{className:"text-magic-green font-mono text-xs",children:"v0.9.2-beta"})]})})]}),x.jsx("main",{className:"flex-1 min-h-screen bg-black overflow-y-auto",children:x.jsxs("div",{className:"max-w-4xl mx-auto p-6 md:p-12 pb-24",children:[x.jsxs("div",{className:"mb-12 border-b border-white/20 pb-8",children:[x.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white mb-4 uppercase tracking-tighter",children:"Official_Docs"}),x.jsx("p",{className:"text-gray-400 font-mono text-sm max-w-2xl",children:"The authoritative source for the Trash Market visual language, philosophy, and developer endpoints. Use these assets to build compatible garbage."})]}),n==="brand"&&x.jsxs("div",{className:"space-y-16 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[x.jsxs("section",{children:[x.jsxs("div",{className:"flex items-center gap-2 mb-6 text-magic-green",children:[x.jsx(kG,{className:"w-5 h-5"}),x.jsx("h2",{className:"text-xl font-bold uppercase tracking-widest",children:"Color_Palette"})]}),x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:eJ.map(o=>x.jsxs("div",{className:`group p-4 h-32 flex flex-col justify-between cursor-pointer transition-all hover:scale-[1.02] ${o.class}`,onClick:()=>i(o.hex),children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsx("span",{className:"font-bold text-sm uppercase tracking-wider",children:o.name}),t===o.hex&&x.jsx(ZM,{className:"w-4 h-4 animate-in zoom-in"})]}),x.jsxs("div",{className:"font-mono text-xs uppercase flex items-center gap-2 opacity-60 group-hover:opacity-100",children:[o.hex," ",x.jsx(mG,{className:"w-3 h-3"})]})]},o.hex))})]}),x.jsxs("section",{children:[x.jsxs("div",{className:"flex items-center gap-2 mb-6 text-magic-green",children:[x.jsx(ZG,{className:"w-5 h-5"}),x.jsx("h2",{className:"text-xl font-bold uppercase tracking-widest",children:"Typography"})]}),x.jsxs("div",{className:"border border-white/20 p-8 bg-[#050505]",children:[x.jsxs("div",{className:"mb-8",children:[x.jsx("span",{className:"text-gray-500 text-xs uppercase tracking-widest mb-2 block",children:"Primary Font"}),x.jsx("h3",{className:"text-4xl text-white font-mono",children:"JetBrains Mono"})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex flex-col md:flex-row gap-4 md:items-baseline border-b border-white/10 pb-4",children:[x.jsx("span",{className:"w-32 text-gray-500 text-xs uppercase",children:"Regular (400)"}),x.jsx("p",{className:"text-white font-mono font-normal text-lg",children:"The quick brown fox jumps over the lazy dog."})]}),x.jsxs("div",{className:"flex flex-col md:flex-row gap-4 md:items-baseline border-b border-white/10 pb-4",children:[x.jsx("span",{className:"w-32 text-gray-500 text-xs uppercase",children:"Bold (700)"}),x.jsx("p",{className:"text-white font-mono font-bold text-lg",children:"THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG."})]})]})]})]}),x.jsxs("section",{children:[x.jsxs("div",{className:"flex items-center gap-2 mb-6 text-magic-green",children:[x.jsx(RG,{className:"w-5 h-5"}),x.jsx("h2",{className:"text-xl font-bold uppercase tracking-widest",children:"Logomark"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsx("div",{className:"border border-white/20 bg-black p-12 flex items-center justify-center",children:x.jsxs("div",{className:"text-2xl font-bold text-white tracking-tighter",children:["TRASHMARKET",x.jsx("span",{className:"text-magic-green",children:".FUN"})]})}),x.jsx("div",{className:"border border-white/20 bg-white p-12 flex items-center justify-center",children:x.jsxs("div",{className:"text-2xl font-bold text-black tracking-tighter",children:["TRASHMARKET",x.jsx("span",{className:"text-magic-green",children:".FUN"})]})})]}),x.jsxs("div",{className:"mt-4 flex gap-4",children:[x.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/10 text-xs font-bold uppercase text-white border border-white/20 transition-colors",children:[x.jsx(A1,{className:"w-4 h-4"})," Download SVG"]}),x.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/10 text-xs font-bold uppercase text-white border border-white/20 transition-colors",children:[x.jsx(A1,{className:"w-4 h-4"})," Download PNG"]})]})]})]}),n==="manifesto"&&x.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 max-w-2xl",children:[x.jsx("div",{className:"border-l-4 border-magic-green pl-6 py-2",children:x.jsx("h2",{className:"text-3xl font-black text-white uppercase italic tracking-tighter mb-4",children:`"One man's trash is another man's alpha."`})}),x.jsxs("div",{className:"font-mono text-gray-300 space-y-4 leading-relaxed",children:[x.jsx("p",{children:"TrashMarket was born from the debris of failed mints, rugged projects, and derivative art. We believe that liquidity should flow freely, even in the gutters of the blockchain."}),x.jsx("p",{children:"We reject rounded corners. We reject smooth gradients. We embrace the raw data."}),x.jsx("p",{children:x.jsx("strong",{className:"text-white",children:"Core Values:"})}),x.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-magic-green",children:[x.jsx("li",{children:x.jsx("span",{className:"text-gray-300",children:"Speed over safety."})}),x.jsx("li",{children:x.jsx("span",{className:"text-gray-300",children:"Information density over whitespace."})}),x.jsx("li",{children:x.jsx("span",{className:"text-gray-300",children:"Brutal honesty about asset value (usually 0)."})})]})]})]}),n==="ui"&&x.jsxs("div",{className:"space-y-12 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[x.jsxs("section",{children:[x.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-widest mb-6",children:"Buttons"}),x.jsxs("div",{className:"flex flex-wrap gap-4 p-8 border border-white/20 border-dashed",children:[x.jsx("button",{className:"bg-magic-green text-black px-6 py-2 font-bold uppercase text-sm border border-magic-green hover:bg-black hover:text-magic-green transition-colors",children:"Primary Action"}),x.jsx("button",{className:"bg-black text-magic-green px-6 py-2 font-bold uppercase text-sm border border-magic-green hover:bg-magic-green hover:text-black transition-colors",children:"Secondary Action"}),x.jsx("button",{className:"bg-black text-white px-6 py-2 font-bold uppercase text-sm border border-white/20 hover:border-white transition-colors",children:"Tertiary Action"})]})]}),x.jsxs("section",{children:[x.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-widest mb-6",children:"Inputs & Forms"}),x.jsxs("div",{className:"grid gap-4 p-8 border border-white/20 border-dashed bg-[#050505]",children:[x.jsx("input",{type:"text",placeholder:"PLACEHOLDER_TEXT",className:"w-full bg-black border border-white/20 p-3 text-white font-mono focus:border-magic-green outline-none"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"checkbox",checked:!0,readOnly:!0,className:"appearance-none w-4 h-4 border border-magic-green bg-magic-green"}),x.jsx("span",{className:"text-sm font-mono text-gray-300",children:"Checkbox Active"})]})]})]})]}),n==="api"&&x.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[x.jsxs("div",{className:"bg-[#050505] border border-white/20 p-6",children:[x.jsxs("div",{className:"flex items-center gap-2 text-magic-green mb-4",children:[x.jsx(e3,{className:"w-5 h-5"}),x.jsx("h2",{className:"font-bold font-mono",children:"BASE_URL"})]}),x.jsx("div",{className:"bg-black p-4 border border-white/10 font-mono text-sm text-gray-300",children:"https://api.trashmarket.fun/v1"})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[x.jsx("span",{className:"px-2 py-1 bg-magic-green text-black text-xs font-bold font-mono",children:"GET"}),x.jsx("span",{className:"text-white font-mono text-sm",children:"/collections/trending"})]}),x.jsx("div",{className:"bg-black border border-white/10 p-4 font-mono text-xs overflow-x-auto",children:x.jsx("pre",{className:"text-gray-400",children:`{
  "data": [
    {
      "id": "galactic-geckos",
      "floor_price": 12.5,
      "volume_24h": 450000,
      "status": "trash"
    }
  ],
  "meta": {
    "count": 1,
    "latency": "12ms"
  }
}`})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[x.jsx("span",{className:"px-2 py-1 bg-magic-green text-black text-xs font-bold font-mono",children:"GET"}),x.jsx("span",{className:"text-white font-mono text-sm",children:"https://gorapi.trashscan.io/api/gorbagios"})]}),x.jsx("div",{className:"bg-black border border-white/10 p-4 font-mono text-xs overflow-x-auto",children:x.jsx("pre",{className:"text-gray-400",children:`{
  "success": true,
  "count": 4444,
  "data": [
    {
      "solana_mint": "DsdQoA...",
      "metadata": {
        "name": "Gorbagio #3437",
        "image": "https://.../3437.png"
      }
    }
  ]
}`})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[x.jsx("span",{className:"px-2 py-1 bg-blue-500 text-black text-xs font-bold font-mono",children:"POST"}),x.jsx("span",{className:"text-white font-mono text-sm",children:"/orders/sweep"})]}),x.jsx("div",{className:"bg-black border border-white/10 p-4 font-mono text-xs overflow-x-auto",children:x.jsx("pre",{className:"text-gray-400",children:`// Payload
{
  "collection_id": "cyber-samurai",
  "max_price": 5.5,
  "quantity": 10,
  "wallet": "5G..."
}`})})]})]})]})]})})]})};var mr={},D1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */D1.read=function(n,e,t,r,i){var o,l,c=8*i-r-1,f=(1<<c)-1,d=f>>1,h=-7,b=t?i-1:0,E=t?-1:1,v=n[e+b];for(b+=E,o=v&(1<<-h)-1,v>>=-h,h+=c;h>0;o=256*o+n[e+b],b+=E,h-=8);for(l=o&(1<<-h)-1,o>>=-h,h+=r;h>0;l=256*l+n[e+b],b+=E,h-=8);if(o===0)o=1-d;else{if(o===f)return l?NaN:1/0*(v?-1:1);l+=Math.pow(2,r),o-=d}return(v?-1:1)*l*Math.pow(2,o-r)},D1.write=function(n,e,t,r,i,o){var l,c,f,d=8*o-i-1,h=(1<<d)-1,b=h>>1,E=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=r?0:o-1,N=r?1:-1,k=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,l=h):(l=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-l))<1&&(l--,f*=2),(e+=l+b>=1?E/f:E*Math.pow(2,1-b))*f>=2&&(l++,f/=2),l+b>=h?(c=0,l=h):l+b>=1?(c=(e*f-1)*Math.pow(2,i),l+=b):(c=e*Math.pow(2,b-1)*Math.pow(2,i),l=0));i>=8;n[t+v]=255&c,v+=N,c/=256,i-=8);for(l=l<<i|c,d+=i;d>0;n[t+v]=255&l,v+=N,l/=256,d-=8);n[t+v-N]|=128*k};var pp={};pp.byteLength=function(n){var e=TR(n),t=e[0],r=e[1];return 3*(t+r)/4-r},pp.toByteArray=function(n){var e,t,r=TR(n),i=r[0],o=r[1],l=new rJ((function(d,h,b){return 3*(h+b)/4-b})(0,i,o)),c=0,f=o>0?i-4:i;for(t=0;t<f;t+=4)e=gi[n.charCodeAt(t)]<<18|gi[n.charCodeAt(t+1)]<<12|gi[n.charCodeAt(t+2)]<<6|gi[n.charCodeAt(t+3)],l[c++]=e>>16&255,l[c++]=e>>8&255,l[c++]=255&e;return o===2&&(e=gi[n.charCodeAt(t)]<<2|gi[n.charCodeAt(t+1)]>>4,l[c++]=255&e),o===1&&(e=gi[n.charCodeAt(t)]<<10|gi[n.charCodeAt(t+1)]<<4|gi[n.charCodeAt(t+2)]>>2,l[c++]=e>>8&255,l[c++]=255&e),l},pp.fromByteArray=function(n){for(var e,t=n.length,r=t%3,i=[],o=16383,l=0,c=t-r;l<c;l+=o)i.push(iJ(n,l,l+o>c?c:l+o));return r===1?(e=n[t-1],i.push(so[e>>2]+so[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],i.push(so[e>>10]+so[e>>4&63]+so[e<<2&63]+"=")),i.join("")};for(var so=[],gi=[],rJ=typeof Uint8Array<"u"?Uint8Array:Array,SR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uc=0;uc<64;++uc)so[uc]=SR[uc],gi[SR.charCodeAt(uc)]=uc;function TR(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");return t===-1&&(t=e),[t,t===e?0:4-t%4]}function iJ(n,e,t){for(var r,i,o=[],l=e;l<t;l+=3)r=(n[l]<<16&16711680)+(n[l+1]<<8&65280)+(255&n[l+2]),o.push(so[(i=r)>>18&63]+so[i>>12&63]+so[i>>6&63]+so[63&i]);return o.join("")}gi[45]=62,gi[95]=63;/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const e=pp,t=D1,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=l,n.SlowBuffer=function(U){return+U!=U&&(U=0),l.alloc(+U)},n.INSPECT_MAX_BYTES=50;const i=2147483647;function o(U){if(U>i)throw new RangeError('The value "'+U+'" is invalid for option "size"');const $=new Uint8Array(U);return Object.setPrototypeOf($,l.prototype),$}function l(U,$,ee){if(typeof U=="number"){if(typeof $=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(U)}return c(U,$,ee)}function c(U,$,ee){if(typeof U=="string")return(function(Ee,Le){if(typeof Le=="string"&&Le!==""||(Le="utf8"),!l.isEncoding(Le))throw new TypeError("Unknown encoding: "+Le);const Ve=0|v(Ee,Le);let $e=o(Ve);const Nt=$e.write(Ee,Le);return Nt!==Ve&&($e=$e.slice(0,Nt)),$e})(U,$);if(ArrayBuffer.isView(U))return(function(Ee){if(ot(Ee,Uint8Array)){const Le=new Uint8Array(Ee);return b(Le.buffer,Le.byteOffset,Le.byteLength)}return h(Ee)})(U);if(U==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(ot(U,ArrayBuffer)||U&&ot(U.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ot(U,SharedArrayBuffer)||U&&ot(U.buffer,SharedArrayBuffer)))return b(U,$,ee);if(typeof U=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const me=U.valueOf&&U.valueOf();if(me!=null&&me!==U)return l.from(me,$,ee);const ye=(function(Ee){if(l.isBuffer(Ee)){const Le=0|E(Ee.length),Ve=o(Le);return Ve.length===0||Ee.copy(Ve,0,0,Le),Ve}if(Ee.length!==void 0)return typeof Ee.length!="number"||Rt(Ee.length)?o(0):h(Ee);if(Ee.type==="Buffer"&&Array.isArray(Ee.data))return h(Ee.data)})(U);if(ye)return ye;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof U[Symbol.toPrimitive]=="function")return l.from(U[Symbol.toPrimitive]("string"),$,ee);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}function f(U){if(typeof U!="number")throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function d(U){return f(U),o(U<0?0:0|E(U))}function h(U){const $=U.length<0?0:0|E(U.length),ee=o($);for(let me=0;me<$;me+=1)ee[me]=255&U[me];return ee}function b(U,$,ee){if($<0||U.byteLength<$)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<$+(ee||0))throw new RangeError('"length" is outside of buffer bounds');let me;return me=$===void 0&&ee===void 0?new Uint8Array(U):ee===void 0?new Uint8Array(U,$):new Uint8Array(U,$,ee),Object.setPrototypeOf(me,l.prototype),me}function E(U){if(U>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|U}function v(U,$){if(l.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||ot(U,ArrayBuffer))return U.byteLength;if(typeof U!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);const ee=U.length,me=arguments.length>2&&arguments[2]===!0;if(!me&&ee===0)return 0;let ye=!1;for(;;)switch($){case"ascii":case"latin1":case"binary":return ee;case"utf8":case"utf-8":return De(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ee;case"hex":return ee>>>1;case"base64":return Ue(U).length;default:if(ye)return me?-1:De(U).length;$=(""+$).toLowerCase(),ye=!0}}function N(U,$,ee){let me=!1;if(($===void 0||$<0)&&($=0),$>this.length||((ee===void 0||ee>this.length)&&(ee=this.length),ee<=0)||(ee>>>=0)<=($>>>=0))return"";for(U||(U="utf8");;)switch(U){case"hex":return W(this,$,ee);case"utf8":case"utf-8":return ae(this,$,ee);case"ascii":return Q(this,$,ee);case"latin1":case"binary":return Z(this,$,ee);case"base64":return re(this,$,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,$,ee);default:if(me)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),me=!0}}function k(U,$,ee){const me=U[$];U[$]=U[ee],U[ee]=me}function I(U,$,ee,me,ye){if(U.length===0)return-1;if(typeof ee=="string"?(me=ee,ee=0):ee>2147483647?ee=2147483647:ee<-2147483648&&(ee=-2147483648),Rt(ee=+ee)&&(ee=ye?0:U.length-1),ee<0&&(ee=U.length+ee),ee>=U.length){if(ye)return-1;ee=U.length-1}else if(ee<0){if(!ye)return-1;ee=0}if(typeof $=="string"&&($=l.from($,me)),l.isBuffer($))return $.length===0?-1:L(U,$,ee,me,ye);if(typeof $=="number")return $&=255,typeof Uint8Array.prototype.indexOf=="function"?ye?Uint8Array.prototype.indexOf.call(U,$,ee):Uint8Array.prototype.lastIndexOf.call(U,$,ee):L(U,[$],ee,me,ye);throw new TypeError("val must be string, number or Buffer")}function L(U,$,ee,me,ye){let Ee,Le=1,Ve=U.length,$e=$.length;if(me!==void 0&&((me=String(me).toLowerCase())==="ucs2"||me==="ucs-2"||me==="utf16le"||me==="utf-16le")){if(U.length<2||$.length<2)return-1;Le=2,Ve/=2,$e/=2,ee/=2}function Nt(et,ht){return Le===1?et[ht]:et.readUInt16BE(ht*Le)}if(ye){let et=-1;for(Ee=ee;Ee<Ve;Ee++)if(Nt(U,Ee)===Nt($,et===-1?0:Ee-et)){if(et===-1&&(et=Ee),Ee-et+1===$e)return et*Le}else et!==-1&&(Ee-=Ee-et),et=-1}else for(ee+$e>Ve&&(ee=Ve-$e),Ee=ee;Ee>=0;Ee--){let et=!0;for(let ht=0;ht<$e;ht++)if(Nt(U,Ee+ht)!==Nt($,ht)){et=!1;break}if(et)return Ee}return-1}function F(U,$,ee,me){ee=Number(ee)||0;const ye=U.length-ee;me?(me=Number(me))>ye&&(me=ye):me=ye;const Ee=$.length;let Le;for(me>Ee/2&&(me=Ee/2),Le=0;Le<me;++Le){const Ve=parseInt($.substr(2*Le,2),16);if(Rt(Ve))return Le;U[ee+Le]=Ve}return Le}function M(U,$,ee,me){return ct(De($,U.length-ee),U,ee,me)}function Y(U,$,ee,me){return ct((function(ye){const Ee=[];for(let Le=0;Le<ye.length;++Le)Ee.push(255&ye.charCodeAt(Le));return Ee})($),U,ee,me)}function ie(U,$,ee,me){return ct(Ue($),U,ee,me)}function se(U,$,ee,me){return ct((function(ye,Ee){let Le,Ve,$e;const Nt=[];for(let et=0;et<ye.length&&!((Ee-=2)<0);++et)Le=ye.charCodeAt(et),Ve=Le>>8,$e=Le%256,Nt.push($e),Nt.push(Ve);return Nt})($,U.length-ee),U,ee,me)}function re(U,$,ee){return $===0&&ee===U.length?e.fromByteArray(U):e.fromByteArray(U.slice($,ee))}function ae(U,$,ee){ee=Math.min(U.length,ee);const me=[];let ye=$;for(;ye<ee;){const Ee=U[ye];let Le=null,Ve=Ee>239?4:Ee>223?3:Ee>191?2:1;if(ye+Ve<=ee){let $e,Nt,et,ht;switch(Ve){case 1:Ee<128&&(Le=Ee);break;case 2:$e=U[ye+1],(192&$e)==128&&(ht=(31&Ee)<<6|63&$e,ht>127&&(Le=ht));break;case 3:$e=U[ye+1],Nt=U[ye+2],(192&$e)==128&&(192&Nt)==128&&(ht=(15&Ee)<<12|(63&$e)<<6|63&Nt,ht>2047&&(ht<55296||ht>57343)&&(Le=ht));break;case 4:$e=U[ye+1],Nt=U[ye+2],et=U[ye+3],(192&$e)==128&&(192&Nt)==128&&(192&et)==128&&(ht=(15&Ee)<<18|(63&$e)<<12|(63&Nt)<<6|63&et,ht>65535&&ht<1114112&&(Le=ht))}}Le===null?(Le=65533,Ve=1):Le>65535&&(Le-=65536,me.push(Le>>>10&1023|55296),Le=56320|1023&Le),me.push(Le),ye+=Ve}return(function(Ee){const Le=Ee.length;if(Le<=J)return String.fromCharCode.apply(String,Ee);let Ve="",$e=0;for(;$e<Le;)Ve+=String.fromCharCode.apply(String,Ee.slice($e,$e+=J));return Ve})(me)}n.kMaxLength=i,l.TYPED_ARRAY_SUPPORT=(function(){try{const U=new Uint8Array(1),$={foo:function(){return 42}};return Object.setPrototypeOf($,Uint8Array.prototype),Object.setPrototypeOf(U,$),U.foo()===42}catch{return!1}})(),l.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(U,$,ee){return c(U,$,ee)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(U,$,ee){return(function(me,ye,Ee){return f(me),me<=0?o(me):ye!==void 0?typeof Ee=="string"?o(me).fill(ye,Ee):o(me).fill(ye):o(me)})(U,$,ee)},l.allocUnsafe=function(U){return d(U)},l.allocUnsafeSlow=function(U){return d(U)},l.isBuffer=function(U){return U!=null&&U._isBuffer===!0&&U!==l.prototype},l.compare=function(U,$){if(ot(U,Uint8Array)&&(U=l.from(U,U.offset,U.byteLength)),ot($,Uint8Array)&&($=l.from($,$.offset,$.byteLength)),!l.isBuffer(U)||!l.isBuffer($))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(U===$)return 0;let ee=U.length,me=$.length;for(let ye=0,Ee=Math.min(ee,me);ye<Ee;++ye)if(U[ye]!==$[ye]){ee=U[ye],me=$[ye];break}return ee<me?-1:me<ee?1:0},l.isEncoding=function(U){switch(String(U).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(U,$){if(!Array.isArray(U))throw new TypeError('"list" argument must be an Array of Buffers');if(U.length===0)return l.alloc(0);let ee;if($===void 0)for($=0,ee=0;ee<U.length;++ee)$+=U[ee].length;const me=l.allocUnsafe($);let ye=0;for(ee=0;ee<U.length;++ee){let Ee=U[ee];if(ot(Ee,Uint8Array))ye+Ee.length>me.length?(l.isBuffer(Ee)||(Ee=l.from(Ee)),Ee.copy(me,ye)):Uint8Array.prototype.set.call(me,Ee,ye);else{if(!l.isBuffer(Ee))throw new TypeError('"list" argument must be an Array of Buffers');Ee.copy(me,ye)}ye+=Ee.length}return me},l.byteLength=v,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const U=this.length;if(U%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let $=0;$<U;$+=2)k(this,$,$+1);return this},l.prototype.swap32=function(){const U=this.length;if(U%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let $=0;$<U;$+=4)k(this,$,$+3),k(this,$+1,$+2);return this},l.prototype.swap64=function(){const U=this.length;if(U%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let $=0;$<U;$+=8)k(this,$,$+7),k(this,$+1,$+6),k(this,$+2,$+5),k(this,$+3,$+4);return this},l.prototype.toString=function(){const U=this.length;return U===0?"":arguments.length===0?ae(this,0,U):N.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(U){if(!l.isBuffer(U))throw new TypeError("Argument must be a Buffer");return this===U||l.compare(this,U)===0},l.prototype.inspect=function(){let U="";const $=n.INSPECT_MAX_BYTES;return U=this.toString("hex",0,$).replace(/(.{2})/g,"$1 ").trim(),this.length>$&&(U+=" ... "),"<Buffer "+U+">"},r&&(l.prototype[r]=l.prototype.inspect),l.prototype.compare=function(U,$,ee,me,ye){if(ot(U,Uint8Array)&&(U=l.from(U,U.offset,U.byteLength)),!l.isBuffer(U))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof U);if($===void 0&&($=0),ee===void 0&&(ee=U?U.length:0),me===void 0&&(me=0),ye===void 0&&(ye=this.length),$<0||ee>U.length||me<0||ye>this.length)throw new RangeError("out of range index");if(me>=ye&&$>=ee)return 0;if(me>=ye)return-1;if($>=ee)return 1;if(this===U)return 0;let Ee=(ye>>>=0)-(me>>>=0),Le=(ee>>>=0)-($>>>=0);const Ve=Math.min(Ee,Le),$e=this.slice(me,ye),Nt=U.slice($,ee);for(let et=0;et<Ve;++et)if($e[et]!==Nt[et]){Ee=$e[et],Le=Nt[et];break}return Ee<Le?-1:Le<Ee?1:0},l.prototype.includes=function(U,$,ee){return this.indexOf(U,$,ee)!==-1},l.prototype.indexOf=function(U,$,ee){return I(this,U,$,ee,!0)},l.prototype.lastIndexOf=function(U,$,ee){return I(this,U,$,ee,!1)},l.prototype.write=function(U,$,ee,me){if($===void 0)me="utf8",ee=this.length,$=0;else if(ee===void 0&&typeof $=="string")me=$,ee=this.length,$=0;else{if(!isFinite($))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");$>>>=0,isFinite(ee)?(ee>>>=0,me===void 0&&(me="utf8")):(me=ee,ee=void 0)}const ye=this.length-$;if((ee===void 0||ee>ye)&&(ee=ye),U.length>0&&(ee<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");me||(me="utf8");let Ee=!1;for(;;)switch(me){case"hex":return F(this,U,$,ee);case"utf8":case"utf-8":return M(this,U,$,ee);case"ascii":case"latin1":case"binary":return Y(this,U,$,ee);case"base64":return ie(this,U,$,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,U,$,ee);default:if(Ee)throw new TypeError("Unknown encoding: "+me);me=(""+me).toLowerCase(),Ee=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const J=4096;function Q(U,$,ee){let me="";ee=Math.min(U.length,ee);for(let ye=$;ye<ee;++ye)me+=String.fromCharCode(127&U[ye]);return me}function Z(U,$,ee){let me="";ee=Math.min(U.length,ee);for(let ye=$;ye<ee;++ye)me+=String.fromCharCode(U[ye]);return me}function W(U,$,ee){const me=U.length;(!$||$<0)&&($=0),(!ee||ee<0||ee>me)&&(ee=me);let ye="";for(let Ee=$;Ee<ee;++Ee)ye+=lr[U[Ee]];return ye}function O(U,$,ee){const me=U.slice($,ee);let ye="";for(let Ee=0;Ee<me.length-1;Ee+=2)ye+=String.fromCharCode(me[Ee]+256*me[Ee+1]);return ye}function g(U,$,ee){if(U%1!=0||U<0)throw new RangeError("offset is not uint");if(U+$>ee)throw new RangeError("Trying to access beyond buffer length")}function T(U,$,ee,me,ye,Ee){if(!l.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if($>ye||$<Ee)throw new RangeError('"value" argument is out of bounds');if(ee+me>U.length)throw new RangeError("Index out of range")}function C(U,$,ee,me,ye){G($,me,ye,U,ee,7);let Ee=Number($&BigInt(4294967295));U[ee++]=Ee,Ee>>=8,U[ee++]=Ee,Ee>>=8,U[ee++]=Ee,Ee>>=8,U[ee++]=Ee;let Le=Number($>>BigInt(32)&BigInt(4294967295));return U[ee++]=Le,Le>>=8,U[ee++]=Le,Le>>=8,U[ee++]=Le,Le>>=8,U[ee++]=Le,ee}function q(U,$,ee,me,ye){G($,me,ye,U,ee,7);let Ee=Number($&BigInt(4294967295));U[ee+7]=Ee,Ee>>=8,U[ee+6]=Ee,Ee>>=8,U[ee+5]=Ee,Ee>>=8,U[ee+4]=Ee;let Le=Number($>>BigInt(32)&BigInt(4294967295));return U[ee+3]=Le,Le>>=8,U[ee+2]=Le,Le>>=8,U[ee+1]=Le,Le>>=8,U[ee]=Le,ee+8}function j(U,$,ee,me,ye,Ee){if(ee+me>U.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("Index out of range")}function K(U,$,ee,me,ye){return $=+$,ee>>>=0,ye||j(U,0,ee,4),t.write(U,$,ee,me,23,4),ee+4}function B(U,$,ee,me,ye){return $=+$,ee>>>=0,ye||j(U,0,ee,8),t.write(U,$,ee,me,52,8),ee+8}l.prototype.slice=function(U,$){const ee=this.length;(U=~~U)<0?(U+=ee)<0&&(U=0):U>ee&&(U=ee),($=$===void 0?ee:~~$)<0?($+=ee)<0&&($=0):$>ee&&($=ee),$<U&&($=U);const me=this.subarray(U,$);return Object.setPrototypeOf(me,l.prototype),me},l.prototype.readUintLE=l.prototype.readUIntLE=function(U,$,ee){U>>>=0,$>>>=0,ee||g(U,$,this.length);let me=this[U],ye=1,Ee=0;for(;++Ee<$&&(ye*=256);)me+=this[U+Ee]*ye;return me},l.prototype.readUintBE=l.prototype.readUIntBE=function(U,$,ee){U>>>=0,$>>>=0,ee||g(U,$,this.length);let me=this[U+--$],ye=1;for(;$>0&&(ye*=256);)me+=this[U+--$]*ye;return me},l.prototype.readUint8=l.prototype.readUInt8=function(U,$){return U>>>=0,$||g(U,1,this.length),this[U]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(U,$){return U>>>=0,$||g(U,2,this.length),this[U]|this[U+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(U,$){return U>>>=0,$||g(U,2,this.length),this[U]<<8|this[U+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(U,$){return U>>>=0,$||g(U,4,this.length),(this[U]|this[U+1]<<8|this[U+2]<<16)+16777216*this[U+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(U,$){return U>>>=0,$||g(U,4,this.length),16777216*this[U]+(this[U+1]<<16|this[U+2]<<8|this[U+3])},l.prototype.readBigUInt64LE=_t((function(U){X(U>>>=0,"offset");const $=this[U],ee=this[U+7];$!==void 0&&ee!==void 0||ue(U,this.length-8);const me=$+256*this[++U]+65536*this[++U]+this[++U]*2**24,ye=this[++U]+256*this[++U]+65536*this[++U]+ee*2**24;return BigInt(me)+(BigInt(ye)<<BigInt(32))})),l.prototype.readBigUInt64BE=_t((function(U){X(U>>>=0,"offset");const $=this[U],ee=this[U+7];$!==void 0&&ee!==void 0||ue(U,this.length-8);const me=$*2**24+65536*this[++U]+256*this[++U]+this[++U],ye=this[++U]*2**24+65536*this[++U]+256*this[++U]+ee;return(BigInt(me)<<BigInt(32))+BigInt(ye)})),l.prototype.readIntLE=function(U,$,ee){U>>>=0,$>>>=0,ee||g(U,$,this.length);let me=this[U],ye=1,Ee=0;for(;++Ee<$&&(ye*=256);)me+=this[U+Ee]*ye;return ye*=128,me>=ye&&(me-=Math.pow(2,8*$)),me},l.prototype.readIntBE=function(U,$,ee){U>>>=0,$>>>=0,ee||g(U,$,this.length);let me=$,ye=1,Ee=this[U+--me];for(;me>0&&(ye*=256);)Ee+=this[U+--me]*ye;return ye*=128,Ee>=ye&&(Ee-=Math.pow(2,8*$)),Ee},l.prototype.readInt8=function(U,$){return U>>>=0,$||g(U,1,this.length),128&this[U]?-1*(255-this[U]+1):this[U]},l.prototype.readInt16LE=function(U,$){U>>>=0,$||g(U,2,this.length);const ee=this[U]|this[U+1]<<8;return 32768&ee?4294901760|ee:ee},l.prototype.readInt16BE=function(U,$){U>>>=0,$||g(U,2,this.length);const ee=this[U+1]|this[U]<<8;return 32768&ee?4294901760|ee:ee},l.prototype.readInt32LE=function(U,$){return U>>>=0,$||g(U,4,this.length),this[U]|this[U+1]<<8|this[U+2]<<16|this[U+3]<<24},l.prototype.readInt32BE=function(U,$){return U>>>=0,$||g(U,4,this.length),this[U]<<24|this[U+1]<<16|this[U+2]<<8|this[U+3]},l.prototype.readBigInt64LE=_t((function(U){X(U>>>=0,"offset");const $=this[U],ee=this[U+7];$!==void 0&&ee!==void 0||ue(U,this.length-8);const me=this[U+4]+256*this[U+5]+65536*this[U+6]+(ee<<24);return(BigInt(me)<<BigInt(32))+BigInt($+256*this[++U]+65536*this[++U]+this[++U]*2**24)})),l.prototype.readBigInt64BE=_t((function(U){X(U>>>=0,"offset");const $=this[U],ee=this[U+7];$!==void 0&&ee!==void 0||ue(U,this.length-8);const me=($<<24)+65536*this[++U]+256*this[++U]+this[++U];return(BigInt(me)<<BigInt(32))+BigInt(this[++U]*2**24+65536*this[++U]+256*this[++U]+ee)})),l.prototype.readFloatLE=function(U,$){return U>>>=0,$||g(U,4,this.length),t.read(this,U,!0,23,4)},l.prototype.readFloatBE=function(U,$){return U>>>=0,$||g(U,4,this.length),t.read(this,U,!1,23,4)},l.prototype.readDoubleLE=function(U,$){return U>>>=0,$||g(U,8,this.length),t.read(this,U,!0,52,8)},l.prototype.readDoubleBE=function(U,$){return U>>>=0,$||g(U,8,this.length),t.read(this,U,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(U,$,ee,me){U=+U,$>>>=0,ee>>>=0,!me&&T(this,U,$,ee,Math.pow(2,8*ee)-1,0);let ye=1,Ee=0;for(this[$]=255&U;++Ee<ee&&(ye*=256);)this[$+Ee]=U/ye&255;return $+ee},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(U,$,ee,me){U=+U,$>>>=0,ee>>>=0,!me&&T(this,U,$,ee,Math.pow(2,8*ee)-1,0);let ye=ee-1,Ee=1;for(this[$+ye]=255&U;--ye>=0&&(Ee*=256);)this[$+ye]=U/Ee&255;return $+ee},l.prototype.writeUint8=l.prototype.writeUInt8=function(U,$,ee){return U=+U,$>>>=0,ee||T(this,U,$,1,255,0),this[$]=255&U,$+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(U,$,ee){return U=+U,$>>>=0,ee||T(this,U,$,2,65535,0),this[$]=255&U,this[$+1]=U>>>8,$+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(U,$,ee){return U=+U,$>>>=0,ee||T(this,U,$,2,65535,0),this[$]=U>>>8,this[$+1]=255&U,$+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(U,$,ee){return U=+U,$>>>=0,ee||T(this,U,$,4,4294967295,0),this[$+3]=U>>>24,this[$+2]=U>>>16,this[$+1]=U>>>8,this[$]=255&U,$+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(U,$,ee){return U=+U,$>>>=0,ee||T(this,U,$,4,4294967295,0),this[$]=U>>>24,this[$+1]=U>>>16,this[$+2]=U>>>8,this[$+3]=255&U,$+4},l.prototype.writeBigUInt64LE=_t((function(U,$=0){return C(this,U,$,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=_t((function(U,$=0){return q(this,U,$,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(U,$,ee,me){if(U=+U,$>>>=0,!me){const Ve=Math.pow(2,8*ee-1);T(this,U,$,ee,Ve-1,-Ve)}let ye=0,Ee=1,Le=0;for(this[$]=255&U;++ye<ee&&(Ee*=256);)U<0&&Le===0&&this[$+ye-1]!==0&&(Le=1),this[$+ye]=(U/Ee|0)-Le&255;return $+ee},l.prototype.writeIntBE=function(U,$,ee,me){if(U=+U,$>>>=0,!me){const Ve=Math.pow(2,8*ee-1);T(this,U,$,ee,Ve-1,-Ve)}let ye=ee-1,Ee=1,Le=0;for(this[$+ye]=255&U;--ye>=0&&(Ee*=256);)U<0&&Le===0&&this[$+ye+1]!==0&&(Le=1),this[$+ye]=(U/Ee|0)-Le&255;return $+ee},l.prototype.writeInt8=function(U,$,ee){return U=+U,$>>>=0,ee||T(this,U,$,1,127,-128),U<0&&(U=255+U+1),this[$]=255&U,$+1},l.prototype.writeInt16LE=function(U,$,ee){return U=+U,$>>>=0,ee||T(this,U,$,2,32767,-32768),this[$]=255&U,this[$+1]=U>>>8,$+2},l.prototype.writeInt16BE=function(U,$,ee){return U=+U,$>>>=0,ee||T(this,U,$,2,32767,-32768),this[$]=U>>>8,this[$+1]=255&U,$+2},l.prototype.writeInt32LE=function(U,$,ee){return U=+U,$>>>=0,ee||T(this,U,$,4,2147483647,-2147483648),this[$]=255&U,this[$+1]=U>>>8,this[$+2]=U>>>16,this[$+3]=U>>>24,$+4},l.prototype.writeInt32BE=function(U,$,ee){return U=+U,$>>>=0,ee||T(this,U,$,4,2147483647,-2147483648),U<0&&(U=4294967295+U+1),this[$]=U>>>24,this[$+1]=U>>>16,this[$+2]=U>>>8,this[$+3]=255&U,$+4},l.prototype.writeBigInt64LE=_t((function(U,$=0){return C(this,U,$,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=_t((function(U,$=0){return q(this,U,$,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(U,$,ee){return K(this,U,$,!0,ee)},l.prototype.writeFloatBE=function(U,$,ee){return K(this,U,$,!1,ee)},l.prototype.writeDoubleLE=function(U,$,ee){return B(this,U,$,!0,ee)},l.prototype.writeDoubleBE=function(U,$,ee){return B(this,U,$,!1,ee)},l.prototype.copy=function(U,$,ee,me){if(!l.isBuffer(U))throw new TypeError("argument should be a Buffer");if(ee||(ee=0),me||me===0||(me=this.length),$>=U.length&&($=U.length),$||($=0),me>0&&me<ee&&(me=ee),me===ee||U.length===0||this.length===0)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(ee<0||ee>=this.length)throw new RangeError("Index out of range");if(me<0)throw new RangeError("sourceEnd out of bounds");me>this.length&&(me=this.length),U.length-$<me-ee&&(me=U.length-$+ee);const ye=me-ee;return this===U&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin($,ee,me):Uint8Array.prototype.set.call(U,this.subarray(ee,me),$),ye},l.prototype.fill=function(U,$,ee,me){if(typeof U=="string"){if(typeof $=="string"?(me=$,$=0,ee=this.length):typeof ee=="string"&&(me=ee,ee=this.length),me!==void 0&&typeof me!="string")throw new TypeError("encoding must be a string");if(typeof me=="string"&&!l.isEncoding(me))throw new TypeError("Unknown encoding: "+me);if(U.length===1){const Ee=U.charCodeAt(0);(me==="utf8"&&Ee<128||me==="latin1")&&(U=Ee)}}else typeof U=="number"?U&=255:typeof U=="boolean"&&(U=Number(U));if($<0||this.length<$||this.length<ee)throw new RangeError("Out of range index");if(ee<=$)return this;let ye;if($>>>=0,ee=ee===void 0?this.length:ee>>>0,U||(U=0),typeof U=="number")for(ye=$;ye<ee;++ye)this[ye]=U;else{const Ee=l.isBuffer(U)?U:l.from(U,me),Le=Ee.length;if(Le===0)throw new TypeError('The value "'+U+'" is invalid for argument "value"');for(ye=0;ye<ee-$;++ye)this[ye+$]=Ee[ye%Le]}return this};const A={};function y(U,$,ee){A[U]=class extends ee{constructor(){super(),Object.defineProperty(this,"message",{value:$.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${U}]`,delete this.name}get code(){return U}set code(me){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:me,writable:!0})}toString(){return`${this.name} [${U}]: ${this.message}`}}}function R(U){let $="",ee=U.length;const me=U[0]==="-"?1:0;for(;ee>=me+4;ee-=3)$=`_${U.slice(ee-3,ee)}${$}`;return`${U.slice(0,ee)}${$}`}function G(U,$,ee,me,ye,Ee){if(U>ee||U<$){const Le=typeof $=="bigint"?"n":"";let Ve;throw Ve=$===0||$===BigInt(0)?`>= 0${Le} and < 2${Le} ** ${8*(Ee+1)}${Le}`:`>= -(2${Le} ** ${8*(Ee+1)-1}${Le}) and < 2 ** ${8*(Ee+1)-1}${Le}`,new A.ERR_OUT_OF_RANGE("value",Ve,U)}(function(Le,Ve,$e){X(Ve,"offset"),Le[Ve]!==void 0&&Le[Ve+$e]!==void 0||ue(Ve,Le.length-($e+1))})(me,ye,Ee)}function X(U,$){if(typeof U!="number")throw new A.ERR_INVALID_ARG_TYPE($,"number",U)}function ue(U,$,ee){throw Math.floor(U)!==U?(X(U,ee),new A.ERR_OUT_OF_RANGE("offset","an integer",U)):$<0?new A.ERR_BUFFER_OUT_OF_BOUNDS:new A.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${$}`,U)}y("ERR_BUFFER_OUT_OF_BOUNDS",(function(U){return U?`${U} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),y("ERR_INVALID_ARG_TYPE",(function(U,$){return`The "${U}" argument must be of type number. Received type ${typeof $}`}),TypeError),y("ERR_OUT_OF_RANGE",(function(U,$,ee){let me=`The value of "${U}" is out of range.`,ye=ee;return Number.isInteger(ee)&&Math.abs(ee)>2**32?ye=R(String(ee)):typeof ee=="bigint"&&(ye=String(ee),(ee>BigInt(2)**BigInt(32)||ee<-(BigInt(2)**BigInt(32)))&&(ye=R(ye)),ye+="n"),me+=` It must be ${$}. Received ${ye}`,me}),RangeError);const be=/[^+/0-9A-Za-z-_]/g;function De(U,$){let ee;$=$||1/0;const me=U.length;let ye=null;const Ee=[];for(let Le=0;Le<me;++Le){if(ee=U.charCodeAt(Le),ee>55295&&ee<57344){if(!ye){if(ee>56319){($-=3)>-1&&Ee.push(239,191,189);continue}if(Le+1===me){($-=3)>-1&&Ee.push(239,191,189);continue}ye=ee;continue}if(ee<56320){($-=3)>-1&&Ee.push(239,191,189),ye=ee;continue}ee=65536+(ye-55296<<10|ee-56320)}else ye&&($-=3)>-1&&Ee.push(239,191,189);if(ye=null,ee<128){if(($-=1)<0)break;Ee.push(ee)}else if(ee<2048){if(($-=2)<0)break;Ee.push(ee>>6|192,63&ee|128)}else if(ee<65536){if(($-=3)<0)break;Ee.push(ee>>12|224,ee>>6&63|128,63&ee|128)}else{if(!(ee<1114112))throw new Error("Invalid code point");if(($-=4)<0)break;Ee.push(ee>>18|240,ee>>12&63|128,ee>>6&63|128,63&ee|128)}}return Ee}function Ue(U){return e.toByteArray((function($){if(($=($=$.split("=")[0]).trim().replace(be,"")).length<2)return"";for(;$.length%4!=0;)$+="=";return $})(U))}function ct(U,$,ee,me){let ye;for(ye=0;ye<me&&!(ye+ee>=$.length||ye>=U.length);++ye)$[ye+ee]=U[ye];return ye}function ot(U,$){return U instanceof $||U!=null&&U.constructor!=null&&U.constructor.name!=null&&U.constructor.name===$.name}function Rt(U){return U!=U}const lr=(function(){const U="0123456789abcdef",$=new Array(256);for(let ee=0;ee<16;++ee){const me=16*ee;for(let ye=0;ye<16;++ye)$[me+ye]=U[ee]+U[ye]}return $})();function _t(U){return typeof BigInt>"u"?Ht:U}function Ht(){throw new Error("BigInt not supported")}})(mr);var M3=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"],oJ=(function(){function n(e){this.offset=0,this.buffer_size=e.length,this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e),this.view=new DataView(this.buffer)}return n.prototype.assert_enough_buffer=function(e){if(this.offset+e>this.buffer.byteLength)throw new Error("Error in schema, the buffer is smaller than expected")},n.prototype.consume_value=function(e){var t=e.substring(1),r=parseInt(t)/8;this.assert_enough_buffer(r);var i=e[0]==="f"?"getFloat".concat(t):e[0]==="i"?"getInt".concat(t):"getUint".concat(t),o=this.view[i](this.offset,!0);return this.offset+=r,o},n.prototype.consume_bytes=function(e){this.assert_enough_buffer(e);var t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},n})(),Mh,sJ=(Mh=function(n,e){return Mh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},Mh(n,e)},function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}Mh(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}),RR=M3.concat(["bool","string"]),NR=["option","enum","array","set","map","struct"],fc=(function(n){function e(t,r){var i="Invalid schema: ".concat(JSON.stringify(t)," expected ").concat(r);return n.call(this,i)||this}return sJ(e,n),e})(Error);function Zs(n){if(typeof n!="string"||!RR.includes(n)){if(n&&typeof n=="object"){var e=Object.keys(n);if(e.length===1&&NR.includes(e[0])){var t=e[0];if(t==="option")return Zs(n[t]);if(t==="enum")return(function(r){if(!Array.isArray(r))throw new fc(r,"Array");for(var i=0,o=r;i<o.length;i++){var l=o[i];if(typeof l!="object"||!("struct"in l))throw new Error('Missing "struct" key in enum schema');if(typeof l.struct!="object"||Object.keys(l.struct).length!==1)throw new Error('The "struct" in each enum must have a single key');Zs({struct:l.struct})}})(n[t]);if(t==="array")return(function(r){if(typeof r!="object")throw new fc(r,"{ type, len? }");if(r.len&&typeof r.len!="number")throw new Error("Invalid schema: ".concat(r));if("type"in r)return Zs(r.type);throw new fc(r,"{ type, len? }")})(n[t]);if(t==="set")return Zs(n[t]);if(t==="map")return(function(r){if(typeof r!="object"||!("key"in r)||!("value"in r))throw new fc(r,"{ key, value }");Zs(r.key),Zs(r.value)})(n[t]);if(t==="struct")return(function(r){if(typeof r!="object")throw new fc(r,"object");for(var i in r)Zs(r[i])})(n[t])}}throw new fc(n,NR.join(", ")+" or "+RR.join(", "))}}var aJ=(function(){function n(e){this.buffer=new oJ(e)}return n.prototype.decode=function(e){return this.decode_value(e)},n.prototype.decode_value=function(e){if(typeof e=="string"){if(M3.includes(e))return this.decode_integer(e);if(e==="string")return this.decode_string();if(e==="bool")return this.decode_boolean()}if(typeof e=="object"){if("option"in e)return this.decode_option(e);if("enum"in e)return this.decode_enum(e);if("array"in e)return this.decode_array(e);if("set"in e)return this.decode_set(e);if("map"in e)return this.decode_map(e);if("struct"in e)return this.decode_struct(e)}throw new Error("Unsupported type: ".concat(e))},n.prototype.decode_integer=function(e){var t=parseInt(e.substring(1));return t<=32||e=="f64"?this.buffer.consume_value(e):this.decode_bigint(t,e.startsWith("i"))},n.prototype.decode_bigint=function(e,t){t===void 0&&(t=!1);var r=e/8,i=new Uint8Array(this.buffer.consume_bytes(r)),o=i.reduceRight((function(l,c){return l+c.toString(16).padStart(2,"0")}),"");return t&&i[r-1]?BigInt.asIntN(e,BigInt("0x".concat(o))):BigInt("0x".concat(o))},n.prototype.decode_string=function(){for(var e=this.decode_integer("u32"),t=new Uint8Array(this.buffer.consume_bytes(e)),r=[],i=0;i<e;++i){var o=t[i];if(o<128)r.push(o);else if(o<224)r.push((31&o)<<6|63&t[++i]);else if(o<240)r.push((15&o)<<12|(63&t[++i])<<6|63&t[++i]);else{var l=(7&o)<<18|(63&t[++i])<<12|(63&t[++i])<<6|63&t[++i];r.push(l)}}return String.fromCodePoint.apply(String,r)},n.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},n.prototype.decode_option=function(e){var t=this.buffer.consume_value("u8");if(t===1)return this.decode_value(e.option);if(t!==0)throw new Error("Invalid option ".concat(t));return null},n.prototype.decode_enum=function(e){var t,r=this.buffer.consume_value("u8");if(r>e.enum.length)throw new Error("Enum option ".concat(r," is not available"));var i=e.enum[r].struct,o=Object.keys(i)[0];return(t={})[o]=this.decode_value(i[o]),t},n.prototype.decode_array=function(e){for(var t=[],r=e.array.len?e.array.len:this.decode_integer("u32"),i=0;i<r;++i)t.push(this.decode_value(e.array.type));return t},n.prototype.decode_set=function(e){for(var t=this.decode_integer("u32"),r=new Set,i=0;i<t;++i)r.add(this.decode_value(e.set));return r},n.prototype.decode_map=function(e){for(var t=this.decode_integer("u32"),r=new Map,i=0;i<t;++i){var o=this.decode_value(e.map.key),l=this.decode_value(e.map.value);r.set(o,l)}return r},n.prototype.decode_struct=function(e){var t={};for(var r in e.struct)t[r]=this.decode_value(e.struct[r]);return t},n})();function mp(n,e,t){return t===void 0&&(t=!0),t&&Zs(n),new aJ(e).decode(n)}const O3=new we("namesLPneVptA9Z5rqUDD9tMTWEJwofgaYwp8cawRkX"),lJ="SPL Name Service",Xb=new we("CWG7Sn38ho7EzTaQMDykw6VNSSGcbn3TTsTvhDbTUmFd");new we("SNSm5hSYiaeYvyweSGoioyyD2hP7mJK1SsVQoC6uo3P");const cJ=new we("5R7P6U3gTB9Dt4jnE85qXsEoXRkSAqmW7ZRnSvNiJLNC");new we("7xyrTVdPAaM9Hvrb41HtfUHC1ndHnkbumiW5rRWtUC5g");new we("FvPH7PrVrLGKPfqaf3xJodFTjZriqrAXXLTVWEorTFBi");new we("4YcexoW3r78zz16J2aqmukBLRwGq6rAvWzJpkYAXqebv");new we("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v");new we("3ogYncmMM5CmytsGCqKHydmXmKUZ6sGWvizkzqwT7zb1"),new we("DM1jJCkZZEwY5tmWbgvKRxsDFzXCdbfrYCCH1CtwguEs"),new we("ADCp4QXFajHrhy4f43pD6GJFtQLkdBY2mjS9DfCk7tNW"),new we("2XTgjw8yi1E3Etgj4CUyRD7Zk49gynH2U9gA5N2MY4NP"),new we("5PwNeqQPiygQks9R17jUAodZQNuhvCqqkrxSaeNE8qTR"),new we("8kJqxAbqbPLGLMgB6FhLcnw2SiUEavx2aEGM3WQGhtJF"),new we("HemvJzwxvVpWBjPETpaseAH395WAxb2G73MeUfjVkK1u"),new we("7hMiiUtkH4StMPJxyAtvzXTUjecTniQ8czkCPusf5eSW"),new we("DGpjHo4yYA3NgHvhHTp3XfBFrESsx1DnhfTr8D881ZBM"),new we("7vWSqSw1eCXZXXUubuHWssXELNQ8MLaDgAs2ErEfCKxn"),new we("5F6gcdzpw7wUjNEugdsD4aLJdEQ4Wt8d6E85vaQXZQSJ"),new we("XEy9o73JBN2pEuN7aspe8mVLaWbL4ozjJs1tNRxx8bL"),new we("D5cLoAGjNTHKU1UGv2bYwbnyRoGTMe3sbpLtJW3fRq91"),new we("FePcCmrr7vgjeFXcXtJHqShSXydaTrga2wfHRt9RrYvP"),new we("5D2zKog251d6KPCyFyLMt3KroWwXXPWSgTPyhV22K2gR"),new we("452cMqDHe5cf1Z96HxUNaQjiLckhMiZdZ5abe7oQ2iRB"),new we("8hmebGRQpZG8RpR3SFTfnuY2K4QgNxyAtqdhR9UuFksB"),new we("7siDgAEyXRCEhNjZcQ8VLVbMxXQaQY4hNcRbGbKj2i7u");new we("AHtgzX45WTKfkPG53L6WYhGEXwQkN1BVknET3sVsLL8J");new we("FzdN2zE7QUmwKL2T4Y3LTcBUYGtMZP5qsgUjBxsdedNx");new we("FzdN2zE7QUmwKL2T4Y3LTcBUYGtMZP5qsgUjBxsdedNx");new we("BPeXUQDqGbzxeK1LJby6ugvCBuo7kRSEUkjD726mUVsz");new we("72aLKvXeV4aansAQtxKymeXDevT5ed6sCuz9iN62ugPT");new we("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");new we("pythWSnswVUd12oZpeFP8e9CVaEqJg25g1Vtc2biRsT");var Oh,B3=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"],uJ=(function(){function n(e){this.offset=0,this.buffer_size=e.length,this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e),this.view=new DataView(this.buffer)}return n.prototype.assert_enough_buffer=function(e){if(this.offset+e>this.buffer.byteLength)throw new Error("Error in schema, the buffer is smaller than expected")},n.prototype.consume_value=function(e){var t=e.substring(1),r=parseInt(t)/8;this.assert_enough_buffer(r);var i=e[0]==="f"?"getFloat".concat(t):e[0]==="i"?"getInt".concat(t):"getUint".concat(t),o=this.view[i](this.offset,!0);return this.offset+=r,o},n.prototype.consume_bytes=function(e){this.assert_enough_buffer(e);var t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},n})(),fJ=(Oh=function(n,e){return Oh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},Oh(n,e)},function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}Oh(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}),CR=B3.concat(["bool","string"]),IR=["option","enum","array","set","map","struct"],dc=(function(n){function e(t,r){var i="Invalid schema: ".concat(JSON.stringify(t)," expected ").concat(r);return n.call(this,i)||this}return fJ(e,n),e})(Error);function Xs(n){if(typeof n!="string"||!CR.includes(n)){if(n&&typeof n=="object"){var e=Object.keys(n);if(e.length===1&&IR.includes(e[0])){var t=e[0];if(t==="option")return Xs(n[t]);if(t==="enum")return(function(r){if(!Array.isArray(r))throw new dc(r,"Array");for(var i=0,o=r;i<o.length;i++){var l=o[i];if(typeof l!="object"||!("struct"in l))throw new Error('Missing "struct" key in enum schema');if(typeof l.struct!="object"||Object.keys(l.struct).length!==1)throw new Error('The "struct" in each enum must have a single key');Xs({struct:l.struct})}})(n[t]);if(t==="array")return(function(r){if(typeof r!="object")throw new dc(r,"{ type, len? }");if(r.len&&typeof r.len!="number")throw new Error("Invalid schema: ".concat(r));if("type"in r)return Xs(r.type);throw new dc(r,"{ type, len? }")})(n[t]);if(t==="set")return Xs(n[t]);if(t==="map")return(function(r){if(typeof r!="object"||!("key"in r)||!("value"in r))throw new dc(r,"{ key, value }");Xs(r.key),Xs(r.value)})(n[t]);if(t==="struct")return(function(r){if(typeof r!="object")throw new dc(r,"object");for(var i in r)Xs(r[i])})(n[t])}}throw new dc(n,IR.join(", ")+" or "+CR.join(", "))}}var dJ=(function(){function n(e){this.buffer=new uJ(e)}return n.prototype.decode=function(e){return this.decode_value(e)},n.prototype.decode_value=function(e){if(typeof e=="string"){if(B3.includes(e))return this.decode_integer(e);if(e==="string")return this.decode_string();if(e==="bool")return this.decode_boolean()}if(typeof e=="object"){if("option"in e)return this.decode_option(e);if("enum"in e)return this.decode_enum(e);if("array"in e)return this.decode_array(e);if("set"in e)return this.decode_set(e);if("map"in e)return this.decode_map(e);if("struct"in e)return this.decode_struct(e)}throw new Error("Unsupported type: ".concat(e))},n.prototype.decode_integer=function(e){var t=parseInt(e.substring(1));return t<=32||e=="f64"?this.buffer.consume_value(e):this.decode_bigint(t,e.startsWith("i"))},n.prototype.decode_bigint=function(e,t){t===void 0&&(t=!1);var r=e/8,i=new Uint8Array(this.buffer.consume_bytes(r)),o=i.reduceRight((function(l,c){return l+c.toString(16).padStart(2,"0")}),"");return t&&i[r-1]?BigInt.asIntN(e,BigInt("0x".concat(o))):BigInt("0x".concat(o))},n.prototype.decode_string=function(){var e=this.decode_integer("u32"),t=new Uint8Array(this.buffer.consume_bytes(e));return String.fromCharCode.apply(null,t)},n.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},n.prototype.decode_option=function(e){var t=this.buffer.consume_value("u8");if(t===1)return this.decode_value(e.option);if(t!==0)throw new Error("Invalid option ".concat(t));return null},n.prototype.decode_enum=function(e){var t,r=this.buffer.consume_value("u8");if(r>e.enum.length)throw new Error("Enum option ".concat(r," is not available"));var i=e.enum[r].struct,o=Object.keys(i)[0];return(t={})[o]=this.decode_value(i[o]),t},n.prototype.decode_array=function(e){for(var t=[],r=e.array.len?e.array.len:this.decode_integer("u32"),i=0;i<r;++i)t.push(this.decode_value(e.array.type));return t},n.prototype.decode_set=function(e){for(var t=this.decode_integer("u32"),r=new Set,i=0;i<t;++i)r.add(this.decode_value(e.set));return r},n.prototype.decode_map=function(e){for(var t=this.decode_integer("u32"),r=new Map,i=0;i<t;++i){var o=this.decode_value(e.map.key),l=this.decode_value(e.map.value);r.set(o,l)}return r},n.prototype.decode_struct=function(e){var t={};for(var r in e.struct)t[r]=this.decode_value(e.struct[r]);return t},n})();const kR=new we("HP3D4D1ZCmohQGFVms2SS4LCANgJyksBf5s1F77FuFjZ"),[L3]=we.findProgramAddressSync([kR.toBuffer()],kR);var aa,qs;(qs=aa||(aa={}))[qs.None=0]="None",qs[qs.Solana=1]="Solana",qs[qs.Ethereum=2]="Ethereum",qs[qs.UnverifiedSolana=3]="UnverifiedSolana";const af=n=>{switch(n){case aa.None:return 0;case aa.Ethereum:return 20;case aa.Solana:case aa.UnverifiedSolana:return 32;default:throw new Error("Invalid validation enum")}};let Nf=class U3{constructor(e){this.stalenessValidation=e.stalenessValidation,this.rightOfAssociationValidation=e.rightOfAssociationValidation,this.contentLength=e.contentLength}static deserialize(e){return new U3((t=this.schema,r=e,(i=!0)===void 0&&(i=!0),i&&Xs(t),new dJ(r).decode(t)));var t,r,i}static async retrieve(e,t){const r=await e.getAccountInfo(t);if(!r||!r.data)throw new Error("Record header account not found");return this.deserialize(r.data.slice(96,96+this.LEN))}};Nf.LEN=8,Nf.schema={struct:{stalenessValidation:"u16",rightOfAssociationValidation:"u16",contentLength:"u32"}};let hJ=class D3{constructor(e,t){this.data=t,this.header=e}static deserialize(e){const t=Nf.deserialize(e.slice(96,96+Nf.LEN)),r=e.slice(96+Nf.LEN);return new D3(t,r)}static async retrieve(e,t){const r=await e.getAccountInfo(t);if(!r||!r.data)throw new Error("Record header account not found");return this.deserialize(r.data)}static async retrieveBatch(e,t){return(await e.getMultipleAccountsInfo(t)).map((r=>{if(r!=null&&r.data)return this.deserialize(r.data)}))}getContent(){let e=af(this.header.stalenessValidation)+af(this.header.rightOfAssociationValidation);return this.data.slice(e)}getStalenessId(){let e=af(this.header.stalenessValidation);return this.data.slice(0,e)}getRoAId(){let e=af(this.header.stalenessValidation),t=e+af(this.header.rightOfAssociationValidation);return this.data.slice(e,t)}};var At;(function(n){n.IPFS="IPFS",n.ARWV="ARWV",n.SOL="SOL",n.ETH="ETH",n.BTC="BTC",n.LTC="LTC",n.DOGE="DOGE",n.Email="email",n.Url="url",n.Discord="discord",n.Github="github",n.Reddit="reddit",n.Twitter="twitter",n.Telegram="telegram",n.Pic="pic",n.SHDW="SHDW",n.POINT="POINT",n.BSC="BSC",n.Injective="INJ",n.Backpack="backpack",n.A="A",n.AAAA="AAAA",n.CNAME="CNAME",n.TXT="TXT",n.Background="background",n.BASE="BASE",n.IPNS="IPNS"})(At||(At={}));At.SOL,At.ETH,At.BSC,At.Injective,At.A,At.AAAA,At.Background;var Ff;(function(n){n[n.V1=1]="V1",n[n.V2=2]="V2"})(Ff||(Ff={}));var Ei;(function(n){n.SymbolNotFound="SymbolNotFound",n.InvalidSubdomain="InvalidSubdomain",n.FavouriteDomainNotFound="FavouriteDomainNotFound",n.MissingParentOwner="MissingParentOwner",n.U32Overflow="U32Overflow",n.InvalidBufferLength="InvalidBufferLength",n.U64Overflow="U64Overflow",n.NoRecordData="NoRecordData",n.InvalidRecordData="InvalidRecordData",n.UnsupportedRecord="UnsupportedRecord",n.InvalidEvmAddress="InvalidEvmAddress",n.InvalidInjectiveAddress="InvalidInjectiveAddress",n.InvalidARecord="InvalidARecord",n.InvalidAAAARecord="InvalidAAAARecord",n.InvalidRecordInput="InvalidRecordInput",n.InvalidSignature="InvalidSignature",n.AccountDoesNotExist="AccountDoesNotExist",n.MultipleRegistries="MultipleRegistries",n.InvalidReverseTwitter="InvalidReverseTwitter",n.NoAccountData="NoAccountData",n.InvalidInput="InvalidInput",n.InvalidDomain="InvalidDomain",n.InvalidCustomBg="InvalidCustomBackground",n.UnsupportedSignature="UnsupportedSignature",n.RecordDoestNotSupportGuardianSig="RecordDoestNotSupportGuardianSig",n.RecordIsNotSigned="RecordIsNotSigned",n.UnsupportedSignatureType="UnsupportedSignatureType",n.InvalidSolRecordV2="InvalidSolRecordV2",n.MissingVerifier="MissingVerifier",n.PythFeedNotFound="PythFeedNotFound",n.InvalidRoA="InvalidRoA",n.InvalidPda="InvalidPda",n.InvalidParent="InvalidParent",n.NftRecordNotFound="NftRecordNotFound",n.PdaOwnerNotAllowed="PdaOwnerNotAllowed",n.DomainDoesNotExist="DomainDoesNotExist",n.RecordMalformed="RecordMalformed",n.CouldNotFindNftOwner="CouldNotFindNftOwner",n.WrongValidation="WrongValidation"})(Ei||(Ei={}));let ho=class P3 extends Error{constructor(e,t){super(t),this.name="SNSError",this.type=e,Error.captureStackTrace&&Error.captureStackTrace(this,P3)}},pJ=class extends ho{constructor(e){super(Ei.AccountDoesNotExist,e)}},mJ=class extends ho{constructor(e){super(Ei.NoAccountData,e)}},gJ=class extends ho{constructor(e){super(Ei.InvalidInput,e)}},yJ=class extends ho{constructor(e){super(Ei.InvalidRoA,e)}},wJ=class extends ho{constructor(e){super(Ei.NftRecordNotFound,e)}},MR=class extends ho{constructor(e){super(Ei.PdaOwnerNotAllowed,e)}},bJ=class extends ho{constructor(e){super(Ei.DomainDoesNotExist,e)}},vJ=class extends ho{constructor(e){super(Ei.RecordMalformed,e)}},EJ=class extends ho{constructor(e){super(Ei.CouldNotFindNftOwner,e)}};class _J extends ho{constructor(e){super(Ei.WrongValidation,e)}}const hc=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function xJ(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function AJ(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function Qb(n,...e){if(!xJ(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function OR(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function SJ(n,e){Qb(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function Hf(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}function aw(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function Wi(n,e){return n<<32-e|n>>>e}function TJ(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function F3(n){return typeof n=="string"&&(n=TJ(n)),Qb(n),n}let RJ=class{};function H3(n){const e=r=>n().update(F3(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function NJ(n=32){if(hc&&typeof hc.getRandomValues=="function")return hc.getRandomValues(new Uint8Array(n));if(hc&&typeof hc.randomBytes=="function")return Uint8Array.from(hc.randomBytes(n));throw new Error("crypto.getRandomValues must be defined")}function CJ(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const i=BigInt(32),o=BigInt(4294967295),l=Number(t>>i&o),c=Number(t&o),f=r?4:0,d=r?0:4;n.setUint32(e+f,l,r),n.setUint32(e+d,c,r)}function IJ(n,e,t){return n&e^~n&t}function kJ(n,e,t){return n&e^n&t^e&t}let z3=class extends RJ{constructor(e,t,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=aw(this.buffer)}update(e){OR(this),e=F3(e),Qb(e);const{view:t,buffer:r,blockLen:i}=this,o=e.length;for(let l=0;l<o;){const c=Math.min(i-this.pos,o-l);if(c!==i)r.set(e.subarray(l,l+c),this.pos),this.pos+=c,l+=c,this.pos===i&&(this.process(t,0),this.pos=0);else{const f=aw(e);for(;i<=o-l;l+=i)this.process(f,l)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){OR(this),SJ(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:o}=this;let{pos:l}=this;t[l++]=128,Hf(this.buffer.subarray(l)),this.padOffset>i-l&&(this.process(r,0),l=0);for(let b=l;b<i;b++)t[b]=0;CJ(r,i-8,BigInt(8*this.length),o),this.process(r,0);const c=aw(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=f/4,h=this.get();if(d>h.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<d;b++)c.setUint32(4*b,h[b],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:o,destroyed:l,pos:c}=this;return e.destroyed=l,e.finished=o,e.length=i,e.pos=c,i%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const Vs=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),xr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Bh=BigInt(2**32-1),BR=BigInt(32);function MJ(n,e=!1){return e?{h:Number(n&Bh),l:Number(n>>BR&Bh)}:{h:0|Number(n>>BR&Bh),l:0|Number(n&Bh)}}function OJ(n,e=!1){const t=n.length;let r=new Uint32Array(t),i=new Uint32Array(t);for(let o=0;o<t;o++){const{h:l,l:c}=MJ(n[o],e);[r[o],i[o]]=[l,c]}return[r,i]}const LR=(n,e,t)=>n>>>t,UR=(n,e,t)=>n<<32-t|e>>>t,pc=(n,e,t)=>n>>>t|e<<32-t,mc=(n,e,t)=>n<<32-t|e>>>t,Lh=(n,e,t)=>n<<64-t|e>>>t-32,Uh=(n,e,t)=>n>>>t-32|e<<64-t;function Po(n,e,t,r){const i=(e>>>0)+(r>>>0);return{h:n+t+(i/2**32|0)|0,l:0|i}}const BJ=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),LJ=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,UJ=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),DJ=(n,e,t,r,i)=>e+t+r+i+(n/2**32|0)|0,PJ=(n,e,t,r,i)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),FJ=(n,e,t,r,i,o)=>e+t+r+i+o+(n/2**32|0)|0,HJ=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ks=new Uint32Array(64);let zJ=class extends z3{constructor(e=32){super(64,e,8,!1),this.A=0|Vs[0],this.B=0|Vs[1],this.C=0|Vs[2],this.D=0|Vs[3],this.E=0|Vs[4],this.F=0|Vs[5],this.G=0|Vs[6],this.H=0|Vs[7]}get(){const{A:e,B:t,C:r,D:i,E:o,F:l,G:c,H:f}=this;return[e,t,r,i,o,l,c,f]}set(e,t,r,i,o,l,c,f){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|i,this.E=0|o,this.F=0|l,this.G=0|c,this.H=0|f}process(e,t){for(let b=0;b<16;b++,t+=4)Ks[b]=e.getUint32(t,!1);for(let b=16;b<64;b++){const E=Ks[b-15],v=Ks[b-2],N=Wi(E,7)^Wi(E,18)^E>>>3,k=Wi(v,17)^Wi(v,19)^v>>>10;Ks[b]=k+Ks[b-7]+N+Ks[b-16]|0}let{A:r,B:i,C:o,D:l,E:c,F:f,G:d,H:h}=this;for(let b=0;b<64;b++){const E=h+(Wi(c,6)^Wi(c,11)^Wi(c,25))+IJ(c,f,d)+HJ[b]+Ks[b]|0,v=(Wi(r,2)^Wi(r,13)^Wi(r,22))+kJ(r,i,o)|0;h=d,d=f,f=c,c=l+E|0,l=o,o=i,i=r,r=E+v|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,l=l+this.D|0,c=c+this.E|0,f=f+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(r,i,o,l,c,f,d,h)}roundClean(){Hf(Ks)}destroy(){this.set(0,0,0,0,0,0,0,0),Hf(this.buffer)}};const G3=OJ(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((n=>BigInt(n)))),GJ=G3[0],qJ=G3[1],Ws=new Uint32Array(80),$s=new Uint32Array(80);let VJ=class extends z3{constructor(e=64){super(128,e,16,!1),this.Ah=0|xr[0],this.Al=0|xr[1],this.Bh=0|xr[2],this.Bl=0|xr[3],this.Ch=0|xr[4],this.Cl=0|xr[5],this.Dh=0|xr[6],this.Dl=0|xr[7],this.Eh=0|xr[8],this.El=0|xr[9],this.Fh=0|xr[10],this.Fl=0|xr[11],this.Gh=0|xr[12],this.Gl=0|xr[13],this.Hh=0|xr[14],this.Hl=0|xr[15]}get(){const{Ah:e,Al:t,Bh:r,Bl:i,Ch:o,Cl:l,Dh:c,Dl:f,Eh:d,El:h,Fh:b,Fl:E,Gh:v,Gl:N,Hh:k,Hl:I}=this;return[e,t,r,i,o,l,c,f,d,h,b,E,v,N,k,I]}set(e,t,r,i,o,l,c,f,d,h,b,E,v,N,k,I){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|i,this.Ch=0|o,this.Cl=0|l,this.Dh=0|c,this.Dl=0|f,this.Eh=0|d,this.El=0|h,this.Fh=0|b,this.Fl=0|E,this.Gh=0|v,this.Gl=0|N,this.Hh=0|k,this.Hl=0|I}process(e,t){for(let M=0;M<16;M++,t+=4)Ws[M]=e.getUint32(t),$s[M]=e.getUint32(t+=4);for(let M=16;M<80;M++){const Y=0|Ws[M-15],ie=0|$s[M-15],se=pc(Y,ie,1)^pc(Y,ie,8)^LR(Y,ie,7),re=mc(Y,ie,1)^mc(Y,ie,8)^UR(Y,ie,7),ae=0|Ws[M-2],J=0|$s[M-2],Q=pc(ae,J,19)^Lh(ae,J,61)^LR(ae,J,6),Z=mc(ae,J,19)^Uh(ae,J,61)^UR(ae,J,6),W=UJ(re,Z,$s[M-7],$s[M-16]),O=DJ(W,se,Q,Ws[M-7],Ws[M-16]);Ws[M]=0|O,$s[M]=0|W}let{Ah:r,Al:i,Bh:o,Bl:l,Ch:c,Cl:f,Dh:d,Dl:h,Eh:b,El:E,Fh:v,Fl:N,Gh:k,Gl:I,Hh:L,Hl:F}=this;for(let M=0;M<80;M++){const Y=pc(b,E,14)^pc(b,E,18)^Lh(b,E,41),ie=mc(b,E,14)^mc(b,E,18)^Uh(b,E,41),se=b&v^~b&k,re=PJ(F,ie,E&N^~E&I,qJ[M],$s[M]),ae=FJ(re,L,Y,se,GJ[M],Ws[M]),J=0|re,Q=pc(r,i,28)^Lh(r,i,34)^Lh(r,i,39),Z=mc(r,i,28)^Uh(r,i,34)^Uh(r,i,39),W=r&o^r&c^o&c,O=i&l^i&f^l&f;L=0|k,F=0|I,k=0|v,I=0|N,v=0|b,N=0|E,{h:b,l:E}=Po(0|d,0|h,0|ae,0|J),d=0|c,h=0|f,c=0|o,f=0|l,o=0|r,l=0|i;const g=BJ(J,Z,O);r=LJ(g,ae,Q,W),i=0|g}({h:r,l:i}=Po(0|this.Ah,0|this.Al,0|r,0|i)),{h:o,l}=Po(0|this.Bh,0|this.Bl,0|o,0|l),{h:c,l:f}=Po(0|this.Ch,0|this.Cl,0|c,0|f),{h:d,l:h}=Po(0|this.Dh,0|this.Dl,0|d,0|h),{h:b,l:E}=Po(0|this.Eh,0|this.El,0|b,0|E),{h:v,l:N}=Po(0|this.Fh,0|this.Fl,0|v,0|N),{h:k,l:I}=Po(0|this.Gh,0|this.Gl,0|k,0|I),{h:L,l:F}=Po(0|this.Hh,0|this.Hl,0|L,0|F),this.set(r,i,o,l,c,f,d,h,b,E,v,N,k,I,L,F)}roundClean(){Hf(Ws,$s)}destroy(){Hf(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const KJ=H3((()=>new zJ)),WJ=H3((()=>new VJ)),$J=KJ,ev=n=>{const e=lJ+n,t=$J(mr.Buffer.from(e,"utf8"));return mr.Buffer.from(t)},tv=(n,e,t)=>{const r=[n];e?r.push(e.toBuffer()):r.push(mr.Buffer.alloc(32)),t?r.push(t.toBuffer()):r.push(mr.Buffer.alloc(32));const[i]=we.findProgramAddressSync(r,O3);return i},gc=(n,e=Xb,t)=>{let r=ev(n);return{pubkey:tv(r,t,e),hashed:r}},nv=(n,e)=>{n.endsWith(".sol")&&(n=n.slice(0,-4));const t=e===Ff.V2?L3:void 0,r=n.split(".");if(r.length===2){const i=mr.Buffer.from([e||0]).toString().concat(r[0]),{pubkey:o}=gc(r[1]);return{...gc(i,o,t),isSub:!0,parent:o}}if(r.length===3&&e){const{pubkey:i}=gc(r[2]),{pubkey:o}=gc("\0".concat(r[1]),i),l=e===Ff.V2?"":"";return{...gc(l.concat(r[0]),o,t),isSub:!0,parent:i,isSubRecord:!0}}if(r.length>=3)throw new gJ("The domain is malformed");return{...gc(n,Xb),isSub:!1,parent:void 0}},q3=new we("nftD3vbNkNqfj2Sd3HZwbpw4BxxKWr4AjGb9X38JeZk"),jJ=mr.Buffer.from("tokenized_name"),YJ=n=>{const[e]=we.findProgramAddressSync([jJ,n.toBuffer()],q3);return e},rv=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}};var Ba={},DR;function JJ(){if(DR)return Ba;DR=1,Object.defineProperty(Ba,"__esModule",{value:!0});function n(i){{const o=ft.from(i);o.reverse();const l=o.toString("hex");return l.length===0?BigInt(0):BigInt(`0x${l}`)}}Ba.toBigIntLE=n;function e(i){{const o=i.toString("hex");return o.length===0?BigInt(0):BigInt(`0x${o}`)}}Ba.toBigIntBE=e;function t(i,o){{const l=i.toString(16),c=ft.from(l.padStart(o*2,"0").slice(0,o*2),"hex");return c.reverse(),c}}Ba.toBufferLE=t;function r(i,o){{const l=i.toString(16);return ft.from(l.padStart(o*2,"0").slice(0,o*2),"hex")}}return Ba.toBufferBE=r,Ba}var PR=JJ();const ZJ=n=>e=>{const t=de.blob(n,e),{encode:r,decode:i}=rv(t),o=t;return o.decode=(l,c)=>{const f=i(l,c);return PR.toBigIntLE(ft.from(f))},o.encode=(l,c,f)=>{const d=PR.toBufferLE(l,n);return r(d,c,f)},o},Cf=ZJ(8),iv=n=>{const e=de.u8(n),{encode:t,decode:r}=rv(e),i=e;return i.decode=(o,l)=>!!r(o,l),i.encode=(o,l,c)=>{const f=Number(o);return t(f,l,c)},i},er=n=>{const e=de.blob(32,n),{encode:t,decode:r}=rv(e),i=e;return i.decode=(o,l)=>{const c=r(o,l);return new we(c)},i.encode=(o,l,c)=>{const f=o.toBuffer();return t(f,l,c)},i};var FR;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initialized=1]="Initialized",n[n.Frozen=2]="Frozen"})(FR||(FR={}));const V3=de.struct([er("mint"),er("owner"),Cf("amount"),de.u32("delegateOption"),er("delegate"),de.u8("state"),de.u32("isNativeOption"),Cf("isNative"),Cf("delegatedAmount"),de.u32("closeAuthorityOption"),er("closeAuthority")]);V3.span;const K3=async(n,e)=>{try{const t=YJ(e),r=await n.getTokenLargestAccounts(t);if(r.value.length===0)return null;const i=await n.getAccountInfo(r.value[0].address);if(!i)return null;const o=V3.decode(i.data);return o.amount.toString()==="1"?o.owner:null}catch(t){if(t instanceof rt&&t.code===-32602)return null;throw t}};let Xi=class gp{constructor(e){this.parentName=new we(e.parentName),this.owner=new we(e.owner),this.class=new we(e.class)}static deserialize(e){const t=new gp(mp(this.schema,e));return t.data=e==null?void 0:e.slice(this.HEADER_LEN),t}static async retrieve(e,t){var r;const i=await e.getAccountInfo(t);if(!i)throw new pJ("The name account does not exist");const o=new gp(mp(this.schema,i.data));return o.data=(r=i.data)===null||r===void 0?void 0:r.slice(this.HEADER_LEN),{registry:o,nftOwner:await K3(e,t)}}static async _retrieveBatch(e,t){const r=await e.getMultipleAccountsInfo(t),i=o=>{if(!o)return;const l=new gp(mp(this.schema,o));return l.data=o==null?void 0:o.slice(this.HEADER_LEN),l};return r.map((o=>i(o==null?void 0:o.data)))}static async retrieveBatch(e,t){let r=[];const i=[...t];for(;i.length>0;)r.push(...await this._retrieveBatch(e,i.splice(0,100)));return r}};Xi.HEADER_LEN=96,Xi.schema={struct:{parentName:{array:{type:"u8",len:32}},owner:{array:{type:"u8",len:32}},class:{array:{type:"u8",len:32}}}};/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function HR(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function W3(n,e){return!!Array.isArray(e)&&(e.length===0||(n?e.every((t=>typeof t=="string")):e.every((t=>Number.isSafeInteger(t)))))}function If(n,e){if(typeof e!="string")throw new Error(`${n}: string expected`);return!0}function $3(n){if(!Number.isSafeInteger(n))throw new Error(`invalid integer: ${n}`)}function P1(n){if(!Array.isArray(n))throw new Error("array expected")}function zR(n,e){if(!W3(!0,e))throw new Error(`${n}: array of strings expected`)}function GR(n,e){if(!W3(!1,e))throw new Error(`${n}: array of numbers expected`)}const j3=(n,e)=>e===0?n:j3(e,n%e),Wp=(n,e)=>n+(e-j3(n,e)),yp=(()=>{let n=[];for(let e=0;e<40;e++)n.push(2**e);return n})();function F1(n,e,t,r){if(P1(n),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(t<=0||t>32)throw new Error(`convertRadix2: wrong to=${t}`);if(Wp(e,t)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${t} carryBits=${Wp(e,t)}`);let i=0,o=0;const l=yp[e],c=yp[t]-1,f=[];for(const d of n){if($3(d),d>=l)throw new Error(`convertRadix2: invalid data word=${d} from=${e}`);if(i=i<<e|d,o+e>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${e}`);for(o+=e;o>=t;o-=t)f.push((i>>o-t&c)>>>0);const h=yp[o];if(h===void 0)throw new Error("invalid carry");i&=h-1}if(i=i<<t-o&c,!r&&o>=e)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&o>0&&f.push(i>>>0),f}function qR(n){return(function(e){if(typeof e!="function")throw new Error("function expected")})(n),function(...e){try{return n.apply(null,e)}catch{}}}const H1=(function(...n){const e=r=>r,t=(r,i)=>o=>r(i(o));return{encode:n.map((r=>r.encode)).reduceRight(t,e),decode:n.map((r=>r.decode)).reduce(t,e)}})((function(n){const e=n.split(""),t=e.length;zR("alphabet",e);const r=new Map(e.map(((i,o)=>[i,o])));return{encode:i=>(P1(i),i.map((o=>{if(!Number.isSafeInteger(o)||o<0||o>=t)throw new Error(`alphabet.encode: digit index outside alphabet "${o}". Allowed: ${n}`);return e[o]}))),decode:i=>(P1(i),i.map((o=>{If("alphabet.decode",o);const l=r.get(o);if(l===void 0)throw new Error(`Unknown letter: "${o}". Allowed: ${n}`);return l})))}})("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),(function(n=""){return If("join",n),{encode:e=>(zR("join.decode",e),e.join(n)),decode:e=>(If("join.decode",e),e.split(n))}})("")),VR=[996825010,642813549,513874426,1027748829,705979059];function lf(n){const e=n>>25;let t=(33554431&n)<<5;for(let r=0;r<VR.length;r++)(e>>r&1)==1&&(t^=VR[r]);return t}function KR(n,e,t=1){const r=n.length;let i=1;for(let o=0;o<r;o++){const l=n.charCodeAt(o);if(l<33||l>126)throw new Error(`Invalid prefix (${n})`);i=lf(i)^l>>5}i=lf(i);for(let o=0;o<r;o++)i=lf(i)^31&n.charCodeAt(o);for(let o of e)i=lf(i)^o;for(let o=0;o<6;o++)i=lf(i);return i^=t,H1.encode(F1([i%yp[30]],30,5,!1))}(function(n){const t=(function(f,d=!1){if($3(f),f>32,Wp(8,f)>32||Wp(f,8)>32)throw new Error("radix2: carry overflow");return{encode:h=>{if(!HR(h))throw new Error("radix2.encode input should be Uint8Array");return F1(Array.from(h),8,f,!d)},decode:h=>(GR("radix2.decode",h),Uint8Array.from(F1(h,f,8,d)))}})(5),r=t.decode,i=t.encode,o=qR(r);function l(f,d,h=90){If("bech32.encode prefix",f),HR(d)&&(d=Array.from(d)),GR("bech32.encode",d);const b=f.length;if(b===0)throw new TypeError(`Invalid prefix length ${b}`);const E=b+7+d.length;if(h!==!1&&E>h)throw new TypeError(`Length ${E} exceeds limit ${h}`);const v=f.toLowerCase(),N=KR(v,d,1);return`${v}1${H1.encode(d)}${N}`}function c(f,d=90){If("bech32.decode input",f);const h=f.length;if(h<8||d!==!1&&h>d)throw new TypeError(`invalid string length: ${h} (${f}). Expected (8..${d})`);const b=f.toLowerCase();if(f!==b&&f!==f.toUpperCase())throw new Error("String must be lowercase or uppercase");const E=b.lastIndexOf("1");if(E===0||E===-1)throw new Error('Letter "1" must be present between prefix and data only');const v=b.slice(0,E),N=b.slice(E+1);if(N.length<6)throw new Error("Data must be at least 6 characters long");const k=H1.decode(N).slice(0,-6),I=KR(v,k,1);if(!N.endsWith(I))throw new Error(`Invalid checksum in ${f}: expected "${I}"`);return{prefix:v,words:k}}return{encode:l,decode:c,encodeFromBytes:function(f,d){return l(f,i(d))},decodeToBytes:function(f){const{prefix:d,words:h}=c(f,!1);return{prefix:d,words:h,bytes:r(h)}},decodeUnsafe:qR(c),fromWords:r,fromWordsUnsafe:o,toWords:i}})();var XJ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof bp<"u"?bp:typeof self<"u"?self:{};function QJ(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Y3={exports:{}},lw;lw=Y3,(function(n){const e="(0?\\d+|0x[a-f0-9]+)",t={fourOctet:new RegExp(`^${e}\\.${e}\\.${e}\\.${e}$`,"i"),threeOctet:new RegExp(`^${e}\\.${e}\\.${e}$`,"i"),twoOctet:new RegExp(`^${e}\\.${e}$`,"i"),longValue:new RegExp(`^${e}$`,"i")},r=new RegExp("^0[0-7]+$","i"),i=new RegExp("^0x[a-f0-9]+$","i"),o="%[0-9a-z]{1,}",l="(?:[0-9a-f]+::?)+",c={zoneIndex:new RegExp(o,"i"),native:new RegExp(`^(::)?(${l})?([0-9a-f]+)?(::)?(${o})?$`,"i"),deprecatedTransitional:new RegExp(`^(?:::)(${e}\\.${e}\\.${e}\\.${e}(${o})?)$`,"i"),transitional:new RegExp(`^((?:${l})|(?:::)(?:${l})?)${e}\\.${e}\\.${e}\\.${e}(${o})?$`,"i")};function f(v,N){if(v.indexOf("::")!==v.lastIndexOf("::"))return null;let k,I,L=0,F=-1,M=(v.match(c.zoneIndex)||[])[0];for(M&&(M=M.substring(1),v=v.replace(/%.+$/,""));(F=v.indexOf(":",F+1))>=0;)L++;if(v.substr(0,2)==="::"&&L--,v.substr(-2,2)==="::"&&L--,L>N)return null;for(I=N-L,k=":";I--;)k+="0:";return(v=v.replace("::",k))[0]===":"&&(v=v.slice(1)),v[v.length-1]===":"&&(v=v.slice(0,-1)),{parts:N=(function(){const Y=v.split(":"),ie=[];for(let se=0;se<Y.length;se++)ie.push(parseInt(Y[se],16));return ie})(),zoneId:M}}function d(v,N,k,I){if(v.length!==N.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");let L,F=0;for(;I>0;){if(L=k-I,L<0&&(L=0),v[F]>>L!==N[F]>>L)return!1;I-=k,F+=1}return!0}function h(v){if(i.test(v))return parseInt(v,16);if(v[0]==="0"&&!isNaN(parseInt(v[1],10))){if(r.test(v))return parseInt(v,8);throw new Error(`ipaddr: cannot parse ${v} as octal`)}return parseInt(v,10)}function b(v,N){for(;v.length<N;)v=`0${v}`;return v}const E={};E.IPv4=(function(){function v(N){if(N.length!==4)throw new Error("ipaddr: ipv4 octet count should be 4");let k,I;for(k=0;k<N.length;k++)if(I=N[k],!(0<=I&&I<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=N}return v.prototype.SpecialRanges={unspecified:[[new v([0,0,0,0]),8]],broadcast:[[new v([255,255,255,255]),32]],multicast:[[new v([224,0,0,0]),4]],linkLocal:[[new v([169,254,0,0]),16]],loopback:[[new v([127,0,0,0]),8]],carrierGradeNat:[[new v([100,64,0,0]),10]],private:[[new v([10,0,0,0]),8],[new v([172,16,0,0]),12],[new v([192,168,0,0]),16]],reserved:[[new v([192,0,0,0]),24],[new v([192,0,2,0]),24],[new v([192,88,99,0]),24],[new v([198,18,0,0]),15],[new v([198,51,100,0]),24],[new v([203,0,113,0]),24],[new v([240,0,0,0]),4]],as112:[[new v([192,175,48,0]),24],[new v([192,31,196,0]),24]],amt:[[new v([192,52,193,0]),24]]},v.prototype.kind=function(){return"ipv4"},v.prototype.match=function(N,k){let I;if(k===void 0&&(I=N,N=I[0],k=I[1]),N.kind()!=="ipv4")throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return d(this.octets,N.octets,8,k)},v.prototype.prefixLengthFromSubnetMask=function(){let N=0,k=!1;const I={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0};let L,F,M;for(L=3;L>=0;L-=1){if(F=this.octets[L],!(F in I)||(M=I[F],k&&M!==0))return null;M!==8&&(k=!0),N+=M}return 32-N},v.prototype.range=function(){return E.subnetMatch(this,this.SpecialRanges)},v.prototype.toByteArray=function(){return this.octets.slice(0)},v.prototype.toIPv4MappedAddress=function(){return E.IPv6.parse(`::ffff:${this.toString()}`)},v.prototype.toNormalizedString=function(){return this.toString()},v.prototype.toString=function(){return this.octets.join(".")},v})(),E.IPv4.broadcastAddressFromCIDR=function(v){try{const N=this.parseCIDR(v),k=N[0].toByteArray(),I=this.subnetMaskFromPrefixLength(N[1]).toByteArray(),L=[];let F=0;for(;F<4;)L.push(parseInt(k[F],10)|255^parseInt(I[F],10)),F++;return new this(L)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},E.IPv4.isIPv4=function(v){return this.parser(v)!==null},E.IPv4.isValid=function(v){try{return new this(this.parser(v)),!0}catch{return!1}},E.IPv4.isValidCIDR=function(v){try{return this.parseCIDR(v),!0}catch{return!1}},E.IPv4.isValidFourPartDecimal=function(v){return!(!E.IPv4.isValid(v)||!v.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},E.IPv4.networkAddressFromCIDR=function(v){let N,k,I,L,F;try{for(N=this.parseCIDR(v),I=N[0].toByteArray(),F=this.subnetMaskFromPrefixLength(N[1]).toByteArray(),L=[],k=0;k<4;)L.push(parseInt(I[k],10)&parseInt(F[k],10)),k++;return new this(L)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},E.IPv4.parse=function(v){const N=this.parser(v);if(N===null)throw new Error("ipaddr: string is not formatted like an IPv4 Address");return new this(N)},E.IPv4.parseCIDR=function(v){let N;if(N=v.match(/^(.+)\/(\d+)$/)){const k=parseInt(N[2]);if(k>=0&&k<=32){const I=[this.parse(N[1]),k];return Object.defineProperty(I,"toString",{value:function(){return this.join("/")}}),I}}throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},E.IPv4.parser=function(v){let N,k,I;if(N=v.match(t.fourOctet))return(function(){const L=N.slice(1,6),F=[];for(let M=0;M<L.length;M++)k=L[M],F.push(h(k));return F})();if(N=v.match(t.longValue)){if(I=h(N[1]),I>4294967295||I<0)throw new Error("ipaddr: address outside defined range");return(function(){const L=[];let F;for(F=0;F<=24;F+=8)L.push(I>>F&255);return L})().reverse()}return(N=v.match(t.twoOctet))?(function(){const L=N.slice(1,4),F=[];if(I=h(L[1]),I>16777215||I<0)throw new Error("ipaddr: address outside defined range");return F.push(h(L[0])),F.push(I>>16&255),F.push(I>>8&255),F.push(255&I),F})():(N=v.match(t.threeOctet))?(function(){const L=N.slice(1,5),F=[];if(I=h(L[2]),I>65535||I<0)throw new Error("ipaddr: address outside defined range");return F.push(h(L[0])),F.push(h(L[1])),F.push(I>>8&255),F.push(255&I),F})():null},E.IPv4.subnetMaskFromPrefixLength=function(v){if((v=parseInt(v))<0||v>32)throw new Error("ipaddr: invalid IPv4 prefix length");const N=[0,0,0,0];let k=0;const I=Math.floor(v/8);for(;k<I;)N[k]=255,k++;return I<4&&(N[I]=Math.pow(2,v%8)-1<<8-v%8),new this(N)},E.IPv6=(function(){function v(N,k){let I,L;if(N.length===16)for(this.parts=[],I=0;I<=14;I+=2)this.parts.push(N[I]<<8|N[I+1]);else{if(N.length!==8)throw new Error("ipaddr: ipv6 part count should be 8 or 16");this.parts=N}for(I=0;I<this.parts.length;I++)if(L=this.parts[I],!(0<=L&&L<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");k&&(this.zoneId=k)}return v.prototype.SpecialRanges={unspecified:[new v([0,0,0,0,0,0,0,0]),128],linkLocal:[new v([65152,0,0,0,0,0,0,0]),10],multicast:[new v([65280,0,0,0,0,0,0,0]),8],loopback:[new v([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new v([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new v([0,0,0,0,0,65535,0,0]),96],discard:[new v([256,0,0,0,0,0,0,0]),64],rfc6145:[new v([0,0,0,0,65535,0,0,0]),96],rfc6052:[new v([100,65435,0,0,0,0,0,0]),96],"6to4":[new v([8194,0,0,0,0,0,0,0]),16],teredo:[new v([8193,0,0,0,0,0,0,0]),32],benchmarking:[new v([8193,2,0,0,0,0,0,0]),48],amt:[new v([8193,3,0,0,0,0,0,0]),32],as112v6:[[new v([8193,4,274,0,0,0,0,0]),48],[new v([9760,79,32768,0,0,0,0,0]),48]],deprecated:[new v([8193,16,0,0,0,0,0,0]),28],orchid2:[new v([8193,32,0,0,0,0,0,0]),28],droneRemoteIdProtocolEntityTags:[new v([8193,48,0,0,0,0,0,0]),28],reserved:[[new v([8193,0,0,0,0,0,0,0]),23],[new v([8193,3512,0,0,0,0,0,0]),32]]},v.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"},v.prototype.kind=function(){return"ipv6"},v.prototype.match=function(N,k){let I;if(k===void 0&&(I=N,N=I[0],k=I[1]),N.kind()!=="ipv6")throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return d(this.parts,N.parts,16,k)},v.prototype.prefixLengthFromSubnetMask=function(){let N=0,k=!1;const I={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0};let L,F;for(let M=7;M>=0;M-=1){if(L=this.parts[M],!(L in I)||(F=I[L],k&&F!==0))return null;F!==16&&(k=!0),N+=F}return 128-N},v.prototype.range=function(){return E.subnetMatch(this,this.SpecialRanges)},v.prototype.toByteArray=function(){let N;const k=[],I=this.parts;for(let L=0;L<I.length;L++)N=I[L],k.push(N>>8),k.push(255&N);return k},v.prototype.toFixedLengthString=function(){const N=(function(){const I=[];for(let L=0;L<this.parts.length;L++)I.push(b(this.parts[L].toString(16),4));return I}).call(this).join(":");let k="";return this.zoneId&&(k=`%${this.zoneId}`),N+k},v.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");const N=this.parts.slice(-2),k=N[0],I=N[1];return new E.IPv4([k>>8,255&k,I>>8,255&I])},v.prototype.toNormalizedString=function(){const N=(function(){const I=[];for(let L=0;L<this.parts.length;L++)I.push(this.parts[L].toString(16));return I}).call(this).join(":");let k="";return this.zoneId&&(k=`%${this.zoneId}`),N+k},v.prototype.toRFC5952String=function(){const N=/((^|:)(0(:|$)){2,})/g,k=this.toNormalizedString();let I,L=0,F=-1;for(;I=N.exec(k);)I[0].length>F&&(L=I.index,F=I[0].length);return F<0?k:`${k.substring(0,L)}::${k.substring(L+F)}`},v.prototype.toString=function(){return this.toRFC5952String()},v})(),E.IPv6.broadcastAddressFromCIDR=function(v){try{const N=this.parseCIDR(v),k=N[0].toByteArray(),I=this.subnetMaskFromPrefixLength(N[1]).toByteArray(),L=[];let F=0;for(;F<16;)L.push(parseInt(k[F],10)|255^parseInt(I[F],10)),F++;return new this(L)}catch(N){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${N})`)}},E.IPv6.isIPv6=function(v){return this.parser(v)!==null},E.IPv6.isValid=function(v){if(typeof v=="string"&&v.indexOf(":")===-1)return!1;try{const N=this.parser(v);return new this(N.parts,N.zoneId),!0}catch{return!1}},E.IPv6.isValidCIDR=function(v){if(typeof v=="string"&&v.indexOf(":")===-1)return!1;try{return this.parseCIDR(v),!0}catch{return!1}},E.IPv6.networkAddressFromCIDR=function(v){let N,k,I,L,F;try{for(N=this.parseCIDR(v),I=N[0].toByteArray(),F=this.subnetMaskFromPrefixLength(N[1]).toByteArray(),L=[],k=0;k<16;)L.push(parseInt(I[k],10)&parseInt(F[k],10)),k++;return new this(L)}catch(M){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${M})`)}},E.IPv6.parse=function(v){const N=this.parser(v);if(N.parts===null)throw new Error("ipaddr: string is not formatted like an IPv6 Address");return new this(N.parts,N.zoneId)},E.IPv6.parseCIDR=function(v){let N,k,I;if((k=v.match(/^(.+)\/(\d+)$/))&&(N=parseInt(k[2]),N>=0&&N<=128))return I=[this.parse(k[1]),N],Object.defineProperty(I,"toString",{value:function(){return this.join("/")}}),I;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},E.IPv6.parser=function(v){let N,k,I,L,F,M;if(I=v.match(c.deprecatedTransitional))return this.parser(`::ffff:${I[1]}`);if(c.native.test(v))return f(v,8);if((I=v.match(c.transitional))&&(M=I[6]||"",N=I[1],I[1].endsWith("::")||(N=N.slice(0,-1)),N=f(N+M,6),N.parts)){for(F=[parseInt(I[2]),parseInt(I[3]),parseInt(I[4]),parseInt(I[5])],k=0;k<F.length;k++)if(L=F[k],!(0<=L&&L<=255))return null;return N.parts.push(F[0]<<8|F[1]),N.parts.push(F[2]<<8|F[3]),{parts:N.parts,zoneId:N.zoneId}}return null},E.IPv6.subnetMaskFromPrefixLength=function(v){if((v=parseInt(v))<0||v>128)throw new Error("ipaddr: invalid IPv6 prefix length");const N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];let k=0;const I=Math.floor(v/8);for(;k<I;)N[k]=255,k++;return I<16&&(N[I]=Math.pow(2,v%8)-1<<8-v%8),new this(N)},E.fromByteArray=function(v){const N=v.length;if(N===4)return new E.IPv4(v);if(N===16)return new E.IPv6(v);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},E.isValid=function(v){return E.IPv6.isValid(v)||E.IPv4.isValid(v)},E.isValidCIDR=function(v){return E.IPv6.isValidCIDR(v)||E.IPv4.isValidCIDR(v)},E.parse=function(v){if(E.IPv6.isValid(v))return E.IPv6.parse(v);if(E.IPv4.isValid(v))return E.IPv4.parse(v);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},E.parseCIDR=function(v){try{return E.IPv6.parseCIDR(v)}catch{try{return E.IPv4.parseCIDR(v)}catch{throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},E.process=function(v){const N=this.parse(v);return N.kind()==="ipv6"&&N.isIPv4MappedAddress()?N.toIPv4Address():N},E.subnetMatch=function(v,N,k){let I,L,F,M;for(L in k==null&&(k="unicast"),N)if(Object.prototype.hasOwnProperty.call(N,L)){for(F=N[L],!F[0]||F[0]instanceof Array||(F=[F]),I=0;I<F.length;I++)if(M=F[I],v.kind()===M[0].kind()&&v.match.apply(v,M))return L}return k},lw.exports?lw.exports=E:n.ipaddr=E})(XJ);Y3.exports;At.Url,new we("ExXjtfdQe8JacoqP9Z535WzQKjF4CzW1TTRKRgpxvya3"),At.CNAME,new we("ExXjtfdQe8JacoqP9Z535WzQKjF4CzW1TTRKRgpxvya3");At.ETH,At.Injective,At.BSC,At.BASE;At.ETH,At.BSC,At.BASE;At.IPFS,At.ARWV,At.LTC,At.DOGE,At.Email,At.Url,At.Discord,At.Github,At.Reddit,At.Twitter,At.Telegram,At.Pic,At.SHDW,At.POINT,At.Backpack,At.TXT,At.CNAME,At.BTC,At.IPNS;At.ETH,At.Injective,At.SOL;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ov=BigInt(0),z1=BigInt(1);function sv(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function av(n){if(!sv(n))throw new Error("Uint8Array expected")}function cw(n,e){if(typeof e!="boolean")throw new Error(n+" boolean expected, got "+e)}function J3(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?ov:BigInt("0x"+n)}const Z3=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",eZ=Array.from({length:256},((n,e)=>e.toString(16).padStart(2,"0")));function lv(n){if(av(n),Z3)return n.toHex();let e="";for(let t=0;t<n.length;t++)e+=eZ[n[t]];return e}const WR=48,tZ=57,$R=65,nZ=70,jR=97,rZ=102;function YR(n){return n>=WR&&n<=tZ?n-WR:n>=$R&&n<=nZ?n-($R-10):n>=jR&&n<=rZ?n-(jR-10):void 0}function X3(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);if(Z3)return Uint8Array.fromHex(n);const e=n.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let i=0,o=0;i<t;i++,o+=2){const l=YR(n.charCodeAt(o)),c=YR(n.charCodeAt(o+1));if(l===void 0||c===void 0){const f=n[o]+n[o+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+o)}r[i]=16*l+c}return r}function iZ(n){return J3(lv(n))}function wp(n){return av(n),J3(lv(Uint8Array.from(n).reverse()))}function Q3(n,e){return X3(n.toString(16).padStart(2*e,"0"))}function G1(n,e){return Q3(n,e).reverse()}function Fo(n,e,t){let r;if(typeof e=="string")try{r=X3(e)}catch(o){throw new Error(n+" must be hex string or Uint8Array, cause: "+o)}else{if(!sv(e))throw new Error(n+" must be hex string or Uint8Array");r=Uint8Array.from(e)}const i=r.length;if(typeof t=="number"&&i!==t)throw new Error(n+" of length "+t+" expected, got "+i);return r}function JR(...n){let e=0;for(let r=0;r<n.length;r++){const i=n[r];av(i),e+=i.length}const t=new Uint8Array(e);for(let r=0,i=0;r<n.length;r++){const o=n[r];t.set(o,i),i+=o.length}return t}const uw=n=>typeof n=="bigint"&&ov<=n;function oZ(n,e,t){return uw(n)&&uw(e)&&uw(t)&&e<=n&&n<t}function cf(n,e,t,r){if(!oZ(e,t,r))throw new Error("expected valid "+n+": "+t+" <= n < "+r+", got "+e)}function sZ(n){let e;for(e=0;n>ov;n>>=z1,e+=1);return e}const cv=n=>(z1<<BigInt(n))-z1,aZ={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||sv(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function uv(n,e,t={}){const r=(i,o,l)=>{const c=aZ[o];if(typeof c!="function")throw new Error("invalid validator function");const f=n[i];if(!(l&&f===void 0||c(f,n)))throw new Error("param "+String(i)+" is invalid. Expected "+o+", got "+f)};for(const[i,o]of Object.entries(e))r(i,o,!1);for(const[i,o]of Object.entries(t))r(i,o,!0);return n}function ZR(n){const e=new WeakMap;return(t,...r)=>{const i=e.get(t);if(i!==void 0)return i;const o=n(t,...r);return e.set(t,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Vr=BigInt(0),Nr=BigInt(1),tl=BigInt(2),lZ=BigInt(3),e4=BigInt(4),t4=BigInt(5),n4=BigInt(8);function tr(n,e){const t=n%e;return t>=Vr?t:e+t}function $i(n,e,t){let r=n;for(;e-- >Vr;)r*=r,r%=t;return r}function XR(n,e){if(n===Vr)throw new Error("invert: expected non-zero number");if(e<=Vr)throw new Error("invert: expected positive modulus, got "+e);let t=tr(n,e),r=e,i=Vr,o=Nr;for(;t!==Vr;){const l=r%t,c=i-o*(r/t);r=t,t=l,i=o,o=c}if(r!==Nr)throw new Error("invert: does not exist");return tr(i,e)}function r4(n,e){const t=(n.ORDER+Nr)/e4,r=n.pow(e,t);if(!n.eql(n.sqr(r),e))throw new Error("Cannot find square root");return r}function cZ(n,e){const t=(n.ORDER-t4)/n4,r=n.mul(e,tl),i=n.pow(r,t),o=n.mul(e,i),l=n.mul(n.mul(o,tl),i),c=n.mul(o,n.sub(l,n.ONE));if(!n.eql(n.sqr(c),e))throw new Error("Cannot find square root");return c}function uZ(n){if(n<BigInt(3))throw new Error("sqrt is not defined for small field");let e=n-Nr,t=0;for(;e%tl===Vr;)e/=tl,t++;let r=tl;const i=fv(n);for(;QR(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(t===1)return r4;let o=i.pow(r,e);const l=(e+Nr)/tl;return function(c,f){if(c.is0(f))return f;if(QR(c,f)!==1)throw new Error("Cannot find square root");let d=t,h=c.mul(c.ONE,o),b=c.pow(f,e),E=c.pow(f,l);for(;!c.eql(b,c.ONE);){if(c.is0(b))return c.ZERO;let v=1,N=c.sqr(b);for(;!c.eql(N,c.ONE);)if(v++,N=c.sqr(N),v===d)throw new Error("Cannot find square root");const k=Nr<<BigInt(d-v-1),I=c.pow(h,k);d=v,h=c.sqr(I),b=c.mul(b,h),E=c.mul(E,I)}return E}}function fZ(n){return n%e4===lZ?r4:n%n4===t4?cZ:uZ(n)}const dZ=(n,e)=>(tr(n,e)&Nr)===Nr,hZ=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function pZ(n){const e=hZ.reduce(((t,r)=>(t[r]="function",t)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return uv(n,e)}function mZ(n,e,t){if(t<Vr)throw new Error("invalid exponent, negatives unsupported");if(t===Vr)return n.ONE;if(t===Nr)return e;let r=n.ONE,i=e;for(;t>Vr;)t&Nr&&(r=n.mul(r,i)),i=n.sqr(i),t>>=Nr;return r}function i4(n,e,t=!1){const r=new Array(e.length).fill(t?n.ZERO:void 0),i=e.reduce(((l,c,f)=>n.is0(c)?l:(r[f]=l,n.mul(l,c))),n.ONE),o=n.inv(i);return e.reduceRight(((l,c,f)=>n.is0(c)?l:(r[f]=n.mul(l,r[f]),n.mul(l,c))),o),r}function QR(n,e){const t=(n.ORDER-Nr)/tl,r=n.pow(e,t),i=n.eql(r,n.ONE),o=n.eql(r,n.ZERO),l=n.eql(r,n.neg(n.ONE));if(!i&&!o&&!l)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function o4(n,e){e!==void 0&&AJ(e);const t=e!==void 0?e:n.toString(2).length;return{nBitLength:t,nByteLength:Math.ceil(t/8)}}function fv(n,e,t=!1,r={}){if(n<=Vr)throw new Error("invalid field: expected ORDER > 0, got "+n);const{nBitLength:i,nByteLength:o}=o4(n,e);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:n,isLE:t,BITS:i,BYTES:o,MASK:cv(i),ZERO:Vr,ONE:Nr,create:f=>tr(f,n),isValid:f=>{if(typeof f!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof f);return Vr<=f&&f<n},is0:f=>f===Vr,isOdd:f=>(f&Nr)===Nr,neg:f=>tr(-f,n),eql:(f,d)=>f===d,sqr:f=>tr(f*f,n),add:(f,d)=>tr(f+d,n),sub:(f,d)=>tr(f-d,n),mul:(f,d)=>tr(f*d,n),pow:(f,d)=>mZ(c,f,d),div:(f,d)=>tr(f*XR(d,n),n),sqrN:f=>f*f,addN:(f,d)=>f+d,subN:(f,d)=>f-d,mulN:(f,d)=>f*d,inv:f=>XR(f,n),sqrt:r.sqrt||(f=>(l||(l=fZ(n)),l(c,f))),toBytes:f=>t?G1(f,o):Q3(f,o),fromBytes:f=>{if(f.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+f.length);return t?wp(f):iZ(f)},invertBatch:f=>i4(c,f),cmov:(f,d,h)=>h?d:f});return Object.freeze(c)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const eN=BigInt(0),q1=BigInt(1);function fw(n,e){const t=e.negate();return n?t:e}function s4(n,e){if(!Number.isSafeInteger(n)||n<=0||n>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+n)}function dw(n,e){s4(n,e);const t=2**n;return{windows:Math.ceil(e/n)+1,windowSize:2**(n-1),mask:cv(n),maxNumber:t,shiftBy:BigInt(n)}}function tN(n,e,t){const{windowSize:r,mask:i,maxNumber:o,shiftBy:l}=t;let c=Number(n&i),f=n>>l;c>r&&(c-=o,f+=q1);const d=e*r;return{nextN:f,offset:d+Math.abs(c)-1,isZero:c===0,isNeg:c<0,isNegF:e%2!=0,offsetF:d}}const hw=new WeakMap,a4=new WeakMap;function pw(n){return a4.get(n)||1}function gZ(n,e){return{constTimeNegate:fw,hasPrecomputes:t=>pw(t)!==1,unsafeLadder(t,r,i=n.ZERO){let o=t;for(;r>eN;)r&q1&&(i=i.add(o)),o=o.double(),r>>=q1;return i},precomputeWindow(t,r){const{windows:i,windowSize:o}=dw(r,e),l=[];let c=t,f=c;for(let d=0;d<i;d++){f=c,l.push(f);for(let h=1;h<o;h++)f=f.add(c),l.push(f);c=f.double()}return l},wNAF(t,r,i){let o=n.ZERO,l=n.BASE;const c=dw(t,e);for(let f=0;f<c.windows;f++){const{nextN:d,offset:h,isZero:b,isNeg:E,isNegF:v,offsetF:N}=tN(i,f,c);i=d,b?l=l.add(fw(v,r[N])):o=o.add(fw(E,r[h]))}return{p:o,f:l}},wNAFUnsafe(t,r,i,o=n.ZERO){const l=dw(t,e);for(let c=0;c<l.windows&&i!==eN;c++){const{nextN:f,offset:d,isZero:h,isNeg:b}=tN(i,c,l);if(i=f,!h){const E=r[d];o=o.add(b?E.negate():E)}}return o},getPrecomputes(t,r,i){let o=hw.get(r);return o||(o=this.precomputeWindow(r,t),t!==1&&hw.set(r,i(o))),o},wNAFCached(t,r,i){const o=pw(t);return this.wNAF(o,this.getPrecomputes(o,t,i),r)},wNAFCachedUnsafe(t,r,i,o){const l=pw(t);return l===1?this.unsafeLadder(t,r,o):this.wNAFUnsafe(l,this.getPrecomputes(l,t,i),r,o)},setWindowSize(t,r){s4(r,e),a4.set(t,r),hw.delete(t)}}}function yZ(n,e,t,r){(function(E,v){if(!Array.isArray(E))throw new Error("array expected");E.forEach(((N,k)=>{if(!(N instanceof v))throw new Error("invalid point at index "+k)}))})(t,n),(function(E,v){if(!Array.isArray(E))throw new Error("array of scalars expected");E.forEach(((N,k)=>{if(!v.isValid(N))throw new Error("invalid scalar at index "+k)}))})(r,e);const i=t.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const l=n.ZERO,c=sZ(BigInt(i));let f=1;c>12?f=c-3:c>4?f=c-2:c>0&&(f=2);const d=cv(f),h=new Array(Number(d)+1).fill(l);let b=l;for(let E=Math.floor((e.BITS-1)/f)*f;E>=0;E-=f){h.fill(l);for(let N=0;N<o;N++){const k=r[N],I=Number(k>>BigInt(E)&d);h[I]=h[I].add(t[N])}let v=l;for(let N=h.length-1,k=l;N>0;N--)k=k.add(h[N]),v=v.add(k);if(b=b.add(v),E!==0)for(let N=0;N<f;N++)b=b.double()}return b}function wZ(n){return pZ(n.Fp),uv(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...o4(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ji=BigInt(0),Rr=BigInt(1),nN=BigInt(2),bZ=BigInt(8),vZ={zip215:!0};function EZ(n){const e=(function(O){const g=wZ(O);return uv(O,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...g})})(n),{Fp:t,n:r,prehash:i,hash:o,randomBytes:l,nByteLength:c,h:f}=e,d=nN<<BigInt(8*c)-Rr,h=t.create,b=fv(e.n,e.nBitLength);if(!(function(O,g){const T=t.sqr(O),C=t.sqr(g),q=t.add(t.mul(e.a,T),C),j=t.add(t.ONE,t.mul(e.d,t.mul(T,C)));return t.eql(q,j)})(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const E=e.uvRatio||((O,g)=>{try{return{isValid:!0,value:t.sqrt(O*t.inv(g))}}catch{return{isValid:!1,value:ji}}}),v=e.adjustScalarBytes||(O=>O),N=e.domain||((O,g,T)=>{if(cw("phflag",T),g.length||T)throw new Error("Contexts/pre-hash are not supported");return O});function k(O,g,T=!1){cf("coordinate "+O,g,T?Rr:ji,d)}function I(O){if(!(O instanceof M))throw new Error("ExtendedPoint expected")}const L=ZR(((O,g)=>{const{ex:T,ey:C,ez:q}=O,j=O.is0();g==null&&(g=j?bZ:t.inv(q));const K=h(T*g),B=h(C*g),A=h(q*g);if(j)return{x:ji,y:Rr};if(A!==Rr)throw new Error("invZ was invalid");return{x:K,y:B}})),F=ZR((O=>{const{a:g,d:T}=e;if(O.is0())throw new Error("bad point: ZERO");const{ex:C,ey:q,ez:j,et:K}=O,B=h(C*C),A=h(q*q),y=h(j*j),R=h(y*y),G=h(B*g);if(h(y*h(G+A))!==h(R+h(T*h(B*A))))throw new Error("bad point: equation left != right (1)");if(h(C*q)!==h(j*K))throw new Error("bad point: equation left != right (2)");return!0}));class M{constructor(g,T,C,q){k("x",g),k("y",T),k("z",C,!0),k("t",q),this.ex=g,this.ey=T,this.ez=C,this.et=q,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(g){if(g instanceof M)throw new Error("extended point not allowed");const{x:T,y:C}=g||{};return k("x",T),k("y",C),new M(T,C,Rr,h(T*C))}static normalizeZ(g){const T=i4(t,g.map((C=>C.ez)));return g.map(((C,q)=>C.toAffine(T[q]))).map(M.fromAffine)}static msm(g,T){return yZ(M,b,g,T)}_setWindowSize(g){se.setWindowSize(this,g)}assertValidity(){F(this)}equals(g){I(g);const{ex:T,ey:C,ez:q}=this,{ex:j,ey:K,ez:B}=g,A=h(T*B),y=h(j*q),R=h(C*B),G=h(K*q);return A===y&&R===G}is0(){return this.equals(M.ZERO)}negate(){return new M(h(-this.ex),this.ey,this.ez,h(-this.et))}double(){const{a:g}=e,{ex:T,ey:C,ez:q}=this,j=h(T*T),K=h(C*C),B=h(nN*h(q*q)),A=h(g*j),y=T+C,R=h(h(y*y)-j-K),G=A+K,X=G-B,ue=A-K,be=h(R*X),De=h(G*ue),Ue=h(R*ue),ct=h(X*G);return new M(be,De,ct,Ue)}add(g){I(g);const{a:T,d:C}=e,{ex:q,ey:j,ez:K,et:B}=this,{ex:A,ey:y,ez:R,et:G}=g,X=h(q*A),ue=h(j*y),be=h(B*C*G),De=h(K*R),Ue=h((q+j)*(A+y)-X-ue),ct=De-be,ot=De+be,Rt=h(ue-T*X),lr=h(Ue*ct),_t=h(ot*Rt),Ht=h(Ue*Rt),U=h(ct*ot);return new M(lr,_t,U,Ht)}subtract(g){return this.add(g.negate())}wNAF(g){return se.wNAFCached(this,g,M.normalizeZ)}multiply(g){const T=g;cf("scalar",T,Rr,r);const{p:C,f:q}=this.wNAF(T);return M.normalizeZ([C,q])[0]}multiplyUnsafe(g,T=M.ZERO){const C=g;return cf("scalar",C,ji,r),C===ji?ie:this.is0()||C===Rr?this:se.wNAFCachedUnsafe(this,C,M.normalizeZ,T)}isSmallOrder(){return this.multiplyUnsafe(f).is0()}isTorsionFree(){return se.unsafeLadder(this,r).is0()}toAffine(g){return L(this,g)}clearCofactor(){const{h:g}=e;return g===Rr?this:this.multiplyUnsafe(g)}static fromHex(g,T=!1){const{d:C,a:q}=e,j=t.BYTES;g=Fo("pointHex",g,j),cw("zip215",T);const K=g.slice(),B=g[j-1];K[j-1]=-129&B;const A=wp(K),y=T?d:t.ORDER;cf("pointHex.y",A,ji,y);const R=h(A*A),G=h(R-Rr),X=h(C*R-q);let{isValid:ue,value:be}=E(G,X);if(!ue)throw new Error("Point.fromHex: invalid y coordinate");const De=(be&Rr)===Rr,Ue=!!(128&B);if(!T&&be===ji&&Ue)throw new Error("Point.fromHex: x=0 and x_0=1");return Ue!==De&&(be=h(-be)),M.fromAffine({x:be,y:A})}static fromPrivateKey(g){const{scalar:T}=J(g);return Y.multiply(T)}toRawBytes(){const{x:g,y:T}=this.toAffine(),C=G1(T,t.BYTES);return C[C.length-1]|=g&Rr?128:0,C}toHex(){return lv(this.toRawBytes())}}M.BASE=new M(e.Gx,e.Gy,Rr,h(e.Gx*e.Gy)),M.ZERO=new M(ji,Rr,Rr,ji);const{BASE:Y,ZERO:ie}=M,se=gZ(M,8*c);function re(O){return tr(O,r)}function ae(O){return re(wp(O))}function J(O){const g=t.BYTES;O=Fo("private key",O,g);const T=Fo("hashed private key",o(O),2*g),C=v(T.slice(0,g));return{head:C,prefix:T.slice(g,2*g),scalar:ae(C)}}function Q(O){const{head:g,prefix:T,scalar:C}=J(O),q=Y.multiply(C),j=q.toRawBytes();return{head:g,prefix:T,scalar:C,point:q,pointBytes:j}}function Z(O=Uint8Array.of(),...g){const T=JR(...g);return ae(o(N(T,Fo("context",O),!!i)))}const W=vZ;return Y._setWindowSize(8),{CURVE:e,getPublicKey:function(O){return Q(O).pointBytes},sign:function(O,g,T={}){O=Fo("message",O),i&&(O=i(O));const{prefix:C,scalar:q,pointBytes:j}=Q(g),K=Z(T.context,C,O),B=Y.multiply(K).toRawBytes(),A=re(K+Z(T.context,B,j,O)*q);cf("signature.s",A,ji,r);const y=JR(B,G1(A,t.BYTES));return Fo("result",y,2*t.BYTES)},verify:function(O,g,T,C=W){const{context:q,zip215:j}=C,K=t.BYTES;O=Fo("signature",O,2*K),g=Fo("message",g),T=Fo("publicKey",T,K),j!==void 0&&cw("zip215",j),i&&(g=i(g));const B=wp(O.slice(K,2*K));let A,y,R;try{A=M.fromHex(T,j),y=M.fromHex(O.slice(0,K),j),R=Y.multiplyUnsafe(B)}catch{return!1}if(!j&&A.isSmallOrder())return!1;const G=Z(q,y.toRawBytes(),A.toRawBytes(),g);return y.add(A.multiplyUnsafe(G)).subtract(R).clearCofactor().equals(M.ZERO)},ExtendedPoint:M,utils:{getExtendedPublicKey:Q,randomPrivateKey:()=>l(t.BYTES),precompute:(O=8,g=M.BASE)=>(g._setWindowSize(O),g.multiply(BigInt(3)),g)}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const V1=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),rN=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const _Z=BigInt(1),iN=BigInt(2);BigInt(3);const xZ=BigInt(5),AZ=BigInt(8);function SZ(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function TZ(n,e){const t=V1,r=tr(e*e*e,t),i=(function(E){const v=BigInt(10),N=BigInt(20),k=BigInt(40),I=BigInt(80),L=V1,F=E*E%L*E%L,M=$i(F,iN,L)*F%L,Y=$i(M,_Z,L)*E%L,ie=$i(Y,xZ,L)*Y%L,se=$i(ie,v,L)*ie%L,re=$i(se,N,L)*se%L,ae=$i(re,k,L)*re%L,J=$i(ae,I,L)*ae%L,Q=$i(J,I,L)*ae%L,Z=$i(Q,v,L)*ie%L;return{pow_p_5_8:$i(Z,iN,L)*E%L,b2:F}})(n*tr(r*r*e,t)).pow_p_5_8;let o=tr(n*r*i,t);const l=tr(e*o*o,t),c=o,f=tr(o*rN,t),d=l===n,h=l===tr(-n,t),b=l===tr(-n*rN,t);return d&&(o=c),(h||b)&&(o=f),dZ(o,t)&&(o=tr(-o,t)),{isValid:d||h,value:o}}const oN=fv(V1,void 0,!0),RZ={a:oN.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:oN,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:AZ,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:WJ,randomBytes:NJ,adjustScalarBytes:SZ,uvRatio:TZ},NZ=EZ(RZ),CZ=(n,e,t)=>NZ.verify(e,n,t.toBytes());new we("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new we("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");new we("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new we("So11111111111111111111111111111111111111112"),new we("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");var sN;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Mint=1]="Mint",n[n.Account=2]="Account"})(sN||(sN={}));const IZ=de.struct([de.u8("m"),de.u8("n"),iv("isInitialized"),er("signer1"),er("signer2"),er("signer3"),er("signer4"),er("signer5"),er("signer6"),er("signer7"),er("signer8"),er("signer9"),er("signer10"),er("signer11")]);IZ.span;const kZ=de.struct([de.u32("mintAuthorityOption"),er("mintAuthority"),Cf("supply"),de.u8("decimals"),iv("isInitialized"),de.u32("freezeAuthorityOption"),er("freezeAuthority")]);kZ.span;function MZ(n,e=!1){if(!n)return;const t=n.slice(0,4).readUInt32LE(0);return n.slice(4,4+t).toString().replace(/^\0/,e?"":"\0")}const OZ=(n,e)=>{const t=ev(n.toBase58());return tv(t,cJ,e)};async function BZ(n,e){const t=[{memcmp:{offset:32,bytes:e.toBase58()}},{memcmp:{offset:0,bytes:Xb.toBase58()}}];return(await n.getProgramAccounts(O3,{filters:t,dataSlice:{offset:0,length:0}})).map((r=>r.pubkey))}function zf(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function LZ(n,e){this.source=n,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=e,this.destLen=0,this.ltree=new zf,this.dtree=new zf}var l4=new zf,c4=new zf,K1=new Uint8Array(30),W1=new Uint16Array(30),u4=new Uint8Array(30),f4=new Uint16Array(30),UZ=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),aN=new zf,Yi=new Uint8Array(320);function lN(n,e,t,r){var i,o;for(i=0;i<t;++i)n[i]=0;for(i=0;i<30-t;++i)n[i+t]=i/t|0;for(o=r,i=0;i<30;++i)e[i]=o,o+=1<<n[i]}var cN=new Uint16Array(16);function mw(n,e,t,r){var i,o;for(i=0;i<16;++i)n.table[i]=0;for(i=0;i<r;++i)n.table[e[t+i]]++;for(n.table[0]=0,o=0,i=0;i<16;++i)cN[i]=o,o+=n.table[i];for(i=0;i<r;++i)e[t+i]&&(n.trans[cN[e[t+i]]++]=i)}function DZ(n){n.bitcount--||(n.tag=n.source[n.sourceIndex++],n.bitcount=7);var e=1&n.tag;return n.tag>>>=1,e}function Qi(n,e,t){if(!e)return t;for(;n.bitcount<24;)n.tag|=n.source[n.sourceIndex++]<<n.bitcount,n.bitcount+=8;var r=n.tag&65535>>>16-e;return n.tag>>>=e,n.bitcount-=e,r+t}function $1(n,e){for(;n.bitcount<24;)n.tag|=n.source[n.sourceIndex++]<<n.bitcount,n.bitcount+=8;var t=0,r=0,i=0,o=n.tag;do r=2*r+(1&o),o>>>=1,++i,t+=e.table[i],r-=e.table[i];while(r>=0);return n.tag=o,n.bitcount-=i,e.trans[t+r]}function PZ(n,e,t){var r,i,o,l,c,f;for(r=Qi(n,5,257),i=Qi(n,5,1),o=Qi(n,4,4),l=0;l<19;++l)Yi[l]=0;for(l=0;l<o;++l){var d=Qi(n,3,0);Yi[UZ[l]]=d}for(mw(aN,Yi,0,19),c=0;c<r+i;){var h=$1(n,aN);switch(h){case 16:var b=Yi[c-1];for(f=Qi(n,2,3);f;--f)Yi[c++]=b;break;case 17:for(f=Qi(n,3,3);f;--f)Yi[c++]=0;break;case 18:for(f=Qi(n,7,11);f;--f)Yi[c++]=0;break;default:Yi[c++]=h}}mw(e,Yi,0,r),mw(t,Yi,r,i)}function uN(n,e,t){for(;;){var r,i,o,l,c=$1(n,e);if(c===256)return 0;if(c<256)n.dest[n.destLen++]=c;else for(r=Qi(n,K1[c-=257],W1[c]),i=$1(n,t),l=o=n.destLen-Qi(n,u4[i],f4[i]);l<o+r;++l)n.dest[n.destLen++]=n.dest[l]}}function FZ(n){for(var e,t;n.bitcount>8;)n.sourceIndex--,n.bitcount-=8;if((e=256*(e=n.source[n.sourceIndex+1])+n.source[n.sourceIndex])!==(65535&~(256*n.source[n.sourceIndex+3]+n.source[n.sourceIndex+2])))return-3;for(n.sourceIndex+=4,t=e;t;--t)n.dest[n.destLen++]=n.source[n.sourceIndex++];return n.bitcount=0,0}(function(n,e){var t;for(t=0;t<7;++t)n.table[t]=0;for(n.table[7]=24,n.table[8]=152,n.table[9]=112,t=0;t<24;++t)n.trans[t]=256+t;for(t=0;t<144;++t)n.trans[24+t]=t;for(t=0;t<8;++t)n.trans[168+t]=280+t;for(t=0;t<112;++t)n.trans[176+t]=144+t;for(t=0;t<5;++t)e.table[t]=0;for(e.table[5]=32,t=0;t<32;++t)e.trans[t]=t})(l4,c4),lN(K1,W1,4,3),lN(u4,f4,2,1),K1[28]=0,W1[28]=258;var HZ=function(n,e){var t,r,i=new LZ(n,e);do{switch(t=DZ(i),Qi(i,2,0)){case 0:r=FZ(i);break;case 1:r=uN(i,l4,c4);break;case 2:PZ(i,i.ltree,i.dtree),r=uN(i,i.ltree,i.dtree);break;default:r=-3}if(r!==0)throw new Error("Data error")}while(!t);return i.destLen<i.dest.length?typeof i.dest.slice=="function"?i.dest.slice(0,i.destLen):i.dest.subarray(0,i.destLen):i.dest};const zZ=new Uint8Array(new Uint32Array([305419896]).buffer)[0]===18,fN=(n,e,t)=>{let r=n[e];n[e]=n[t],n[t]=r};var GZ={swap32LE:n=>{zZ&&(e=>{const t=e.length;for(let r=0;r<t;r+=4)fN(e,r,r+3),fN(e,r+1,r+2)})(n)}};const dN=HZ,{swap32LE:qZ}=GZ;var VZ=class{constructor(e){const t=typeof e.readUInt32BE=="function"&&typeof e.slice=="function";if(t||e instanceof Uint8Array){let r;if(t)this.highStart=e.readUInt32LE(0),this.errorValue=e.readUInt32LE(4),r=e.readUInt32LE(8),e=e.slice(12);else{const i=new DataView(e.buffer);this.highStart=i.getUint32(0,!0),this.errorValue=i.getUint32(4,!0),r=i.getUint32(8,!0),e=e.subarray(12)}e=dN(e,new Uint8Array(r)),e=dN(e,new Uint8Array(r)),qZ(e),this.data=new Uint32Array(e.buffer)}else({data:this.data,highStart:this.highStart,errorValue:this.errorValue}=e)}get(e){let t;return e<0||e>1114111?this.errorValue:e<55296||e>56319&&e<=65535?(t=(this.data[e>>5]<<2)+(31&e),this.data[t]):e<=65535?(t=(this.data[2048+(e-55296>>5)]<<2)+(31&e),this.data[t]):e<this.highStart?(t=this.data[2080+(e>>11)],t=this.data[t+(e>>5&63)],t=(t<<2)+(31&e),this.data[t]):this.data[this.data.length-4]}},d4={exports:{}},hN,pN,La,gw,yw,mN,yc,uf,gN,ir,ww,bw,vw,Ew,Dh,Ph,ff,yN,wN,_w,xw,Ua,Aw,bN,vN,Sw,Tw,Fh,Rw,Nw,EN,Cw,Iw,kw,Mw,Ow,_N,df,Bw;d4.exports=(pN=hN="3.7.7",La=typeof mr.Buffer=="function",gw=typeof TextDecoder=="function"?new TextDecoder:void 0,yw=typeof TextEncoder=="function"?new TextEncoder:void 0,mN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",yc=Array.prototype.slice.call(mN),Bw={},yc.forEach((function(n,e){return Bw[n]=e})),uf=Bw,gN=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,ir=String.fromCharCode.bind(String),ww=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(n){return new Uint8Array(Array.prototype.slice.call(n,0))},bw=function(n){return n.replace(/=/g,"").replace(/[+\/]/g,(function(e){return e=="+"?"-":"_"}))},vw=function(n){return n.replace(/[^A-Za-z0-9\+\/]/g,"")},Ew=function(n){for(var e,t,r,i,o="",l=n.length%3,c=0;c<n.length;){if((t=n.charCodeAt(c++))>255||(r=n.charCodeAt(c++))>255||(i=n.charCodeAt(c++))>255)throw new TypeError("invalid character found");o+=yc[(e=t<<16|r<<8|i)>>18&63]+yc[e>>12&63]+yc[e>>6&63]+yc[63&e]}return l?o.slice(0,l-3)+"===".substring(l):o},Dh=typeof btoa=="function"?function(n){return btoa(n)}:La?function(n){return mr.Buffer.from(n,"binary").toString("base64")}:Ew,Ph=La?function(n){return mr.Buffer.from(n).toString("base64")}:function(n){for(var e=4096,t=[],r=0,i=n.length;r<i;r+=e)t.push(ir.apply(null,n.subarray(r,r+e)));return Dh(t.join(""))},ff=function(n,e){return e===void 0&&(e=!1),e?bw(Ph(n)):Ph(n)},yN=function(n){if(n.length<2)return(e=n.charCodeAt(0))<128?n:e<2048?ir(192|e>>>6)+ir(128|63&e):ir(224|e>>>12&15)+ir(128|e>>>6&63)+ir(128|63&e);var e=65536+1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320);return ir(240|e>>>18&7)+ir(128|e>>>12&63)+ir(128|e>>>6&63)+ir(128|63&e)},wN=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,_w=function(n){return n.replace(wN,yN)},xw=La?function(n){return mr.Buffer.from(n,"utf8").toString("base64")}:yw?function(n){return Ph(yw.encode(n))}:function(n){return Dh(_w(n))},Ua=function(n,e){return e===void 0&&(e=!1),e?bw(xw(n)):xw(n)},Aw=function(n){return Ua(n,!0)},bN=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,vN=function(n){switch(n.length){case 4:var e=((7&n.charCodeAt(0))<<18|(63&n.charCodeAt(1))<<12|(63&n.charCodeAt(2))<<6|63&n.charCodeAt(3))-65536;return ir((e>>>10)+55296)+ir(56320+(1023&e));case 3:return ir((15&n.charCodeAt(0))<<12|(63&n.charCodeAt(1))<<6|63&n.charCodeAt(2));default:return ir((31&n.charCodeAt(0))<<6|63&n.charCodeAt(1))}},Sw=function(n){return n.replace(bN,vN)},Tw=function(n){if(n=n.replace(/\s+/g,""),!gN.test(n))throw new TypeError("malformed base64.");n+="==".slice(2-(3&n.length));for(var e,t,r,i="",o=0;o<n.length;)e=uf[n.charAt(o++)]<<18|uf[n.charAt(o++)]<<12|(t=uf[n.charAt(o++)])<<6|(r=uf[n.charAt(o++)]),i+=t===64?ir(e>>16&255):r===64?ir(e>>16&255,e>>8&255):ir(e>>16&255,e>>8&255,255&e);return i},Fh=typeof atob=="function"?function(n){return atob(vw(n))}:La?function(n){return mr.Buffer.from(n,"base64").toString("binary")}:Tw,Rw=La?function(n){return ww(mr.Buffer.from(n,"base64"))}:function(n){return ww(Fh(n).split("").map((function(e){return e.charCodeAt(0)})))},Nw=function(n){return Rw(Cw(n))},EN=La?function(n){return mr.Buffer.from(n,"base64").toString("utf8")}:gw?function(n){return gw.decode(Rw(n))}:function(n){return Sw(Fh(n))},Cw=function(n){return vw(n.replace(/[-_]/g,(function(e){return e=="-"?"+":"/"})))},kw=function(n){return{value:n,enumerable:!1,writable:!0,configurable:!0}},Mw=function(){var n=function(e,t){return Object.defineProperty(String.prototype,e,kw(t))};n("fromBase64",(function(){return Iw(this)})),n("toBase64",(function(e){return Ua(this,e)})),n("toBase64URI",(function(){return Ua(this,!0)})),n("toBase64URL",(function(){return Ua(this,!0)})),n("toUint8Array",(function(){return Nw(this)}))},Ow=function(){var n=function(e,t){return Object.defineProperty(Uint8Array.prototype,e,kw(t))};n("toBase64",(function(e){return ff(this,e)})),n("toBase64URI",(function(){return ff(this,!0)})),n("toBase64URL",(function(){return ff(this,!0)}))},_N=function(){Mw(),Ow()},df={version:hN,VERSION:pN,atob:Fh,atobPolyfill:Tw,btoa:Dh,btoaPolyfill:Ew,fromBase64:Iw=function(n){return EN(Cw(n))},toBase64:Ua,encode:Ua,encodeURI:Aw,encodeURL:Aw,utob:_w,btou:Sw,decode:Iw,isValid:function(n){if(typeof n!="string")return!1;var e=n.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},fromUint8Array:ff,toUint8Array:Nw,extendString:Mw,extendUint8Array:Ow,extendBuiltins:_N,Base64:{}},Object.keys(df).forEach((function(n){return df.Base64[n]=df[n]})),df);var KZ=d4.exports,WZ="ABAOAAAAAADQjQAAAd4HIfjtnG2oFUUYxx/1nHu29OolvKRSZIIQghSSEFJwwj4YWdzoFcoQyriBHwz8YHDBiSKDLG9YKSEiUX4IFQ0FCaRLoFmUb9mLBqJ+EDOIsAgpjf7b7nCnOTO7M7szu8frPPBjZufleZ6ZeWZm73pwYALRk2ApGAQMvC6UlU2HwUbwDthk0P5DsC2jfifYC0bAQXAE/AhOgXNCu1/A7+ASoAZRD5gMekE/mAFmge1gN9jbSPrOSdPPkM4DX4AvwVFwApwBZ8EFcBH8Bf4GE5pEUXP0uQ/5ac2k/UyktzWT/ncgPYj0rmZip91M6hc1R/U/hPzj4BnwPBgECwT7cb8VKFsZJflVyK9O9cW8gvwb6fM6pO+l+c1It4Lt4Hah/R7k94H94BuhPGZDNMqWlK1gf4rYNovthu1c8x3G8xOYmhKXnUH6c5pf0/h/+8Uo/1Wagz+bev1X0rpGD9GkniS/FjRTvVNRdiO4BcwGc8H8tN3dabqwp1Pv/Sh7WFHOGU4pOz9vws/1qa+PCuXxGHZmjDtQAdL6n1DEgAs7NwnrvCQj5gKBQCAQCAQCgUAgEOgGnsPfrlOE7zlvG3y/WI4+K4W/eYciotVgCGWv8u85SNeDjVHyPXAj8tORbknrtyLdAT5Jnz9Fehnp5zl/S3+F+kPQeRgcAUfBMfAtOB6FulAX6kJdqHNdtwPsAQei+u+sQCAwdjnk+d9TNk0Y/Xd1mUFFmfh+vKHhxycbRnoTaDLR0t582mg3oGg7LJWN4JmmoD1YNSUp24b0NJjWR3QnGAT3TcT7Pzh7HdGt1xNF4xKeFvIiu9D25ER1nczqVMeMSUS7kX8M6bvgMKBeMx2BQCAQGJv8gXuhEd8nLaJ/cB+2cCdPaiW/E2ojvyi9oyOkN6B8Df5mmZbW34x0QLjDZ7eS707i/Rr/ZmRua/R3ZPORv6eV1C2MU/R/MP1O9gCeH2mN9n0K+Wdb+rt7EHUrhPpVreS7GH9mQt1ryL+VoWt9Rl3MEuhdJr2vvI8+H4CPwQuo25XqeLHAe81ewf4I8gckf77G80up3uM5voqcRNuX0e800vMW/XwyBH7rEl9EZiC2n6jQ3masyxzY/EHxnXjeVfptIP797rAAkxjO4KNGZ/trjTJz/33O33rTpXPpVBf+1u4cfLqg8Wuxo9+Dnk/1XzQc/6W03RWhrD+dSzI4x+K/eS914Xnnisvp2MY7OrP2ldAToe86MFnQ0X+VnqU2xOfnrCh5f3Oha0GUpPciXQQGrqY5hK9LBX+nK/aebaweS8+AZSXnIa9/v4MzTh7b2jH6O/rlJdfiZBeMoUFmjBfy4wz7mBCkPgnz7y6Oq4x/l+sWXeO4lKrsdJvUvYZF111MdfmxLm0NpmI7591853Tj+VJVDGaNoZ3TRtahautDRL/qkm6KlW6Wa2EeXI3N5Ry0SX+e26xJ27K9K5iijNJyjvwsnllZ4mKeZbuy72I5F5VvNr6o+hcVbredoVc3/y7vN/keke0ywS6T6tqOfOE2mQKS8rJ/3A8mpHWfZVl7qq0oV0lbQ9m9bOszt+lb5LWsU8TxN8j9+LnOPnL3Pc73tz4X31fy7mVdDObZcnHfdev3VNV86ebRtF1VUsSui7U0OQ/rEvE8Jsp+j1H5Lbfnecrpa+Nf1XEi2mZUz/qIe4b7oJtDXi8/m85bN69HJOXr2i9Z+0PVVuW36n5x6V8Z/Yw640s+t5nQlpGfOPAdX2XPI5d+iP6wDJ8YFdvfRc/bOkR31jKpXHx2eb7J91kd7yaMOseb9w6Vp7PO9YyFUWeMM6pvfC7mhBXoI78z1SnyfDPLvqoyRp1nmNieZeAqRlUxV+Ssz3vvdSWm/paJ87ruuipsyTGmssfI3X4zWSMVTFNOlD1PNjbK+OeKsmI6b/J4mdTWp+TZ8jkfRXXEwgz0lPXZx9z7PruqOhdNYlqMZR2qeHe1N33OQdYYVeWyiG3l/rKeKteS2/UhXDdP885CMaWcPqbzaBJTOt1ViqnPjOqJmSzxcbfWtQ6iMNLPv6tx5om8fxh1niUu/GA5mMalq3lQnQ+25PmtspnlDxdRrwupaw/7WCvb9VLpynrWlbkURp17zrcPjNT7rSopsr9cnX95+861PRN/bM8Y1/YZmd0//Fmnp0oxvRvk5yJ2TNqwArpdiY+Y4Kk8b1nzWGSOGZnFF29nK1ynHAuiraK6XUudPlRh2+ZM1d3xJnp9S9H3Op2OKu4Xn7qrfn9gVO+Za3oe6vrq7vWq3z24Py6Fkf59Qjd2VzZ0dnXC62x89iGi7xwuumebc8ZUZFum81BlvKoka+19+cLIPGZU7fizT3GlP29+xfEwKa864+oUk3OCkXp9maJtFeLaJqNisctTG9HFRh13XZaoxmd6T7sWRuZz5Ssus3zgIseI2F7WVbWYzFsVsWZzT5veHWVE1qWaj7w4cyWma6TyMW8cTJP37bvchqQ6Gx+YAlkfL/exPqIt0b5r4brz5lPVzqfo9GfZLRrTNmMx1cfIz5z5Pkd9ntfyvilCnv6y/tr2q+ouM/WhbPyX2UNFdPqSqs6pLLuucWXLZAw24/UlOt9dzqELn1z5Zrtv8uz6EF82ZlaEK2FU7vtpXcIsydJRhbCa+e8/D60bUcbXTMMzfRK24nKssvgYr+x71lh8iO/1tBl/LPGlIseAT6q2J8m/",$Z={data:WZ},jZ="AAACAAAAAACAOAAAAbYBSf7t2S1IBEEYBuDVDZ7FYrQMNsFiu3hgEYOI0SCXRIUrB8JhEZtgs5gEg1GMFk02m82oGI02m+9xezCOczv/uwv3fvAwc/PzfXOzcdqzWdaBDdiGPdiHdjE+DS3RNDuCfsn8idQ/g3OH3BdwKf0e96/gumTfYcncLdzBPTzAo+RZ+f0Cr/AG7/AJX4738x1wtz9FO5PX/50n6UXMNdfg/0lERERERERERERERETpdedHBvDRql4nq0cXtW9af98qdRby0Vvp8K4W0V+C5Xw0t4J2bfjeBp3cnEu1brnnCTYNa7eKdz91XP7WO9Lb4GqRb7cY6xbtAdqeVOsY/QGcevw/tb6OT85YhvfKYEx9CMuxKsKnrs+eJtVInVvHJ0eVYVvTZk2siFVLOCjb61PTZX3MdVWEyP7fjzpmMxdzTyq2Ebue6x61nXRGnzndWpf1an7dXmGYE4Y1ptqqKsK1nu26Ju0ty+maV2Rpvk+qnDZjKUIobUiesdAQE/jmCTmHmsskpFZsVYbtmXRcaoSGUPomunW2derQhDPFjtT1Q/eb8vnm990fq35oHVt11bU9m89c7DNI8Qs=",YZ={data:jZ},JZ="AAgOAAAAAABQfgAAAWMGnPntmm2IVUUYx+dyb2ezXXtBiSCLsKDIiKIIoYINciGwQHrRL2Ufii0qMsv7QVBuQkXhkmW5gksQRhRFSBslbkllHyy3L2XllkXrB3uhF0tQ0Kj+xzN3d3buzJx5PeesOw/8mDNvz/PMnOc8s/fs6asTcgu4A9wF+mjdV9kEa8FqsE5j/DPgeUX/JvASeBW8Bd4GO8CHYDcz7nPwFRgD4+An8Cf4AxwBx0G9QcjrYBt4p5HN/YDqGEF9F7gW3AC6wU1gCVgK5oDlYA8YBXvBGOgHD4FzwSo6fg24EDwBxsEB8Cu1N4ByI1gA/gbfo+0wyuO0vgW8DK5i+tN5tVOyMmUWrs9k6nNxPY/WL0B5Mb2+HOU14HrwY2Ny/CLUbwa3gzsZPT7ZGECnDvdiPQ+ARyhpWxPlWnr9JLfeAdS/43S8qNiTIdq3FeUb9HolOEj7h9H2LtgJPgHr0TZKx31Jy30C/T+g7aDCbpPiuj/fStrTNfQGioWIHr9z+z8iiAEfdg4zdo7Gex6JRCKRSCQSiUQikYrzL367HmLq8zV+yyYJIbOTzva5aJtH2y9CuYBebwdX4PoYyv107ELUe5PsPWBavzHJ3tMtFuhluTWnPxKJRCKRSCQy/TjQCKt/XX3y/+o6HPJs35XNszPO0WQf+FnQfsnpU+vLUN8MdgNyRtZ2Ncp7wBDYDn4D47MIOes0QpaADeDUWsYe5pql3k3IZd3iPp4H6bjnUI6Cf8B1PYQ0wWCPno5IJBKJnJx83eN2fi7NeYd0jKsvr+A7p3749KzkXd2Ap+9R7qfrflhz/ava45m2I7Rcw+lI3/WtAO+Bx5PsG6+nk+xbv7Q/fWe4gc7ZRPu3oNzK6Hktmfy2r036vc82On44yb4ZHKFzPkL5aZJ9f9hH7Y8y+nbheq9irWOpf0z/L8nUWPmL6TuK6/8Uuhpd6r3sRv8cbszZXZm981HOB5fS/itzdIlYyMzpTa85HYtRv422LTPQ/yjd+/SZudvCr1DcV5Iv6W+HFRXaB988Rte2ugJrHKTPW4vx5akK+MWzvoI++Sb9zvKFriy/m8wbwpxXQL/gDNs5Tb+zTPfiza6sHEa5A3w8jWLgM/j6BePvoOBcM33+v6Hj9zvuQ978lR5ihl/bedM0DvN4vwI+NOvy7/SbCkze51WVRfXaCaJEmdlSm+H4lKLsVE3Kvoe2950tZdcnu5T1rISQKuaHovZNZw26/aKxvn0tS6oUG1WWmbAPvtbGjzPU2WvgV4uoEc7PkQ77MhHoYu1K7YvOVhv7uuJ7/QpdLcKtX2ZPthc1A/tEcK/zbAW+/0rbnqRVAlPuk0gC5b5cv1Q+BbIp8kGnX2VjQmT7bLm/Hfp1RfZ3kAdpGZI3h2iMnZCC47ftj+351WJ06PTLxk6I7OxxWH8rd4RCRHHuKC1DbOaIdJyQAn4vuPpqS8d5HVJUfy+p2lXjihIbuya/L2wowkae3TJEZFfmjywnBshRSl9s9Je1v7z9kL7bPE9Fi+xMlf09Z3Ne2KxNFu8qf2x02ojMD9McrpOLivTX9j6F9l/HfmgbotKnfp9nJCHqffFho0hcxWRNhHTarUI8h94PGx28Pp2xrrZ8SehcFToPhvabvbZ5JkXx4etZd4lZfn0+pIz8oMoRunpsbPgUUZ4NaYu1qcr9vC+2MWsa8yHOPlOxfU7L9Fnkg0t+0dGdZ9O38PGr6nPxwzRWXUX0/JmSN09kU+WPyD8f4jM+ioo7lW1femzuv0iXqi5r8yGq/fBts+gca/M8+orLvOc0RJ7P88c0J/m2L/OFbzfVa5LrXc4WH2NsbJrulcsafa+T99lFVwgpwr7JMy47U3T0FiFF56uQuss4j3gfbOb68sUlB6vOjaLPtrbdkLp9nZmqffcpqnurk4NU+oq8rzIx2Xddv8tel+peydar+htBpIufH0J4O2XFCCu2z0GZayjyDMzLS6Z+yGK1Sjmk7RNbtq91zrXQfumeOb58MdGTtxdlngmyc09nTlmxqfMcmvij67OJXV3R3dOQsZznh6qfkOL80M3BuvtW1B7yY2R+FLG/MsnzVXd+aF9VuUk1xzWudPwy1edzz1x8t9UfyndbHTY2yxTdHOCa92zj3CR+Te6fjzX5Ftf9M/E1VC4yzVehROa77/h09cmXb6Zxm2c3pPjSH9bn/wE=",ZZ={data:JZ},XZ={CR:1,LF:2,Control:4,Extend:8,ZWJ:16,Regional_Indicator:32,Prepend:64,SpacingMark:128,L:256,V:512,T:1024,LV:2048,LVT:4096,Extended_Pictographic:8192,InCB_Linker:16384,InCB_Consonant:32768,InCB_Extend:65536};const Et=XZ,QZ=$Z.data,eX=YZ.data,tX=ZZ.data,dv=VZ,hv=KZ.Base64,nX=new dv(hv.toUint8Array(QZ)),rX=new dv(hv.toUint8Array(eX)),iX=new dv(hv.toUint8Array(tX));function $t(n,e){return(n&e)!==0}function oX(n,e,t){const r=e.length;for(let i=t;i+1<r;i++){const o=e[i+0],l=e[i+1];switch(n.gb9c){case 0:$t(o,Et.InCB_Consonant)&&(n.gb9c=1);break;case 1:$t(o,Et.InCB_Extend)?n.gb9c=1:$t(o,Et.InCB_Linker)?n.gb9c=2:n.gb9c=$t(o,Et.InCB_Consonant)?1:0;break;case 2:$t(o,Et.InCB_Extend|Et.InCB_Linker)?n.gb9c=2:n.gb9c=$t(o,Et.InCB_Consonant)?1:0}switch(n.gb11){case 0:$t(o,Et.Extended_Pictographic)&&(n.gb11=1);break;case 1:$t(o,Et.Extend)?n.gb11=1:$t(o,Et.ZWJ)?n.gb11=2:n.gb11=$t(o,Et.Extended_Pictographic)?1:0;break;case 2:n.gb11=$t(o,Et.Extended_Pictographic)?1:0}switch(n.gb12){case 0:$t(o,Et.Regional_Indicator)?n.gb12=1:n.gb12=-1;break;case 1:$t(o,Et.Regional_Indicator)?n.gb12=0:n.gb12=-1}switch(n.gb13){case 0:$t(o,Et.Regional_Indicator)||(n.gb13=1);break;case 1:$t(o,Et.Regional_Indicator)?n.gb13=2:n.gb13=1;break;case 2:n.gb13=1}if((!$t(o,Et.CR)||!$t(l,Et.LF))&&($t(o,Et.Control|Et.CR|Et.LF)||$t(l,Et.Control|Et.CR|Et.LF)||!($t(o,Et.L)&&$t(l,Et.L|Et.V|Et.LV|Et.LVT)||$t(o,Et.LV|Et.V)&&$t(l,Et.V|Et.T)||$t(o,Et.LVT|Et.T)&&$t(l,Et.T)||$t(l,Et.Extend|Et.ZWJ)||$t(l,Et.SpacingMark)||$t(o,Et.Prepend)||$t(l,Et.InCB_Consonant)&&n.gb9c===2||$t(l,Et.Extended_Pictographic)&&n.gb11===2||$t(l,Et.Regional_Indicator)&&n.gb12===1||$t(l,Et.Regional_Indicator)&&n.gb13===2)))return i+1-t}return r-t}QJ((function(n){const e=[],t=[0],r=[];for(let o=0;o<n.length;){const l=n.codePointAt(o);r.push(nX.get(l)|rX.get(l)|iX.get(l)),o+=l>65535?2:1,t.push(o)}const i={gb9c:0,gb11:0,gb12:0,gb13:0};for(let o=0;o<r.length;){const l=oX(i,r,o),c=t[o],f=t[o+l];e.push(n.slice(c,f)),o+=l}return e}));var j1;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.CentralState=1]="CentralState",n[n.ActiveRecord=2]="ActiveRecord",n[n.InactiveRecord=3]="InactiveRecord"})(j1||(j1={}));let $p=class h4{constructor(e){this.tag=e.tag,this.nonce=e.nonce,this.nameAccount=new we(e.nameAccount),this.owner=new we(e.owner),this.nftMint=new we(e.nftMint)}static deserialize(e){return new h4(mp(this.schema,e))}static async retrieve(e,t){const r=await e.getAccountInfo(t);if(!r||!r.data)throw new wJ("NFT record not found: "+t.toBase58());return this.deserialize(r.data)}static async findKey(e,t){return await we.findProgramAddress([mr.Buffer.from("nft_record"),e.toBuffer()],t)}static findKeySync(e,t){return we.findProgramAddressSync([mr.Buffer.from("nft_record"),e.toBuffer()],t)}};$p.LEN=98,$p.schema={struct:{tag:"u8",nonce:"u8",nameAccount:{array:{type:"u8",len:32}},owner:{array:{type:"u8",len:32}},nftMint:{array:{type:"u8",len:32}}}};async function sX(n,e,t){const r=OZ(e,t),{registry:i}=await Xi.retrieve(n,r);if(!i.data)throw new mJ("The registry data is empty");return MZ(i.data,!1)}new we("8nbvMciS9B6a93S5Bq3azG3NaHGZq8wC3umnPPU9oTJ");var aX=function(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var i=n.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var l=n.length,c=n.charAt(0),f=Math.log(l)/Math.log(256),d=Math.log(256)/Math.log(l);function h(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;for(var E=0,v=0,N=0;b[E]===c;)v++,E++;for(var k=(b.length-E)*f+1>>>0,I=new Uint8Array(k);b[E];){var L=b.charCodeAt(E);if(L>255)return;var F=e[L];if(F===255)return;for(var M=0,Y=k-1;(F!==0||M<N)&&Y!==-1;Y--,M++)F+=l*I[Y]>>>0,I[Y]=F%256>>>0,F=F/256>>>0;if(F!==0)throw new Error("Non-zero carry");N=M,E++}for(var ie=k-N;ie!==k&&I[ie]===0;)ie++;for(var se=new Uint8Array(v+(k-ie)),re=v;ie!==k;)se[re++]=I[ie++];return se}return{encode:function(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var E=0,v=0,N=0,k=b.length;N!==k&&b[N]===0;)N++,E++;for(var I=(k-N)*d+1>>>0,L=new Uint8Array(I);N!==k;){for(var F=b[N],M=0,Y=I-1;(F!==0||M<v)&&Y!==-1;Y--,M++)F+=256*L[Y]>>>0,L[Y]=F%l>>>0,F=F/l>>>0;if(F!==0)throw new Error("Non-zero carry");v=M,N++}for(var ie=I-v;ie!==I&&L[ie]===0;)ie++;for(var se=c.repeat(E);ie<I;++ie)se+=n.charAt(L[ie]);return se},decodeUnsafe:h,decode:function(b){var E=h(b);if(E)return E;throw new Error("Non-base"+l+" character")}}};aX("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");const lX=(n,e)=>{const{pubkey:t}=nv(e+"."+n,Ff.V1);return t};var xN;(function(n){n.DegenPoet1="DegenPoet#1",n.Rgb0x001="rgb0x00#1",n.Retardio1="Retardio#1",n.Retardio2="Retardio#2",n.Retardio3="Retardio#3",n.NumberArt0="NumberArt#0",n.NumberArt1="NumberArt#1",n.NumberArt2="NumberArt#2",n.NumberArt3="NumberArt#3",n.NumberArt4="NumberArt#4",n.NumberArt5="NumberArt#5",n.NumberArt6="NumberArt#6",n.NumberArt7="NumberArt#7",n.NumberArt8="NumberArt#8",n.NumberArt9="NumberArt#9",n.ValentineDay2025="Valentine'sDay2025",n.Monkedao="Monkedao"})(xN||(xN={}));const cX=(n,e)=>{const{pubkey:t}=nv(n),r=ev("".concat(e));return tv(r,L3,t)},uX=async(n,e,t={allowPda:!1})=>{var r;const{pubkey:i}=nv(e),[o]=$p.findKeySync(i,q3),l=lX(e,At.SOL),c=cX(e,At.SOL),[f,d,h,b]=await n.getMultipleAccountsInfo([o,l,c,i]);if(!(b!=null&&b.data))throw new bJ(`Domain ${e} does not exist`);const E=Xi.deserialize(b.data);if(f!=null&&f.data&&$p.deserialize(f.data).tag===j1.ActiveRecord){const v=await K3(n,i);if(!v)throw new EJ;return v}e:if(h!=null&&h.data){const v=hJ.deserialize(h.data),N=v.getStalenessId(),k=v.getRoAId(),I=v.getContent();if(I.length!==32)throw new vJ("Record is malformed");if(v.header.rightOfAssociationValidation!==aa.Solana||v.header.stalenessValidation!==aa.Solana)throw new _J;if(!N.equals(E.owner.toBuffer()))break e;if(k.equals(I))return new we(I);throw new yJ(`The RoA ID shoudl be ${new we(I).toBase58()} but is ${new we(k).toBase58()} `)}if(d!=null&&d.data){const v=new TextEncoder,N=mr.Buffer.concat([d.data.slice(Xi.HEADER_LEN,Xi.HEADER_LEN+32),l.toBuffer()]),k=v.encode(N.toString("hex"));if(CZ(k,d.data.slice(Xi.HEADER_LEN+32,Xi.HEADER_LEN+32+Vc),E.owner))return new we(d.data.slice(Xi.HEADER_LEN,Xi.HEADER_LEN+32))}if(!we.isOnCurve(E.owner)){if(t.allowPda==="any")return E.owner;if(t.allowPda){const v=await n.getAccountInfo(E.owner);if(!((r=t.programIds)===null||r===void 0)&&r.some((N=>{var k;return(k=v==null?void 0:v.owner)===null||k===void 0?void 0:k.equals(N)})))return E.owner;throw new MR(`The Program ${v==null?void 0:v.owner.toBase58()} is not allowed`)}throw new MR}return E.owner};new we("ART5dr4bDic2sQVZoFheEmUxwQq5VGSx9he7JxHcXNQD");new we("CSWvuDHXExVGEMR9kP8xYAHuNjXogeRck9Cnr312CC9g");new we("J2Q2j6kpSg7tq8JzueCHNTQNcyNnQkvr85RhsFnYZWeG");new we("6vwnZJZNQjtY4zR93YUuyeDUBhacLLH2mQaZiJAvVwzu");new we("namesLPneVptA9Z5rqUDD9tMTWEJwofgaYwp8cawRkX"),new we("CWG7Sn38ho7EzTaQMDykw6VNSSGcbn3TTsTvhDbTUmFd"),new we("SNSm5hSYiaeYvyweSGoioyyD2hP7mJK1SsVQoC6uo3P"),new we("zugu92jR3kqgFiNEJywq7gbbc9NbaLmHLiQhsZRwd6J"),new we("Ga872GkshNeNMDag7m1Bn54dN3NiHksfqnN2pH6A1H9F"),new we("9Wo9amAUKvrHXSSwg9HXY28miHH3sh2TQhxNgYiewkpg"),new we("5R7P6U3gTB9Dt4jnE85qXsEoXRkSAqmW7ZRnSvNiJLNC"),new we("4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU"),new we("3ogYncmMM5CmytsGCqKHydmXmKUZ6sGWvizkzqwT7zb1"),new we("BmA9Z6FjioHJPpjT39QazZyhDRUdZy2ezwx4GiDdE2u2"),new we("FzdN2zE7QUmwKL2T4Y3LTcBUYGtMZP5qsgUjBxsdedNx");const pv={rpcEndpoint:al.rpcEndpoint,programId:"namesLPneVptA9Z5rqUDD9tMTWEJwofgaYwp8cawRkX",tld:".gor"};let Lw=null;function p4(){return Lw||(Lw=new cm(pv.rpcEndpoint,"confirmed")),Lw}async function fX(n){try{const e=p4(),t=n.replace(/\.gor$/i,"").toLowerCase(),r=await uX(e,t);return(r==null?void 0:r.toBase58())||null}catch(e){return console.error("Error resolving gorid name:",e),null}}async function dX(n){try{const e=p4(),t=new we(n),r=await BZ(e,t);return await Promise.all(r.map(async o=>{try{const l=await sX(e,o);return{name:l?`${l}${pv.tld}`:o.toBase58(),owner:n,domainKey:o.toBase58()}}catch{return{name:o.toBase58().slice(0,8)+"...",owner:n,domainKey:o.toBase58()}}}))}catch(e){return console.error("Error getting domains:",e),[]}}const hX=[{name:"trash.gor",domainKey:"TrAsH1111111111111111111111111111111111111",owner:"7xKX...3nPq",price:500,listedAt:Date.now()-864e5},{name:"degen.gor",domainKey:"DeGeN2222222222222222222222222222222222222",owner:"9mBQ...7kLp",price:1200,listedAt:Date.now()-1728e5},{name:"gorbag.gor",domainKey:"GorBaG333333333333333333333333333333333333",owner:"3pFR...9xWz",price:2500,listedAt:Date.now()-2592e5},{name:"alpha.gor",domainKey:"ALphA4444444444444444444444444444444444444",owner:"5kMN...2yQr",price:800,listedAt:Date.now()-3456e5},{name:"whale.gor",domainKey:"wHaLe5555555555555555555555555555555555555",owner:"8jRT...4pKm",price:3e3,listedAt:Date.now()-432e6},{name:"moon.gor",domainKey:"MoON66666666666666666666666666666666666666",owner:"2vXY...6nLs",price:1500,listedAt:Date.now()-5184e5},{name:"ape.gor",domainKey:"ApE777777777777777777777777777777777777777",owner:"6wHJ...8mBv",price:750,listedAt:Date.now()-6048e5},{name:"diamond.gor",domainKey:"DiAmOnD8888888888888888888888888888888888",owner:"1qNP...5kRt",price:4500,listedAt:Date.now()-6912e5},{name:"lambo.gor",domainKey:"LaMbO9999999999999999999999999999999999999",owner:"4tFG...3jWx",price:2e3,listedAt:Date.now()-7776e5},{name:"wagmi.gor",domainKey:"WaGmI0000000000000000000000000000000000000",owner:"9hKL...7pYz",price:600,listedAt:Date.now()-864e6},{name:"gm.gor",domainKey:"Gm111111111111111111111111111111111111111A",owner:"3bCD...1nMs",price:5e3,listedAt:Date.now()-9504e5},{name:"ser.gor",domainKey:"SeR22222222222222222222222222222222222222B",owner:"7fEF...4qPv",price:400,listedAt:Date.now()-10368e5}],pX=[{name:"chad.gor",price:1800,from:"7xKX...3nPq",to:"9mBQ...7kLp",timestamp:Date.now()-36e5,txSignature:"5K7x...mN3p"},{name:"based.gor",price:950,from:"3pFR...9xWz",to:"5kMN...2yQr",timestamp:Date.now()-72e5,txSignature:"8Jb2...qR4w"},{name:"fren.gor",price:650,from:"8jRT...4pKm",to:"2vXY...6nLs",timestamp:Date.now()-144e5,txSignature:"3Lm9...xY7k"},{name:"king.gor",price:3200,from:"6wHJ...8mBv",to:"1qNP...5kRt",timestamp:Date.now()-288e5,txSignature:"9Np4...bZ2j"},{name:"pump.gor",price:420,from:"4tFG...3jWx",to:"9hKL...7pYz",timestamp:Date.now()-432e5,txSignature:"2Qr8...hK5m"}];async function m4(){return hX.sort((n,e)=>e.listedAt-n.listedAt)}async function g4(){return pX.sort((n,e)=>e.timestamp-n.timestamp)}function Hh(n){const e=Math.floor((Date.now()-n)/1e3);if(e<60)return`${e}s ago`;const t=Math.floor(e/60);if(t<60)return`${t}m ago`;const r=Math.floor(t/60);return r<24?`${r}h ago`:`${Math.floor(r/24)}d ago`}async function mX(){const n=await m4();return n.length===0?0:Math.min(...n.map(e=>e.price))}async function gX(){return(await g4()).reduce((e,t)=>e+t.price,0)}const yX=()=>{const{currency:n,accentColor:e,getExplorerLink:t}=fo(),{connected:r,publicKey:i}=eu(),o=(i==null?void 0:i.toBase58())||null,[l,c]=fe.useState([]),[f,d]=fe.useState([]),[h,b]=fe.useState([]),[E,v]=fe.useState(!0),[N,k]=fe.useState(""),[I,L]=fe.useState("marketplace"),[F,M]=fe.useState(null),[Y,ie]=fe.useState(""),[se,re]=fe.useState(null),[ae,J]=fe.useState(!1),[Q,Z]=fe.useState(0),[W,O]=fe.useState(0);fe.useEffect(()=>{(async()=>{v(!0);try{const[K,B,A,y]=await Promise.all([m4(),g4(),mX(),gX()]);c(K),d(B),Z(A),O(y)}catch(K){console.error("Error loading gorid data:",K)}v(!1)})()},[]),fe.useEffect(()=>{r&&o?dX(o).then(b).catch(console.error):b([])},[r,o]);const g=fe.useMemo(()=>N?l.filter(j=>j.name.toLowerCase().includes(N.toLowerCase().replace(/\.gor$/i,""))):l,[l,N]),T=async()=>{if(Y){J(!0),re(null);try{const j=await fX(Y);re(j||"Not found")}catch{re("Error looking up domain")}J(!1)}},C="bg-magic-green text-black hover:bg-white hover:text-black",q="focus:border-magic-green";return x.jsxs("div",{className:"min-h-screen bg-black",children:[x.jsx("div",{className:"bg-yellow-500/20 border-b border-yellow-500/50",children:x.jsx("div",{className:"max-w-[1600px] mx-auto px-4 py-3",children:x.jsxs("div",{className:"flex items-center justify-center gap-3",children:[x.jsx(Gs,{className:"w-5 h-5 text-yellow-500"}),x.jsx("p",{className:"text-yellow-500 text-sm font-bold uppercase tracking-wider",children:" UNDER CONSTRUCTION  GorID marketplace integration in progress"}),x.jsx(Gs,{className:"w-5 h-5 text-yellow-500"})]})})}),x.jsx("div",{className:"border-b border-white/20 bg-gradient-to-b from-magic-green/5 to-transparent",children:x.jsx("div",{className:"max-w-[1600px] mx-auto px-4 py-8 md:py-12",children:x.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[x.jsx("div",{className:"bg-magic-green text-black p-2",children:x.jsx(Gs,{className:"w-6 h-6"})}),x.jsxs("h1",{className:"text-3xl md:text-4xl font-black text-white uppercase tracking-tight",children:["GorID",x.jsx("span",{className:"text-magic-green",children:".gor"})]})]}),x.jsx("p",{className:"text-gray-400 text-sm md:text-base font-mono max-w-xl",children:"Trade and manage your Gorbagana identity. Own your .gor domain and turn your wallet into a memorable name."}),x.jsxs("a",{href:"https://gorid.com",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-magic-green text-sm font-bold mt-3 hover:text-white transition-colors",children:["Register at GorID.com ",x.jsx(ow,{className:"w-4 h-4"})]})]}),x.jsxs("div",{className:"grid grid-cols-3 gap-px bg-white/20 border border-white/20 w-full md:w-auto",children:[x.jsxs("div",{className:"bg-black p-4 hover:bg-white/5 transition-colors",children:[x.jsx("div",{className:"text-gray-500 text-[10px] uppercase font-bold mb-1",children:"Floor"}),x.jsxs("div",{className:"text-magic-green font-mono font-bold text-lg md:text-xl",children:[n," ",Q]})]}),x.jsxs("div",{className:"bg-black p-4 hover:bg-white/5 transition-colors",children:[x.jsx("div",{className:"text-gray-500 text-[10px] uppercase font-bold mb-1",children:"Volume"}),x.jsxs("div",{className:"text-white font-mono font-bold text-lg md:text-xl",children:[n," ",W.toLocaleString()]})]}),x.jsxs("div",{className:"bg-black p-4 hover:bg-white/5 transition-colors",children:[x.jsx("div",{className:"text-gray-500 text-[10px] uppercase font-bold mb-1",children:"Listed"}),x.jsx("div",{className:"text-white font-mono font-bold text-lg md:text-xl",children:l.length})]})]})]})})}),x.jsx("div",{className:"border-b border-white/20 bg-white/5",children:x.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 py-4",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[x.jsx("div",{className:"flex-1 relative",children:x.jsx("input",{type:"text",value:Y,onChange:j=>ie(j.target.value),onKeyDown:j=>j.key==="Enter"&&T(),placeholder:"Enter domain name to resolve (e.g. trash.gor)",className:`w-full bg-black border border-white/20 px-4 py-3 text-sm text-white ${q} outline-none placeholder-gray-600 font-mono`})}),x.jsx("button",{onClick:T,disabled:ae||!Y,className:`${C} px-6 py-3 font-bold uppercase tracking-wider text-sm transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2`,children:ae?x.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent animate-spin"}):x.jsxs(x.Fragment,{children:[x.jsx(Hp,{className:"w-4 h-4"})," Resolve"]})})]}),se&&x.jsxs("div",{className:"mt-3 p-3 bg-black border border-white/20 font-mono text-sm",children:[x.jsx("span",{className:"text-gray-500",children:"Result: "}),x.jsx("span",{className:se==="Not found"||se==="Error looking up domain"?"text-red-400":"text-magic-green",children:se})]})]})}),x.jsx("div",{className:"max-w-[1600px] mx-auto",children:x.jsxs("div",{className:"flex flex-col lg:flex-row border-l border-r border-white/20",children:[x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("div",{className:"sticky top-16 z-30 bg-black/95 backdrop-blur border-b border-white/20 p-3",children:x.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3",children:[x.jsxs("div",{className:"flex",children:[x.jsxs("button",{onClick:()=>L("marketplace"),className:`px-4 py-2 text-xs font-bold uppercase tracking-widest border transition-colors ${I==="marketplace"?"bg-white text-black border-white":"text-gray-400 border-white/10 hover:border-white/40 hover:text-white"}`,children:[x.jsx(S1,{className:"w-3 h-3 inline mr-2"}),"Marketplace"]}),x.jsxs("button",{onClick:()=>L("activity"),className:`px-4 py-2 text-xs font-bold uppercase tracking-widest border border-l-0 transition-colors ${I==="activity"?"bg-white text-black border-white":"text-gray-400 border-white/10 hover:border-white/40 hover:text-white"}`,children:[x.jsx(nd,{className:"w-3 h-3 inline mr-2"}),"Activity"]}),r&&x.jsxs("button",{onClick:()=>L("my-domains"),className:`px-4 py-2 text-xs font-bold uppercase tracking-widest border border-l-0 transition-colors ${I==="my-domains"?"bg-white text-black border-white":"text-gray-400 border-white/10 hover:border-white/40 hover:text-white"}`,children:[x.jsx(X2,{className:"w-3 h-3 inline mr-2"}),"My Domains"]})]}),I==="marketplace"&&x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"text",value:N,onChange:j=>k(j.target.value),placeholder:"SEARCH DOMAINS...",className:`bg-black border border-white/20 pl-8 pr-4 py-2 text-xs text-white ${q} outline-none w-full sm:w-48 placeholder-gray-700 font-mono`}),x.jsx(Hp,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-gray-600 w-3 h-3"})]})]})}),x.jsx("div",{className:"p-4",children:E?x.jsx("div",{className:"flex items-center justify-center py-20",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-8 h-8 border-2 border-magic-green border-t-transparent animate-spin mx-auto mb-4"}),x.jsx("p",{className:"text-gray-500 font-mono text-sm uppercase",children:"Loading domains..."})]})}):I==="marketplace"?x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[g.map(j=>x.jsxs("div",{onClick:()=>M(j),className:"bg-magic-card border border-white/10 hover:border-magic-green/50 transition-all cursor-pointer group",children:[x.jsxs("div",{className:"p-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsx("div",{className:"bg-magic-green/10 text-magic-green px-2 py-1 text-[10px] font-bold uppercase",children:pv.tld}),x.jsx(zp,{className:"w-4 h-4 text-gray-600 group-hover:text-magic-green transition-colors"})]}),x.jsx("h3",{className:"text-xl font-black text-white mb-2 group-hover:text-magic-green transition-colors",children:j.name}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Price"}),x.jsxs("div",{className:"text-magic-green font-mono font-bold",children:[n," ",j.price]})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Owner"}),x.jsx("div",{className:"text-gray-400 font-mono text-sm",children:j.owner})]})]})]}),x.jsxs("div",{className:"border-t border-white/10 p-3 bg-white/5 flex items-center justify-between",children:[x.jsxs("span",{className:"text-[10px] text-gray-500 font-mono",children:[x.jsx(hG,{className:"w-3 h-3 inline mr-1"}),Hh(j.listedAt)]}),x.jsxs("button",{className:"text-magic-green text-xs font-bold uppercase hover:text-white transition-colors flex items-center gap-1",children:["Buy ",x.jsx(JM,{className:"w-3 h-3"})]})]})]},j.domainKey)),g.length===0&&x.jsxs("div",{className:"col-span-full text-center py-12",children:[x.jsx(Gs,{className:"w-12 h-12 text-gray-700 mx-auto mb-4"}),x.jsx("p",{className:"text-gray-500 font-mono",children:"No domains found"})]})]}):I==="activity"?x.jsx("div",{className:"border border-white/20 bg-black overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left min-w-[500px]",children:[x.jsx("thead",{className:"bg-white/5 text-gray-500 font-mono text-xs uppercase",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-3",children:"Domain"}),x.jsx("th",{className:"p-3 text-right",children:"Price"}),x.jsx("th",{className:"p-3 text-right",children:"From"}),x.jsx("th",{className:"p-3 text-right",children:"To"}),x.jsx("th",{className:"p-3 text-right",children:"Time"})]})}),x.jsx("tbody",{className:"divide-y divide-white/10 font-mono text-sm",children:f.map((j,K)=>x.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[x.jsx("td",{className:"p-3",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-8 h-8 bg-magic-green/10 border border-magic-green/30 flex items-center justify-center",children:x.jsx(Gs,{className:"w-4 h-4 text-magic-green"})}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("span",{className:"font-bold text-white",children:j.name}),x.jsx("span",{className:"text-[9px] w-fit px-1 border border-magic-green text-magic-green uppercase",children:"sale"})]})]})}),x.jsxs("td",{className:"p-3 text-right text-magic-green font-bold",children:[n," ",j.price]}),x.jsx("td",{className:"p-3 text-right text-gray-400",children:j.from}),x.jsx("td",{className:"p-3 text-right text-gray-500",children:j.to}),x.jsx("td",{className:"p-3 text-right text-gray-600",children:Hh(j.timestamp)})]},K))})]})}):x.jsx("div",{children:r?h.length===0?x.jsxs("div",{className:"text-center py-12",children:[x.jsx(Gs,{className:"w-12 h-12 text-gray-700 mx-auto mb-4"}),x.jsx("p",{className:"text-gray-500 font-mono mb-4",children:"You don't own any .gor domains yet"}),x.jsxs("a",{href:"https://gorid.com",target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center gap-2 ${C} px-6 py-3 font-bold uppercase tracking-wider text-sm`,children:["Register at GorID.com ",x.jsx(ow,{className:"w-4 h-4"})]})]}):x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(j=>x.jsxs("div",{className:"bg-magic-card border border-magic-green/30 p-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsx("div",{className:"bg-magic-green/10 text-magic-green px-2 py-1 text-[10px] font-bold uppercase",children:"owned"}),x.jsx(zp,{className:"w-4 h-4 text-magic-green"})]}),x.jsx("h3",{className:"text-xl font-black text-white mb-4",children:j.name}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"flex-1 bg-white/10 text-white px-3 py-2 text-xs font-bold uppercase hover:bg-white/20 transition-colors",children:"List for Sale"}),x.jsx("button",{className:"flex-1 border border-white/20 text-gray-400 px-3 py-2 text-xs font-bold uppercase hover:border-white/40 hover:text-white transition-colors",children:"Transfer"})]})]},j.domainKey))}):x.jsxs("div",{className:"text-center py-12",children:[x.jsx(X2,{className:"w-12 h-12 text-gray-700 mx-auto mb-4"}),x.jsx("p",{className:"text-gray-500 font-mono mb-4",children:"Connect wallet to view your domains"})]})})})]}),x.jsx("div",{className:"hidden xl:block w-80 border-l border-white/20 bg-black",children:x.jsxs("div",{className:"sticky top-16",children:[x.jsx("div",{className:"p-4 border-b border-white/20 bg-white/5",children:x.jsxs("h3",{className:"text-xs font-bold text-white uppercase tracking-widest flex items-center gap-2",children:[x.jsx($G,{className:"w-3 h-3 text-magic-green"})," Recent Sales"]})}),x.jsx("div",{className:"divide-y divide-white/10 max-h-[calc(100vh-8rem)] overflow-y-auto",children:f.map((j,K)=>x.jsx("div",{className:"p-3 hover:bg-white/5 transition-colors cursor-pointer",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 bg-magic-green/10 border border-magic-green/30 flex items-center justify-center flex-shrink-0",children:x.jsx(Gs,{className:"w-4 h-4 text-magic-green"})}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[x.jsx("span",{className:"text-sm font-bold text-white truncate",children:j.name}),x.jsxs("span",{className:"text-magic-green font-mono text-sm",children:[n,j.price]})]}),x.jsxs("div",{className:"flex justify-between text-[10px] text-gray-500 font-mono",children:[x.jsx("span",{children:Hh(j.timestamp)}),x.jsx("span",{className:"text-gray-600",children:"SALE"})]})]})]})},K))})]})})]})}),F&&x.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[x.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>M(null)}),x.jsxs("div",{className:"relative bg-magic-dark border border-magic-green/30 p-6 max-w-md w-full animate-in zoom-in-95",children:[x.jsx("button",{onClick:()=>M(null),className:"absolute top-4 right-4 text-gray-500 hover:text-white text-2xl",children:""}),x.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[x.jsx("div",{className:"bg-magic-green text-black p-2",children:x.jsx(Gs,{className:"w-6 h-6"})}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-black text-white",children:F.name}),x.jsx("p",{className:"text-gray-500 text-sm font-mono",children:"Gorbagana Name Service"})]})]}),x.jsxs("div",{className:"space-y-4 mb-6",children:[x.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-white/10",children:[x.jsx("span",{className:"text-gray-500 text-sm uppercase",children:"Price"}),x.jsxs("span",{className:"text-magic-green font-mono font-bold text-xl",children:[n," ",F.price]})]}),x.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-white/10",children:[x.jsx("span",{className:"text-gray-500 text-sm uppercase",children:"Owner"}),x.jsx("span",{className:"text-white font-mono text-sm",children:F.owner})]}),x.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-white/10",children:[x.jsx("span",{className:"text-gray-500 text-sm uppercase",children:"Listed"}),x.jsx("span",{className:"text-gray-400 font-mono text-sm",children:Hh(F.listedAt)})]})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("button",{className:`w-full ${C} py-3 font-bold uppercase tracking-widest flex items-center justify-center gap-2`,children:[x.jsx(S1,{className:"w-4 h-4"})," Buy Now"]}),x.jsx("button",{className:"w-full border border-white/20 text-gray-400 py-3 font-bold uppercase tracking-widest hover:border-white/40 hover:text-white transition-colors",children:"Make Offer"})]}),x.jsx("div",{className:"mt-6 pt-4 border-t border-white/10 text-center",children:x.jsxs("a",{href:`https://gorid.com/${F.name.replace(".gor","")}`,target:"_blank",rel:"noopener noreferrer",className:"text-magic-green text-xs font-bold hover:text-white transition-colors inline-flex items-center gap-1",children:["View on GorID.com ",x.jsx(ow,{className:"w-3 h-3"})]})})]})]})]})},ra=new we("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new we("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");const mv=new we("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new we("So11111111111111111111111111111111111111112");new we("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");class wX extends Error{constructor(e){super(e)}}class bX extends wX{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}const vX=de.struct([de.u32("mintAuthorityOption"),er("mintAuthority"),Cf("supply"),de.u8("decimals"),iv("isInitialized"),de.u32("freezeAuthorityOption"),er("freezeAuthority")]);vX.span;async function hf(n,e,t=!1,r=ra,i=mv){if(!t&&!we.isOnCurve(e.toBuffer()))throw new bX;const[o]=await we.findProgramAddress([e.toBuffer(),r.toBuffer(),n.toBuffer()],i);return o}function zh(n,e,t,r,i=ra,o=mv){return EX(n,e,t,r,ft.alloc(0),i,o)}function EX(n,e,t,r,i,o=ra,l=mv){const c=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:vn.programId,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}];return new sn({keys:c,programId:l,data:i})}const _X=new we("FreEcfZtek5atZJCJ1ER8kGLXB1C17WKWXqsVcsn1kPq"),xX=new we("71Jvq4Epe2FCJ7JFSF7jLXdNk1Wy4Bhqd9iL6bEFELvg"),AX=new we("66xqiDYSQZh7A3wyS3n2962Fx1aU8N3nbHjaZUCrXq6M"),SX=new we("5b2P7TQTDQG4nUzrUUSAuv92NT85Ka4oBFXWcTs9A5zk"),TX=()=>{const{program:n,gorbaganaProvider:e,solanaProgram:t}=jM(),{isDevnet:r,currentNetwork:i}=fo(),o=r?t:n,l=r?AX:_X,c=r?SX:xX,f=(I,L)=>{const[F]=we.findProgramAddressSync([ft.from("order"),I.toBuffer(),L.toArrayLike(ft,"le",8)],l);return F},d=async(I,L)=>{if(!n||!e)throw new Error("Wallet not connected");const F=e.wallet,M=new Hr(I),Y=f(F.publicKey,M),ie=await n.methods.createOrder(M,1,new Hr(L)).accounts({maker:F.publicKey,order:Y,escrowTokenAccount:null,makerTokenAccount:null,sgorMint:null,tokenProgram:ra,systemProgram:vn.programId,rent:Qo}).transaction(),se=await e.connection.getLatestBlockhash();ie.recentBlockhash=se.blockhash,ie.feePayer=F.publicKey;const re=await F.signTransaction(ie),ae=await e.connection.sendRawTransaction(re.serialize(),{skipPreflight:!0,maxRetries:2});return await e.connection.confirmTransaction({blockhash:se.blockhash,lastValidBlockHeight:se.lastValidBlockHeight,signature:ae},"confirmed"),{tx:ae,orderPDA:Y}},h=async(I,L,F)=>{const M=r?t==null?void 0:t.provider:e,Y=r?t:n;if(!Y||!M)throw new Error("Wallet not connected");const ie=M.wallet,se=new Hr(I),re=f(ie.publicKey,se),ae=we.findProgramAddressSync([ft.from("escrow"),ie.publicKey.toBuffer(),se.toArrayLike(ft,"le",8)],l)[0],J=await hf(c,ie.publicKey),Q=F||ie.publicKey,Z=r?await Y.methods.createOrder(se,new Hr(L),Q).accounts({maker:ie.publicKey,order:re,escrowTokenAccount:ae,makerTokenAccount:J,sgorMint:c,tokenProgram:ra,systemProgram:vn.programId,rent:Qo}).transaction():await Y.methods.createOrder(se,0,new Hr(L)).accounts({maker:ie.publicKey,order:re,escrowTokenAccount:ae,makerTokenAccount:J,sgorMint:c,tokenProgram:ra,systemProgram:vn.programId,rent:Qo}).transaction(),W=await M.connection.getLatestBlockhash();Z.recentBlockhash=W.blockhash,Z.feePayer=ie.publicKey;const O=await ie.signTransaction(Z),g=await M.connection.sendRawTransaction(O.serialize(),{skipPreflight:!1,maxRetries:2});return await M.connection.confirmTransaction({blockhash:W.blockhash,lastValidBlockHeight:W.lastValidBlockHeight,signature:g},"confirmed"),{tx:g,orderPDA:re,escrowPDA:ae}},b=async I=>e?await e.connection.getAccountInfo(I)!==null:!1,E=async(I,L,F)=>{if(!e)return null;const M=await hf(L,F);return await b(M)||I.add(zh(e.wallet.publicKey,M,F,L)),M};return{createOrderGGOR:d,createOrderSGOR:h,fillOrder:async I=>{if(!n||!e)throw new Error("Wallet not connected");const L=e.wallet;console.log("[fillOrder] Starting fill order process for:",I.toBase58());const F=await n.account.order.fetch(I);if(console.log("[fillOrder] Order fetched:",{maker:F.maker.toBase58(),amount:F.amount.toString(),direction:F.direction,isFilled:F.isFilled,expirationSlot:F.expirationSlot.toString()}),F.isFilled)throw new Error("Order has already been filled.");const M=await e.connection.getBalance(L.publicKey);if(console.log("[fillOrder] Taker SOL balance:",M/1e9,"SOL"),M<.01*1e9)throw new Error("Insufficient SOL balance. You need at least 0.01 SOL for transaction fees and rent.");const Y=new Lt,ie={taker:L.publicKey,maker:F.maker,order:I,tokenProgram:ra,systemProgram:vn.programId,escrowTokenAccount:null,takerTokenAccount:null,takerReceiveTokenAccount:null,makerReceiveTokenAccount:null};if(F.direction===0){console.log("[fillOrder] Direction 0: Taker sends gGOR, receives sGOR");const Z=we.findProgramAddressSync([ft.from("escrow"),F.maker.toBuffer(),F.amount.toArrayLike(ft,"le",8)],l)[0];if(console.log("[fillOrder] Escrow PDA:",Z.toBase58()),!await e.connection.getAccountInfo(Z))throw new Error("Escrow account does not exist. The order may be invalid.");console.log("[fillOrder] Escrow account exists");const O=await hf(c,L.publicKey);await b(O)?console.log("[fillOrder] Taker receive ATA exists:",O.toBase58()):(console.log("[fillOrder] Creating taker receive ATA:",O.toBase58()),Y.add(zh(L.publicKey,O,L.publicKey,c))),ie.escrowTokenAccount=Z,ie.takerReceiveTokenAccount=O;const T=F.amount.toNumber();if(M<T+.01*1e9)throw new Error(`Insufficient gGOR balance. You need ${T/1e9} gGOR + 0.01 SOL for fees.`)}else{console.log("[fillOrder] Direction 1: Taker sends sGOR, receives gGOR");const Z=await hf(c,L.publicKey);if(await b(Z)){console.log("[fillOrder] Taker send ATA exists:",Z.toBase58());const T=await e.connection.getTokenAccountBalance(Z),C=F.amount.toNumber(),q=BigInt(T.value.amount);if(console.log("[fillOrder] Taker sGOR balance:",q.toString(),"required:",C.toString()),q<BigInt(C))throw new Error(`Insufficient sGOR balance. You have ${Number(q)/1e9} sGOR but need ${C/1e9} sGOR.`)}else throw console.log("[fillOrder] Creating taker send ATA:",Z.toBase58()),Y.add(zh(L.publicKey,Z,L.publicKey,c)),new Error("You do not have an sGOR token account. Please create one and fund it with sGOR first.");const O=await hf(c,F.maker);await b(O)?console.log("[fillOrder] Maker receive ATA exists:",O.toBase58()):(console.log("[fillOrder] Creating maker receive ATA:",O.toBase58()),Y.add(zh(L.publicKey,O,F.maker,c))),ie.takerTokenAccount=Z,ie.makerReceiveTokenAccount=O}const se=await n.methods.fillOrder().accounts(ie).instruction();Y.add(se);const re=await e.connection.getLatestBlockhash("confirmed");Y.recentBlockhash=re.blockhash,Y.feePayer=L.publicKey,console.log("[fillOrder] Transaction prepared:",{recentBlockhash:Y.recentBlockhash,feePayer:Y.feePayer.toBase58(),instructions:Y.instructions.length});try{console.log("[fillOrder] Simulating transaction...");const Z=await e.connection.simulateTransaction(Y);if(Z.value.err)throw console.error("[fillOrder] Simulation failed:",Z.value),new Error(`Transaction simulation failed: ${JSON.stringify(Z.value.err)}`);console.log("[fillOrder] Simulation successful. Logs:",Z.value.logs)}catch(Z){throw console.error("[fillOrder] Simulation error:",Z),new Error(`Transaction simulation failed: ${Z.message}`)}console.log("[fillOrder] Requesting wallet signature...");const ae=await L.signTransaction(Y);let J;try{console.log("[fillOrder] Sending transaction to Gorbagana RPC..."),J=await e.connection.sendRawTransaction(ae.serialize(),{skipPreflight:!1,preflightCommitment:"confirmed",maxRetries:3}),console.log("[fillOrder] Transaction sent. Signature:",J)}catch(Z){throw console.error("[fillOrder] sendRawTransaction error:",Z),Z!=null&&Z.logs?(console.error("[fillOrder] Transaction logs:",Z.logs),new Error(`Transaction failed: ${Z.message}

Logs:
${Z.logs.join(`
`)}`)):new Error(`Failed to send transaction: ${Z.message||Z}`)}console.log("[fillOrder] Confirming transaction...");const Q=await e.connection.confirmTransaction({blockhash:re.blockhash,lastValidBlockHeight:re.lastValidBlockHeight,signature:J},"confirmed");if(Q.value.err){console.error("[fillOrder] Confirmation error:",Q.value.err);const Z=JSON.stringify(Q.value.err),W=Z.match(/"Custom":(\d+)/);if(W){const O=parseInt(W[1],10),g=new Error(`Transaction failed with error code ${O}`);throw g.code=O,g}throw new Error(`Transaction failed: ${Z}`)}return console.log("[fillOrder] Order filled successfully! Transaction:",J),J},cancelOrder:async I=>{if(!n||!e)throw new Error("Wallet not connected");const L=e.wallet,F=await n.account.order.fetch(I),M=new Lt,Y={maker:L.publicKey,order:I,tokenProgram:ra,systemProgram:vn.programId,escrowTokenAccount:null,makerTokenAccount:null};if(F.direction===0){const Q=we.findProgramAddressSync([ft.from("escrow"),L.publicKey.toBuffer(),F.amount.toArrayLike(ft,"le",8)],l)[0],Z=await E(M,c,L.publicKey);Y.escrowTokenAccount=Q,Y.makerTokenAccount=Z}const ie=await n.methods.cancelOrder().accounts(Y).instruction();M.add(ie);const se=await e.connection.getLatestBlockhash();M.recentBlockhash=se.blockhash,M.feePayer=L.publicKey;const re=await L.signTransaction(M),ae=await e.connection.sendRawTransaction(re.serialize(),{skipPreflight:!0,maxRetries:2}),J=await e.connection.confirmTransaction({blockhash:se.blockhash,lastValidBlockHeight:se.lastValidBlockHeight,signature:ae},"confirmed");if(J.value.err)throw new Error(`Transaction failed: ${JSON.stringify(J.value.err)}`);return ae},fetchAllOrders:async()=>{const I=o;if(!I)return[];try{return(await I.account.order.all()).map(F=>({orderPDA:F.publicKey,maker:F.account.maker,amount:F.account.amount,direction:F.account.direction||0,expirationSlot:F.account.expirationSlot,isFilled:F.account.isFilled,bump:F.account.bump}))}catch(L){return console.error("Failed to fetch orders:",L),[]}},deriveOrderPDA:f}},RX=()=>{const{connected:n}=eu(),{fetchAllOrders:e,createOrderGGOR:t,createOrderSGOR:r,fillOrder:i,cancelOrder:o}=TX(),{program:l}=jM(),{rpcEndpoint:c,isDevnet:f,currentNetwork:d}=fo(),[h,b]=fe.useState("trade"),[E,v]=fe.useState([]),[N,k]=fe.useState(!1),[I,L]=fe.useState("all"),[F,M]=fe.useState(!1),[Y,ie]=fe.useState(null),[se,re]=fe.useState(!1),[ae,J]=fe.useState(""),[Q,Z]=fe.useState("gGOR");fe.useEffect(()=>{const y=async()=>{k(!0);try{const X=(await e()).filter(ue=>!ue.isFilled);v(X),console.log(`[Bridge] Loaded ${X.length} active orders on ${d}`)}catch(G){console.error("[Bridge] Failed to fetch orders:",G)}finally{k(!1)}};y();const R=setInterval(y,3e4);return()=>clearInterval(R)},[d,n,e]);const W=fe.useMemo(()=>{if(I==="all")return E;const y=I==="gGOR"?1:0;return E.filter(R=>R.direction===y)},[E,I]),O=y=>{if(!n){alert("Please connect your wallet first");return}ie(y),M(!0)},g=async()=>{if(!n){alert("Please connect wallet first");return}const y=parseFloat(ae);if(isNaN(y)||y<=0){alert("Please enter a valid amount");return}re(!0);try{if(!l||!l.provider){alert("Program not initialized. Please connect your wallet.");return}const G=await l.provider.connection.getSlot()+216e3;Q==="gGOR"?await t(y*1e9,G):await r(y*1e9,G),alert("Order created successfully!"),J(""),b("trade");const X=await e();v(X.filter(ue=>!ue.isFilled))}catch(R){console.error(R),alert("Failed to create order: "+R.message)}finally{re(!1)}},T=async()=>{if(Y){re(!0);try{if(l)try{if((await l.account.order.fetch(Y.orderPDA)).isFilled){v(G=>G.filter(X=>!X.orderPDA.equals(Y.orderPDA))),M(!1),ie(null),re(!1),alert("This order has already been filled by another trader.");return}}catch(R){console.error("Failed to pre-check order:",R),v(G=>G.filter(X=>!X.orderPDA.equals(Y.orderPDA))),M(!1),ie(null),re(!1),alert("This order is no longer available.");return}await i(Y.orderPDA);const y=Y.orderPDA.toBase58();v(R=>R.filter(G=>G.orderPDA.toBase58()!==y)),M(!1),ie(null),alert("Order filled successfully!"),setTimeout(async()=>{try{const R=await e();v(R.filter(G=>!G.isFilled))}catch(R){console.error("Failed to refresh orders after fill:",R)}},3e3)}catch(y){console.error("Fill order error:",y);const R=C(y);alert("Failed to fill order: "+R),q(y)&&(v(G=>G.filter(X=>!X.orderPDA.equals(Y.orderPDA))),M(!1))}finally{re(!1),ie(null)}}},C=y=>{let R="";typeof y=="string"?R=y:y!=null&&y.message&&y.message!=="undefined"?R=y.message:y!=null&&y.logs?R=y.logs.join(" "):y!=null&&y.toString&&y.toString()!=="[object Object]"&&(R=y.toString()),!R&&(y!=null&&y.error)&&(R=JSON.stringify(y.error));const ue={...{2006:"Account owner mismatch.",2014:"Token mint mismatch  wrong SPL token.",2015:"Token account owner mismatch.",3007:"Account owned by wrong program.",3012:"Required token account not initialized. Please ensure you have an sGOR token account."},...{6e3:"Amount must be >= minimum order size.",6001:"Invalid direction.",6002:"Invalid token mint for this direction.",6003:"Order has expired.",6004:"Order has already been filled.",6005:"Insufficient funds for swap.",6006:"Only the maker can perform this action.",6007:"Expiration slot is in the past.",6008:"Expiration too far in future (max ~24 hours).",6009:"Missing escrow token account.",6010:"Missing maker token account.",6011:"Missing taker token account.",6012:"Missing taker receive token account.",6013:"Missing maker receive token account."}},be=R.match(/Custom"?\s*[:]\s*(\d+)/i);if(be){const Ue=parseInt(be[1],10);return ue[Ue]?ue[Ue]:`Transaction failed (error code ${Ue}).`}const De=R.match(/InstructionError.*?Custom.*?(\d+)/i);if(De){const Ue=parseInt(De[1],10);if(ue[Ue])return ue[Ue]}if((y==null?void 0:y.code)!==void 0&&typeof y.code=="number"&&ue[y.code])return ue[y.code];if(!R||R==="undefined"||R==="[object Object]"){try{const Ue=JSON.stringify(y);if(Ue!=="{}")return`Transaction failed: ${Ue}`}catch{}return`Transaction failed: ${String(y)}. The order may have already been filled or expired.`}return R},q=y=>{const R=typeof y=="string"?y:(y==null?void 0:y.message)||(y==null?void 0:y.toString())||"";return!!(/Custom"?\s*[:]\s*6004/i.test(R)||/already\s+filled/i.test(R))},j=async y=>{if(n){if(c!==al.rpcEndpoint){alert("You can only cancel orders when connected to the Gorbagana network.");return}if(confirm("Are you sure you want to cancel this order?")){re(!0);try{await o(y),alert("Order cancelled successfully!");const R=await e();v(R.filter(G=>!G.isFilled))}catch(R){console.error(R),alert("Failed to cancel order: "+R.message)}finally{re(!1)}}}},K=y=>(y.toNumber()/1e9).toLocaleString(),B=y=>y===1?{sell:"gGOR",buy:"sGOR"}:{sell:"sGOR",buy:"gGOR"},A=y=>`px-4 py-2 text-xs font-bold uppercase tracking-widest border transition-all duration-200 ${y?"bg-magic-green text-black border-magic-green":"text-gray-400 border-white/10 hover:border-white/40 hover:text-white"}`;return x.jsxs("div",{className:"min-h-screen bg-black text-white font-mono",children:[f&&x.jsx("div",{className:"bg-blue-500/20 border-b border-blue-500/50 animate-pulse",children:x.jsx("div",{className:"max-w-[1600px] mx-auto px-4 py-3",children:x.jsxs("div",{className:"flex items-center justify-center gap-3",children:[x.jsx(kh,{className:"w-5 h-5 text-blue-400"}),x.jsxs("p",{className:"text-blue-400 text-sm font-bold uppercase tracking-wider",children:[" DEVNET TESTING MODE  Using test sGOR | Get tokens from ",x.jsx("a",{href:"#/faucet",className:"underline hover:text-blue-300",children:"faucet"})]}),x.jsx(kh,{className:"w-5 h-5 text-blue-400"})]})})}),x.jsx("div",{className:"border-b border-white/20 bg-gradient-to-b from-magic-green/5 to-transparent",children:x.jsx("div",{className:"max-w-[1600px] mx-auto px-4 py-8 md:py-12",children:x.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[x.jsx("div",{className:"bg-magic-green text-black p-2",children:x.jsx(oG,{className:"w-6 h-6"})}),x.jsxs("h1",{className:"text-3xl md:text-4xl font-black uppercase tracking-tight",children:["GORBAGANA",x.jsx("span",{className:"text-magic-green",children:"_BRIDGE"})]})]}),x.jsx("p",{className:"text-gray-400 text-sm md:text-base max-w-xl",children:"Secure P2P OTC trading between Solana (sGOR) and Gorbagana (gGOR). 100% decentralized escrow system for the trashiest traders."})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-px bg-white/20 border border-white/20 w-full md:w-auto",children:[x.jsxs("div",{className:"bg-black p-4",children:[x.jsx("div",{className:"text-gray-500 text-[10px] uppercase font-bold mb-1",children:"Active_Offers"}),x.jsx("div",{className:"text-magic-green font-bold text-xl",children:E.length})]}),x.jsxs("div",{className:"bg-black p-4",children:[x.jsx("div",{className:"text-gray-500 text-[10px] uppercase font-bold mb-1",children:"Status"}),x.jsx("div",{className:"text-white font-bold text-xl",children:N?"SYNCING...":"ONLINE"})]})]})]})})}),x.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 py-8",children:[x.jsxs("div",{className:"flex flex-wrap gap-2 mb-8 border-b border-white/10 pb-4",children:[x.jsxs("button",{onClick:()=>b("trade"),className:A(h==="trade"),children:[x.jsx(nd,{className:"w-3 h-3 inline mr-2"})," Market"]}),x.jsxs("button",{onClick:()=>b("orders"),className:A(h==="orders"),children:[x.jsx(OG,{className:"w-3 h-3 inline mr-2"})," Create_Offer"]})]}),h==="trade"&&x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>L("all"),className:`px-3 py-1 text-[10px] border ${I==="all"?"border-magic-green text-magic-green":"border-white/10 text-gray-500"}`,children:"ALL"}),x.jsx("button",{onClick:()=>L("gGOR"),className:`px-3 py-1 text-[10px] border ${I==="gGOR"?"border-magic-green text-magic-green":"border-white/10 text-gray-500"}`,children:"gGOR"}),x.jsx("button",{onClick:()=>L("sGOR"),className:`px-3 py-1 text-[10px] border ${I==="sGOR"?"border-magic-green text-magic-green":"border-white/10 text-gray-500"}`,children:"sGOR"})]}),x.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:"Live_Market_Feed"})]}),x.jsx("div",{className:"overflow-x-auto border border-white/10",children:x.jsxs("table",{className:"w-full text-left border-collapse",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"bg-white/5 text-[10px] uppercase text-gray-500 border-b border-white/10",children:[x.jsx("th",{className:"p-4 font-bold",children:"Seller"}),x.jsx("th",{className:"p-4 font-bold",children:"Selling"}),x.jsx("th",{className:"p-4 font-bold",children:"Amount"}),x.jsx("th",{className:"p-4 font-bold",children:"Buying"}),x.jsx("th",{className:"p-4 font-bold text-right",children:"Action"})]})}),x.jsx("tbody",{className:"text-sm",children:W.length===0?x.jsx("tr",{children:x.jsx("td",{colSpan:5,className:"p-10 text-center text-gray-500",children:"NO_ACTIVE_ORDERS"})}):W.map(y=>{var ue;const{sell:R,buy:G}=B(y.direction),X=(ue=l==null?void 0:l.provider.publicKey)==null?void 0:ue.equals(y.maker);return x.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:[x.jsxs("td",{className:"p-4 text-magic-green font-mono",children:[y.maker.toBase58().slice(0,8),"..."]}),x.jsx("td",{className:"p-4",children:x.jsx("span",{className:`px-2 py-0.5 text-[10px] font-bold rounded ${R==="gGOR"?"bg-orange-500/20 text-orange-400":"bg-purple-500/20 text-purple-400"}`,children:R})}),x.jsxs("td",{className:"p-4 font-bold",children:[K(y.amount)," ",R]}),x.jsx("td",{className:"p-4 text-gray-400 text-xs",children:G}),x.jsxs("td",{className:"p-4 text-right",children:[X&&c===al.rpcEndpoint&&x.jsx("button",{onClick:()=>j(y.orderPDA),disabled:se,className:"px-4 py-1 border border-red-500/50 text-red-500 text-xs font-bold hover:bg-red-500/10 transition-colors",children:"CANCEL"}),!X&&x.jsx("button",{onClick:()=>O(y),disabled:se,className:"px-4 py-1 bg-magic-green text-black text-xs font-bold hover:bg-white transition-colors",children:"TRADE"})]})]},y.orderPDA.toBase58())})})]})})]}),h==="orders"&&x.jsxs("div",{className:"max-w-xl mx-auto border border-white/10 p-8 bg-white/5",children:[x.jsxs("h2",{className:"text-xl font-bold mb-6 uppercase tracking-widest flex items-center gap-2",children:["Create_OTC_Offer",f&&x.jsxs("span",{className:"text-[10px] px-2 py-1 bg-blue-500/20 text-blue-400 border border-blue-500 flex items-center gap-1",children:[x.jsx(kh,{className:"w-3 h-3"}),"DEVNET TEST"]})]}),f&&x.jsx("div",{className:"mb-6 p-4 bg-blue-500/10 border border-blue-500/30",children:x.jsxs("div",{className:"flex gap-2 text-blue-400 text-xs items-start",children:[x.jsx(kh,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),x.jsxs("div",{children:[x.jsx("p",{className:"font-bold mb-1",children:" SOLANA DEVNET TESTING MODE"}),x.jsxs("p",{className:"text-blue-300",children:["You can only create orders selling ",x.jsx("span",{className:"font-bold",children:"test sGOR  gGOR"}),". Get test sGOR from the ",x.jsx("a",{href:"#/faucet",className:"underline",children:"faucet"}),"."]}),x.jsx("p",{className:"text-blue-300 mt-2 text-[10px]",children:"Program: 66xqiDYSQZh7A3wyS3n2962Fx1aU8N3nbHjaZUCrXq6M"})]})]})}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] text-gray-500 uppercase mb-1",children:"I want to sell"}),x.jsxs("select",{value:f?"sGOR":Q,onChange:y=>!f&&Z(y.target.value),disabled:f,className:"w-full bg-black border border-white/20 p-3 text-sm outline-none focus:border-magic-green disabled:opacity-50 disabled:cursor-not-allowed",children:[x.jsx("option",{value:"gGOR",children:"gGOR (Gorbagana)"}),x.jsxs("option",{value:"sGOR",children:["sGOR (Solana",f?" Devnet":"",")"]})]}),f&&x.jsx("p",{className:"text-[10px] text-blue-400 mt-1",children:"Only sGOR orders available on devnet"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] text-gray-500 uppercase mb-1",children:"Amount"}),x.jsx("input",{type:"number",value:ae,onChange:y=>J(y.target.value),placeholder:f?"5.0 (test sGOR)":"0.00",step:f?"0.000001":"0.01",className:"w-full bg-black border border-white/20 p-3 text-sm outline-none focus:border-magic-green"}),f&&x.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"Test sGOR has 6 decimals (1 sGOR = 1,000,000 base units)"})]}),x.jsx("div",{className:`p-4 border rounded ${f?"bg-blue-500/10 border-blue-500/20":"bg-magic-green/10 border-magic-green/20"}`,children:x.jsxs("div",{className:`flex gap-2 text-xs ${f?"text-blue-400":"text-magic-green"}`,children:[x.jsx(SG,{className:"w-4 h-4 flex-shrink-0"}),x.jsx("span",{children:f?"Test tokens will be locked in escrow on Solana devnet for testing.":"Your tokens will be locked in a secure escrow contract until a buyer completes the trade."})]})}),x.jsx("button",{onClick:g,disabled:se,className:"w-full py-4 bg-magic-green text-black font-bold uppercase tracking-widest hover:bg-white transition-colors disabled:opacity-50",children:se?"PROCESSING...":"POST_OFFER"})]})]})]}),F&&Y&&x.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[x.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-sm",onClick:()=>!se&&M(!1)}),x.jsxs("div",{className:"relative bg-magic-dark border border-magic-green/30 p-8 max-w-md w-full",children:[x.jsx("h2",{className:"text-xl font-bold mb-6 uppercase tracking-widest",children:"Confirm_Trade"}),x.jsxs("div",{className:"space-y-4 mb-8",children:[x.jsxs("div",{className:"flex justify-between text-sm border-b border-white/10 pb-2",children:[x.jsx("span",{className:"text-gray-500",children:"You Send"}),x.jsxs("span",{className:"font-bold",children:[K(Y.amount)," ",B(Y.direction).buy]})]}),x.jsxs("div",{className:"flex justify-between text-sm border-b border-white/10 pb-2",children:[x.jsx("span",{className:"text-gray-500",children:"You Receive"}),x.jsxs("span",{className:"font-bold text-magic-green",children:[K(Y.amount)," ",B(Y.direction).sell]})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500",children:"Counterparty"}),x.jsx("span",{className:"text-xs font-mono",children:Y.maker.toBase58()})]})]}),x.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 p-4 mb-8 flex gap-3",children:[x.jsx(YG,{className:"w-5 h-5 text-yellow-500 shrink-0"}),x.jsx("p",{className:"text-[10px] text-yellow-500 leading-relaxed",children:"WARNING: This is a cross-chain trade. Ensure you have the correct wallet connected for the receiving network. Funds will be locked in escrow until verification is complete."})]}),x.jsxs("div",{className:"flex gap-4",children:[x.jsx("button",{disabled:se,onClick:()=>M(!1),className:"flex-1 py-3 border border-white/20 text-gray-400 font-bold uppercase tracking-widest hover:bg-white/5 transition-colors disabled:opacity-50",children:"CANCEL"}),x.jsx("button",{disabled:se,onClick:T,className:"flex-1 py-3 bg-magic-green text-black font-bold uppercase tracking-widest hover:bg-white transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:se?x.jsx("div",{className:"w-4 h-4 border-2 border-black border-t-transparent animate-spin"}):"CONFIRM"})]})]})]})]})},AN=24,NX="sgor_faucet_claims",CX=()=>{const{publicKey:n,signTransaction:e}=eu(),{isDevnet:t,rpcEndpoint:r,currentNetwork:i}=fo(),[o,l]=fe.useState(!1),[c,f]=fe.useState(null),[d,h]=fe.useState(!1),[b,E]=fe.useState(null);new we("5b2P7TQTDQG4nUzrUUSAuv92NT85Ka4oBFXWcTs9A5zk"),new we("Drn1GXZoBpER3gUPFCZJTNGEghXvEyFYmtfB7ycoiMAJ"),fe.useEffect(()=>{n&&v()},[n]);const v=()=>{if(!n)return;const L=JSON.parse(localStorage.getItem(NX)||"[]").find(M=>M.wallet===n.toString());if(!L){h(!0),E(null);return}if((Date.now()-L.timestamp)/(1e3*60*60)>=AN)h(!0),E(null);else{h(!1);const M=new Date(L.timestamp+AN*60*60*1e3);E(M)}},N=async()=>{if(!n){f({type:"error",text:"Please connect your wallet first"});return}if(!t){f({type:"error",text:"Faucet only works on Solana Devnet. Please switch networks."});return}if(!d){f({type:"error",text:"You can only claim once every 24 hours"});return}{f({type:"info",text:"Faucet backend service not yet deployed. Please request tokens manually via Discord (#bridge-testing) or GitHub."});return}},k=I=>{const L=new Date,F=I.getTime()-L.getTime(),M=Math.floor(F/(1e3*60*60)),Y=Math.floor(F%(1e3*60*60)/(1e3*60));return`${M}h ${Y}m`};return x.jsx("div",{className:"min-h-screen bg-magic-dark pt-24 pb-12",children:x.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[x.jsxs("div",{className:"border-4 border-magic-green bg-black/50 p-8 mb-6",children:[x.jsx("h1",{className:"text-4xl font-bold text-magic-green mb-2 tracking-tight",children:"TEST TOKEN FAUCET"}),x.jsx("p",{className:"text-gray-400 text-sm",children:"Get test sGOR tokens for devnet bridge testing"})]}),!t&&x.jsx("div",{className:"border-2 border-red-500 bg-red-500/10 p-4 mb-6",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-red-400 text-2xl",children:""}),x.jsxs("div",{children:[x.jsx("p",{className:"text-red-400 font-bold text-sm",children:"WRONG NETWORK"}),x.jsx("p",{className:"text-red-300 text-xs mt-1",children:"This faucet only works on Solana Devnet. Please switch networks using the dropdown in the navigation bar."})]})]})}),x.jsxs("div",{className:"border-2 border-gray-700 bg-black/30 p-6 mb-6",children:[x.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[x.jsx("span",{className:"text-2xl",children:""}),"FAUCET DETAILS"]}),x.jsxs("div",{className:"space-y-3 text-sm",children:[x.jsxs("div",{className:"flex justify-between border-b border-gray-800 pb-2",children:[x.jsx("span",{className:"text-gray-400",children:"Token:"}),x.jsx("span",{className:"text-white font-bold",children:"Test sGOR (Devnet)"})]}),x.jsxs("div",{className:"flex justify-between border-b border-gray-800 pb-2",children:[x.jsx("span",{className:"text-gray-400",children:"Amount per claim:"}),x.jsx("span",{className:"text-magic-green font-bold",children:"5 sGOR"})]}),x.jsxs("div",{className:"flex justify-between border-b border-gray-800 pb-2",children:[x.jsx("span",{className:"text-gray-400",children:"Rate limit:"}),x.jsx("span",{className:"text-white",children:"1 claim per 24 hours"})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-gray-400",children:"Network:"}),x.jsx("span",{className:"text-blue-400",children:"Solana Devnet Only"})]})]})]}),x.jsxs("div",{className:"border-2 border-magic-green bg-black/50 p-6",children:[n?t?!d&&b?x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-yellow-400 mb-2",children:"You've already claimed recently"}),x.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:["Next claim available in: ",x.jsx("span",{className:"text-white font-bold",children:k(b)})]}),x.jsx("div",{className:"inline-block px-6 py-3 border-2 border-yellow-600 bg-yellow-600/20 text-yellow-400 cursor-not-allowed",children:"RATE LIMITED"})]}):x.jsxs("div",{className:"text-center",children:[x.jsxs("p",{className:"text-gray-400 mb-4",children:["Wallet: ",x.jsxs("span",{className:"text-white font-mono text-xs",children:[n.toString().slice(0,8),"...",n.toString().slice(-8)]})]}),x.jsx("button",{onClick:N,disabled:o,className:"px-8 py-4 border-4 border-magic-green bg-magic-green/20 hover:bg-magic-green hover:text-black transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-magic-green font-bold tracking-wide",children:o?"CLAIMING...":"CLAIM 5 TEST sGOR"})]}):x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-red-400 mb-4",children:"Switch to Solana Devnet to claim tokens"}),x.jsx("div",{className:"inline-block px-6 py-3 border-2 border-red-500 bg-red-500/20 text-red-400 cursor-not-allowed",children:"WRONG NETWORK"})]}):x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-gray-400 mb-4",children:"Connect your wallet to claim test tokens"}),x.jsx("div",{className:"inline-block px-6 py-3 border-2 border-gray-600 bg-gray-800/50 text-gray-500 cursor-not-allowed",children:"WALLET NOT CONNECTED"})]}),c&&x.jsx("div",{className:`mt-6 p-4 border-2 ${c.type==="success"?"border-green-500 bg-green-500/10 text-green-400":c.type==="error"?"border-red-500 bg-red-500/10 text-red-400":"border-blue-500 bg-blue-500/10 text-blue-400"}`,children:x.jsx("p",{className:"text-sm",children:c.text})})]}),x.jsxs("div",{className:"mt-6 border border-gray-700 bg-black/20 p-6",children:[x.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Alternative Ways to Get Test Tokens"}),x.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[x.jsxs("li",{className:"flex items-start gap-2",children:[x.jsx("span",{className:"text-magic-green",children:""}),x.jsxs("span",{children:["Request via Discord: ",x.jsx("span",{className:"text-white",children:"#bridge-testing"})]})]}),x.jsxs("li",{className:"flex items-start gap-2",children:[x.jsx("span",{className:"text-magic-green",children:""}),x.jsxs("span",{children:["Open an issue on GitHub: ",x.jsx("span",{className:"text-white",children:"github.com/trashmarket"})]})]}),x.jsxs("li",{className:"flex items-start gap-2",children:[x.jsx("span",{className:"text-magic-green",children:""}),x.jsxs("span",{children:["DM on Twitter: ",x.jsx("span",{className:"text-white",children:"@trashmarket_fun"})]})]})]})]}),x.jsxs("div",{className:"mt-6 border border-gray-700 bg-black/20 p-6",children:[x.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Test Token Information"}),x.jsxs("div",{className:"space-y-2 text-xs font-mono",children:[x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-400",children:"Mint:"}),x.jsx("br",{}),x.jsx("span",{className:"text-magic-green",children:"5b2P7TQTDQG4nUzrUUSAuv92NT85Ka4oBFXWcTs9A5zk"})]}),x.jsxs("div",{className:"mt-3",children:[x.jsx("span",{className:"text-gray-400",children:"Decimals:"})," ",x.jsx("span",{className:"text-white",children:"6"})]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-400",children:"Network:"})," ",x.jsx("span",{className:"text-blue-400",children:"Solana Devnet"})]}),x.jsx("div",{className:"mt-3 pt-3 border-t border-gray-800",children:x.jsx("a",{href:"https://explorer.solana.com/address/5b2P7TQTDQG4nUzrUUSAuv92NT85Ka4oBFXWcTs9A5zk?cluster=devnet",target:"_blank",rel:"noopener noreferrer",className:"text-magic-green hover:underline",children:"View on Solana Explorer "})})]})]})]})})},IX=()=>{const n=fe.useMemo(()=>[new V9],[]);return x.jsx($9,{children:x.jsx(Y9,{children:x.jsx(Yz,{wallets:n,children:x.jsx(G9,{children:x.jsx(rO,{children:x.jsxs("div",{className:"flex flex-col min-h-screen bg-magic-dark text-white font-mono antialiased selection:bg-magic-green selection:text-black",children:[x.jsx(oq,{}),x.jsx(uq,{}),x.jsx("main",{className:"flex-grow",children:x.jsxs(B5,{children:[x.jsx(js,{path:"/",element:x.jsx(bq,{})}),x.jsx(js,{path:"/collection/:id",element:x.jsx(_q,{})}),x.jsx(js,{path:"/launchpad",element:x.jsx(QY,{})}),x.jsx(js,{path:"/gorid",element:x.jsx(yX,{})}),x.jsx(js,{path:"/docs",element:x.jsx(nJ,{})}),x.jsx(js,{path:"/bridge",element:x.jsx(RX,{})}),x.jsx(js,{path:"/faucet",element:x.jsx(CX,{})})]})}),x.jsx(fq,{})]})})})})})})},y4=document.getElementById("root");if(!y4)throw new Error("Could not find root element to mount to");const kX=H8.createRoot(y4);kX.render(x.jsx(qe.StrictMode,{children:x.jsx(IX,{})}));
